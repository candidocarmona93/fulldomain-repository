@import "../root.css";

/* Table Theming System */
:root {
    --table-body-bg: var(--table-body-bg-default, #ffffff);
    --table-even-row-bg: var(--table-even-row-bg-default, #f8f9fa);
    --table-body-border: var(--table-body-border-default, #e9ecef);
    --table-number-color: var(--table-number-color-default, #4e54c8);
    --table-empty-text: var(--table-empty-text-default, #6c757d);
    --table-filter-bg: var(--table-filter-bg-default, #f1f3f5);
    --header-hover-opacity: 0.08;
}

/* Table Variants */
.table-widget--primary {
    --table-bg: var(--primary);
    --table-text-color: var(--primary-text-color);
    --table-border-color: var(--primary-border-color);
    --table-hover-bg: var(--primary-hover-bg);
}

.table-widget--default {
    --table-bg: var(--default);
    --table-text-color: var(--default-text-color);
    --table-border-color: var(--default-border-color);
    --table-hover-bg: var(--default-hover-bg);
}

.table-widget--secondary {
    --table-bg: var(--secondary);
    --table-text-color: var(--secondary-text-color);
    --table-border-color: var(--secondary-border-color);
    --table-hover-bg: var(--secondary-hover-bg);
}

.table-widget--danger {
    --table-bg: var(--danger);
    --table-text-color: var(--danger-text-color);
    --table-border-color: var(--danger-border-color);
    --table-hover-bg: var(--danger-hover-bg);
}

/* Table Container */
.table-container-widget {
    width: 100%;
    overflow-x: auto;
    border-radius: 12px;
    background: var(--table-body-bg);
}

/* Base Table Styles */
.table-widget {
    width: 100%;
    border-collapse: collapse;
    background: var(--table-body-bg);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    position: relative;
}

/* Header Section */
.table-head-widget {
    background: var(--table-bg);
    color: var(--table-text-color);
}

.table-head-widget>tr th {
    padding: 16px 5px;
    border-bottom: 2px solid var(--table-border-color);
    text-align: center;
    color: var(--table-text-color);
    font-weight: 600;
    transition: background-color 0.3s ease;
    position: relative;
    text-wrap: wrap;
    text-align: center;
    font-size: 0.89rem;
}

.table-head-widget>tr th:hover {
    background-color: color-mix(in srgb,
            var(--table-bg) 90%,
            var(--table-text-color));
}

.table-head-widget>tr>th.table-head-sortable-widget {
    cursor: pointer;
}

.sort-icon {
    position: absolute;
    right: 5px;
    top: 50%;
    transform: translateY(-50%);
    display: block;
    width: 30px;
    height: 30px;
    background-size: contain;
    background-repeat: no-repeat;
    color: var(--table-number-color);
    transition: transform 0.2s ease-in-out;
    will-change: transform;
}

.sort-icon.asc {
    background-image: url('data:image/svg+xml;utf8,<svg fill="%23000000" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6.90365714,4.1965504 C6.81268627,4.0723334 6.66576323,3.991669 6.5,3.991669 C6.33423677,3.991669 6.18731373,4.0723334 6.09634286,4.1965504 L3.14644661,7.14644661 C2.95118446,7.34170876 2.95118446,7.65829124 3.14644661,7.85355339 C3.34170876,8.04881554 3.65829124,8.04881554 3.85355339,7.85355339 L6,5.70710678 L6,19.5 C6,19.7761424 6.22385763,20 6.5,20 C6.77614237,20 7,19.7761424 7,19.5 L7,5.70710678 L9.14644661,7.85355339 C9.34170876,8.04881554 9.65829124,8.04881554 9.85355339,7.85355339 C10.0488155,7.65829124 10.0488155,7.34170876 9.85355339,7.14644661 L6.90365714,4.1965504 Z M12.5,6 C12.2238576,6 12,6.22385763 12,6.5 C12,6.77614237 12.2238576,7 12.5,7 L20.5,7 C20.7761424,7 21,6.77614237 21,6.5 C21,6.22385763 20.7761424,6 20.5,6 L12.5,6 Z M12.5,10 C12.2238576,10 12,10.2238576 12,10.5 C12,10.7761424 12.2238576,11 12.5,11 L18.5,11 C18.7761424,11 19,10.7761424 19,10.5 C19,10.2238576 18.7761424,10 18.5,10 L12.5,10 Z M12.5,14 C12.2238576,14 12,14.2238576 12,14.5 C12,14.7761424 12.2238576,15 12.5,15 L16.5,15 C16.7761424,15 17,14.7761424 17,14.5 C17,14.2238576 16.7761424,14 16.5,14 L12.5,14 Z M12.5,18 C12.2238576,18 12,18.2238576 12,18.5 C12,18.7761424 12.2238576,19 12.5,19 L14.5,19 C14.7761424,19 15,18.7761424 15,18.5 C15,18.2238576 14.7761424,18 14.5,18 L12.5,18 Z"/></svg>');
}

.sort-icon.desc {
    background-image: url('data:image/svg+xml;utf8,<svg fill="%23000000" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6.90365714,19.8034496 C6.81268627,19.9276666 6.66576323,20.008331 6.5,20.008331 C6.33423677,20.008331 6.18731373,19.9276666 6.09634286,19.8034496 L3.14644661,16.8535534 C2.95118446,16.6582912 2.95118446,16.3417088 3.14644661,16.1464466 C3.34170876,15.9511845 3.65829124,15.9511845 3.85355339,16.1464466 L6,18.2928932 L6,4.5 C6,4.22385763 6.22385763,4 6.5,4 C6.77614237,4 7,4.22385763 7,4.5 L7,18.2928932 L9.14644661,16.1464466 C9.34170876,15.9511845 9.65829124,15.9511845 9.85355339,16.1464466 C10.0488155,16.3417088 10.0488155,16.6582912 9.85355339,16.8535534 L6.90365714,19.8034496 Z M12.5,6 C12.2238576,6 12,5.77614237 12,5.5 C12,5.22385763 12.2238576,5 12.5,5 L20.5,5 C20.7761424,5 21,5.22385763 21,5.5 C21,5.77614237 20.7761424,6 20.5,6 L12.5,6 Z M12.5,10 C12.2238576,10 12,9.77614237 12,9.5 C12,9.22385763 12.2238576,9 12.5,9 L18.5,9 C18.7761424,9 19,9.22385763 19,9.5 C19,9.77614237 18.7761424,10 18.5,10 L12.5,10 Z M12.5,14 C12.2238576,14 12,13.7761424 12,13.5 C12,13.2238576 12.2238576,13 12.5,13 L16.5,13 C16.7761424,13 17,13.2238576 17,13.5 C17,13.7761424 16.7761424,14 16.5,14 L12.5,14 Z M12.5,18 C12.2238576,18 12,17.7761424 12,17.5 C12,17.2238576 12.2238576,17 12.5,17 L14.5,17 C14.7761424,17 15,17.2238576 15,17.5 C15,17.7761424 14.7761424,18 14.5,18 L12.5,18 Z"/></svg>');
}

/* Filter Row */
.table-head-widget .table-filter-row-widget {
    /* background-color: var(--table-filter-bg);*/
    font-style: italic;
}

/* Body Section */
.table-body-widget {
    transition: background-color 0.2s ease, opacity 0.2s ease;
}

.table-body-widget>tr:nth-child(even) {
    background-color: var(--table-even-row-bg);
}

.table-body-widget>tr td {
    border-bottom: 1px solid var(--table-body-border);
    color: #0c0404;
    text-align: left;
    font-weight: 400;
    padding: .8rem;
}

/* Special Cell Types */
.table-body-widget>tr td.type-number {
    text-align: right;
    font-weight: 600;
    color: var(--table-number-color);
}

.table-body-widget>tr td {
    .no-data {
        padding: 2rem;
        text-align: center;
        opacity: 0.6;
    }

    .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        padding: 2rem;

        .icon {
            font-size: 3rem;
            opacity: 0.4;
        }
    }
}

/* Responsive Design */
@media (max-width: 800px) {
    .table-container-widget {
        padding: 8px;
        border-radius: 8px;
    }

    .table-widget {
        font-size: 14px;
        min-width: 800px;
    }

    .table-head-widget>tr th,
    .table-body-widget>tr td {
        padding: 12px;
        white-space: nowrap;
    }

    .table-body-widget>tr td:first-child,
    .table-head-widget>tr th:first-child {
        padding-left: 16px;
    }

    .table-body-widget>tr td:last-child,
    .table-head-widget>tr th:last-child {
        padding-right: 16px;
    }
}

/* Accessibility Improvements */
.table-head-widget>tr th:focus-visible {
    outline: 2px solid var(--table-text-color);
    outline-offset: -2px;
}

.table-body-widget>tr:focus-within {
    box-shadow: inset 0 0 0 2px var(--table-border-color);
}