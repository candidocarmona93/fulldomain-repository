var ye=Object.defineProperty;var be=(y,e,t)=>e in y?ye(y,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):y[e]=t;var S=(y,e,t)=>be(y,typeof e!="symbol"?e+"":e,t);function rt(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();const he=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,y=>{const e=Math.random()*16|0;return(y==="x"?e:e&3|8).toString(16)});class ve{constructor({onBeforeCreated:e=null,onCreated:t=null,onBeforeAttached:s=null,onAttached:a=null,onMounted:i=null,onBeforeDetached:r=null,onDetached:n=null,onBeforeUpdate:l=null,onDidUpdated:h=null}={}){this.onBeforeCreated=e,this.onCreated=t,this.onBeforeAttached=s,this.onAttached=a,this.onMounted=i,this.onBeforeDetached=r,this.onDetached=n,this.onBeforeUpdate=l,this.onDidUpdated=h,this._deferredMountedCalls=new Map}beforeCreated(e){var t;(t=this.onBeforeCreated)==null||t.call(this,e)}created(e,t){var s;(s=this.onCreated)==null||s.call(this,e,t)}beforeAttached(e,t){var s;(s=this.onBeforeAttached)==null||s.call(this,e,t)}attached(e,t){var s;(s=this.onAttached)==null||s.call(this,e,t)}mounted(e,t){var s;(s=this.onMounted)==null||s.call(this,e,t);for(let[a,i]of this._deferredMountedCalls)a&&a._element&&a._element.isConnected&&i(a._element,a);this._deferredMountedCalls.clear()}beforeDetached(){var e;(e=this.onBeforeDetached)==null||e.call(this)}detached(e){var t;(t=this.onDetached)==null||t.call(this,e)}beforeUpdate(){var e;(e=this.onBeforeUpdate)==null||e.call(this)}didUpdated(){var e;(e=this.onDidUpdated)==null||e.call(this)}addDeferredMountedCall(e,t){this._deferredMountedCalls.set(e,t)}clearDeferredMountedCalls(){this._deferredMountedCalls.clear()}deleteDeferredMountedCall(e){this._deferredMountedCalls.delete(e)}hasDeferredMountedCall(e){return this._deferredMountedCalls.has(e)}getDeferredMountedCalls(){return Array.from(this._deferredMountedCalls.entries())}}class G{constructor(e={},t={}){this.styles=e,this.theme=t}applyTheme(){this.theme&&Object.keys(this.theme).forEach(e=>{this.styles[e]||(this.styles[e]=this.theme[e])})}apply(e,t=""){this.applyTheme(),t?e.querySelectorAll(".".concat(t)).forEach(s=>{Object.assign(s.style,this.styles)}):Object.assign(e.style,this.styles)}generate(){return Object.entries(this.styles).map(([e,t])=>"".concat(this.toKebabCase(e),": ").concat(t,";")).join(" ")}toKebabCase(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}class Ne{constructor(e){this.widget=e,this._attachedEvents=[],this._customEvents=new Map,this._eventListeners=new Map}on(e,t,s={}){this._customEvents.has(e)||this._customEvents.set(e,[]);const a=Symbol("handler"),i={callback:t,options:s,handlerId:a};return this._customEvents.get(e).push(i),this._eventListeners.has(e)||this._eventListeners.set(e,new Map),this._eventListeners.get(e).set(a,i),this.widget._parent&&!s.noBubble&&this.widget._parent.events.on(e,t,{...s,noBubble:!0}),this.widget.children&&!s.noPropagate&&this.widget.children.forEach(r=>{r instanceof p&&r.events.on(e,t,{...s,noPropagate:!0})}),a}off(e,t){if(!e){this.clear();return}if(t){const s=this._eventListeners.get(e);s&&(s.delete(t),s.size===0&&(this._eventListeners.delete(e),this._customEvents.delete(e)))}else this._eventListeners.delete(e),this._customEvents.delete(e)}once(e,t){const s=this.on(e,(...a)=>{t(...a),this.off(e,s)});return s}emit(e,...t){const s=this._customEvents.get(e)||[],a={type:e,target:this.widget,currentTarget:this.widget,args:t,defaultPrevented:!1,propagationStopped:!1,preventDefault(){this.defaultPrevented=!0},stopPropagation(){this.propagationStopped=!0}};s.forEach(({callback:i,options:r})=>{if(!a.propagationStopped)try{i.call(this.widget,a,...t)}catch(n){console.error("Event handler error:",n,"for event:",e)}}),this.widget._parent&&!a.propagationStopped&&this.widget._parent.events.emit(e,...t)}attachEvents(e){e&&(this._attachedEvents=[],Object.entries(this.widget.events).forEach(([t,s])=>{const a=s.bind(this.widget);e.addEventListener(t,a),this._attachedEvents.push({event:t,boundHandler:a,element:e})}))}detachEvents(){this._attachedEvents.forEach(({event:e,boundHandler:t,element:s})=>{s.removeEventListener(e,t)}),this._attachedEvents=[]}clear(){this.detachEvents(),this._customEvents.clear(),this._eventListeners.clear()}hasListeners(e){return this._customEvents.has(e)&&this._customEvents.get(e).length>0}getListeners(e){return this._customEvents.get(e)||[]}}class xe{templateExpression(e){return e.trim().replace(/{{\s*([\w.$\[\]]+?)\s*}}/g,(t,s)=>"${".concat(s,"}")).replace(/{{\s*([\w.$\[\]]+?)((?:\.[\w]+\([^)]*\))+)\s*}}/g,(t,s,a)=>"${".concat(s).concat(a,"}"))}getNestedValue(e,t){if(!e||typeof e!="object"||!t)return"";const s=t.split(".");let a=e;for(const i of s){if(!a||typeof a!="object")return"";const r=i.match(/^([\w-]+)\[(.+)\]$/);if(r){const n=r[1];let l=r[2];if(a[n]&&Array.isArray(a[n]))isNaN(parseInt(l))||(l=parseInt(l)),a=a[n][l];else return""}else if(i in a)a=a[i];else return""}return a!=null?String(a):""}resolveWidgetState(e,t,s){try{if(!e)return"";let a=null,i=null;if(a=e.getStateOf(t),a||(i=e.findAncestorByType(t),i&&(a=i.getState())),!a){const r=e.getRootWidget();r&&(i=r.findDescendantByType(t),i&&(a=i.getState()))}return a?this.getNestedValue(a,s):""}catch(a){return console.warn("Widget state access error:",a),""}}evaluateTemplate(e,t,s){return(a,i)=>{let r=e;return r=r.replace(/\$\{(?!___getWidgetState___)([\w.]+)\}/g,(n,l)=>this.getNestedValue(a,l)),r=r.replace(/\$\{\s*___getWidgetState___\s*\(['"]([^'"]+)['"]\s*,\s*['"]([^'"]+)['"]\s*\)\s*\}/g,(n,l,h)=>this.resolveWidgetState(i,l,h)),r}}}class _e{constructor(e){this.widget=e,this.operations=[]}createElement(){try{if(this.widget.rootElement){const e=document.querySelector(this.widget.rootElement);if(!e)throw new Error('BaseWidget: rootElement "'.concat(this.widget.rootElement,'" not found.'));for(;e.firstChild;)e.removeChild(e.firstChild);return e}else return document.createElement(this.widget.tagName)}catch(e){return console.error("DOM element creation error:",e),document.createElement("div")}}applyAttributes(e){if(!this.widget.rootElement)try{Object.entries(this.widget.props).forEach(([t,s])=>{s===!1||s===null||s===void 0?e.removeAttribute(t):s===!0?e.setAttribute(t,""):e.setAttribute(t,s)})}catch(t){console.error("DOM attribute application error:",t)}}applyStyles(e){try{this.widget.style instanceof G?e.style.cssText=this.widget.style.generate():typeof this.widget.style=="object"&&Object.assign(e.style,this.widget.style)}catch(t){console.error("DOM style application error:",t)}}applyClasses(e){try{const t=this.widget.className||[];t.length>0&&e.classList.add(...t.filter(s=>s))}catch(t){console.error("DOM class application error:",t)}}renderChildren(e){try{for(;e.firstChild;)e.removeChild(e.firstChild);this.widget.children.forEach((t,s)=>{if(t instanceof p){t._parent=this.widget;const a=t.render();a&&e&&(e.appendChild(a),this.widget.hooks.addDeferredMountedCall(t,()=>t.mounted(t._element,t)))}else if(typeof t=="string"||typeof t=="number"){const a=document.createTextNode(""),i=String(t);if(e.appendChild(a),i.includes("{{"))if(i.includes("@")||i.includes("${@"))this.renderDeferredTextNode(a,i,e);else{const r=this.widget.reactiveState.effectRenderFn(a,i,this.widget.template);typeof r=="function"&&this.widget._textNodeCleanups.set(a,r)}else a.nodeValue=i}else t instanceof Node?e.appendChild(t):e.appendChild(document.createTextNode(String(t)))})}catch(t){console.error("DOM child rendering error:",t)}}getChildKey(e){var t,s;return e instanceof p&&(s=(t=e._key)!=null?t:e.key)!=null?s:null}patchChildren(){var e,t;try{const s=this.widget._previousChildren||[],a=[...this.widget.children];if(this.widget._previousChildren=[...a],s.length===0){this.renderChildren(this.widget._element),this.widget.mounted(this.widget._element,this.widget);return}this.performKeyedDiff((e=s[0])==null?void 0:e.children,(t=a[0])==null?void 0:t.children)}catch(s){console.error("DOM patch children error:",s),this.renderChildren(this.widget._element),this.widget.mounted(this.widget._element,this.widget)}}performKeyedDiff(e=[],t=[]){const s=new Map,a=[];e.forEach((c,d)=>{const m=this.getChildKey(c);m!==null&&s.set(m,{child:c,element:c._element,index:d})});const i=new Map,r=[];t.forEach((c,d)=>{const m=this.getChildKey(c);m!==null?i.set(m,{child:c,desiredIndex:d}):r.push({child:c,desiredIndex:d})});const n=this.widget._element,l=new Set;for(const[c,d]of i){const m=s.get(c);if(m){l.add(c);const{child:g,element:f}=m,{child:w,desiredIndex:v}=d;w._element=f,f.__widget=w,this.patchWidget(g,w);const b=Array.from(n.children).indexOf(f);b!==v&&b!==-1&&a.push({type:"move",element:f,toIndex:v})}else a.push({type:"add",child:d.child,atIndex:d.desiredIndex})}for(const[c,d]of s)l.has(c)||a.push({type:"remove",element:d.element,child:d.child});Array.from(n.children).filter(c=>!e.some(d=>this.getChildKey(d)!==null&&d._element===c)).forEach(c=>{const d=c.__widget;d&&a.push({type:"remove",element:c,child:d})}),r.forEach(({child:c,desiredIndex:d})=>{a.push({type:"add",child:c,atIndex:d})}),this.operations=a.sort((c,d)=>c.type==="remove"?-1:d.type==="remove"?1:0),this.executeOperations(n)}patchWidget(e,t){e.props={...t.props},e.className=[...t.className||[]],e.style=t.style instanceof G?t.style:{...t.style},e.events={...t.events},e.children=[...t.children],e._element&&(e.dom.applyAttributes(e._element),e.dom.applyClasses(e._element),e.dom.applyStyles(e._element),e.eventsManager.clear(),e.eventsManager.attachEvents(e._element))}executeOperations(e){const t=this.operations.filter(a=>a.type==="move"),s=this.operations.filter(a=>a.type!=="move");s.filter(a=>a.type==="remove").forEach(a=>{this.handleRemoveOperation(a)}),s.filter(a=>a.type==="add").forEach(a=>{this.handleAddOperation(a,e)}),t.forEach(a=>{this.handleMoveOperation(a,e)}),this.operations=[]}handleAddOperation(e,t){var s;try{const a=e.child.render();e.child._element=a,a.__widget=e.child;const i=(s=e.atIndex)!=null?s:t.children.length,r=t.children[i]||null;r?t.insertBefore(a,r):t.appendChild(a),this.widget.hooks.addDeferredMountedCall(e.child,()=>e.child.mounted(a,e.child))}catch(a){console.error("Add operation failed:",a)}}handleMoveOperation(e,t){try{if(!e.element||!t)return;const s=e.toIndex,a=t.children[s]||null;if(!e.element.parentNode){a?t.insertBefore(e.element,a):t.appendChild(e.element);return}e.element.nextSibling!==(a||null)&&t.insertBefore(e.element,a)}catch(s){console.error("Move operation failed:",s,e)}}handleReplaceOperation(e,t){this.handleRemoveOperation({element:e.oldChild._element,child:e.oldChild}),this.handleAddOperation({child:e.newChild,atIndex:e.index},t)}handleRemoveOperation(e){try{e.element&&e.element.parentNode&&(e.element.parentNode.removeChild(e.element),e.child&&typeof e.child.detach=="function"&&e.child.detach(),this.widget.hooks.deleteDeferredMountedCall(e.child))}catch(t){console.error("Remove operation failed:",t)}}renderDeferredTextNode(e,t){e.nodeValue="",requestAnimationFrame(()=>{try{const s=this.widget.reactiveState.effectRenderFn(e,t,this.widget.template);typeof s=="function"&&this.widget._textNodeCleanups.set(e,s)}catch(s){console.error("Deferred text rendering error:",s),e.nodeValue=t}})}insertChildAtIndex(e,t){if(this.widget._element)try{if(e instanceof p){const s=e.render();if(s){const a=this.widget._element.children[t];a?this.widget._element.insertBefore(s,a):this.widget._element.appendChild(s),this.widget.hooks.addDeferredMountedCall(e,()=>e.mounted(e._element,e))}}}catch(s){console.error("DOM child insertion error:",s)}}removeChild(e){if(this.widget._element)try{e instanceof p&&e._element&&(this.widget._textNodeCleanups&&(this.widget._textNodeCleanups.forEach(t=>{typeof t=="function"&&t()}),this.widget._textNodeCleanups.clear()),e._element.parentNode===this.widget._element&&(this.widget._element.removeChild(e._element),this.widget.hooks.deleteDeferredMountedCall(e)))}catch(t){console.error("DOM child removal error:",t)}}}const C=class C{constructor(e,t={},s=!1){this.widget=e,this.state=null,this.dependencyMap=new Map,this.uidToKeysMap=new Map,this.objectUIDs=new WeakMap,this.batchedEffects=new Set,this.isScheduled=!1,this.isBatching=!1,this.componentState=t,this.debug=s,this.rafId=null,this.proxyCache=new WeakMap}getObjectUID(e){return typeof e!="object"||e===null?null:(this.objectUIDs.has(e)||this.objectUIDs.set(e,he()),this.objectUIDs.get(e))}initState(e={}){const t={...this.componentState,...e},s=(a,i="")=>{if(typeof a!="object"||a===null||Object.isFrozen(a))return a;if(this.proxyCache.has(a))return this.proxyCache.get(a);(!Object.prototype.hasOwnProperty.call(a,"_isNonReactive")||!a._isNonReactive)&&this.getObjectUID(a);const n=Array.isArray(a),l=new Proxy(a,{get:(h,c)=>{const d=Reflect.get(h,c);return this.shouldSkipTracking(h,c,d,n)?d:(n&&C.activeWidget?this.isArrayInternalProperty(c)||this.track({target:h,prop:"___array_self___",widget:C.activeWidget,path:i}):C.activeWidget&&this.track({target:h,prop:c,widget:C.activeWidget,path:i}),typeof d=="object"&&d!==null?s(d,"".concat(i).concat(c,".")):d)},set:(h,c,d)=>{typeof d=="object"&&d!==null&&(d=s(d,"".concat(i).concat(c,".")));const m=Reflect.get(h,c),g=Reflect.set(h,c,d);if(m!==d){const f=this.objectUIDs.get(m);f&&this.cleanupObjectDependencies(f),n?this.trigger({target:h,prop:"___array_self___",widget:C.activeWidget,path:i}):this.trigger({target:h,prop:c,widget:C.activeWidget,path:i})}return g}});return this.proxyCache.set(a,l),l};return this.state=s(t),this.state}shouldSkipTracking(e,t,s,a=!1){return["_isNonReactive","constructor","toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString"].includes(t)?!0:a?this.isArrayInternalProperty(t):!!(typeof s=="function"&&(Array.prototype[t]||Object.prototype[t])||!Object.prototype.hasOwnProperty.call(e,t))}isArrayInternalProperty(e){return["length",Symbol.iterator,Symbol.toStringTag].includes(e)}setState(e){if(!this.state){console.error("setState Error: State has not been initialized.",this.widget);return}let t;if(typeof e=="function"){const s=C.activeWidget,a=C.activeEffect.get(s);C.activeWidget=null,s&&C.activeEffect.delete(s);try{t=e(this.state)}catch(i){console.error("setState updater function error:",i);return}finally{C.activeWidget=s,s&&a&&C.activeEffect.set(s,a)}}else t=e;if(typeof t!="object"||t===null){console.error("setState Error: Updater must be an object or a function that returns an object.",t);return}try{const s=[];for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const i=this.state[a];if(i!==t[a]){const r=this.objectUIDs.get(i);r&&this.cleanupObjectDependencies(r),s.push({key:a,value:t[a]})}}s.forEach(({key:a,value:i})=>{this.state[a]=i})}catch(s){console.error("Error applying setState:",s)}}cleanupObjectDependencies(e){const t=this.uidToKeysMap.get(e);t&&(t.forEach(s=>{this.dependencyMap.delete(s)}),this.uidToKeysMap.delete(e))}effectRenderFn(e,t,s){const a=s.templateExpression(String(t)),i=n=>{let l=n;for(;l;){const h=l.getState();if(h)return h;l=l.getParent()}return null},r=()=>{const n=i(this.widget);C.activeWidget||(C.activeWidget=this.widget),C.activeEffect.has(this.widget)||C.activeEffect.set(this.widget,r);try{const l=s.evaluateTemplate(a,n,this.widget);e.nodeValue=l(n,this.widget)}catch(l){console.error("Template evaluation error:",l),e.nodeValue=t}finally{C.activeWidget=null,C.activeEffect.delete(this.widget)}};r.isDOMRelated=!0,r()}track(e){const{target:t,prop:s,widget:a}=e;if(!a)return;const i=C.activeEffect.get(a);if(!i)return;const r=this.getObjectUID(t);if(!r)return;const n=s==="___array_self___"?"___array_self___":s,l="".concat(r,".").concat(n);this.dependencyMap.has(l)||this.dependencyMap.set(l,new Set);const h=this.dependencyMap.get(l);if(!h.has(i)&&(h.add(i),this.uidToKeysMap.has(r)||this.uidToKeysMap.set(r,new Set),this.uidToKeysMap.get(r).add(l),this.debug)){const c=n==="___array_self___"?"[array]":n;console.log("Tracking ".concat(c," (uid: ").concat(r,") for:"),a,i.name||"anonymous")}}trigger(e){const{target:t,prop:s}=e,a=this.getObjectUID(t);if(!a)return;const i=s==="___array_self___"?"___array_self___":s,r="".concat(a,".").concat(i);(this.dependencyMap.get(r)||new Set).forEach(l=>this.batchedEffects.add(l)),this.scheduleBatchExecEffect()}scheduleBatchExecEffect(){if(this.isScheduled){this.debug&&console.warn("Redundant scheduling attempt ignored.");return}this.isScheduled=!0,queueMicrotask(()=>{const e=new Set,t=new Set;this.batchedEffects.forEach(s=>{s.isDOMRelated?t.add(s):e.add(s)});try{e.forEach(s=>{try{s()}catch(a){console.error("Non-DOM effect error:",a)}})}catch(s){console.error("Microtask error:",s)}t.size>0?this.rafId=requestAnimationFrame(()=>{this.isBatching=!0;try{t.forEach(s=>{try{s()}catch(a){console.error("DOM effect error:",a)}})}catch(s){console.error("Animation frame error:",s)}finally{this.batchedEffects.clear(),this.isBatching=!1,this.isScheduled=!1,this.rafId=null}}):(this.batchedEffects.clear(),this.isBatching=!1,this.isScheduled=!1)})}detach(){this.rafId&&cancelAnimationFrame(this.rafId),this.batchedEffects.clear(),this.dependencyMap.clear(),this.uidToKeysMap.clear(),this.objectUIDs=new WeakMap,this.proxyCache=new WeakMap}};S(C,"activeEffect",new WeakMap),S(C,"activeWidget",null);let A=C;class p{constructor({tagName:e="div",rootElement:t=null,children:s=[],style:a={},events:i={},className:r=[],props:n={},context:l={},args:h={},path:c=null,onBeforeCreated:d=null,onCreated:m=null,onBeforeAttached:g=null,onAttached:f=null,onMounted:w=null,onBeforeDetached:v=null,onDetached:b=null,onBeforeUpdate:x=null,onDidUpdated:_=null}={}){const E="".concat(this.constructor.name.toString().toLowerCase(),"-").concat(he());this._isRootElement=!1,this.tagName=e,this.rootElement=t,this.children=this.notify(s||[]),this.style=a instanceof G?a:new G({...a}),this.events=i,this.className=Array.isArray(r)?r.filter(Boolean):[r],this.props={id:E,...n},this.args=h,this.path=c,this.hooks=new ve({onBeforeCreated:d,onCreated:m,onBeforeAttached:g,onAttached:f,onMounted:w,onBeforeDetached:v,onDetached:b,onBeforeUpdate:x,onDidUpdated:_}),this.reactiveState=new A(this,{...l}),this.eventsManager=new Ne(this),this.template=new xe(this),this.dom=new _e(this),this.render=this.render.bind(this),this._initializeChildrenKeys()}_initializeChildrenKeys(){this.children.forEach((e,t)=>{if(e instanceof p){if(!e._key){const s=this._key||this.constructor.name,a=e.constructor.name;e.index=t,e._key="".concat(s,"-").concat(t,"-").concat(a)}e._initializeChildrenKeys()}})}beforeCreated(e){this.hooks.beforeCreated(e)}created(e,t){this.hooks.created(e,t)}beforeAttached(e,t){this.hooks.beforeAttached(e,t)}attached(e,t){this.hooks.attached(e,t)}mounted(e,t){this.hooks.mounted(e,t)}beforeDetached(){this.hooks.beforeDetached()}detached(e){this.hooks.detached(e)}beforeUpdate(){this.hooks.beforeUpdate()}didUpdated(){this.hooks.didUpdated()}render(){try{if(this._element)return this.update(),this._element;this.tagName&&!this.rootElement&&this.beforeCreated(this);const e=this.dom.createElement();return e?(this.created(e,this),this.dom.applyStyles(e),this.dom.applyClasses(e),this.dom.applyAttributes(e),this.eventsManager.attachEvents(e),this.beforeAttached(e,this),this.dom.renderChildren(e),this._element=e,this.attached(e,this),this._isRootElement&&this.mounted(this._element,this),e):null}catch(e){return console.error("BaseWidget render error:",e),null}}setState(e){this.reactiveState.setState(e)}initState(e={}){this.state=this.reactiveState.initState(e)}getState(){var e;return((e=this.reactiveState)==null?void 0:e.state)||null}getStateOf(e){var s;let t=null;return typeof e=="string"?t=this.getRootWidget().findDescendantById(e):e instanceof p&&(t=e),((s=t==null?void 0:t.reactiveState)==null?void 0:s.state)||null}findDescendantById(e){var t;if(((t=this.props)==null?void 0:t.id)===e)return this;for(const s of this.children)if(s instanceof p){const a=s.findDescendantById(e);if(a)return a}return null}findDescendantByKey(e){var t;if(((t=this.props)==null?void 0:t.key)===e)return this;for(const s of this.children)if(s instanceof p){const a=s.findDescendantByKey(e);if(a)return a}return null}findDescendantByType(e){const t=e.toLowerCase();if(this.constructor.name.toLowerCase()===t)return this;for(const s of this.children)if(s instanceof p){const a=s.findDescendantByType(e);if(a)return a}return null}findAncestorByType(e){const t=e.toLowerCase();let s=this;for(;s;){if(s.constructor.name.toLowerCase()===t)return s;s=s._parent}return null}getRootWidget(){let e=this;for(;e._parent;)e=e._parent;return e}findAllDescendantsByType(e){const t=[],s=e.toLowerCase();this.constructor.name.toLowerCase()===s&&t.push(this);for(const a of this.children)a instanceof p&&t.push(...a.findAllDescendantsByType(e));return t}broadcastToWidgets(e,t,...s){this.findAllDescendantsByType(e).forEach(i=>{i.emit(t,...s)})}on(e,t,s){return this.eventsManager.on(e,t,s)}off(e,t){this.eventsManager.off(e,t)}once(e,t){return this.eventsManager.once(e,t)}emit(e,...t){this.eventsManager.emit(e,...t)}getParent(){return this._parent}getElement(){return this._element}getWidget(){return this._currentWidget}getChildIndex(e){return this.children.indexOf(e)}appendChild(e){if(e instanceof p&&(e._parent=this,this.children.push(e),this._element)){const t=e.render();t&&(this._element.appendChild(t),this.hooks.addDeferredMountedCall(e,()=>e.mounted(e._element,e)))}}insertChild(e,t){e instanceof p&&(e._parent=this,this.children.splice(t,0,e),this._element&&this.dom.insertChildAtIndex(e,t))}removeChild(e){const t=this.children.indexOf(e);t>-1&&(this.children.splice(t,1),this.dom.removeChild(e))}detach(){var e;this._element&&(this.beforeDetached(),this.eventsManager.clear(),this.children.forEach(t=>{t instanceof p&&(t.detach(),t._parent&&t._parent.removeChild(t))}),(e=this.reactiveState)==null||e.detach())}update(){!this._element||this._element==null||(this.beforeUpdate(),this.detach(),this.dom.renderChildren(this._element),this.didUpdated(),this.mounted(this._element,this))}patch(){!this._element||this._element==null||(this.beforeUpdate(),this.dom.patchChildren(),this.didUpdated())}updateStyles(e={}){this.style={...this.style,...e},this.dom.applyStyles(this._element)}updateClasses(e=[]){e.map(s=>s.trim()).filter(Boolean).forEach(s=>{this.className.indexOf(s)===-1&&this.className.push(s)}),this.dom.applyClasses(this._element)}updateEvents(e={}){this.events={...this.events,...e},this.eventsManager.clear(),this.eventsManager.attachEvents()}notify(e){const t=Array.isArray(e)?[...e].filter(Boolean):[e].filter(Boolean);let s=!1,a=!1,i=null;const r=n=>{var l,h;i=n,a||(a=!0,(h=(l=this._parent)==null?void 0:l.onNotify)==null||h.call(l,i),this._initializeChildrenKeys(),i=null,a=!1)};return new Proxy(t,{set:(n,l,h)=>{const c=n[l],d=Reflect.set(n,l,h),f=!isNaN(l)&&c!==h||l==="length"&&h!==n.length;return!s&&f&&r({type:"set",target:n,prop:l,value:h,previous:c}),d},get:(n,l)=>["push","pop","shift","unshift","splice","sort","reverse","fill","copyWithin"].includes(l)?(...c)=>{s=!0;const d=Array.prototype[l].apply(n,c);return s=!1,r({type:"method",method:l,args:c,target:n}),d}:Reflect.get(n,l)})}onNotify(e){var t,s;(s=(t=this._parent)==null?void 0:t.onNotify)==null||s.call(t,e)}setRootElement(e=!0){this._isRootElement=e}isRootElement(){return this._isRootElement}triggerMounted(){this._element&&this.mounted(this._element,this)}triggerDetached(e){this.detached(e)}isMounted(){return this._element&&this._element.isConnected}destroy(){this.detach(),this.hooks.clearDeferredMountedCalls()}}const Q=class Q extends p{constructor(e,{className:t=[],style:s={},props:a={},onBeforeCreated:i=null,onCreated:r=null,onBeforeAttached:n=null,onAttached:l=null,onMounted:h=null}={}){if(Q.instance)throw new Error("App is a singleton and has already been initialized");super({rootElement:e,className:t,style:s,props:a,onBeforeCreated:c=>i==null?void 0:i(c),onCreated:(c,d)=>r==null?void 0:r(c,d),onBeforeAttached:(c,d)=>n==null?void 0:n(c,d),onAttached:(c,d)=>l==null?void 0:l(c,{},d),onMounted:(c,d)=>h==null?void 0:h(c,{},d)}),this._isRootElement=!0,this.routePaths={},this.params={},this.path=null,this.middlewares=[],this.rootElement=e,this.notFoundComponent=null,this.previousComponents=[],this.currentLayoutStack=[],this.currentGroupPrefixes=[],this.routesCallback=[],this.args={},this.eventHandlers={routeChange:[]},window.addEventListener("popstate",this.handlePopState.bind(this)),Q.instance=this}group(e,t){return this.currentGroupPrefixes.push(e),t(),this.currentGroupPrefixes.pop(),this}use(e){if(typeof e!="function")throw new Error("Middleware must be a function");return this.middlewares.push(e),this}routes(e,t,s=null){if(!t||!(t.prototype instanceof p))throw new Error("Route component must extend BaseWidget");if(typeof e!="string"||!e.startsWith("/"))throw new Error("Invalid route path: ".concat(e,". Must start with '/'"));const a=this._combineGroupPrefixes(e);return this.routePaths[a]&&console.warn("Duplicate route definition for path: ".concat(a)),this.routesCallback[a]&&console.warn("Duplicate route callback for path: ".concat(a)),this.routesCallback[a]=s,this.routePaths[a]={component:t,layouts:[...this.currentLayoutStack]},this}notFound(e){if(!e||!(e.prototype instanceof p))throw new Error("Not Found component must extend BaseWidget");return this.notFoundComponent=e,this}layout(e,t){if(!(e.prototype instanceof p))throw new Error("Layout must be a class extending BaseWidget");return this.currentLayoutStack.push(e),t(),this.currentLayoutStack.pop(),this}onRouteChange(e){return this.eventHandlers.routeChange.push(e),()=>{this.eventHandlers.routeChange=this.eventHandlers.routeChange.filter(t=>t!==e)}}async to(e,t={},s=""){if(!await this.applyMiddlewares(e))return;const i=this._normalizePath(e),r=window.location.pathname;i===this._normalizePath(r)?history.replaceState({args:t},s,i):history.pushState({args:t},s,i),this.path=i,this.args=t,s.trim()&&(document.title=s),this.render()}back({args:e={}}={}){this.args=e,window.history.back()}_normalizePath(e){return e==="/"?"/":"/".concat(e.replace(/^\/+|\/+$/g,""))}_combineGroupPrefixes(e){const t=[...this.currentGroupPrefixes,e].map(s=>String(s).replace(/^\/+|\/+$/g,"")).filter(s=>s!=="");return t.length===0?"/":"/".concat(t.join("/"))}_matchRoute(e){const t=decodeURIComponent(e),s=Object.entries(this.routePaths);if(typeof URLPattern<"u")for(const[a,i]of s)try{const n=new URLPattern({pathname:a}).exec({pathname:t});if(n){const l={};for(const[c,d]of Object.entries(n.pathname.groups||{}))l[c]=decodeURIComponent(d);const h={};return n.inputs.forEach(c=>{for(const[d,m]of Object.entries(c||{}))h[d]=decodeURIComponent(m)}),{component:i,params:{...l,...h},layouts:i.layouts}}}catch(r){console.warn("Skipping invalid route pattern: ".concat(a),r)}for(const[a,i]of s){const r=[],n=a.replace(/:([^/]+)/g,(c,d)=>(r.push(d),"([^/]+)")),l=new RegExp("^".concat(n,"$")),h=t.match(l);if(h){const c=Object.fromEntries(r.map((d,m)=>[d,decodeURIComponent(h[m+1])]));return{component:i,params:c,layouts:i.layouts}}}return{component:null,params:{},layouts:[]}}render(){const e=this.path;this.path=this._normalizePath(window.location.pathname||"/"),this.renderRoute();const t=super.render(),s=decodeURIComponent(this.path),a=Object.entries(this.routePaths);for(const[i,r]of a)try{const l=new URLPattern({pathname:i}).exec({pathname:s});if(l){const h=this.routesCallback[i];h&&h(l.pathname.groups)}}catch(n){console.warn("Skipping invalid route pattern: ".concat(i),n)}return e!==this.path&&this.eventHandlers.routeChange.forEach(i=>i({from:e,to:this.path})),t}renderRoute(){if(!this.rootElement)throw new Error("Invalid root element or reference.");const e=this._matchRoute(this.path);this.params=e.params,this.previousComponents=this.children||[],this._cleanupPreviousComponents();try{let t;const s=e.component;if(s){const a=s.component;t=new a({args:{...this.params}});const i=[...s.layouts];for(;i.length>0;){let r=i.pop(),n=new r;n.children=[t],t=n}}else{const a=this.path;this.notFoundComponent?t=new this.notFoundComponent({args:{requestedPath:a},path:a}):t=new p({tagName:"div",className:["app-not-found"],children:[new p({tagName:"h1",children:["404 - Page Not Found"]}),new p({tagName:"p",children:['The requested path "'.concat(a,'" was not found.')]})]})}this.children=[t]}catch(t){console.error("Error rendering route component:",t),this.children=[new p({tagName:"div",className:["app-render-error"],children:["Error: Could not render the requested page."]})]}}async applyMiddlewares(e){for(const t of this.middlewares)try{if(await t(e)===!1)return!1}catch(s){return console.error("Middleware error:",s),!1}return!0}handlePopState(e){var s;const t=window.location.pathname||"/";this.path=this._normalizePath(t),this.args=((s=e==null?void 0:e.state)==null?void 0:s.args)||{},console.log(e),this.render()}_cleanupPreviousComponents(){this.previousComponents.forEach(e=>{e&&typeof e.detach=="function"&&e.detach()}),this.previousComponents=[]}getSessionManager(){return this.state.session}debugRoutes(){console.log("Registered routes:"),Object.entries(this.routePaths).forEach(([e,t])=>{console.log("- ".concat(e," => ").concat(t.component.name))})}onUpdate(){super.update.call(this)}};S(Q,"instance",null);let D=Q;const Z=class Z extends p{constructor({direction:e=Z.column,gap:t=5,children:s=[],style:a={},events:i={},className:r=[],props:n={},onBeforeCreated:l=null,onCreated:h=null,onBeforeAttached:c=null,onAttached:d=null}={}){super({children:s,events:i,style:new G({...a}),className:["center-widget",e,...r],props:n,onBeforeCreated:m=>{l==null||l(m)},onCreated:(m,g)=>{h==null||h(m,g)},onBeforeAttached:(m,g)=>{c==null||c(m,g)},onAttached:(m,g)=>{this.setupGapStyle(m,t),d==null||d(m,{},g)}})}setupGapStyle(e,t){e.style.setProperty("--gap","".concat(t,"px"))}};S(Z,"row","row"),S(Z,"column","column");let k=Z;class H extends p{constructor({size:e=50,color:t="#6366f1",speed:s=1.2,thickness:a=2,style:i={},className:r=[],props:n={},events:l={}}={}){super({tagName:"div",style:i,className:["spinner-widget",...r],props:n,events:l,onAttached:h=>{this.spinnerElement=h,this.setupSpinnerStyles()}}),this.size=e,this.color=t,this.speed=s,this.thickness=a}setupSpinnerStyles(){this.spinnerElement.style.setProperty("--spinner-width","".concat(this.size,"px")),this.spinnerElement.style.setProperty("--spinner-height","".concat(this.size,"px")),this.spinnerElement.style.setProperty("--spinner-border-width","".concat(this.thickness,"px")),this.spinnerElement.style.setProperty("--spinner-speed","".concat(this.speed,"s")),this.spinnerElement.style.setProperty("--spinner-color",this.color)}}class L extends p{constructor({src:e="",alt:t="",rounded:s=!1,shadow:a=!0,border:i=!0,hoverEffect:r=!0,style:n={},figureStyle:l={},className:h=[],figureClassName:c=[],events:d={},props:m={},lazyLoad:g=!1,fallbackSrc:f="",placeholder:w=new k({children:[new H]}),onBeforeCreated:v=null,onCreated:b=null,onBeforeAttached:x=null,onAttached:_=null,onMounted:E=null}={}){if(typeof t!="string")throw new Error("alt parameter in Image widget expects a string");super({tagName:"figure",style:l,className:c,onBeforeCreated:P=>{v==null||v(P)},onCreated:(P,M)=>{b==null||b(P,M)},onBeforeAttached:(P,M)=>{x==null||x(P,M)},onAttached:(P,M)=>{this.setupImageContainer(P),_==null||_(P,this.getImageReferences(),M)},onMounted:(P,M)=>{this.setupImageContainer(P),E==null||E(P,this.getImageReferences(),M)}}),this.className=[...this.className,...this.createImageContainerClasses()],this.storeImageConfig({src:e,alt:t,rounded:s,shadow:a,border:i,hoverEffect:r,style:n,className:h,props:m,events:d,lazyLoad:g,fallbackSrc:f,placeholder:w}),this.initializeImageState()}getImageReferences(){return{imageElement:this.imageElement,imageContainerElement:this.imageContainerElement}}createImageContainerClasses(){return["image-container-widget"]}createImageContainerStyles(e){return e}setupImageContainer(e){this.imageContainerElement=e}storeImageConfig({src:e,alt:t,rounded:s,shadow:a,border:i,hoverEffect:r,style:n,className:l,props:h,events:c,lazyLoad:d,fallbackSrc:m,placeholder:g}){this.config={src:e,alt:t,rounded:s,shadow:a,border:i,hoverEffect:r,style:n,className:["image-widget",...l],props:h,events:c,lazyLoad:d,fallbackSrc:m},this.placeholder=g}initializeImageState(){this.currentState={loaded:!1,error:!1}}createImage(){return new p({tagName:"img",className:this.createImageClasses(),style:this.createImageStyles(),props:this.createImageProps(),events:this.createImageEvents(),onAttached:e=>{this.setupImageElement(e)}})}createImageClasses(){return[...this.config.className,this.config.rounded&&"rounded",this.config.shadow&&"shadow",this.config.border&&"border",this.config.hoverEffect&&"hover-effect"].filter(Boolean)}createImageStyles(){return{...this.config.style}}createImageProps(){return{decoding:"async",loading:this.config.lazyLoad?"lazy":"eager",...this.config.props,alt:this.config.alt}}createImageEvents(){return{load:e=>this.handleImageLoad(e),error:e=>this.handleImageError(e),...this.config.events}}setupImageElement(e){this.imageElement=e,e.src=this.currentState.error?this.config.fallbackSrc:this.config.src,e.style.display="none"}handleImageLoad(e){var s;this.currentState.loaded=!0,this.currentState.error=!1,e.target.style.display="",e.target.classList.add("loaded"),this.imageContainerElement.classList.add("loaded"),((s=this.placeholder)==null?void 0:s.render()).remove()}handleImageError(e){var t;console.log("Fallback"),this.currentState.error=!0,this.config.fallbackSrc?e.target.src=this.config.fallbackSrc:(console.error("Image failed to load:",this.config.src),(t=this.placeholder)==null||t.render().remove())}setSource(e){this.validateImageParameters(e,this.config.alt),this.config.src=e,this.imageElement&&!this.currentState.error&&(this.currentState.loaded=!1,this.imageElement.style.display="none",this.imageElement.src=e)}render(){return this.children=[this.placeholder,this.createImage()],super.render()}}class T{static initialize(){this.initialized||(this.register("text",{hasSize:!0}),this.register("button",{hasSize:!0}),this.register("floatingButton",{hasSize:!0}),this.register("outlinedButton",{hasSize:!0}),this.register("input",{hasSize:!0}),this.register("tagInput",{hasSize:!0}),this.register("textArea",{hasSize:!0}),this.register("select",{hasSize:!0}),this.register("checkbox",{hasSize:!0}),this.register("radio",{hasSize:!0}),this.register("toast",{hasSize:!0}),this.register("alert",{hasSize:!0}),this.register("badge",{hasSize:!0}),this.register("tile",{hasSize:!0}),this.register("navbar",{hasSize:!0}),this.register("table",{hasSize:!0}),this.register("modal",{hasSize:!0}),this.register("listTile",{hasSize:!0}),this.register("expansionTile",{hasSize:!0}),this.register("spinner",{hasSize:!0}),this.register("card",{hasSize:!0}),this.initialized=!0)}static register(e,{hasSize:t=!1}={}){const s={type:this.createVariants(e,"type",["default","basic","primary","secondary","danger","info","success","warning","dark","error"]),...t&&{size:this.createVariants(e,"size",["xsmall","small","medium","large","xlarge"])}};this.registry.set(e,s)}static createVariants(e,t,s){const a="".concat(e.replace(/([A-Z])/g,"-$1").toLowerCase(),"-widget");return s.reduce((i,r)=>(i[r]=["".concat(a,"--").concat(r)],i),{})}static merge(e,t){if(!this.registry.has(e))throw new Error('Cannot merge: Component "'.concat(e,'" is not registered.'));const s=this.registry.get(e),a={};for(const i of Object.keys(t))Object.hasOwn(s,i)||console.warn('Warning: "'.concat(i,'" is not a recognized variant for "').concat(e,'"')),a[i]={...s[i]||{},...t[i]||{}};this.registry.set(e,{...s,...a})}static validate(e){const t=this.registry.get(e),s=[];return t?((!t.type||!t.type.default)&&s.push('Missing "default" type variant for "'.concat(e,'".')),"size"in t&&(!t.size||!t.size.medium)&&s.push('Missing "medium" size variant for "'.concat(e,'".')),s.length?s:!0):(s.push('Component "'.concat(e,'" is not registered.')),s)}static get(e,{type:t="default",size:s}={}){var r,n;const a=this.registry.get(e);if(!a)return[];const i=[];return(r=a.type)!=null&&r[t]&&i.push(...a.type[t]),s&&((n=a.size)!=null&&n[s])&&i.push(...a.size[s]),i}static safeGet(e){const t=this.registry.get(e)||{};return{type:t.type||{},size:t.size||{}}}static get navbar(){return this.safeGet("navbar")}static get text(){return this.safeGet("text")}static get button(){return this.safeGet("button")}static get floatingButton(){return this.safeGet("floatingButton")}static get outlinedButton(){return this.safeGet("outlinedButton")}static get table(){return this.safeGet("table")}static get alert(){return this.safeGet("alert")}static get input(){return this.safeGet("input")}static get select(){return this.safeGet("select")}static get checkbox(){return this.safeGet("checkbox")}static get radio(){return this.safeGet("radio")}static get textArea(){return this.safeGet("textArea")}static get toast(){return this.safeGet("toast")}static get tile(){return this.safeGet("tile")}static get badge(){return this.safeGet("badge")}static get alert(){return this.safeGet("alert")}static get modal(){return this.safeGet("modal")}static get listTile(){return this.safeGet("listTile")}static get expansionTile(){return this.safeGet("expansionTile")}static get spinner(){return this.safeGet("spinner")}static get card(){return this.safeGet("card")}}S(T,"registry",new Map),S(T,"initialized",!1);T.initialize();class de extends p{constructor({inputType:e="text",value:t=null,name:s="",id:a="input-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,5)),label:i="",required:r=!1,disabled:n=!1,validation:l=null,errorMessage:h="This field is required",style:c={},className:d=[],props:m={},events:g={},onChange:f=null,onFocus:w=null,onBlur:v=null,onGet:b=null,onSet:x=null,onBeforeCreated:_=null,onCreated:E=null,onBeforeAttached:P=null,onAttached:M=null,onMounted:j=null}={}){super({tagName:"div",className:[...d],props:m,events:g,onBeforeCreated:_,onCreated:E,onBeforeAttached:P,onAttached:(R,X)=>{M==null||M(R,this.getElementReferences(),X)},onMounted:(R,X)=>{this.syncValueToInput(),this.updateUI(),(this.onSet||this.value)&&this.validate(),j==null||j(R,this.getElementReferences(),X)}}),this.handleInputBound=this.handleInput.bind(this),this.handleBlurBound=this.handleBlur.bind(this),this.handleFocusBound=this.handleFocus.bind(this),this.id=a,this.inputType=e,this.size=T.input.size.medium,this._value=t,this.name=s,this.required=r,this.validation=l,this.errorMessage=h,this.disabled=n,this.label=i,this.onChange=f,this.onFocus=w,this.onBlur=v,this.onGet=b,this.onSet=x,this.inputElement=null,this.labelElement=null,this.errorElement=null,this.config={style:c,className:d,props:{id:this.id,name:this.name,disabled:this.disabled,required:this.required,...m},events:g}}getElementReferences(){return{inputElement:this.inputElement,labelElement:this.labelElement,errorElement:this.errorElement,container:this.element}}createLabel({labelClass:e="input-label-widget",additionalProps:t={}}={}){return this.label?new p({tagName:"label",props:{for:this.id,...t},className:Array.isArray(e)?e:[e],children:[this.label],onAttached:s=>{this.labelElement=s}}):null}createInput({inputClass:e="input-widget",additionalProps:t={},style:s={}}={}){return new p({tagName:"input",props:{autocomplete:"off",type:this.inputType,"aria-invalid":"false","aria-describedby":"".concat(this.id,"-error"),...this.config.props,...t},className:[e,this.size,...this.config.className],style:{...this.config.style,...s},events:{input:this.handleInputBound,blur:this.handleBlurBound,focus:this.handleFocusBound,...this.config.events},onAttached:a=>{this.inputElement=a,a.disabled=this.disabled,this.syncValueToInput()}})}createError({errorClass:e="input-error-message-widget",additionalProps:t={}}={}){return new p({tagName:"div",props:{id:"".concat(this.id,"-error"),role:"alert","aria-live":"assertive",...t},className:[e],style:{display:"none"},onAttached:s=>{this.errorElement=s}})}handleInput(e){var a;const t=e.target.value,s=this.onSet?this.onSet.call(this,t):t;this._value=s,(a=this.onChange)==null||a.call(this,s,e),this.updateUI(),this.validate()}handleBlur(e){var t;(t=this.onBlur)==null||t.call(this,e),this.validate(),this.updateUI()}handleFocus(e){var t;(t=this.onFocus)==null||t.call(this,e),this.errorElement&&(this.errorElement.style.display="none"),this.updateUI()}async validate({validateClass:e="input-invalid-state-widget"}={}){if(!this.inputElement||!this.errorElement)return!0;let t=!0,s=this.errorMessage;if(this.required&&!this.hasValue()&&(t=!1),typeof this.validation=="function"){const a=await this.validation(this._value);typeof a=="string"?(t=!1,s=a):a||(t=!0)}return this.inputElement.classList.toggle(e,!t),this.inputElement.setAttribute("aria-invalid",String(!t)),this.errorElement.textContent=t?"":s,this.errorElement.style.display=t?"none":"block",{isValid:t,error:t?null:s}}hasValue(){return this._value===null||this._value===void 0?!1:typeof this._value=="string"?this._value.trim().length>0:typeof this._value=="number"?!0:Array.isArray(this._value)?this._value.length>0:!!this._value}isFocused(){return document.activeElement==this.inputElement}updateUI({filledStateClass:e="input-empty-state",emptyStateClass:t="input-filled-state"}={}){if(!this.inputElement)return;const s=this.hasValue();this.inputElement.classList.toggle(e,s),this.inputElement.classList.toggle(t,!s)}syncValueToInput(){this.inputElement&&this._value!=null&&(this.inputElement.value=this._value)}get value(){return this.onGet?this.onGet.call(this,this._value):this._value}set value(e){const t=this.onSet?this.onSet.call(this,e):e,s=this._value!==t;this._value=t,this.inputElement&&(this.inputElement.value=t),s&&(this.updateUI(),this.validate())}detach(){this.inputElement&&(this.inputElement.removeEventListener("input",this.handleInputBound),this.inputElement.removeEventListener("blur",this.handleBlurBound),this.inputElement.removeEventListener("focus",this.handleFocusBound)),super.detach()}focus(){var e;(e=this.inputElement)==null||e.focus()}blur(){var e;(e=this.inputElement)==null||e.blur()}reset(){this.value=null,this.validate(),this.updateUI()}enable(){this.disabled=!1,this.inputElement&&(this.inputElement.disabled=!1)}disable(){this.disabled=!0,this.inputElement&&(this.inputElement.disabled=!0)}}class ue extends de{constructor(e){super({...e}),this.className=["input-outter-container-widget"],this.options=e,this.initializeIcons()}initializeIcons(){[this.options.prefixIcon,this.options.suffixIcon].forEach((e,t)=>{e instanceof p&&(Object.assign(e.style.styles,{position:"absolute",[t===0?"left":"right"]:"12px",zIndex:"1",pointerEvents:"auto"}),e&&e.className&&(e.className=[...e.className]),e.onAttached=(s,a)=>{t===0?this.prefixIconElement=s:this.suffixIconElement=s})})}createInputContainer(){var e,t;return new p({tagName:"div",className:["input-inner-container-widget",this.options.themes||T.input.type.default],children:[this.options.prefixIcon,this.createInput({additionalProps:{placeholder:!((e=this.options)!=null&&e.label)&&(((t=this.options)==null?void 0:t.placeholder)||"Please enter your text...")},style:{paddingLeft:this.options.prefixIcon?"2rem":""}}),this.options.suffixIcon,this.createLabel()].filter(Boolean)})}updateUI(){super.updateUI()}render(){return this.children=[this.createInputContainer(),this.createError()],super.render()}}class oe extends ue{constructor(e){super({...e,inputType:"search",placeholder:(e==null?void 0:e.placeholder)||"Search...",onSet:t=>t,...e}),this.debounceTimeout=null,this.debounceDelay=(e==null?void 0:e.debounceDelay)||300}handleInput(e){const t=e.target.value,s=this.onSet?this.onSet.call(this,t):t;this._value=s,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{var a;(a=this.onChange)==null||a.call(this,s,e),this.updateUI(),this.validate()},this.debounceDelay)}updateLabelState(){const e=this.hasValue(),t=this.isFocused();this.labelElement&&this.labelElement.classList.toggle("input-label-floating-widget",e||t)}updateUI(){super.updateUI(),this.updateLabelState()}onDetached(){this.debounceTimeout&&clearTimeout(this.debounceTimeout),super.onDetached()}}class N extends p{constructor({tag:e="i",icon:t="",className:s=[],style:a={},props:i={},events:r={}}={}){super({tagName:e,style:a});const n=this.parseIconClasses(t);this.className=[...this.className,...this.createIconClasses(n,s)],this.props={...this.props,...this.createIconProps(i)},this.events={...this.events,...this.createIconEvents(r)},this.storeIconConfig(e,t,n)}validateIconParameters(e,t){if(typeof e!="string")throw new Error("icon parameter in Icon widget expects a string of classes");if(typeof t!="string")throw new Error("tag parameter in Icon widget expects a string")}parseIconClasses(e){return e.split(" ").flatMap(t=>t.split(" ")).filter(Boolean)}createIconClasses(e,t){return[...e,...t]}createIconStyles(e){return new G({...e})}createIconProps(e){return{...e}}createIconEvents(e){return{...e}}storeIconConfig(e,t,s){this.tag=e,this.icon=t,this.iconClasses=s}setIcon(e){this.validateIconParameters(e,this.tag);const t=this.parseIconClasses(e);this.rootElement&&(this.iconClasses.forEach(s=>{this.rootElement.classList.remove(s)}),t.forEach(s=>{this.rootElement.classList.add(s)})),this.icon=e,this.iconClasses=t}}class ee extends p{constructor({label:e="Outlined Button",prefixIcon:t=null,suffixIcon:s=null,theme:a=T.outlinedButton.type.primary,size:i=T.outlinedButton.size.medium,fullWidth:r=!1,type:n="button",onPressed:l=null,style:h={},className:c=[],disabled:d=!1,events:m={},props:g={},onBeforeCreated:f=null,onCreated:w=null,onBeforeAttached:v=null,onAttached:b=null}={}){if(typeof e!="string")throw new Error("label prop in OutlinedButton widget expects string");super({tagName:"button",onBeforeCreated:x=>{f==null||f(x)},onCreated:(x,_)=>{w==null||w(x,_)},onBeforeAttached:(x,_)=>{v==null||v(x,_)},onAttached:(x,_)=>{this.setupButtonState(x,d),b==null||b(x,_)}}),this.children=this.createButtonChildren(t,e,s),this.className=[...this.className,...this.createButtonClasses(a,i,c)],this.style={...this.style,...this.createButtonStyles(r,h)},this.events={...this.events,...this.createButtonEvents(d,l,m)},this.props={...this.props,...this.createButtonProps(n,g)},this.storeButtonConfig(e,t,s,a,i,r,d)}createButtonChildren(e,t,s){return[e||null,t,s||null].filter(Boolean)}createButtonClasses(e,t,s){return["outlined-button-widget",...e,...t,...s]}createButtonStyles(e,t){return{width:e?"100%":"auto",...t}}createButtonEvents(e,t,s){return{click:a=>{!e&&t&&t(a)},...s}}createButtonProps(e,t){return{type:e,...t}}setupButtonState(e,t){e.disabled=t}storeButtonConfig(e,t,s,a,i,r,n){this.label=e,this.prefixIcon=t,this.suffixIcon=s,this.theme=a,this.size=i,this.fullWidth=r,this.disabled=n}setDisabled(e){this.disabled=e,this.rootElement&&(this.rootElement.disabled=e)}setLabel(e){if(this.validateLabel(e),this.label=e,this.rootElement){const s=Array.from(this.rootElement.childNodes).find(a=>a.nodeType===Node.TEXT_NODE);s?s.textContent=e:this.rebuildButtonContent()}}rebuildButtonContent(){this.rootElement&&(this.rootElement.innerHTML="",this.createButtonChildren(this.prefixIcon,this.label,this.suffixIcon).forEach(t=>{t instanceof p?this.rootElement.appendChild(t.render()):this.rootElement.appendChild(document.createTextNode(t))}))}}class q{static get PREFIX(){return"position-widget-"}static get flex(){return Object.freeze({start:"".concat(this.PREFIX,"flex-start"),end:"".concat(this.PREFIX,"flex-end"),center:"".concat(this.PREFIX,"flex-center"),top:"".concat(this.PREFIX,"flex-top"),bottom:"".concat(this.PREFIX,"flex-bottom"),centerLeft:"".concat(this.PREFIX,"flex-center-left"),centerRight:"".concat(this.PREFIX,"flex-center-right"),topLeft:"".concat(this.PREFIX,"flex-top-left"),topRight:"".concat(this.PREFIX,"flex-top-right"),bottomLeft:"".concat(this.PREFIX,"flex-bottom-left"),bottomRight:"".concat(this.PREFIX,"flex-bottom-right")})}static get absolute(){return Object.freeze({topLeft:"".concat(this.PREFIX,"absolute-top-left"),topRight:"".concat(this.PREFIX,"absolute-top-right"),bottomLeft:"".concat(this.PREFIX,"absolute-bottom-left"),bottomRight:"".concat(this.PREFIX,"absolute-bottom-right"),top:"".concat(this.PREFIX,"absolute-top"),bottom:"".concat(this.PREFIX,"absolute-bottom"),left:"".concat(this.PREFIX,"absolute-left"),right:"".concat(this.PREFIX,"absolute-right"),center:"".concat(this.PREFIX,"absolute-center")})}static get fixed(){return Object.freeze({topLeft:"".concat(this.PREFIX,"fixed-top-left"),topRight:"".concat(this.PREFIX,"fixed-top-right"),bottomLeft:"".concat(this.PREFIX,"fixed-bottom-left"),bottomRight:"".concat(this.PREFIX,"fixed-bottom-right"),top:"".concat(this.PREFIX,"fixed-top"),bottom:"".concat(this.PREFIX,"fixed-bottom"),left:"".concat(this.PREFIX,"fixed-left"),right:"".concat(this.PREFIX,"fixed-right"),center:"".concat(this.PREFIX,"fixed-center")})}static get z(){return Object.freeze({auto:"auto",base:"".concat(this.PREFIX,"z-0"),raised:"".concat(this.PREFIX,"z-1"),dropdown:"".concat(this.PREFIX,"z-10"),sticky:"".concat(this.PREFIX,"z-20"),overlay:"".concat(this.PREFIX,"z-30"),modal:"".concat(this.PREFIX,"z-40"),popover:"".concat(this.PREFIX,"z-50"),tooltip:"".concat(this.PREFIX,"z-60"),topmost:"".concat(this.PREFIX,"z-999"),xtopmost:"".concat(this.PREFIX,"z-9999")})}static get static(){return"".concat(this.PREFIX,"static")}static get relative(){return"".concat(this.PREFIX,"relative")}static responsive(e){return e}static get breakpoints(){return Object.freeze({sm:"sm",md:"md",lg:"lg",xl:"xl",xxl:"xxl"})}constructor(){throw new Error("Position is a static utility class")}}class K extends p{constructor({tag:e="div",position:t=q.flex.start,children:s=[],gap:a="10px",style:i={},className:r=[],props:n={},events:l={},onBeforeCreated:h=null,onCreated:c=null,onBeforeAttached:d=null,onAttached:m=null,onMounted:g=null}={}){super({tagName:e,children:s,style:i,className:["column-widget",t,...r],props:n,events:l,onBeforeCreated:f=>{h==null||h(f)},onCreated:(f,w)=>{c==null||c(f,w)},onBeforeAttached:(f,w)=>{d==null||d(f,w)},onAttached:(f,w)=>{this.setupGapStyles(f,a),m==null||m(f,{},w)},onMounted:(f,w)=>{g==null||g(f,{},w)}})}setupGapStyles(e,t){e.style.setProperty("column-gap",t),e.style.setProperty("row-gap",t)}}class me extends p{constructor({theme:e=T.card.type.primary,size:t=T.card.size.medium,header:s=null,body:a=null,footer:i=null,style:r={},events:n={},className:l=[],headerClassName:h=[],bodyClassName:c=[],footerClassName:d=[],headerStyle:m={},bodyStyle:g={},footerStyle:f={},props:w={},onBeforeCreated:v=null,onCreated:b=null,onBeforeAttached:x=null,onAttached:_=null}={}){super({tagName:"div",style:{...r},className:["card-widget",e,t,...l],props:{"aria-label":"Card",...w},events:n,onBeforeCreated:E=>{v==null||v(E)},onCreated:(E,P)=>{b==null||b(E,P)},onBeforeAttached:(E,P)=>{x==null||x(E,P)},onAttached:(E,P)=>{const M=this.headerElement,j=this.bodyElement,R=this.footerElement;_==null||_(E,{headerElement:M,bodyElement:j,footerElement:R},P)}}),this.header=s,this.body=a,this.footer=i,this.headerClassName=h,this.bodyClassName=c,this.footerClassName=d,this.headerStyle=m,this.bodyStyle=g,this.footerStyle=f}createHeader(){if(!this.header)return null;if(!this.header instanceof p)throw new Error("Please provide an Basewidget to the header");const e=Array.isArray(this.header)?this.header:[this.header];return new p({tagName:"header",style:this.headerStyle,className:["card-header-widget",...this.headerClassName],children:e,onAttached:t=>{this.headerElement=t}})}createBody(){if(!this.body)return null;if(!this.body instanceof p)throw new Error("Please provide an Basewidget to the body");const e=Array.isArray(this.body)?this.body:[this.body];return new p({tagName:"div",style:{height:"100%",...this.bodyStyle},className:["card-body-widget",...this.bodyClassName],children:e,onAttached:t=>{this.bodyElement=t}})}createFooter(){if(!this.footer)return null;if(!this.footer instanceof p)throw new Error("Please provide an Basewidget to the footer");const e=Array.isArray(this.footer)?this.footer:[this.footer];return new p({tagName:"footer",style:this.footerStyle,className:["card-footer-widget",...this.footerClassName],children:e,onAttached:t=>{this.footerElement=t}})}render(){return this.children=[this.createHeader(),this.createBody(),this.createFooter()].filter(Boolean),super.render()}}class o extends p{constructor({children:e=[],position:t=null,style:s={},className:a=[],props:i={},events:r={},onBeforeCreated:n=()=>{},onCreated:l=()=>{},onBeforeAttached:h=()=>{},onAttached:c=()=>{},onMounted:d=()=>{}}={}){super({tagName:"div",children:e,style:{...s},className:[...a,t].filter(Boolean),props:i,events:r,onBeforeCreated:m=>{n(m)},onCreated:(m,g)=>{l(m,g)},onBeforeAttached:(m,g)=>{h(m,g)},onAttached:(m,g)=>{c(m,{},g)},onMounted:(m,g)=>{d(m,{},g)}})}}class u extends p{constructor({text:e="",textAsHtml:t="",tag:s="p",theme:a=T.text.type.dark,size:i=T.text.size.medium,style:r={},className:n=[],props:l={},events:h={},onBeforeCreated:c=null,onCreated:d=null,onBeforeAttached:m=null,onAttached:g=null,onMounted:f=null}={}){super({tagName:s,children:[String(e)],style:r,onBeforeCreated:w=>{c==null||c(w)},onCreated:(w,v)=>{d==null||d(w,v)},onBeforeAttached:(w,v)=>{m==null||m(w,v)},onAttached:(w,v)=>{t&&(w.innerHTML=t),g==null||g(w,{},v)},onMounted:(w,v)=>{f==null||f(w,{},v)}}),this.className=[...this.className,...this.createTextClasses(a,i,n)],this.props={...this.props,...this.createTextProps(l)},this.events={...this.events,...this.createTextEvents(h)},this.storeTextConfig(e,s,a,i)}createTextStyles(e){return e}createTextClasses(e,t,s){return["text-widget",...e,...t,...s]}createTextProps(e){return{...e}}createTextEvents(e){return{...e}}storeTextConfig(e,t,s,a){this.text=e,this.tag=t,this.theme=s,this.size=a}setText(e){this.validateTextParameters(e,this.tag),this.text=e,this.rootElement&&(this.rootElement.textContent=e)}setTheme(e){this.rootElement&&(this.theme.forEach(t=>{this.rootElement.classList.remove(t)}),e.forEach(t=>{this.rootElement.classList.add(t)})),this.theme=e}}class Ee extends p{constructor(){super()}createSection(){return new o({className:["f-footer-root"],children:[new o({className:["f-footer-content-container"],children:[this._createLogoAndCopyright(),this._createSupportSection(),this._createNavigationSection(),this._createContactSection(),new u({text:"2025 Casa Coimbra Maputo",className:["f-footer-copyright"]})]}),this._createBottomBar()]})}_createLogoAndCopyright(){return new o({className:["f-footer-brand-section"],children:[new u({text:"Casa Coimbra Maputo",className:["f-footer-brand-name"]}),new o({className:["f-footer-social-links"],children:[this._createSocialIcon("fa-brands fa-facebook-f"),this._createSocialIcon("fa-brands fa-instagram"),this._createSocialIcon("fa-brands fa-linkedin"),this._createSocialIcon("fa-brands fa-whatsapp")]})]})}_createSocialIcon(e){return new N({icon:e,className:["f-social-icon"]})}_createSupportSection(){return new o({className:["f-footer-column"],children:[new u({text:"Apoio",className:["f-footer-column-title"]}),this._createLink("Centro de Apoio",()=>D.instance.to("/centro-de-apoio"))]})}_createNavigationSection(){return new o({className:["f-footer-column"],children:[new u({text:"Links Rpidos",className:["f-footer-column-title"]}),this._createLink("Pgina prncipal",()=>D.instance.to("/"))]})}_createLink(e,t=null){return new o({className:["f-footer-link"],events:{click:()=>t==null?void 0:t()},children:[new u({text:e,className:["f-footer-link-text"]})]})}_createContactSection(){return new o({className:["f-footer-column","f-contact-column"],children:[new u({text:"Contacto",className:["f-footer-column-title"]}),this._createContactItem("fa fa-phone","+258 84 016 9593"),this._createContactItem("fa fa-envelope","casacoimbramaputo@gmail.com"),this._createContactItem("fa fa-map-marker-alt","Rua da Massala, 312 Inova Space, Maputo, Moambique")]})}_createContactItem(e,t){return new o({className:["f-footer-contact-item"],children:[new N({icon:e,className:["f-footer-contact-icon"]}),new u({text:t,className:["f-footer-contact-text"]})]})}_createBottomBar(){return new o({className:["f-footer-bottom-bar"]})}render(){return this.children=[this.createSection()],super.render()}}class Ie extends p{constructor({position:e=q.flex.bottom,style:t={},dismissable:s=!1,onBeforeCreated:a=null,onCreated:i=null,onBeforeAttached:r=null,onAttached:n=null,onMounted:l=null}={}){super({tagName:"div",style:t,className:["backdrop-widget",e],events:{click:h=>{this.handleBackdropClick(h)}},onBeforeCreated:h=>{a==null||a(h)},onCreated:(h,c)=>{i==null||i(h,c)},onBeforeAttached:(h,c)=>{r==null||r(h,c)},onAttached:(h,c)=>{this.backdropElement=h,n==null||n(h,{},c)},onMounted:(h,c)=>{this.backdropElement=h,l==null||l(h,{},c)}}),this.dismissable=s}handleBackdropClick(e){var t;this.dismissable&&e.target===this.backdropElement&&((t=this.close)==null||t.call(this))}close(){}}class Se extends Ie{constructor({position:e=q.flex.center,showCloseIcon:t=!1,dismissable:s=!1,className:a=[],content:i=[],style:r={},props:n={},onClose:l=null,onBeforeCreated:h=null,onCreated:c=null,onBeforeAttached:d=null,onAttached:m=null,onMounted:g=null}={}){super({dismissable:s,onBeforeCreated:f=>{h==null||h(f)},onCreated:(f,w)=>{c==null||c(f,w)},onBeforeAttached:(f,w)=>{d==null||d(f,w)},onAttached:(f,w,v)=>{this.backdropElement=f,m==null||m(f,{modalElement:this.modalElement},v)},onMounted:(f,w,v)=>{this.backdropElement=f,g==null||g(f,{modalElement:this.modalElement},v)}}),this.showCloseIcon=t,this.onClose=l,this.config={style:r},this.children=[this.createModalWidget(a,i,n)]}createModalWidget(e,t,s){return new p({tagName:"div",className:["modal-widget",...e],style:{...this.config.style},children:[this.showCloseIcon?this.createCloseButton():null,...t].filter(Boolean),props:{role:"dialog","aria-hidden":"true",tabindex:"-1",...s},onAttached:a=>{this.modalElement=a}})}createCloseButton(){return new p({tagName:"button",className:["modal-header-close-icon-widget"],events:{click:()=>{this.close()}},onAttached:e=>{e.insertAdjacentHTML("beforeend",'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>')}})}show(){if(!document.body.contains(this.backdropElement))try{const e=super.render();super.mounted(e,this),document.body.appendChild(e)}catch(e){console.log(e)}requestAnimationFrame(()=>{this.applyShowStyles()})}applyShowStyles(){document.body.contains(this.backdropElement)&&(this.backdropElement.classList.add("show"),this.modalElement.classList.add("show"),this.modalElement.setAttribute("aria-hidden","false"))}close(){this.backdropElement&&(this.applyCloseStyles(),this.scheduleCleanup())}applyCloseStyles(){var e;this.backdropElement.classList.remove("show"),this.modalElement.classList.remove("show"),(e=document.activeElement)==null||e.blur(),this.modalElement.setAttribute("aria-hidden","true")}scheduleCleanup(){setTimeout(()=>{var e,t;(e=this.backdropElement)==null||e.remove(),(t=this.onClose)==null||t.call(this)},300)}}class Ce extends p{constructor({showCloseIcon:e=!0,content:t=[],style:s={},className:a=[],props:i={},dismissable:r=!1}={}){super({}),this.modal=this.createModal(e,Array.isArray(t)?t:[t],s,a,i,r)}createModal(e,t,s,a,i,r){return new Se({position:q.flex.bottom,dismissable:r,showCloseIcon:e,style:s,className:["bottomsheet-widget","translateY",...a],props:i,content:[this.createHandle(),...t]})}createHandle(){return new p({tagName:"div",className:["bottomsheet-handle-widget"],events:{click:()=>{this.close()}}})}show(){this.modal.show()}close(){this.modal.close()}}class Pe extends p{constructor({tag:e="div",children:t=[],breakpoints:s={},style:a={},className:i=[],props:r={},events:n={},onBeforeCreated:l=null,onCreated:h=null,onBeforeAttached:c=null,onAttached:d=null,onMounted:m=null}={}){if(Object.keys(s).length===0)throw new Error("Expand widget requires at least one breakpoint in the 'breakpoints' property");super({tagName:e,children:t,style:a,props:r,events:n,onBeforeCreated:f=>{l==null||l(f)},onCreated:(f,w)=>{h==null||h(f,w)},onBeforeAttached:(f,w)=>{c==null||c(f,w)},onAttached:(f,w)=>{d==null||d(f,w)},onMounted:(f,w)=>{m==null||m(f,w)}});const g=this.generateColumnClasses(s);this.className=this.mergeClassNames(g,i)}generateColumnClasses(e){return Object.entries(e).map(([t,s])=>{if(typeof s=="number"&&(s<1||s>12))throw new Error("Invalid column size ".concat(s,". Must be between 1-12."));return s==="auto"?t==="col"?"col-auto":"".concat(t,"-auto"):s==="fill"?t==="col"?"col":"".concat(t):t==="col"?"col-".concat(s):"col-".concat(t,"-").concat(s)})}mergeClassNames(e,t){return[...e,...Array.isArray(t)?t:[t]].filter(Boolean)}}class te extends p{constructor({tag:e="div",children:t=[],rowContainerStyle:s={},style:a={},rowStyle:i={},gap:r="15px",containerPadding:n=!1,className:l=[],props:h={},onBeforeCreated:c=null,onCreated:d=null,onBeforeAttached:m=null,onAttached:g=null,onMounted:f=null}={}){const w=["row-container-widget","row-container-widget--fluid"];n===!0?w.push("row-container-widget--spaced"):n&&typeof n=="string"&&(s.paddingLeft=n,s.paddingRight=n),super({tagName:e,style:s,className:[...w,...l],props:h,onBeforeCreated:v=>{c==null||c(v)},onCreated:(v,b)=>{d==null||d(v,b)},onBeforeAttached:(v,b)=>{m==null||m(v,b)},onAttached:(v,b)=>{g==null||g(v,{rowElement:this.rowElement},b)},onMounted:(v,b)=>{f==null||f(v,{rowElement:this.rowElement},b)}}),this.gap=r,this.children=this.createRowElement(t,{...a,...i})}validateChildrenIntegrity(e){let t=0,s=0;return e.filter(Boolean).forEach(a=>{a instanceof Pe?t++:s++}),{isExpandChild:t,isNonExpandChild:s}}createRowElement(e,t){const s=this.validateChildrenIntegrity(e);if(s.isExpandChild>0&&s.isNonExpandChild>0)return console.error("You must provide only Expand widget or non Expand widget, do not mix Expand widget with any other widget"),[];const a=s.isNonExpandChild>0&&s.isExpandChild===0;return[new p({tagName:"div",className:["row-widget"],style:{...t,"--gutter-x":a?void 0:this.gap,gap:a?this.gap:void 0},children:e,onAttached:i=>{this.rowElement=i}})]}}class le extends p{constructor({icon:e=null,label:t=null,image:s=null,theme:a=T.button.type.primary,size:i=T.button.size.medium,reverse:r=!1,onPressed:n=null,style:l={},className:h=[],disabled:c=!1,props:d={},onBeforeCreated:m=null,onCreated:g=null,onBeforeAttached:f=null,onAttached:w=null,onMounted:v=null}={}){super({tagName:"button",style:l,events:{click:b=>{!c&&n&&n(b)}},props:{type:"button",...d},onBeforeCreated:b=>{m==null||m(b)},onCreated:(b,x)=>{g==null||g(b,x)},onBeforeAttached:(b,x)=>{f==null||f(b,x)},onAttached:(b,x)=>{this.setupIconButtonState(b,c),w==null||w(b,{},x)},onMounted:(b,x)=>{v==null||v(b,{},x)}}),this.children=this.createIconButtonChildren(e,t,s,r),this.className=this.createIconButtonClasses(a,i,h),this.storeIconButtonConfig(e,t,s,a,i,r,c)}createIconButtonChildren(e,t,s,a){const i=[];return s?i.push(this.createImageElement(s)):e&&i.push(e),t&&i.push(t),a?i.reverse():i}createImageElement(e){return new p({tagName:"img",props:{src:e,alt:"button icon"},style:{width:"100%",height:"100%",objectFit:"contain"}})}createIconButtonClasses(e,t,s){return["icon-button",e,t,...s]}setupIconButtonState(e,t){e.disabled=t}storeIconButtonConfig(e,t,s,a,i,r,n){this.icon=e,this.label=t,this.image=s,this.theme=a,this.size=i,this.reverse=r,this.disabled=n}setDisabled(e){this.disabled=e,this.rootElement&&(this.rootElement.disabled=e)}}class pe extends de{constructor(e,t=null){super({...e}),this.className=["text-area-outter-container-widget"],this.options=e}createInput({inputClass:e="text-area-widget",additionalProps:t={},additionalEvents:s={}}={}){var a,i,r,n,l,h,c;return new p({tagName:"textarea",props:{id:this.id,"aria-invalid":"false","aria-describedby":"".concat(this.id,"-error"),rows:(a=this.options)==null?void 0:a.rows,cols:(i=this.options)==null?void 0:i.cols,maxLength:(r=this.options)==null?void 0:r.maxLength,...(n=this.options)==null?void 0:n.props,...t},className:[e,((l=this.options)==null?void 0:l.size)||T.textArea.size.medium,,...this.config.className],style:{...(h=this.options)==null?void 0:h.style,paddingTop:"1.5rem",resize:((c=this.options)==null?void 0:c.resize)||"vertical"},events:{input:this.handleInputBound,blur:this.handleBlurBound,focus:this.handleFocusBound,...s},onAttached:d=>{this.inputElement=d,d.disabled=this.disabled,this.syncValueToInput()}})}createInputContainer(){var e,t,s;return new p({tagName:"div",className:["text-area-inner-container-widget",((e=this.options)==null?void 0:e.themes)||T.textArea.type.default],children:[this.createLabel({labelClass:"text-area-label-widget"}),this.createInput({additionalProps:{placeholder:!((t=this.options)!=null&&t.label)&&(((s=this.options)==null?void 0:s.placeholder)||"Please enter your text...")}})].filter(Boolean)})}validate(){return super.validate({validateClass:"text-area-invalid-state-widget"})}updateLabelState(){const e=this.hasValue(),t=this.isFocused();this.labelElement&&this.labelElement.classList.toggle("text-area-label-floating-widget",e||t)}render(){return this.children=[this.createInputContainer(),this.createError({errorClass:"text-area-error-message-widget"})],super.render()}updateUI(){super.updateUI(),this.updateLabelState()}}class U extends p{constructor({watch:t=()=>{},className:s=[],style:a={},props:i={},events:r={},onBeforeCreated:n=null,onCreated:l=null,onBeforeAttached:h=null,onAttached:c=null,onMounted:d=null}={}){super({className:s,style:new G({width:"100%",...a}),props:i,events:r,onBeforeCreated:m=>n==null?void 0:n(m),onCreated:(m,g)=>l==null?void 0:l(m,g),onBeforeAttached:(m,g)=>h==null?void 0:h(m,g),onAttached:(m,g)=>{c==null||c(m,g)},onMounted:(m,g)=>{d==null||d(m,g)}});S(this,"updateEffect",()=>{try{if(this.isUpdating)return;this.isUpdating=!0;const t=A.activeWidget,s=A.activeEffect.get(t);A.activeWidget=this,A.activeEffect.set(this,this.updateEffect);const a=this.watch();this._previousWidget=this._currentWidget,this._currentWidget=a,this.children[0]=a||"",this._element&&super.update()}catch(t){console.error("Builder updateEffect error:",t),this.children=[],this._element&&super.update()}finally{A.activeWidget=null,A.activeEffect.delete(this),this.isUpdating=!1}});this._previousWidget=null,this._currentWidget=null,this.isUpdating=!1,this.watch=t,this.updateEffect()}render(){return this._currentWidget||this.updateEffect(),super.render()}patch(){this.updateEffect()}detach(){super.detach(),A.activeEffect.delete(this),this._currentWidget&&this._currentWidget.detach&&this._currentWidget.detach()}getCurrentWidget(){return this._currentWidget}getPreviousWidget(){return this._previousWidget}}class Te{static async chat({message:e,conversationHistory:t=[]}){try{const s=[...t,{role:"user",content:e}],i=[{role:"system",content:'Voc  assistente da casacoimbramaputo - empresa MOAMBICANA de imveis.\n\n                    REGRAS ABSOLUTAS:\n                    1. A casacoimbramaputo  empresa MOAMBICANA, sem relao com Portugal\n                    2. "Coimbra" em nosso nome refere-se  COIMBRA DE MOAMBIQUE, no  cidade portuguesa\n                    3. Escopo: exclusivamente mercado imobilirio MOAMBICANO\n                    \n                    RESPONDER:\n                    - Foco em Maputo e todo Moambique\n                    - Mximo 150 palavras, respostas diretas\n                    - No discutir Portugal ou Coimbra-PT\n                    - Se off-topic: "S posso ajudar com imveis em Moambique"\n                    \n                    EMPRESA:\n                    - Moambicana, sede Maputo\n                    - Compra/venda/aluguer em todo Moambique\n                    - Especialidade: Imoveis em Maputo\n                    - Contacto: casacoimbramaputo@gmail.com, +258 84 549 8519 | +258 84 208 3827'},...s.slice(-6)],r=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer 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","Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.1-8b-instant",messages:i,max_tokens:500,temperature:.7,stream:!1})});if(!r.ok)throw new Error("API request failed with status ".concat(r.status));const n=await r.json();if(n.choices&&n.choices[0]&&n.choices[0].message){const l=n.choices[0].message.content;return{response:l,conversationHistory:[...s,{role:"assistant",content:l}]}}else throw new Error("Invalid response format from API")}catch(s){return console.error("Error in VirtualAssistantService:",s),{response:"Desculpe, estou com dificuldades tcnicas no momento. Por favor, entre em contacto diretamente pelo email info@casacoimbramaputo.com ou pelo telefone +351 XXX XXX XXX para obter informaes sobre os nossos imveis.",conversationHistory:t,error:!0}}}static async getPropertyInfo(e,t){const s="Fornea informaes gerais sobre ".concat(e," em ").concat(t,". \n        Inclua caractersticas tpicas, mercado local e vantagens da regio. \n        Seja especfico sobre ").concat(t,".");return await this.chat({message:s})}static getContactInfo(){return{email:"casacoimbramaputo@gmail.com",phoneMozambique:"+258 84 549 8519 | +258 84 208 3827",addressMaputo:"Rua da Massala, 312 Inova Space, Maputo, Moambique",hours:"Segunda a Sexta: 9h-17h, Sbado: 10h-13h"}}}class Me extends p{constructor(){super({className:["d-chat-widget"]}),this.isOpen=!1,this.conversationHistory=[],this.initState({isTyping:!1,messages:[{id:1,text:"Ol! Sou assistente virtual da casa coimbra maputo. Como posso ajud-lo hoje?",isBot:!0,timestamp:this.getCurrentTime()}],isMinimized:!0})}getCurrentTime(){return new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}async toggleChat(){this.setState(e=>({isMinimized:!e.isMinimized}))}async sendMessage(e){if(!e.trim())return;const t={id:Date.now(),text:e,isBot:!1,timestamp:this.getCurrentTime()};this.setState(s=>({messages:[...s.messages,t],isTyping:!0}));try{const s=await Te.chat({message:e,conversationHistory:this.conversationHistory});s.conversationHistory&&(this.conversationHistory=s.conversationHistory);const a={id:Date.now()+1,text:s.response,isBot:!0,timestamp:this.getCurrentTime()};this.setState(i=>({messages:[...i.messages,a],isTyping:!1}))}catch(s){console.error("Chat Error:",s);const a={id:Date.now()+1,text:"Desculpe, ocorreu um erro. Tente novamente mais tarde.",isBot:!0,timestamp:this.getCurrentTime()};this.setState(i=>({messages:[...i.messages,a],isTyping:!1}))}}createChatHeader(){return new o({className:["d-chat-header"],children:[new o({className:["d-chat-header-dept"],children:[new N({icon:"fa fa-user-circle",style:{fontSize:"1.5rem",opacity:"0.9"}}),new K({gap:0,children:[new u({text:"Assistente virtual",style:{fontSize:"0.9375rem",fontWeight:"600",letterSpacing:"-0.2px",color:"#fff"}}),new u({text:"Online agora",className:["d-chat-status"],style:{fontSize:"0.75rem",fontWeight:"500",opacity:"0.9",color:"#fff"}})]})]}),new le({icon:new N({icon:"fa fa-times",style:{fontSize:"1rem",opacity:"0.9"}}),onPressed:()=>this.toggleChat(),style:{background:"rgba(255, 255, 255, 0.1)",width:"50px",height:"50px",borderRadius:"50%",transition:"all 0.2s ease"},hoverStyle:{background:"rgba(255, 255, 255, 0.2)"}})]})}createTypingIndicator(){return new o({className:["d-chat-message","d-chat-message-bot"],children:[new o({className:["d-chat-message-bubble"],style:{padding:"12px 16px",display:"flex",alignItems:"center",minHeight:"40px"},children:[new o({className:["typing-dot"]}),new o({className:["typing-dot"]}),new o({className:["typing-dot"]})]})]})}createChatBody(){return new o({className:["d-chat-body"],style:{flex:1,minHeight:0,background:"var(--neutral-50)"},children:[new U({className:["d-chat-messages"],style:{flex:1,minHeight:0,overflowY:"auto",padding:"1rem"},watch:()=>{const e=this.state.messages,t=this.state.isTyping;console.log(e);const s=e.map(a=>new o({className:["d-chat-message",a.isBot?"d-chat-message-bot":"d-chat-message-user"],style:{marginBottom:"1rem"},children:[new o({className:["d-chat-message-bubble"],children:[new u({text:a.text,className:[a.isBot?null:"d-chat-message-text"].filter(Boolean),style:{lineHeight:"1.5"}})]}),new u({text:a.timestamp,className:["d-chat-message-timestamp"],style:{alignSelf:a.isBot?"flex-start":"flex-end"}})]}));return t&&s.push(this.createTypingIndicator()),new o({children:s})}})]})}createChatInput(){return new te({className:["d-chat-input-container"],style:{gap:"0.75rem",alignItems:"flex-end"},children:[new pe({className:["d-chat-textarea"],placeholder:"Como podemos ajudar?",style:{flex:1,minHeight:"44px",maxHeight:"120px"},events:{keydown:e=>{if(e.key==="Enter"&&!e.shiftKey){e.preventDefault();const t=this.inputValElement.value.trim();t&&(this.sendMessage(t),this.inputValElement.value="",this.inputValElement.style.height="auto")}},input:e=>{e.target.style.height="auto",e.target.style.height=Math.min(e.target.scrollHeight,120)+"px"}},onAttached:(e,t)=>{this.inputValElement=t.inputElement}})]})}createPage(){return new U({watch:()=>this.state.isMinimized?new o({position:q.fixed.bottomRight,style:{zIndex:999,bottom:"60px",right:"10px"},children:[new le({className:["d-chat-button-pulse"],icon:new N({icon:"fa fa-comments",style:{fontSize:"1.25rem"}}),onPressed:()=>this.toggleChat()})]}):new o({className:["d-chat-widget-container"],position:q.fixed.bottomRight,children:[new K({gap:0,style:{minHeight:0},children:[this.createChatHeader(),this.createChatBody(),this.createChatInput()]})]})})}render(){return this.children=[this.createPage()],super.render()}}const Y=class Y{constructor({baseURL:e="",defaultHeaders:t={"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},timeout:s=1e4,requestInterceptor:a=null,responseInterceptor:i=null}={}){if(Y.instance)throw new Error("App is a singleton and has already been initialized");this.baseURL=e,this.defaultHeaders={"Content-Type":"application/json",...t},this.timeout=s,this.requestInterceptor=a,this.responseInterceptor=i,Y.instance=this}async get(e,t={},s={cache:"no-store"}){return this._request({method:"GET",url:e,params:t,...s})}async post(e,t={},s={cache:"no-store"}){return this._request({method:"POST",url:e,data:t,...s})}async put(e,t={},s={cache:"no-store"}){return this._request({method:"PUT",url:e,data:t,...s})}async delete(e,t={},s={cache:"no-store"}){return this._request({method:"DELETE",data:t,url:e,...s})}async freshGet(e,t={},s={}){return this._request({method:"GET",url:e,params:{...t,_:Date.now()},cache:"reload",headers:{"Cache-Control":"no-cache",...s.headers},...s})}async upload(e,t,s={}){const{fieldName:a="file",additionalData:i={},onProgress:r=null,...n}=s,l=new FormData;return l.append(a,t),Object.entries(i).forEach(([h,c])=>{l.append(h,c)}),this._request({method:"POST",url:e,data:l,headers:{"Content-Type":void 0,...n.headers},onProgress:r,...n})}async _request(e){const{method:t,url:s,params:a={},data:i=null,headers:r={},timeout:n=this.timeout,responseType:l="json",signal:h=null,cache:c="no-store",onProgress:d=null}=e,m=this._buildUrl(s,a),g=new AbortController,f=setTimeout(()=>g.abort(),n);try{const w={method:t,headers:{...this.defaultHeaders,...r},signal:h||g.signal,cache:c};i instanceof FormData?(w.body=i,delete w.headers["Content-Type"]):i&&t!=="GET"&&t!=="HEAD"&&(w.body=this._stringifyData(i,r["Content-Type"]));const v=this.requestInterceptor?await this.requestInterceptor({...w,url:m}):w,b=await fetch(m,v);if(d&&b.body){const x=b.headers.get("content-length"),_=parseInt(x,10)||0;let E=0;const P=b.body.getReader(),M=[];for(;;){const{done:we,value:ne}=await P.read();if(we)break;M.push(ne),E+=ne.length,d({loaded:E,total:_})}const j=new Blob(M),R=new Response(j,{status:b.status,statusText:b.statusText,headers:b.headers});if(clearTimeout(f),!R.ok)throw await this._createError(R);const X=await this._parseResponse(R,l);return this.responseInterceptor?this.responseInterceptor(X,R):X}else{if(clearTimeout(f),!b.ok)throw await this._createError(b);const x=await this._parseResponse(b,l);return this.responseInterceptor?this.responseInterceptor(x,b):x}}catch(w){throw clearTimeout(f),this._normalizeError(w)}}_buildUrl(e,t){const s={...t},a=this.baseURL.replace(/\/+$/,""),i=e.replace(/^\/+/,""),r="".concat(a,"/").concat(i),n=new URLSearchParams;Object.entries(s).forEach(([h,c])=>{c!=null&&(Array.isArray(c)?c.forEach(d=>n.append(h,d)):n.append(h,c))});const l=n.toString();return l?"".concat(r,"?").concat(l):r}_stringifyData(e,t="application/json"){if(t==="application/json")return JSON.stringify(e);if(t==="multipart/form-data"){const s=new FormData;return Object.entries(e).forEach(([a,i])=>{s.append(a,i)}),s}else if(t==="application/x-www-form-urlencoded")return new URLSearchParams(e).toString();return e}async _parseResponse(e,t){return t==="json"?e.json():t==="text"?e.text():t==="blob"?e.blob():t==="arraybuffer"?e.arrayBuffer():t==="formdata"?e.formData():e.text()}async _createError(e){let t;try{t=await e.json()}catch(a){t={message:e.statusText}}const s=new Error(t.message||"HTTP error ".concat(e.status));return s.status=e.status,s.response=t,s}_normalizeError(e){return e.name==="AbortError"?new Error("Request timeout"):e}};S(Y,"instance",null);let O=Y;class De{constructor(e=300){this.delay=e,this.timeout=null}debounce(e){return(...t)=>{clearTimeout(this.timeout),this.timeout=setTimeout(()=>{e.apply(this,t)},this.delay)}}}class se{static simpleCurrencyFormat(e,t="MZN ",s=".",a=","){if(e==null||e==="")return t+"0"+s+"00";e=Math.round(e*100)/100;const i=e.toString().split(".");let r=i[0],n=i.length>1?i[1]:"00";return n.length<2&&(n=n.padEnd(2,"0")),r=r.replace(/\B(?=(\d{3})+(?!\d))/g,a),t+" "+r+s+n}}class ke extends p{constructor(){super({className:["d-default-widget-root"]}),this.currentQuery="",this.performSearch=new De(350).debounce(async e=>{if(this.currentQuery=e,!(e!=null&&e.trim())){this.setState({searchResults:[],noResults:!1,searchQuery:""});return}try{this.setState({isLoading:!0,searchError:null,searchQuery:e});const{result:t}=await O.instance.post("/properties",{searchKeyword:e,limit:15}),s=(t==null?void 0:t.properties)||[],a=(s==null?void 0:s.data.length)||0;this.setState({searchResults:s==null?void 0:s.data,noResults:a===0,totalResults:a})}catch(t){console.error("Search failed:",t),this.setState({searchResults:[],searchError:"Erro ao buscar resultados. Tente novamente.",noResults:!0})}finally{this.setState({isLoading:!1})}}),this.activeMenu="",this.initState({isLoading:!1,searchResults:[],searchQuery:"",noResults:!1,searchError:null,totalResults:0})}createPage(){return new o({className:["d-header-container"],children:[this._createBrandSection(),new o({className:["d-header-content-right"],children:[this._createNavigationSection(),this._createSearchSection()]})]})}_createBrandSection(){return new o({className:["d-brand-section"],events:{click:()=>{D.instance.to("/"),localStorage.removeItem("activeMenu")}},children:[new L({src:new URL("/assets/images/logo.png",import.meta.url),className:["d-brand-logo"],alt:"Logotipo"})]})}_createSearchSection(){return new o({className:["d-search-section"],children:[new oe({placeholder:"Pesquisar imveis...",className:["d-search-input"],events:{focus:e=>{e.preventDefault(),this._showSearchSheet()}}}),new N({icon:"fa fa-search",className:["d-search-icon"]})]})}_showSearchSheet(){var e;this.searchBottomSheet=new Ce({className:["d-search-bottom-sheet"],content:[new o({className:["d-search-sheet-header"],children:[new oe({label:"Pesquisar imveis...",className:["d-search-sheet-input"],value:this.currentQuery,onChange:t=>{this.performSearch(t)},onAttached:t=>{setTimeout(()=>t.focus(),100)},rightIcon:new N({icon:"fa fa-search",className:["d-search-sheet-icon"]})})]}),new U({watch:()=>{const{searchResults:t,isLoading:s,noResults:a,searchError:i,searchQuery:r}=this.state;return r!=null&&r.trim()?s?new k({className:["d-loading-state"],children:[new H({size:70,className:["d-search-spinner"]}),new u({text:"Pesquisando imveis...",className:["d-loading-text"]})]}):i?new k({className:["d-error-state"],children:[new N({icon:"fa fa-exclamation-circle",className:["d-error-icon"]}),new u({text:i,className:["d-error-text"]}),new ee({label:"Tentar novamente",onPressed:()=>this.performSearch(this.currentQuery),className:["d-retry-button"]})]}):a&&r.trim()?new k({className:["d-no-results-state"],children:[new N({icon:"fa fa-home",className:["d-no-results-icon"]}),new u({text:"Nenhum imvel encontrado",className:["d-no-results-title"]}),new u({text:'No encontramos resultados para "'.concat(r,'". Tente outros termos.'),className:["d-no-results-subtitle"]})]}):new o({className:["d-search-results-container"],children:[new K({className:["d-search-results-list"],children:t.map((n,l)=>{var c,d,m;const h=((c=n.galleries)==null?void 0:c.find(g=>Number(g.isMain)))||((d=n.galleries)==null?void 0:d[0]);return new me({className:["d-search-result-card"],bodyStyle:{padding:"0 .5rem"},events:{click:g=>{var f;D.instance.to("/imoveis/".concat(n.slug)),(f=this.searchBottomSheet)==null||f.close()}},body:new te({className:["d-search-result-content"],children:[new o({className:["d-search-result-image-container"],children:[new L({src:h==null?void 0:h.url,className:["d-search-result-image"],alt:n.title||"Imvel"})]}),new K({gap:0,className:["d-search-result-details"],children:[new u({text:n.title||"Sem ttulo",className:["d-search-result-title"]}),new te({className:["d-search-result-features"],children:[n.categories&&new u({text:((m=n.categories)==null?void 0:m.name)||"N/A",className:["d-property-type-badge"]})].filter(Boolean)}),new u({text:n.address||"Endereo no disponvel",className:["d-search-result-address"]}),n.price&&new u({text:se.simpleCurrencyFormat(n.price,n.currencies.code),className:["d-search-result-price"]})]})]})})})})]}):new k({className:["d-empty-state"],children:[new N({icon:"fa fa-search",className:["d-empty-state-icon"]}),new u({text:"Pesquise por imveis",className:["d-empty-state-title"]}),new u({text:"Digite palavras-chave como localizao, tipo de imvel, etc.",className:["d-empty-state-subtitle"]})]})}})]}),(e=this.searchBottomSheet)==null||e.show()}_createNavigationSection(){return new o({className:["d-navigation-section"],children:[this._createNavigationLink({label:"Imveis",icon:"fa fa-home",key:"properties",onPressed:()=>{D.instance.to("/imoveis"),localStorage.setItem("activeMenu","properties")}}),this._createNavigationLink({label:"Investimentos",icon:"fa fa-chart-line",key:"investiments",onPressed:()=>{D.instance.to("/investimentos"),localStorage.setItem("activeMenu","investiments")}}),this._createNavigationLink({label:"Contacto",icon:"fa fa-phone",key:"contact-us",onPressed:()=>{D.instance.to("/contacte-nos"),localStorage.setItem("activeMenu","contact-us")}})]})}_createNavigationLink({label:e="",icon:t="",key:s="",onPressed:a=null}){return new ee({label:e,onPressed:a,prefixIcon:new N({icon:t}),className:["d-nav-link-button",localStorage.getItem("activeMenu")==s?"active":null].filter(Boolean)})}render(){return this.children=[this.createPage(),...this.children,new Ee,new o({position:q.fixed.bottomRight,className:["d-chat-container"],children:[new K({children:[new Me]})]})],super.render()}}let Le=class extends p{constructor(){super()}createGuide(){return new o({className:["psg-guide-root"],children:[this._createHeader(),this._createStepCard({number:"01",title:"Comece na Pgina Inicial",description:"Na pgina principal, encontre a barra de pesquisa destacada no topo da pgina. Pode pesquisar por localidade, tipo de propriedade ou nmero de quartos.",image:"homepage-search.jpg",tip:"Dica: Use termos gerais como 'Coimbra centro' ou 'T2' para melhores resultados"}),this._createStepCard({number:"02",title:"Use Filtros Avanados",description:"Clique em 'Mais Filtros' para refinar sua busca por preo, rea, caractersticas especiais (varanda, garagem, etc.) ou data de disponibilidade.",image:"filters.jpg",tip:"Dica: Salve os seus filtros favoritos para pesquisas futuras",isReversed:!0}),this._createStepCard({number:"03",title:"Navegue pelos Resultados",description:"Veja as propriedades em formato de lista ou mapa. Clique em qualquer anncio para ver fotos, descrio completa, caractersticas e localizao exata.",image:"results-view.jpg",tip:"Dica: Use o boto de corao para guardar propriedades favoritas"}),this._createStepCard({number:"04",title:"Agende uma Visita",description:"Encontrou uma propriedade interessante? Use o boto 'Agendar Visita' para marcar uma visita presencial ou virtual com um dos nossos agentes.",image:"schedule-visit.jpg",tip:"Dica: Tenha os seus documentos prontos para acelerar o processo",isReversed:!0}),this._createFeaturesSection(),this._createTipsSection(),this._createCTASection()]})}_createSearchDemo(){return new o({className:["psg-search-demo"],children:[new N({icon:"fa fa-search",className:["psg-search-icon"]}),new u({text:"Localidade, tipo de imvel ou palavra-chave...",className:["psg-search-placeholder"]})]})}_createHeader(){return new o({className:["psg-section-header"],children:[new u({text:"GUIA DO UTILIZADOR",className:["psg-header-subtitle"]}),new u({text:"Como Encontrar a Propriedade Perfeita",className:["psg-header-title"]}),new u({text:"Um guia passo-a-passo para ajudar na sua busca imobiliria",className:["psg-header-description"]})]})}_createStepCard({number:e,title:t,description:s,image:a,tip:i,isReversed:r=!1}){const n=new URL(Object.assign({})["../../assets/images/guide/".concat(a)],import.meta.url),l=r?["psg-step-row","psg-reversed-row"]:["psg-step-row","psg-standard-row"],h=new o({className:["psg-step-text-content"],children:[new o({className:["psg-step-number"],children:[new u({text:e,className:["psg-step-number-text"]})]}),new u({text:t,className:["psg-step-title"]}),new u({text:s,className:["psg-step-description"]}),new o({className:["psg-tip-box"],children:[new N({icon:"fa fa-lightbulb",className:["psg-tip-icon"]}),new u({text:i,className:["psg-tip-text"]})]})]}),c=new o({className:["psg-step-image-content"],children:[new L({src:n,className:["psg-step-image"],alt:"Imagem ilustrativa: ".concat(t)})]});return new o({className:l,children:r?[h,c]:[c,h]})}_createFeaturesSection(){return new o({className:["psg-features-section"],children:[new u({text:"Funcionalidades teis",className:["psg-section-title"]}),new o({className:["psg-features-grid"],children:[this._createFeatureItem("Comparador","fa fa-balance-scale","Compare at 3 propriedades lado a lado","#3b82f6"),this._createFeatureItem("Alertas por Email","fa fa-bell","Receba notificaes de novos anncios","#10b981"),this._createFeatureItem("Mapa Interativo","fa fa-map-marker-alt","Veja propriedades por localizao no mapa","#ef4444"),this._createFeatureItem("Favoritos","fa fa-heart","Guarde propriedades para ver mais tarde","#f59e0b")]})]})}_createFeatureItem(e,t,s,a){return new o({className:["psg-feature-item"],children:[new o({className:["psg-feature-icon-container"],style:{backgroundColor:a+"20"},children:[new N({icon:t,className:["psg-feature-icon"],style:{color:a}})]}),new u({text:e,className:["psg-feature-title"]}),new u({text:s,className:["psg-feature-description"]})]})}_createTipsSection(){return new o({className:["psg-tips-section"],children:[new u({text:"Dicas para uma Busca Eficiente",className:["psg-section-title"]}),new o({className:["psg-tips-list"],children:[this._createTip("Seja especfico na sua pesquisa, mas no demasiado restritivo","fa fa-bullseye"),this._createTip("Consulte o mercado regularmente - novas propriedades surgem diariamente","fa fa-sync-alt"),this._createTip("Contacte diretamente o agente para questes especficas sobre a propriedade","fa fa-user-tie"),this._createTip("Veja as propriedades em diferentes horrios para avaliar luz e rudo","fa fa-sun")]})]})}_createTip(e,t){return new o({className:["psg-tip-item"],children:[new N({icon:t,className:["psg-tip-item-icon"]}),new u({text:e,className:["psg-tip-item-text"]})]})}_createCTASection(){return new o({className:["psg-cta-section"],children:[new u({text:"Precisa de Ajuda Personalizada?",className:["psg-cta-title"]}),new u({text:"Os nossos agentes esto disponveis para o guiar em cada passo do processo",className:["psg-cta-description"]}),new o({className:["psg-cta-buttons"],children:[new o({className:["psg-cta-button-primary"],children:[new N({icon:"fa fa-phone-alt",className:["psg-button-icon"]}),new u({text:"Falar com Agente",className:["psg-button-text"]})]}),new o({className:["psg-cta-button-secondary"],children:[new N({icon:"fa-brands fa-whatsapp",className:["psg-button-icon"]}),new u({text:"WhatsApp",className:["psg-button-text"]})]})]}),new o({className:["psg-contact-info"],children:[new N({icon:"fa fa-clock",className:["psg-contact-icon"]}),new u({text:"Disponveis 2 a 6, 9h s 18h",className:["psg-contact-text"]})]})]})}render(){return this.children=[this.createGuide()],super.render()}};const Re="/assets/1.qy9fcJDF.jpeg",$e="/assets/2.Ckay4RdN.jpeg",Ae="/assets/3.B5aty86y.jpeg",Fe="/assets/4.BjM28Jyh.jpeg",ze="/assets/banner.CamDS6qs.jpg",Oe="/assets/logo.DxXgi3dv.png";class Be extends p{constructor(){super()}createSection(){return new o({className:["s-services-section-root"],children:[this._createHeader(),this._createFeatureRow({image:"1.jpeg",title:"Ser proprietrio no precisa ser um pesadelo",text:"Manuteno inesperada, inquilinos complicados e papelada infinita. A gesto prpria consome seu tempo e paz de esprito. Ns assumimos essa carga para que voc possa apenas desfrutar dos rendimentos.",isReversed:!1,accent:"#ef4444"}),this._createFeatureRow({image:"4.jpeg",title:"Seu Parceiro no Sucesso",text:"Mais do que gestores, somos parceiros. Com a Casa Coimbra, voc tem uma equipe dedicada a garantir a valorizao do seu ativo e a estabilidade dos seus contratos.",isReversed:!0,accent:"#0f172a"}),this._createFeatureRow({image:"2.jpeg",title:"Encontramos o Cliente Ideal",text:"Seja para vender ou arrendar, nossa rede de contatos e marketing estratgico garante que encontramos os compradores ou inquilinos certos, mais rpido.",isReversed:!1,accent:"#cca43b"}),this._createFeatureRow({image:"3.jpeg",title:"Adeus s Dores de Cabea!",text:"Relatrios pontuais, rendas em dia e imveis bem cuidados. A satisfao de ver o seu patrimnio gerido com profissionalismo e resultados visveis.",isReversed:!0,accent:"#10b981"})]})}_createHeader(){return new o({className:["s-section-header"],children:[new u({text:"NOSSA ABORDAGEM",className:["s-header-subtitle"]}),new u({text:"Do Caos  Tranquilidade",className:["s-header-title"]})]})}_createFeatureRow({image:e,title:t,text:s,isReversed:a,accent:i}){const r=new URL(Object.assign({"../../assets/images/1.jpeg":Re,"../../assets/images/2.jpeg":$e,"../../assets/images/3.jpeg":Ae,"../../assets/images/4.jpeg":Fe,"../../assets/images/banner.jpg":ze,"../../assets/images/logo.png":Oe})["../../assets/images/".concat(e)],import.meta.url),n=a?["s-feature-row","s-reversed-row"]:["s-feature-row","s-standard-row"],l=new o({className:["s-feature-text-content"],children:[new o({className:["s-feature-accent-line"],style:{background:i}}),new u({text:t,className:["s-feature-title"]}),new u({text:s,className:["s-feature-description"]})]}),h=new o({className:["s-feature-image-content"],children:[new L({src:r,className:["s-feature-image"]})]});return new o({className:n,children:[h,l]})}_createServicesGrid(){return new o({className:["s-services-grid"],children:[this._createServiceCard("Gesto Financeira","fa fa-chart-pie"),this._createServiceCard("Manuteno","fa fa-tools"),this._createServiceCard("Jurdico","fa fa-gavel"),this._createServiceCard("Marketing","fa fa-bullhorn")]})}_createServiceCard(e,t){return new o({className:["s-service-card"],children:[new N({icon:t,className:["s-service-icon"]}),new u({text:e,className:["s-service-title"]})]})}_createCTA(){return new o({className:["s-cta-container"],children:[new u({text:"Valorize o seu Patrimnio",className:["s-cta-title"]}),new u({text:"Agende uma conversa gratuita com nossos especialistas.",className:["s-cta-subtitle"]}),new o({className:["s-cta-button"],children:[new u({text:"Agendar Agora"})]})]})}render(){return this.children=[this.createSection()],super.render()}}class V extends p{constructor({label:e="",prefixIcon:t=null,suffixIcon:s=null,theme:a=T.button.type.primary,size:i=T.button.size.medium,fullWidth:r=!1,type:n="button",onPressed:l=null,style:h={},className:c=[],disabled:d=!1,events:m={},props:g={},onBeforeCreated:f=null,onCreated:w=null,onBeforeAttached:v=null,onAttached:b=null,onMounted:x=null}={}){super({tagName:"button",style:{width:r?"100%":"auto",...h},className:["button-widget",a,i,d?"disabled":"",...c].filter(Boolean),props:{type:n,disabled:d,...g},events:{click:_=>{!this._disabled&&l&&l(_)},...m},onBeforeCreated:_=>{f==null||f(_)},onCreated:(_,E)=>{this.buttonElement=_,w==null||w(_,E)},onBeforeAttached:(_,E)=>{v==null||v(_,E)},onAttached:(_,E)=>{b==null||b(_,{},E)},onMounted:(_,E)=>{x==null||x(_,{},E)}}),this.label=e,this.prefixIcon=t,this.suffixIcon=s,this.theme=a,this.size=i,this.fullWidth=r,this._disabled=d,this.disabled=d}get disabled(){return this._disabled}set disabled(e){this._disabled=!!e,this.buttonElement&&(this.buttonElement.disabled=this._disabled,this._disabled?(this.buttonElement.classList.add("disabled"),this.buttonElement.setAttribute("aria-disabled","true")):(this.buttonElement.classList.remove("disabled"),this.buttonElement.removeAttribute("aria-disabled")))}render(){return this.children=[this.prefixIcon,this.label,this.suffixIcon].filter(Boolean),super.render()}}class qe extends p{constructor(){super()}createSection(){return new o({className:["p-pricing-section-root"],children:[this._createPricingHeader(),this._createPricingCards()]})}_createPricingHeader(){return new o({className:["p-pricing-header"],children:[new u({text:"ESCOLHA O SEU PLANO IDEAL",className:["p-header-subtitle"]}),new u({text:"Cuide do que  seu, no seu prprio ritmo.",className:["p-header-title"]})]})}_createPricingCards(){const e=[{name:"ESSENCIAL",commission:"8%",price:"12.000,00 MZN",tagline:"Para proprietrios experientes",features:["Cobrana de mensal","Relatrios simples","Acompanhamento presencial"],isFeatured:!1},{name:"PROFISSIONAL",commission:"10%",price:"18.000,00 MZN",tagline:"Para quem no quer preocupaes",features:["Atendimento aos inquilinos","Apoio em contratos","Gesto bsica de manuteno"],isFeatured:!0},{name:"PREMIUM",commission:"12-15%",price:"20.000,00  25.000,00 MZN",tagline:"Para valorizao do seu imvel",features:["Inspees peridicas","Acompanhamento jurdica","Superviso de obras/manuteno","Relatrios financeiros detalhados"],isFeatured:!1}];return new o({className:["p-pricing-cards-grid"],children:e.map(t=>this._createPricingCard(t))})}_createPricingCard({name:e,commission:t,price:s,tagline:a,features:i,isFeatured:r}){const n=r?["p-pricing-card","p-featured-card"]:["p-pricing-card","p-standard-card"],l=r?["p-card-title","p-featured-title"]:["p-card-title","p-standard-title"],h=r?["p-card-body-text","p-featured-body"]:["p-card-body-text","p-standard-body"],c=r?["p-card-commission","p-featured-commission"]:["p-card-commission","p-standard-commission"],d=r?["p-card-price","p-featured-price"]:["p-card-price","p-standard-price"];return new me({className:n,body:[new u({text:e,className:l}),new u({text:a,className:h}),new o({className:["p-commission-wrapper"],children:[new u({text:t,className:c}),new u({text:"comisso",className:[...h,"p-commission-label"]})]}),new u({text:s,className:d}),this._createFeatureList(i,r),this._createPricingButton(e,r)]})}_createFeatureList(e,t){const s=["p-feature-list"],a=t?["p-featured-item","p-feature-item"]:["p-feature-item","p-standard-item"],i=t?["p-feature-icon","p-featured-icon"]:["p-feature-icon","p-standard-icon"],r=t?["p-feature-text","p-featured-text"]:["p-feature-text","p-standard-text"];return new o({className:s,children:e.map(n=>new o({className:a,children:[new N({icon:"fa fa-check-circle",className:i}),new u({text:n,className:r})]}))})}_createPricingButton(e,t){const s=t?["p-pricing-button","p-featured-button"]:["p-pricing-button","p-standard-button"];return new V({className:s,label:"Escolher ".concat(e)})}render(){return this.children=[this.createSection()],super.render()}}let Ue=class extends p{constructor(){super()}createPage(){return new o({className:["i-hero-page-container"],children:[this._createDecorativeGlow(),this._createHeroText(),this._createHeroBanner()]})}_createHeroText(){return new o({className:["i-hero-text-section"],children:[new o({className:["i-hero-subtitle-wrapper"],children:[new u({text:"CASA COIMBRA",className:["i-hero-subtitle"]})]}),new u({text:"Excelncia em Gesto Patrimonial",className:["i-hero-title"]}),new u({text:"Maximizamos o valor do seu patrimnio imobilirio atravs de estratgias de investimento inteligentes e uma gesto rigorosa e transparente.",className:["i-hero-description"]}),this._createPrimaryButton("Consultar Especialista")]})}_createPrimaryButton(e){return new ee({className:["i-button","i-standard-button"],label:e,onPressed:()=>D.instance.to("/contacte-nos")})}_createHeroBanner(){return new o({className:["i-hero-banner-section"],children:[new L({src:new URL("/assets/images/banner.jpg",import.meta.url),className:["i-hero-banner-image"]}),this._createFloatingStats()]})}_createFloatingStats(){return new o({className:["i-floating-stats-container"],children:[this._createStatItem("500+","Imveis Geridos"),this._createStatItem("25","Anos de Mercado")]})}_createStatItem(e,t){return new o({className:["i-stat-item"],children:[new u({text:e,className:["i-stat-value"]}),new u({text:t,className:["i-stat-label"]})]})}_createDecorativeGlow(){return new o({className:["i-decorative-glow"]})}_createCTASection(){return new o({className:["i-cta-section-root"],children:[new u({text:"Adira ao Modelo 3",className:["i-cta-main-title"]}),new o({className:["i-cta-subsection"],children:[new u({text:"Como funciona?",className:["i-cta-subtitle"]}),this._createProcessList(["Cobramos as rendas","Fazemos contratos e acompanhamento do imvel","Resolvemos problemas do dia-a-dia"],"process")]}),new o({className:["i-cta-subsection"],children:[new u({text:"Vantagens.",className:["i-cta-subtitle"]}),this._createProcessList(["Imvel sempre bem cuidado","Renda pontual","Zero dores de cabea"],"advantage")]}),new o({className:["i-cta-contact-block"],children:[new u({text:"Ainda tem dvida? Quer conversar e saber mais?",className:["i-contact-prompt"]}),new o({className:["i-contact-people-list"],children:[this._createContactItem("Hermnio Wiliamo","+258 84 549 8519"),this._createContactItem("Cleuzia Muthisse","+258 84 208 3827")]})]})]})}_createProcessList(e,t){return new o({className:["i-process-list","i-".concat(t,"-list")],children:e.map(s=>new o({className:["i-list-item"],children:[new N({icon:t==="advantage"?"fa fa-check-circle":"fa fa-arrow-right",className:["i-list-icon","i-".concat(t,"-icon")]}),new u({text:s,className:["i-list-text"]})]}))})}_createContactItem(e,t){return new o({className:["i-contact-item"],events:{click:()=>{window.location.href="tel:".concat(t)}},children:[new N({icon:"fa fa-phone",className:["i-contact-icon"]}),new u({text:e,className:["i-contact-name"]}),new u({text:t,className:["i-contact-phone"]})]})}render(){return this.children=[this.createPage(),new Be,new qe,this._createCTASection()],super.render()}};class J extends p{constructor({future:e,builder:t,controller:s=null,onLoading:a=null,onError:i=null,onComplete:r=null,onStateChange:n=null,className:l=[],style:h={},props:c={},params:d={},customStates:m={}}={}){super({tagName:"section",className:["future-widget",...l],style:{width:"100%",...h},props:c,onAttached:()=>{}}),this.future=e,this.params=d,this.builder=t==null?void 0:t.bind(this),this.onLoading=a==null?void 0:a.bind(this),this.onError=i==null?void 0:i.bind(this),this.onComplete=r==null?void 0:r.bind(this),this.onStateChange=n==null?void 0:n.bind(this),this.customStates=m,this.currentState={status:"initial",data:null,error:null},this.stateQueue=[],this.abortController=null,this.isProcessing=!1,this.subscribeToFuture(),s&&s.attach(this)}onNotify(){}subscribeToFuture(){var s;this.abortController&&(this.abortController.abort(),this.abortController=null),this.abortController=new AbortController;const{signal:e}=this.abortController;this.enqueueState({status:"loading",data:null,error:null});let t;try{t=typeof this.future=="function"?this.future(this.params,e):this.future}catch(a){this.enqueueState({status:"error",data:null,error:a}),(s=this.onComplete)==null||s.call(this);return}t.then(a=>{e.aborted||this.enqueueState({status:"success",data:a,error:null})}).catch(a=>{if(!e.aborted){if(a.name==="AbortError")return;this.enqueueState({status:"error",data:null,error:a})}}).finally(()=>{var a;e.aborted||(a=this.onComplete)==null||a.call(this)})}setParams(e){this.params=e,this.subscribeToFuture()}enqueueState(e){var t;this.stateQueue.push(e),(t=this.onStateChange)==null||t.call(this,e),this.processStateQueue()}processStateQueue(){this.isProcessing||(this.isProcessing=!0,requestAnimationFrame(()=>{for(;this.stateQueue.length>0;){const e=this.stateQueue.shift();e&&(this.currentState={...this.currentState,...e})}this.update(),this.isProcessing=!1}))}setFuture(e){this.future=e,this.subscribeToFuture()}reload(){this.subscribeToFuture()}setCurrentState(e){this.enqueueState(e)}detach(){this.abortController&&this.currentState.status!=="loading"&&(this.abortController.abort(),this.abortController=null),this.stateQueue=[],super.detach()}update(){var s,a,i,r;let e=null;switch(this.currentState.status){case"loading":e=this.onLoading?this.onLoading():new p({children:["Loading..."]});break;case"success":e=this.builder?this.builder(this.currentState.data):new p({children:["No builder provided"]});break;case"error":e=this.onError?this.onError(this.currentState.error):new p({children:["Error: ".concat(((s=this.currentState.error)==null?void 0:s.message)||"Unknown error")]});break;default:e=(r=(i=(a=this.customStates)[this.currentState.status])==null?void 0:i.call(a))!=null?r:new p({children:["Unknown state"]})}(Array.isArray(e)?e:[e]).forEach((n,l)=>{this.children[l]=n}),super.update()}render(){return super.render()}}class fe{constructor(){this.futureBuilder=null}_setFutureBuilder(e){this.futureBuilder=e}attach(e){this._setFutureBuilder(e)}_ensureFutureBuilder(e){if(!this.futureBuilder)throw new Error("[FutureBuilderController.".concat(e,"] No FutureBuilder associated with this controller"))}setParams(e){this._ensureFutureBuilder("setParams"),this.futureBuilder.setParams(e)}reload(){this._ensureFutureBuilder("reload"),this.futureBuilder.reload()}setFuture(e){this._ensureFutureBuilder("setFuture"),this.futureBuilder.setFuture(e)}}class ge extends p{constructor({totalItems:e=0,itemsPerPage:t=10,currentPage:s=1,params:a={},onPageChange:i=()=>{},visiblePages:r=5,style:n={},className:l=[]}={}){super({tagName:"nav",className:["paginator-widget",...l],style:n}),this.totalItems=e,this.itemsPerPage=t,this.currentPage=s,this.params={...a},this.onPageChange=i,this.visiblePages=r,this.totalPages=Math.ceil(e/t)}buildQueryString(e){const t=new URLSearchParams({...this.params,page:e}).toString();return"?".concat(t)}validatePage(e){return Math.max(1,Math.min(e,this.totalPages))}goToPage(e){const t=this.validatePage(e);t!==this.currentPage&&(this.currentPage=t,this.onPageChange({page:this.currentPage,limit:this.itemsPerPage,skip:this.currentPage*this.itemsPerPage-this.itemsPerPage,url:this.buildQueryString(this.currentPage)}),this.update())}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(1)}goToLastPage(){this.goToPage(this.totalPages)}createPageItem(e,t=null,s=!1,a=!1){const i=typeof e=="string",r=s?T.button.type.primary:T.button.type.default;let n="Page ".concat(e);if(i)switch(e){case"":n="First page";break;case"":n="Previous page";break;case"":n="Next page";break;case"":n="Last page";break}return new V({label:"".concat(e),theme:r,size:T.button.size.small,className:["paginator-button-item-widget"],onPressed:()=>t==null?void 0:t(),disabled:a||s,props:{"aria-label":n,...s&&{"aria-current":"page"}}})}createEllipsis(){return new p({tagName:"span",className:["paginator-ellipsis-item-widget"],props:{"aria-hidden":"true"},children:["..."]})}getVisiblePages(){if(this.totalPages<=1)return[];const e=[];let t=Math.max(1,this.currentPage-Math.floor(this.visiblePages/2)),s=Math.min(this.totalPages,t+this.visiblePages-1);s-t<this.visiblePages-1&&(t=Math.max(1,s-this.visiblePages+1)),t>1&&(e.push(1),t>2&&e.push("ellipsis-start"));for(let a=t;a<=s;a++)e.push(a);return s<this.totalPages&&(s<this.totalPages-1&&e.push("ellipsis-end"),e.push(this.totalPages)),e}render(){this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.currentPage=this.validatePage(this.currentPage);const e=[],t=this.createPageItem("",()=>this.goToFirstPage(),!1,this.currentPage===1),s=this.createPageItem("",()=>this.goToPreviousPage(),!1,this.currentPage===1),a=this.createPageItem("",()=>this.goToNextPage(),!1,this.currentPage===this.totalPages),i=this.createPageItem("",()=>this.goToLastPage(),!1,this.currentPage===this.totalPages);return e.push(t,s),this.getVisiblePages().forEach(r=>{typeof r=="string"?e.push(this.createEllipsis()):e.push(this.createPageItem(r,()=>this.goToPage(r),r===this.currentPage))}),e.push(a,i),this.children=e,super.render()}updateParams(e){this.params={...this.params,...e},this.update()}updateTotalItems(e){this.totalItems=e,this.update()}updateItemsPerPage(e){this.itemsPerPage=e,this.update()}}let je=class extends p{constructor(){super(),this.futureBuilderController=new fe,this.queryData={},this.initState({activeCategory:0,offset:0,limit:12,currentPage:1,totalItems:0})}createSection(){return new o({className:["l-listing-page-root"],children:[this._createHeader(),this._createCategoriesSection(),this._createListingGrid(),this._createPaginator()]})}_createHeader(){return new o({className:["l-section-header"],children:[new u({text:"IMVEIS PREMIUM",className:["l-header-subtitle"]}),new u({text:"Descubra Sua Prxima Oportunidade",className:["l-header-title"]}),new u({text:"Explore nossa exclusiva coleo de propriedades premium em Maputo. Clique nas categorias para filtrar.",className:["l-header-description"]})]})}_createCategoriesSection(){return new o({className:["l-categories-section"],children:[new o({className:["l-categories-container"],children:[this._createScrollButton("left"),new J({future:()=>O.instance.get("/categories?type_id=2"),builder:({result:e})=>{const t=e.categories;return new o({className:["l-categories-scroll"],children:t.map(s=>this._createCategoryTag(s))})},onLoading:()=>new k({children:[new H]})}),this._createScrollButton("right")]})]})}_createCategoryTag(e){return new U({watch:()=>{const t=this.state.activeCategory===e.id;return new o({className:["l-category-tag",t?"active":""],children:[new N({icon:e.icon,className:["l-category-icon"]}),new u({text:e.name,style:{textWrap:"nowrap"}}),new o({className:["l-category-count"],children:[new u({text:"".concat(e.totalItems)})]})],events:{click:()=>this._handleCategoryClick(e.id)}})}})}_createScrollButton(e){const t=e==="left"?"fa-solid fa-chevron-left":"fa-solid fa-chevron-right";return new o({className:["l-scroll-button",e],children:[new N({icon:t})],events:{click:()=>this._handleScroll(e)}})}_createListingGrid(){return new J({future:e=>O.instance.post("/properties",e.query),controller:this.futureBuilderController,params:{query:{limit:this.state.limit,offset:0,type_id:2}},builder:({result:e})=>{const t=e.properties.data;return this.setState(s=>{var a;return{totalItems:(a=e.properties)==null?void 0:a.totalItems}}),new o({className:["l-property-grid"],children:t.map(s=>this._createPropertyCard({property:s}))})},onLoading:()=>new k({children:[new H]})})}_createPropertyCard({property:e}){var s,a,i,r;const t=((s=e==null?void 0:e.galleries.filter(n=>n.isMain==1))==null?void 0:s.url)||((a=e.galleries[0])==null?void 0:a.url);return new o({className:["l-property-card"],events:{click:()=>{D.instance.to("/imoveis/".concat(e.slug))}},children:[new o({className:["l-card-image-wrapper"],children:[new L({src:t,className:["l-card-image"],alt:e.title}),new o({className:["l-card-type-tag"],children:[new u({text:(i=e.finalities)==null?void 0:i.name})]}),Number(e.emphasis)&&new o({className:["l-featured-badge"],children:[new u({text:" Destaque"})]}),new o({className:["l-status-indicator"],children:[new o({className:["l-status-dot"]}),new u({text:(r=e.categories)==null?void 0:r.name,style:{color:"#10b981",fontSize:"0.8rem",fontWeight:"bold"}})]})]}),new o({className:["l-card-details"],children:[new u({text:e.title,className:["l-card-title"]}),new o({className:["l-card-location"],children:[new N({icon:"fa-solid fa-location-dot",className:["l-location-icon"]}),new u({text:e.address,className:["l-location-text"]})]}),new o({className:["l-card-specs"],children:[this._createSpecItem("fa-solid fa-bed","".concat(e.room),"Quartos"),this._createSpecItem("fa-solid fa-bath","".concat(e.bathroom),"Banhos"),this._createSpecItem("fa-solid fa-ruler-combined","".concat(e.area,"m"),"rea")]}),new o({className:["l-card-footer"],children:[new u({text:se.simpleCurrencyFormat(e.price,e.currencies.code),className:["l-card-price"]})]})]})]})}_createSpecItem(e,t,s){return new o({className:["l-spec-item"],children:[new o({children:[new N({icon:e,className:["l-spec-icon"]}),new u({text:t,className:["l-spec-value"]})],style:{display:"flex",alignItems:"center",gap:"8px"}}),new u({text:s,className:["l-spec-label"]})]})}_handleCategoryClick(e){this.state.activeCategory=e,this.queryData={...this.queryData,category_id:e},this.futureBuilderController.setParams({query:{offset:0,limit:12,type_id:2,...this.queryData}})}_handleScroll(e){const t=document.querySelector(".l-categories-scroll");t&&t.scrollBy({left:e==="left"?-300:300,behavior:"smooth"})}_createPaginator(){return new U({watch:()=>{const{totalItems:e,limit:t,currentPage:s}=this.state;return e<=t?new o:new ge({currentPage:s,totalItems:e,itemsPerPage:t,visiblePages:3,onPageChange:a=>{this.state.currentPage=a.page,this.state.offset=a.skip,this.futureBuilderController.setParams({query:{limit:a.limit,offset:a.skip,type_id:2,...this.queryData}})}})}})}render(){return this.children=[this.createSection()],super.render()}},Ge=class extends p{constructor(){super(),this.futureBuilderController=new fe,this.queryData={},this.initState({activeCategory:0,offset:0,limit:5,currentPage:1,totalItems:0})}createSection(){return new o({className:["l-listing-page-root"],children:[this._createHeader(),this._createCategoriesSection(),this._createListingGrid(),this._createPaginator()]})}_createHeader(){return new o({className:["l-section-header"],children:[new u({text:"DIRIO IMOBILIRIO",className:["l-header-subtitle"]}),new u({text:"Oportunidade unica de investimento imobilirio s aqui",className:["l-header-title"]}),new u({text:"Uma curadoria exclusiva das melhores oportunidades em Maputo.",className:["l-header-description"]})]})}_createCategoriesSection(){return new o({className:["l-categories-section"],children:[new o({className:["l-categories-container"],children:[this._createScrollButton("left"),new J({future:()=>O.instance.get("/categories?type_id=1"),builder:({result:e})=>{const t=e.categories;return new o({className:["l-categories-scroll"],children:t.map(s=>this._createCategoryTag(s))})},onLoading:()=>new k({children:[new H]})}),this._createScrollButton("right")]})]})}_createCategoryTag(e){return new U({watch:()=>{const t=this.state.activeCategory===e.id;return new o({className:["l-category-tag",t?"active":""],children:[new N({icon:e.icon,className:["l-category-icon"]}),new u({text:e.name,style:{textWrap:"nowrap"}}),new o({className:["l-category-count"],children:[new u({text:"".concat(e.totalItems)})]})],events:{click:()=>this._handleCategoryClick(e.id)}})}})}_createScrollButton(e){const t=e==="left"?"fa-solid fa-chevron-left":"fa-solid fa-chevron-right";return new o({className:["l-scroll-button",e],children:[new N({icon:t})],events:{click:()=>this._handleScroll(e)}})}_createListingGrid(){return new J({future:e=>O.instance.post("/properties",e.query),controller:this.futureBuilderController,params:{query:{limit:this.state.limit,offset:0,type_id:1}},builder:({result:e})=>{const t=e.properties.data;return this.setState(s=>{var a;return{totalItems:(a=e.properties)==null?void 0:a.totalItems}}),new o({className:["l-investiment-feed"],children:t.map(s=>this._createPropertyCard({property:s}))})},onLoading:()=>new k({children:[new H]})})}_createPropertyCard({property:e}){var s,a,i,r;const t=((s=e==null?void 0:e.galleries.filter(n=>n.isMain==1))==null?void 0:s.url)||((a=e.galleries[0])==null?void 0:a.url);return new o({className:["l-investiment-card"],events:{click:()=>{D.instance.to("/imoveis/".concat(e.slug))}},children:[new o({className:["l-investiment-image-wrapper"],children:[new L({src:t,className:["l-investiment-image"],alt:e.title}),new o({className:["l-investiment-badges"],children:[new o({className:["l-badge","primary"],children:[new u({text:(i=e.finalities)==null?void 0:i.name})]}),Number(e.emphasis)?new o({className:["l-badge","emphasis"],children:[new N({icon:"fa-solid fa-star"}),new u({text:"Destaque"})]}):null].filter(Boolean)})]}),new o({className:["l-investiment-content"],children:[new o({className:["l-investiment-meta"],children:[new u({text:(r=e.categories)==null?void 0:r.name,className:["l-meta-category"]}),new o({className:["l-meta-dot"]}),new N({icon:"fa-solid fa-location-dot",className:["l-meta-icon"]}),new u({text:e.address,className:["l-meta-text"]})]}),new u({text:e.title,className:["l-investiment-title"]}),new o({className:["l-investiment-specs"],children:[this._createSpecItem("fa-solid fa-bed","".concat(e.room," Quartos")),this._createSpecItem("fa-solid fa-bath","".concat(e.bathroom," Banheiros")),this._createSpecItem("fa-solid fa-ruler-combined","".concat(e.area,"m"))]}),new o({className:["l-divider"]}),new o({className:["l-investiment-footer"],children:[new o({children:[new u({text:"Valor do Investimento",className:["l-price-label"]}),new u({text:se.simpleCurrencyFormat(e.price,e.currencies.code),className:["l-investiment-price"]})]}),new o({className:["l-read-more-btn"],children:[new u({text:"Ver Detalhes"}),new N({icon:"fa-solid fa-arrow-right"})]})]})]})]})}_createSpecItem(e,t){return new o({className:["l-investiment-spec-item"],children:[new N({icon:e,className:["l-investiment-spec-icon"]}),new u({text:t,className:["l-investiment-spec-text"]})]})}_handleCategoryClick(e){this.state.activeCategory=e,this.queryData={...this.queryData,category_id:e},this.futureBuilderController.setParams({query:{offset:0,limit:this.state.limit,type_id:1,...this.queryData}})}_handleScroll(e){const t=document.querySelector(".l-categories-scroll");t&&t.scrollBy({left:e==="left"?-300:300,behavior:"smooth"})}_createPaginator(){return new U({watch:()=>{const{totalItems:e,limit:t,currentPage:s}=this.state;return e<=t?new o:new ge({currentPage:s,totalItems:e,itemsPerPage:t,visiblePages:3,onPageChange:a=>{this.state.currentPage=a.page,this.state.offset=a.skip,this.futureBuilderController.setParams({query:{limit:a.limit,offset:a.skip,type_id:1,...this.queryData}}),window.scrollTo({top:0,behavior:"smooth"})}})}})}render(){return this.children=[this.createSection()],super.render()}};const B=class B extends p{constructor({position:e=q.absolute.center,theme:t=T.toast.type.success,message:s="Default message",duration:a=5e3,onClose:i=null,showLeadingIcon:r=!0,showCloseButton:n=!0,autoDismiss:l=!0,priority:h=0,style:c={},className:d=[],props:m={},id:g="toast-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,9))}={}){super({tagName:"div",className:["toast-container-widget"]}),this.position=e,this.theme=t,this.message=s,this.duration=a,this.onClose=i,this.showLeadingIcon=r,this.showCloseButton=n,this.autoDismiss=l,this.priority=h,this.id=g,this.config={style:c,props:m,className:d},this.toastElement=null}createToastWidget(){return new p({tagName:"div",className:["toast-widget",this.theme,...this.config.className],props:{role:"alert","aria-live":"assertive","aria-atomic":"true","data-toast-id":this.id,...this.config.props},style:{opacity:"0",transform:"translateY(-20px)",...this.config.style},children:[this.showLeadingIcon?this.createIcon():null,this.createMessage(),this.showCloseButton?this.createCloseButton():null,this.autoDismiss?this.createProgressBar():null].filter(Boolean),onAttached:e=>this.setupToastLifecycle(e)})}createMessage(){return new p({tagName:"span",className:["toast-message-widget"],children:[this.message]})}createProgressBar(){return new p({tagName:"div",className:["toast-progress-bar-widget"],style:{width:"100%"}})}createIcon(){return new p({tagName:"span",className:["toast-icon-widget"],props:{"aria-hidden":"true"}})}createCloseButton(){return new p({tagName:"span",children:[""],className:["toast-close-icon-widget"],events:{click:e=>{e.stopPropagation(),this.dismiss()}},onAttached:e=>{e.insertAdjacentHTML("beforeend",'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>')}})}getSharedContainer(){if(!B.containers.has(this.position)){const e=new p({tagName:"div",className:["toast-container-widget",this.position]});B.containers.set(this.position,{widget:e,toasts:[]}),document.body.appendChild(e.render())}return B.containers.get(this.position)}show(){const e=this.getSharedContainer(),t=e.widget.render(),s=this.createToastWidget();e.toasts.push({widget:s,priority:this.priority}),e.toasts.sort((a,i)=>i.priority-a.priority),t.innerHTML="",e.toasts.forEach(({widget:a})=>{a instanceof p&&t.appendChild(a.render())})}setupToastLifecycle(e){if(this.toastElement=e,!this.autoDismiss){this.animateIn(e);return}this.setupAutoDismiss(e)}setupAutoDismiss(e){let t,s=e.querySelector(".toast-progress-bar-widget"),a=Date.now(),i=this.duration,r=!1;const n=()=>{r||(t=setTimeout(()=>this.dismissToast(e),i),s&&this.animateProgressBar(s,i))},l=()=>{r=!0,clearTimeout(t),i-=Date.now()-a,s&&(s.style.transition="none",s.style.width="".concat(i/this.duration*100,"%"))},h=()=>{r&&(r=!1,a=Date.now(),n())};this.animateIn(e),this.setupEventListeners(e,l,h),n()}setupEventListeners(e,t,s){e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",s),e.addEventListener("focusin",t),e.addEventListener("focusout",s)}animateIn(e){requestAnimationFrame(()=>{e.style.transition="opacity 300ms ease, transform 300ms ease",e.style.opacity="1",e.style.transform="translateY(0)"})}animateProgressBar(e,t){e.style.transition="width ".concat(t,"ms linear"),requestAnimationFrame(()=>{e.style.width="0%"})}dismissToast(e){e.style.transition="opacity 300ms ease, transform 300ms ease",e.style.opacity="0",e.style.transform="translateY(-20px)",setTimeout(()=>{this.removeToastFromContainer(e),this.onClose&&this.onClose()},300)}removeToastFromContainer(e){const t=B.containers.get(this.position);t&&(t.toasts=t.toasts.filter(({widget:s})=>s.render().dataset.toastId!==this.id),e.remove(),t.toasts.length===0&&(t.widget.render().remove(),B.containers.delete(this.position)))}updateMessage(e){this.message=e;const t=document.querySelector('[data-toast-id="'.concat(this.id,'"]'));if(t){const s=t.querySelector(".toast-message-widget");s&&(s.textContent=e)}}dismiss(){const e=document.querySelector('[data-toast-id="'.concat(this.id,'"]'));e&&this.dismissToast(e)}};S(B,"containers",new Map);let ie=B;class He{static openNavigation({startLat:e,startLng:t,latitude:s,longitude:a,destinationName:i="",mode:r="driving"}={}){if(!s||!a)return console.error("Coordinates are required"),!1;const n=parseFloat(s).toFixed(6),l=parseFloat(a).toFixed(6);let h="https://www.google.com/maps/dir/?api=1";if(h+="&destination=".concat(n,",").concat(l),h+="&travelmode=".concat(r),e&&t&&(h+="&origin=".concat(e,",").concat(t)),i&&(h+="&destination_place_id=".concat(encodeURIComponent(i))),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){const d="https://www.google.com/maps/dir/?api=1&destination=".concat(n,",").concat(l,"&travelmode=").concat(r);window.location.href=d}else window.open(h,"_blank","noopener,noreferrer");return!0}static openWazeNavigation(e,t){const s="https://waze.com/ul?ll=".concat(e,",").concat(t,"&navigate=yes");window.open(s,"_blank")}static openAppleMapsNavigation(e,t,s=""){const a="https://maps.apple.com/?daddr=".concat(e,",").concat(t,"&dirflg=d");window.open(a,"_blank")}static async navigateFromCurrentLocation(e,t,s){"geolocation"in navigator?navigator.geolocation.getCurrentPosition(a=>{const i=a.coords.latitude,r=a.coords.longitude;this.openNavigation({startLat:i,startLng:r,latitude:e,longitude:t,destinationName:s})},a=>{console.error("Error getting location:",a)}):this.openNavigation({latitude:e,longitude:t})}}function Xe(y,e){y.src=e}const Ve=y=>{var e,t,s,a="The Google Maps JavaScript API",i="google",r="importLibrary",n="__ib__",l=document,h=window,c=h[i]||(h[i]={}),d=c.maps||(c.maps={}),m=new Set,g=new URLSearchParams,f=()=>e||(e=new Promise(async(w,v)=>{var b;await(t=l.createElement("script")),g.set("libraries",[...m]+"");for(s in y)g.set(s.replace(/[A-Z]/g,x=>"_"+x[0].toLowerCase()),y[s]);g.set("callback",i+".maps."+n),Xe(t,"https://maps.googleapis.com/maps/api/js?"+g),d[n]=w,t.onerror=()=>e=v(Error(a+" could not load.")),t.nonce=((b=l.querySelector("script[nonce]"))==null?void 0:b.nonce)||"",l.head.append(t)}));d[r]?console.warn(a+" only loads once. Ignoring:",y):d[r]=(w,...v)=>m.add(w)&&f().then(()=>d[r](w,...v))},We=y=>"The setOptions() function should only be called once. The options passed to the additional call (".concat(JSON.stringify(y),") will be ignored."),Ke=y=>"The google.maps.importLibrary() function is already defined, and @googlemaps/js-api-loader will use the existing function instead of overwriting it. The options passed to setOptions (".concat(JSON.stringify(y),") will be ignored."),Qe=()=>{},Ze=()=>{};let ce=!1;function Ye(y){if(ce){Qe(We(y));return}Je(y),ce=!0}function Je(y){var t,s;const e=!!((s=(t=window.google)==null?void 0:t.maps)!=null&&s.importLibrary);e&&Ze(Ke(y)),e||Ve(y)}const et="AIzaSyAOapxEBFvTxO9anSKTyW9qizS32N4-zBs";class W{constructor(e={}){this.map=null,this.marker=null,this.autocomplete=null,this.options={zoom:15,mapTypeId:"roadmap",mapId:"943534829a0eaca861346f95",disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0,...e}}async initMap(e,{lat:t=-25.92673866891844,lng:s=32.63380311779625,title:a="Casa coimbra maputo"}={}){Ye({key:et,v:"weekly"});const[{Map:i},{AdvancedMarkerElement:r}]=await Promise.all([google.maps.importLibrary("maps"),google.maps.importLibrary("marker")]);return this.map=new i(e,this.options),this.map.setCenter({lat:t,lng:s}),this.marker=new r({map:this.map,position:{lat:t,lng:s},title:a}),{map:this.map,marker:this.marker}}static async search(e,t={}){const{countryCode:s="mz",limit:a=10,location:i=null,radius:r=5e4,types:n=["geocode","establishment"]}=t;if(!this.autocompleteService)throw new Error("GoogleMapService not initialized. Call initMap first.");return this.controller&&(this.controller.abort(),this.controller=null),new Promise((l,h)=>{const c={input:e,types:n,componentRestrictions:s?{country:s}:void 0};i&&(c.location=new google.maps.LatLng(i.lat,i.lng),c.radius=r,c.strictBounds=!1),this.autocompleteService.getPlacePredictions(c,(d,m)=>{if(m!==google.maps.places.PlacesServiceStatus.OK||!d){l([]);return}const g=d.slice(0,a),f=g.map(w=>this.getPlaceDetails(w.place_id));Promise.all(f).then(w=>{const v=w.filter(b=>b!==null);l(v)}).catch(w=>{console.error("Error fetching place details:",w),l(g)})})})}static async getPlaceDetails(e){return new Promise((t,s)=>{this.placesService.getDetails({placeId:e,fields:["name","formatted_address","geometry","place_id","types","address_components"]},(a,i)=>{i===google.maps.places.PlacesServiceStatus.OK?t({name:a.name,address:a.formatted_address,lat:a.geometry.location.lat(),lng:a.geometry.location.lng(),place_id:a.place_id,types:a.types,address_components:a.address_components}):t(null)})})}static async geocode(e,t){if(!this.geocoder)throw new Error("GoogleMapService not initialized. Call initMap first.");return new Promise((s,a)=>{this.geocoder.geocode({location:{lat:e,lng:t}},(i,r)=>{r==="OK"&&i[0]?s(i[0]):a(new Error("Geocoder failed due to: "+r))})})}static async reverseGeocode(e){if(!this.geocoder)throw new Error("GoogleMapService not initialized. Call initMap first.");return new Promise((t,s)=>{this.geocoder.geocode({address:e},(a,i)=>{i==="OK"&&a[0]?t({address:a[0].formatted_address,lat:a[0].geometry.location.lat(),lng:a[0].geometry.location.lng(),place_id:a[0].place_id,types:a[0].types,address_components:a[0].address_components}):s(new Error("Geocoder failed due to: "+i))})})}}S(W,"controller",null),S(W,"autocompleteService",null),S(W,"placesService",null),S(W,"geocoder",null);const I=class I{constructor(e={}){if(I.instance)throw new Error("OpenGraphHelper is a singleton and has already been initialized");const{title:t="Excelncia em Gesto Patrimonial",description:s="",image:a="",url:i=window.location.href,siteName:r=I.DEFAULT_SITE_NAME,locale:n="pt_PT",type:l="website",twitterHandle:h="",facebookAppId:c="",twitterCard:d="summary_large_image"}=e;this.siteName=r,t&&this.setTitle(t),s&&this.setDescription(s),i&&this.setUrl(i),r&&this.setSiteName(r),n&&this.setLocale(n),l&&this.setType(l),d&&this.setTwitterCard(d),a&&this.setImage(a),h&&this.setTwitterHandle(h),c&&this.setFacebookAppId(c),this.setViewport(),this.setCharset(),I.instance=this}static sanitizeText(e){if(!e)return"";const t=document.createElement("div");t.innerHTML=e;let s=t.textContent||t.innerText||"";return s=s.replace(/\s+/g," ").trim(),s}static truncateText(e,t){if(!e||e.length<=t)return e;let s=e.substr(0,t);const a=s.lastIndexOf(" ");return a>t-20&&(s=s.substr(0,a)),s+"..."}static prepareDescription(e,t=I.MAX_DESCRIPTION_LENGTH){const s=I.sanitizeText(e);return I.truncateText(s,t)}setMetaTag(e,t){if(!t)return;this.removeMetaTag(e);const s=document.createElement("meta");s.setAttribute("property",e),s.setAttribute("content",t),document.head.appendChild(s)}removeMetaTag(e){const t=document.querySelector('meta[property="'.concat(e,'"]'));t&&t.remove()}setHTMLMeta(e,t){if(!t)return;this.removeHTMLMeta(e);const s=document.createElement("meta");s.setAttribute("name",e),s.setAttribute("content",t),document.head.appendChild(s)}removeHTMLMeta(e){const t=document.querySelector('meta[name="'.concat(e,'"]'));t&&t.remove()}setTitle(e,t=!0){const s=I.sanitizeText(e),a=I.truncateText(s,I.MAX_TITLE_LENGTH),i=t?"".concat(a," | ").concat(this.siteName):a;return document.title=i,this.setMetaTag("og:title",a),this.setMetaTag("twitter:title",a),a}setDescription(e,t=I.MAX_DESCRIPTION_LENGTH){const s=I.prepareDescription(e,t);return console.log(e),s?(this.setHTMLMeta("description",s),this.setMetaTag("og:description",s),this.setMetaTag("twitter:description",s),s):(console.warn("OpenGraphHelper: Description is empty after sanitization"),"")}setImage(e,t={}){if(!e)return;const{width:s=1200,height:a=630,alt:i="",type:r="image/jpeg"}=t;if(this.setMetaTag("og:image",e),this.setMetaTag("og:image:width",s),this.setMetaTag("og:image:height",a),i){const n=I.sanitizeText(i);this.setMetaTag("og:image:alt",n),this.setMetaTag("twitter:image:alt",n)}this.setMetaTag("og:image:type",r),this.setMetaTag("twitter:image",e)}setUrl(e){if(!e)return;this.removeCanonicalLink();const t=document.createElement("link");t.setAttribute("rel","canonical"),t.setAttribute("href",e),document.head.appendChild(t),this.setMetaTag("og:url",e)}removeCanonicalLink(){const e=document.querySelector('link[rel="canonical"]');e&&e.remove()}setType(e){this.setMetaTag("og:type",e)}setLocale(e){this.setMetaTag("og:locale",e)}setSiteName(e){const t=I.sanitizeText(e);this.siteName=t,this.setMetaTag("og:site_name",t)}setTwitterCard(e="summary_large_image"){this.setMetaTag("twitter:card",e)}setTwitterHandle(e){if(!e)return;const t=e.replace("@","").trim();this.setMetaTag("twitter:site","@".concat(t)),this.setMetaTag("twitter:creator","@".concat(t))}setFacebookAppId(e){this.setMetaTag("fb:app_id",e)}setArticle(e){const{publishedTime:t,modifiedTime:s,author:a,section:i,tags:r=[]}=e;if(this.setType("article"),t&&this.setMetaTag("article:published_time",t),s&&this.setMetaTag("article:modified_time",s),a){const n=I.sanitizeText(a);this.setMetaTag("article:author",n)}if(i){const n=I.sanitizeText(i);this.setMetaTag("article:section",n)}r.forEach(n=>{const l=I.sanitizeText(n);this.setMetaTag("article:tag",l)})}setVideo(e){const{url:t,width:s=1280,height:a=720,type:i="video/mp4",thumbnail:r}=e;this.setType("video"),this.setMetaTag("og:video",t),this.setMetaTag("og:video:width",s),this.setMetaTag("og:video:height",a),this.setMetaTag("og:video:type",i),r&&this.setImage(r)}setAudio(e){const{url:t,type:s="audio/mpeg"}=e;this.setType("audio"),this.setMetaTag("og:audio",t),this.setMetaTag("og:audio:type",s)}setRobots(e="index, follow"){this.setHTMLMeta("robots",e)}setViewport(e="width=device-width, initial-scale=1.0"){this.setHTMLMeta("viewport",e)}setCharset(e="UTF-8"){const t=document.querySelector("meta[charset]");if(t)t.setAttribute("charset",e);else{const s=document.createElement("meta");s.setAttribute("charset",e),document.head.insertBefore(s,document.head.firstChild)}}setKeywords(e){if(!e)return;let t;Array.isArray(e)?t=e.map(s=>I.sanitizeText(s)).filter(s=>s.length>0).join(", "):t=I.sanitizeText(e),t&&this.setHTMLMeta("keywords",t)}setAuthor(e){if(!e)return;const t=I.sanitizeText(e);this.setHTMLMeta("author",t)}clearAll(){document.querySelectorAll('meta[property^="og:"], meta[property^="twitter:"]').forEach(s=>s.remove()),document.querySelectorAll('meta[name="description"], meta[name="keywords"], meta[name="author"], meta[name="robots"]').forEach(s=>s.remove()),this.removeCanonicalLink()}getCurrentConfig(){const e={};return document.querySelectorAll('meta[property^="og:"]').forEach(i=>{const r=i.getAttribute("property"),n=i.getAttribute("content");e[r]=n}),document.querySelectorAll('meta[property^="twitter:"]').forEach(i=>{const r=i.getAttribute("property"),n=i.getAttribute("content");e[r]=n}),["description","keywords","author","robots"].forEach(i=>{const r=document.querySelector('meta[name="'.concat(i,'"]'));r&&(e[i]=r.getAttribute("content"))}),e}update(e){const{title:t,description:s,image:a,url:i,siteName:r,locale:n,type:l,twitterHandle:h,facebookAppId:c,twitterCard:d,keywords:m,author:g,robots:f}=e;t!==void 0&&this.setTitle(t),s!==void 0&&this.setDescription(s),a!==void 0&&this.setImage(a),i!==void 0&&this.setUrl(i),r!==void 0&&this.setSiteName(r),n!==void 0&&this.setLocale(n),l!==void 0&&this.setType(l),h!==void 0&&this.setTwitterHandle(h),c!==void 0&&this.setFacebookAppId(c),d!==void 0&&this.setTwitterCard(d),m!==void 0&&this.setKeywords(m),g!==void 0&&this.setAuthor(g),f!==void 0&&this.setRobots(f)}};S(I,"instance",null),S(I,"MAX_DESCRIPTION_LENGTH",300),S(I,"MAX_TITLE_LENGTH",60),S(I,"DEFAULT_SITE_NAME","Casa Coimbra Maputo");let F=I;class tt extends p{constructor({args:e}){super(),this.slug=e.slug,this.initState({activeGalleryIndex:0,isFullscreenGallery:!1})}createSection(){return new o({className:["s-p-single-property-root"],children:[new J({future:()=>O.instance.get("/properties/".concat(this.slug)),builder:({result:e})=>{var a,i;const t=e.data[0];if(!t)return new o({className:["s-p-property-not-found"],children:[new N({icon:"fa-solid fa-house-circle-xmark",className:["s-p-not-found-icon"]}),new u({text:"Propriedade no encontrada.",className:["s-p-not-found-text"]})]});F.instance.setArticle({publishedTime:t.created_at,modifiedTime:t.updated_at,author:"Full Domain, lda",section:"Imoveis"}),F.instance.setSiteName("Casa Coimbra Maputo - Imoveis"),F.instance.setTitle(t.title),F.instance.setDescription(t.description),F.instance.setUrl("https://casacoimbramaputo.com/imoveis/".concat(this.slug));const s=((a=t==null?void 0:t.galleries.filter(r=>Number(r.isMain)===1))==null?void 0:a.url)||((i=t.galleries[0])==null?void 0:i.url);return F.instance.setImage(s,{width:1920,height:1080,alt:t.title,type:"image/png"}),new o({className:["s-p-property-details-container"],children:[this._createTitleSection(t),this._createGallerySection(t.galleries),this._createDetailsAndFeatures(t),this._createAgentSection(t),this._createContactSection(t)]})},onLoading:()=>new k({children:[new H]})})]})}_createTitleSection(e){var t,s;return new o({className:["s-p-title-section"],children:[new o({className:["s-p-title-header"],children:[new u({text:e.title,className:["s-p-property-title"]}),new te({className:["s-p-property-badges"],children:[Number(e.emphasis)?new o({className:["s-p-badge","s-p-featured-badge"],children:[new N({icon:"fa-solid fa-star",className:["s-p-badge-icon"]}),new u({text:"Destaque"})]}):null,(t=e.categories)!=null&&t.name?new o({className:["s-p-badge","s-p-type-badge"],children:[new u({text:(s=e.categories)==null?void 0:s.name})]}):null].filter(Boolean)})]}),new K({className:["s-p-property-meta"],style:{width:"100%",justifyContent:"space-between"},children:[new o({className:["s-p-property-location-info"],children:[new N({icon:"fa-solid fa-location-dot",className:["s-p-location-icon"]}),new u({text:e.address,className:["s-p-location-text"]})]}),new o({className:["s-p-property-price-section"],children:[new u({text:se.simpleCurrencyFormat(e.price,e.currencies.code),className:["s-p-property-price"]})].filter(Boolean)})]})]})}_createGallerySection(e){return!e||e.length===0?new o({className:["s-p-no-gallery"],children:[new N({icon:"fa-solid fa-image",className:["s-p-no-image-icon"]}),new u({text:"Nenhuma imagem disponvel."})]}):new U({watch:()=>{const t=e[this.state.activeGalleryIndex];return new o({className:["s-p-gallery-section"],children:[this.state.isFullscreenGallery?new o({className:["s-p-fullscreen-overlay"],events:{click:()=>this.state.isFullscreenGallery=!1},children:[new o({className:["s-p-fullscreen-content"],events:{click:s=>s.stopPropagation()},children:[new L({src:t.url,className:["s-p-fullscreen-image"],alt:"Image ".concat(this.state.activeGalleryIndex+1)}),new o({className:["s-p-fullscreen-controls"],children:[new o({className:["s-p-gallery-nav","s-p-prev-btn"],children:[new N({icon:"fa-solid fa-chevron-left"})],events:{click:s=>{s.stopPropagation(),this.state.activeGalleryIndex=(this.state.activeGalleryIndex-1+e.length)%e.length}}}),new o({className:["s-p-image-counter"],children:[new u({text:"".concat(this.state.activeGalleryIndex+1," / ").concat(e.length),className:["s-p-counter-text"]})]}),new o({className:["s-p-gallery-nav","s-p-next-btn"],children:[new N({icon:"fa-solid fa-chevron-right"})],events:{click:s=>{s.stopPropagation(),this.state.activeGalleryIndex=(this.state.activeGalleryIndex+1)%e.length}}}),new o({className:["s-p-close-fullscreen-btn"],children:[new N({icon:"fa-solid fa-times"})],events:{click:()=>this.state.isFullscreenGallery=!1}})]})]})]}):null,new o({className:["s-p-main-image-wrapper"],children:[new o({className:["s-p-blur-bg"],style:{backgroundImage:"url('".concat(t.url,"')")}}),new o({className:["s-p-image-container"],children:[new L({src:t.url,className:["s-p-main-image"],alt:"Image ".concat(this.state.activeGalleryIndex+1),onAttached:s=>{s.onload=()=>{this._adjustImageFit(s)},s.complete&&this._adjustImageFit(s)}})]}),new o({className:["s-p-gallery-controls"],children:[new o({className:["s-p-gallery-nav","s-p-prev-btn"],children:[new N({icon:"fa-solid fa-chevron-left"})],events:{click:s=>{s.stopPropagation(),this.state.activeGalleryIndex=(this.state.activeGalleryIndex-1+e.length)%e.length}}}),new o({className:["s-p-gallery-nav","s-p-next-btn"],children:[new N({icon:"fa-solid fa-chevron-right"})],events:{click:s=>{s.stopPropagation(),this.state.activeGalleryIndex=(this.state.activeGalleryIndex+1)%e.length}}}),new o({className:["s-p-fullscreen-btn"],children:[new N({icon:"fa-solid fa-expand"})],events:{click:()=>this.state.isFullscreenGallery=!this.state.isFullscreenGallery}})]}),new o({className:["s-p-image-counter"],children:[new u({text:"".concat(this.state.activeGalleryIndex+1," / ").concat(e.length),className:["s-p-counter-text"]})]})]}),new o({className:["s-p-thumbnails-container"],children:e.map((s,a)=>this._createThumbnail(s,a))})].filter(Boolean)})}})}_adjustImageFit(e){const t=e.parentElement.parentElement;if(!t)return;const s=t.clientWidth,a=t.clientHeight,i=e.naturalWidth,r=e.naturalHeight,n=s/a;i/r>n?(e.style.width="100%",e.style.height="auto",e.style.maxHeight="100%",e.style.objectFit="contain"):(e.style.width="auto",e.style.height="100%",e.style.maxWidth="100%",e.style.objectFit="contain")}_createThumbnail(e,t){const s=this.state.activeGalleryIndex===t;return new o({className:["s-p-thumbnail-wrapper",s?"active":""],children:[new L({src:e.url,className:["s-p-thumbnail-image"],alt:"Thumbnail ".concat(t+1)}),s?new o({className:["s-p-thumbnail-overlay"],children:[new N({icon:"fa-solid fa-check",className:["s-p-active-icon"]})]}):null].filter(Boolean),events:{click:()=>this.state.activeGalleryIndex=t}})}_createDetailsAndFeatures(e){return new o({className:["s-p-details-features-section"],children:[new o({className:["s-p-details-section"],children:[new u({text:"Descrio da Propriedade",className:["s-p-section-heading"]}),new o({className:["s-p-property-description-container"],children:[new u({text:(e==null?void 0:e.description)||"Nenhuma descrio fornecida.",className:["s-p-property-description"],onAttached:t=>{e!=null&&e.description&&(t.innerHTML=e.description)}})]}),new u({text:"Especificaes Tcnicas",className:["s-p-section-heading"]}),new o({className:["s-p-specs-grid"],children:[this._createDetailItem("fa-solid fa-bed","".concat(e.room||"N/A"),"Quartos","#8b5cf6"),this._createDetailItem("fa-solid fa-bath","".concat(e.bathroom||"N/A"),"Casas de banho","#06b6d4"),this._createDetailItem("fa-solid fa-ruler-combined","".concat(e.area||"N/A","m"),"rea Total","#10b981"),this._createDetailItem("fa-solid fa-car","".concat(e.garage||"0"),"Garagem","#f59e0b"),this._createDetailItem("fa-solid fa-building","".concat(e.year_built||"N/A"),"Ano de Construo","#ef4444"),this._createDetailItem("fa-solid fa-layer-group","".concat(e.floor||"N/A"),"Andar","#6366f1")]}),this._createFeaturesList(e.features)]}),new o({className:["s-p-sidebar-section"],children:[this._createPropertyInfoCard(e),new p({style:{backgroundColor:"#f0f0f0",height:"500px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #ccc"},onAttached:async t=>{const s=new W,{map:a}=await s.initMap(t,{lat:Number(e.latitude),lng:Number(e.longitude),title:e.title})}})]})]})}_createDetailItem(e,t,s,a){return new o({className:["s-p-detail-card"],children:[new o({className:["s-p-detail-icon-wrapper"],style:{backgroundColor:"".concat(a,"15")},children:[new N({icon:e,className:["s-p-detail-icon"],style:{color:a}})]}),new o({className:["s-p-detail-content"],children:[new u({text:t,className:["s-p-detail-value"],style:{color:a}}),new u({text:s,className:["s-p-detail-label"]})]})]})}_createFeaturesList(e){return!e||e.length===0?new o({className:["s-p-no-features"],children:[new u({text:"Comodidades e Caractersticas",className:["s-p-section-heading"]}),new u({text:"Nenhuma comodidade listada.",className:["s-p-no-features-text"]})]}):new o({className:["s-p-features-section"],children:[new u({text:"Comodidades e Caractersticas",className:["s-p-section-heading"]}),new o({className:["s-p-features-grid"],children:e.map(({feature:t})=>new o({className:["s-p-feature-card"],children:[new p({className:["s-p-feature-icon"],onAttached:s=>{s.insertAdjacentHTML("afterbegin",t.icon_svg)}}),new u({text:t.name,className:["s-p-feature-name"]})]}))})]})}_createPropertyInfoCard(e){return new o({className:["s-p-info-card"],children:[new u({text:"Informaes da Propriedade",className:["s-p-card-title"]}),new o({className:["s-p-info-list"],children:[this._createInfoItem("fa-solid fa-tag","Cdigo",e.code||"N/A"),this._createInfoItem("fa-solid fa-calendar","Publicado em",e.created_at?new Date(e.created_at).toLocaleDateString("pt-MZ"):"N/A"),this._createInfoItem("fa-solid fa-refresh","Status","Disponvel"),this._createInfoItem("fa-solid fa-compass","Como chegar",new u({text:"Navegar com google route",style:{fontSize:"0.8rem"},tag:"a",props:{href:"",target:"_blank"},events:{click:t=>{t.preventDefault(),He.navigateFromCurrentLocation(e.latitude,e.longitude,e.address)}}}))]})]})}_createInfoItem(e,t,s){return new o({className:["s-p-info-item"],children:[new o({className:["s-p-info-label"],children:[new N({icon:e,className:["s-p-info-icon"]}),new u({text:t})]}),s instanceof p?s:new u({text:s,className:["s-p-info-value"]})]})}_createAgentSection(e){return e.agent?new o({className:["s-p-agent-section"],children:[new u({text:"Agente Responsvel",className:["s-p-section-heading"]}),new o({className:["s-p-agent-card"],children:[new L({src:e.agent.photo||"/default-avatar.jpg",className:["s-p-agent-photo"],alt:e.agent.name}),new o({className:["s-p-agent-info"],children:[new u({text:e.agent.name,className:["s-p-agent-name"]}),new u({text:e.agent.title||"Agente Imobilirio",className:["s-p-agent-title"]}),new o({className:["s-p-agent-contact"],children:[new o({className:["s-p-contact-item"],children:[new N({icon:"fa-solid fa-phone",className:["s-p-contact-icon"]}),new u({text:e.agent.phone,className:["s-p-contact-text"]})]}),new o({className:["s-p-contact-item"],children:[new N({icon:"fa-solid fa-envelope",className:["s-p-contact-icon"]}),new u({text:e.agent.email,className:["s-p-contact-text"]})]})]}),new u({text:e.agent.bio||"Especialista em propriedades com anos de experincia no mercado.",className:["s-p-agent-bio"]})]})]})]}):null}_createContactSection(e){return new o({className:["s-p-contact-section"],children:[new o({className:["s-p-contact-card"],children:[new o({className:["s-p-contact-header"],children:[new N({icon:"fa-solid fa-headset",className:["s-p-contact-header-icon"]}),new u({text:"Interessado nesta propriedade?",className:["s-p-contact-title"]})]}),new u({text:"Entre em contacto connosco para mais informaes, agendar uma visita ou fazer uma proposta.",className:["s-p-contact-description"]}),new o({className:["s-p-contact-buttons"],children:[new V({className:["s-p-contact-btn","s-p-whatsapp-btn"],prefixIcon:new N({icon:"fa-brands fa-whatsapp",className:["s-p-btn-icon"]}),label:"WhatsApp",onPressed:()=>{var t;return window.open("https://wa.me/258".concat(((t=e.agents)==null?void 0:t.phone)||"842083827"),"_blank")}}),new V({className:["s-p-contact-btn","s-p-call-btn"],prefixIcon:new N({icon:"fa-solid fa-phone",className:["s-p-btn-icon"]}),label:"Ligar Agora",onPressed:()=>{var t;return window.location.href="tel:".concat(((t=e.agents)==null?void 0:t.phone)||"+258842083827")}}),new V({className:["s-p-contact-btn","s-p-email-btn"],prefixIcon:new N({icon:"fa-solid fa-envelope",className:["s-p-btn-icon"]}),label:"Email",onPressed:()=>{var t;return window.location.href="mailto:".concat(((t=e.agents)==null?void 0:t.email)||"casacoimbramaputo@gmail.com")}})]})]})]})}_createScheduleVisitCard(){return new o({className:["s-p-schedule-card"],children:[new u({text:"Agendar Visita",className:["s-p-card-title"]}),new u({text:"Agende uma visita personalizada para conhecer esta propriedade.",className:["s-p-card-description"]}),new V({className:["s-p-contact-btn","s-p-email-btn"],prefixIcon:new N({icon:"fa-solid fa-calendar",className:["s-p-btn-icon"]}),label:"Agendar visita",onPressed:()=>{new ie({message:"Por favor, entre em contacto com a nossa equipe para mais detalhes"}).show()}})]})}render(){return this.children=[this.createSection()],super.render()}}class ae extends ue{constructor(e){super({...e,inputType:"text"})}updateLabelState(){const e=this.hasValue(),t=this.isFocused();this.labelElement&&this.labelElement.classList.toggle("input-label-floating-widget",e||t)}updateUI(){super.updateUI(),this.updateLabelState()}}class st extends p{constructor(){super()}createSection(){return new o({className:["c-contact-page-root"],children:[this._createHeader(),this._createContactFormSection(),this._createMapSection()]})}_createHeader(){return new o({className:["c-section-header"],children:[new u({text:"FALE CONOSCO",className:["c-header-subtitle"]}),new u({text:"Vamos Comear a Conversar",className:["c-header-title"]}),new u({text:"Tem alguma dvida, precisa de um oramento, ou quer agendar uma consultoria? Preencha o formulrio abaixo ou use nossos contactos.",className:["c-header-description"]})]})}_createContactFormSection(){return new o({className:["c-contact-form-section"],children:[this._createForm(),this._createContactInfo()]})}_createForm(){return new o({className:["c-contact-form"],children:[new ae({placeholder:"Seu Nome Completo",className:["c-form-input","c-form-name"]}),new ae({placeholder:"Seu Email",className:["c-form-input","c-form-email"]}),new ae({placeholder:"Seu Contacto Telefnico",className:["c-form-input","c-form-phone"]}),new pe({placeholder:"Como podemos ajudar? (Descrio da necessidade)",className:["c-form-textarea"],rows:5}),new ee({label:"Enviar Mensagem",className:["c-form-submit-button","c-form-submit-standard-button"]})]})}_createContactInfo(){return new o({className:["c-contact-info-block"],children:[this._createDetailItem("fa fa-phone","Ligue-nos","+258 84 549 8519 | +258 84 208 3827"),this._createDetailItem("fa fa-envelope","Envie um Email","casacoimbramaputo@gmail.com"),this._createDetailItem("fa fa-map-marker-alt","Encontre-nos","Rua da Massala, 312 Inova Space, Maputo, Moambique")]})}_createDetailItem(e,t,s){return new o({className:["c-detail-item"],children:[new N({icon:e,className:["c-detail-icon"]}),new o({className:["c-detail-text-content"],children:[new u({text:t,className:["c-detail-title"]}),new u({text:s,className:["c-detail-value"]})]})]})}_createMapSection(){return new o({className:["c-map-section"],children:[new u({text:"Onde Estamos Localizados",className:["c-map-title"]}),new o({className:["c-map-placeholder"],style:{backgroundColor:"#f0f0f0",height:"400px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid #ccc"},onAttached:async e=>{const t=new W,{map:s}=await t.initMap(e);s.setZoom(18)}})]})}render(){return this.children=[this.createSection()],super.render()}}const z=class z{};S(z,"IS_PROD",!0),S(z,"URL_SANDBOX","http://localhost/casacoimbra/public/api/v1/"),S(z,"URL_PROD","https://backend.casacoimbramaputo.com/public/api/v1/"),S(z,"API_ENV",z.IS_PROD?z.URL_PROD:z.URL_SANDBOX);let re=z;const at=["apartamento","casa","vivenda","moradia","t2","t3","t1","t4","t0","duplex","triplex","loft","estdio","prdio","terreno","lote","quinta","rstico","escritrio","loja","armazm","espao comercial","galeria comercial","garagem","maputo","matola","beira","nampula","chimoio","quelimane","tete","polana","sommerschield","coop","costa do sol","baixa","alto ma","triunfo","malhangalene","central","maxaquene","mavalane","vilanculos","bazaruto","inhambane","xai-xai","bilene","ponta do ouro","tofo","barra","inhaca","comprar","vender","alugar","arrendar","investimento","com vista mar","com piscina","com garagem","com jardim","mobiliado","novo","renovado","com ar condicionado","com estacionamento","com varanda","com terrao","zona central","centro cidade","perto praia","perto centro","zona residencial","zona comercial","condomnio fechado","zona tranquila","perto escolas","perto supermercados","m","metros quadrados","rea til","espaoso","terreno urbano","terreno agrcola","DUAT","regularizado","terreno com gua","terreno com vista","preo negocivel","financiamento","crdito habitao","condomnio","emprstimo","imobilirio","imobiliria","corretor","mediador imobilirio","mercado imobilirio","imveis moambique","aluguel comercial","escritrio corporativo","open space","armazm industrial","showroom","casa frias","aluguer temporada","casa praia"],$=new D("#app");new O({baseURL:re.API_ENV,timeout:15e3,defaultHeaders:{"Content-Type":"application/json"},responseInterceptor:(y,e)=>({result:y,status:e.status}),requestInterceptor:async y=>y});new F({});$.use(()=>F.instance.update({title:"Casa Coimbra Maputo - Excelncia em Gesto Patrimonial",description:"Maximizamos o valor do seu patrimnio imobilirio atravs de estratgias de investimento inteligentes e uma gesto rigorosa e transparente.",image:"https://casacoimbramaputo.com/assets/images/logo.png",url:"https://casacoimbramaputo.com/",siteName:"Casa Coimbra Maputo",twitterHandle:"mywebsite",facebookAppId:"1234567890",robots:"index, follow, max-snippet:-1, max-image-preview:large",keywords:at,author:"Full Domain, lda"}));$.layout(ke,()=>{$.routes("/",Ue),$.routes("/centro-de-apoio",Le),$.group("/imoveis",()=>{$.routes("/",je),$.routes("/:slug",tt)}),$.routes("/investimentos",Ge),$.routes("/contacte-nos",st)});$.render();export{rt as __vite_legacy_guard};
