var yE=Object.defineProperty;var _E=(r,e,t)=>e in r?yE(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var dt=(r,e,t)=>_E(r,typeof e!="symbol"?e+"":e,t);function uH(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const i2=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)});class bE{constructor({onBeforeCreated:e=null,onCreated:t=null,onBeforeAttached:n=null,onAttached:i=null,onMounted:s=null,onBeforeDetached:a=null,onDetached:o=null,onBeforeUpdate:c=null,onDidUpdated:h=null}={}){this.onBeforeCreated=e,this.onCreated=t,this.onBeforeAttached=n,this.onAttached=i,this.onMounted=s,this.onBeforeDetached=a,this.onDetached=o,this.onBeforeUpdate=c,this.onDidUpdated=h,this._deferredMountedCalls=new Map}beforeCreated(e){var t;(t=this.onBeforeCreated)==null||t.call(this,e)}created(e,t){var n;(n=this.onCreated)==null||n.call(this,e,t)}beforeAttached(e,t){var n;(n=this.onBeforeAttached)==null||n.call(this,e,t)}attached(e,t){var n;(n=this.onAttached)==null||n.call(this,e,t)}mounted(e,t){var n;(n=this.onMounted)==null||n.call(this,e,t);for(let[i,s]of this._deferredMountedCalls)i&&i._element&&i._element.isConnected&&s(i._element,i);this._deferredMountedCalls.clear()}beforeDetached(){var e;(e=this.onBeforeDetached)==null||e.call(this)}detached(e){var t;(t=this.onDetached)==null||t.call(this,e)}beforeUpdate(){var e;(e=this.onBeforeUpdate)==null||e.call(this)}didUpdated(){var e;(e=this.onDidUpdated)==null||e.call(this)}addDeferredMountedCall(e,t){this._deferredMountedCalls.set(e,t)}clearDeferredMountedCalls(){this._deferredMountedCalls.clear()}deleteDeferredMountedCall(e){this._deferredMountedCalls.delete(e)}hasDeferredMountedCall(e){return this._deferredMountedCalls.has(e)}getDeferredMountedCalls(){return Array.from(this._deferredMountedCalls.entries())}}class ci{constructor(e={},t={}){this.styles=e,this.theme=t}applyTheme(){this.theme&&Object.keys(this.theme).forEach(e=>{this.styles[e]||(this.styles[e]=this.theme[e])})}apply(e,t=""){this.applyTheme(),t?e.querySelectorAll(".".concat(t)).forEach(n=>{Object.assign(n.style,this.styles)}):Object.assign(e.style,this.styles)}generate(){return Object.entries(this.styles).map(([e,t])=>"".concat(this.toKebabCase(e),": ").concat(t,";")).join(" ")}toKebabCase(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}class xE{constructor(e){this.widget=e,this._attachedEvents=[],this._customEvents=new Map,this._eventListeners=new Map}on(e,t,n={}){this._customEvents.has(e)||this._customEvents.set(e,[]);const i=Symbol("handler"),s={callback:t,options:n,handlerId:i};return this._customEvents.get(e).push(s),this._eventListeners.has(e)||this._eventListeners.set(e,new Map),this._eventListeners.get(e).set(i,s),this.widget._parent&&!n.noBubble&&this.widget._parent.events.on(e,t,{...n,noBubble:!0}),this.widget.children&&!n.noPropagate&&this.widget.children.forEach(a=>{a instanceof ge&&a.events.on(e,t,{...n,noPropagate:!0})}),i}off(e,t){if(!e){this.clear();return}if(t){const n=this._eventListeners.get(e);n&&(n.delete(t),n.size===0&&(this._eventListeners.delete(e),this._customEvents.delete(e)))}else this._eventListeners.delete(e),this._customEvents.delete(e)}once(e,t){const n=this.on(e,(...i)=>{t(...i),this.off(e,n)});return n}emit(e,...t){const n=this._customEvents.get(e)||[],i={type:e,target:this.widget,currentTarget:this.widget,args:t,defaultPrevented:!1,propagationStopped:!1,preventDefault(){this.defaultPrevented=!0},stopPropagation(){this.propagationStopped=!0}};n.forEach(({callback:s,options:a})=>{if(!i.propagationStopped)try{s.call(this.widget,i,...t)}catch(o){console.error("Event handler error:",o,"for event:",e)}}),this.widget._parent&&!i.propagationStopped&&this.widget._parent.events.emit(e,...t)}attachEvents(e){e&&(this._attachedEvents=[],Object.entries(this.widget.events).forEach(([t,n])=>{const i=n.bind(this.widget);e.addEventListener(t,i),this._attachedEvents.push({event:t,boundHandler:i,element:e})}))}detachEvents(){this._attachedEvents.forEach(({event:e,boundHandler:t,element:n})=>{n.removeEventListener(e,t)}),this._attachedEvents=[]}clear(){this.detachEvents(),this._customEvents.clear(),this._eventListeners.clear()}hasListeners(e){return this._customEvents.has(e)&&this._customEvents.get(e).length>0}getListeners(e){return this._customEvents.get(e)||[]}}class SE{templateExpression(e){return e.trim().replace(/{{\s*([\w.$\[\]]+?)\s*}}/g,(t,n)=>"${".concat(n,"}")).replace(/{{\s*([\w.$\[\]]+?)((?:\.[\w]+\([^)]*\))+)\s*}}/g,(t,n,i)=>"${".concat(n).concat(i,"}"))}getNestedValue(e,t){if(!e||typeof e!="object"||!t)return"";const n=t.split(".");let i=e;for(const s of n){if(!i||typeof i!="object")return"";const a=s.match(/^([\w-]+)\[(.+)\]$/);if(a){const o=a[1];let c=a[2];if(i[o]&&Array.isArray(i[o]))isNaN(parseInt(c))||(c=parseInt(c)),i=i[o][c];else return""}else if(s in i)i=i[s];else return""}return i!=null?String(i):""}resolveWidgetState(e,t,n){try{if(!e)return"";let i=null,s=null;if(i=e.getStateOf(t),i||(s=e.findAncestorByType(t),s&&(i=s.getState())),!i){const a=e.getRootWidget();a&&(s=a.findDescendantByType(t),s&&(i=s.getState()))}return i?this.getNestedValue(i,n):""}catch(i){return console.warn("Widget state access error:",i),""}}evaluateTemplate(e,t,n){return(i,s)=>{let a=e;return a=a.replace(/\$\{(?!___getWidgetState___)([\w.]+)\}/g,(o,c)=>this.getNestedValue(i,c)),a=a.replace(/\$\{\s*___getWidgetState___\s*\(['"]([^'"]+)['"]\s*,\s*['"]([^'"]+)['"]\s*\)\s*\}/g,(o,c,h)=>this.resolveWidgetState(s,c,h)),a}}}class EE{constructor(e){this.widget=e,this.operations=[]}createElement(){try{if(this.widget.rootElement){const e=document.querySelector(this.widget.rootElement);if(!e)throw new Error('BaseWidget: rootElement "'.concat(this.widget.rootElement,'" not found.'));for(;e.firstChild;)e.removeChild(e.firstChild);return e}else return document.createElement(this.widget.tagName)}catch(e){return console.error("DOM element creation error:",e),document.createElement("div")}}applyAttributes(e){if(!this.widget.rootElement)try{Object.entries(this.widget.props).forEach(([t,n])=>{n===!1||n===null||n===void 0?e.removeAttribute(t):n===!0?e.setAttribute(t,""):e.setAttribute(t,n)})}catch(t){console.error("DOM attribute application error:",t)}}applyStyles(e){try{this.widget.style instanceof ci?e.style.cssText=this.widget.style.generate():typeof this.widget.style=="object"&&Object.assign(e.style,this.widget.style)}catch(t){console.error("DOM style application error:",t)}}applyClasses(e){try{const t=this.widget.className||[];t.length>0&&e.classList.add(...t.filter(n=>n))}catch(t){console.error("DOM class application error:",t)}}renderChildren(e){try{for(;e.firstChild;)e.removeChild(e.firstChild);this.widget.children.forEach((t,n)=>{if(t instanceof ge){t._parent=this.widget;const i=t.render();i&&e&&(e.appendChild(i),this.widget.hooks.addDeferredMountedCall(t,()=>t.mounted(t._element,t)))}else if(typeof t=="string"||typeof t=="number"){const i=document.createTextNode(""),s=String(t);if(e.appendChild(i),s.includes("{{"))if(s.includes("@")||s.includes("${@"))this.renderDeferredTextNode(i,s,e);else{const a=this.widget.reactiveState.effectRenderFn(i,s,this.widget.template);typeof a=="function"&&this.widget._textNodeCleanups.set(i,a)}else i.nodeValue=s}else t instanceof Node?e.appendChild(t):e.appendChild(document.createTextNode(String(t)))})}catch(t){console.error("DOM child rendering error:",t)}}getChildKey(e){var t,n;return e instanceof ge&&(n=(t=e._key)!=null?t:e.key)!=null?n:null}patchChildren(){var e,t;try{const n=this.widget._previousChildren||[],i=[...this.widget.children];if(this.widget._previousChildren=[...i],n.length===0){this.renderChildren(this.widget._element),this.widget.mounted(this.widget._element,this.widget);return}this.performKeyedDiff((e=n[0])==null?void 0:e.children,(t=i[0])==null?void 0:t.children)}catch(n){console.error("DOM patch children error:",n),this.renderChildren(this.widget._element),this.widget.mounted(this.widget._element,this.widget)}}performKeyedDiff(e=[],t=[]){const n=new Map,i=[];e.forEach((u,p)=>{const g=this.getChildKey(u);g!==null&&n.set(g,{child:u,element:u._element,index:p})});const s=new Map,a=[];t.forEach((u,p)=>{const g=this.getChildKey(u);g!==null?s.set(g,{child:u,desiredIndex:p}):a.push({child:u,desiredIndex:p})});const o=this.widget._element,c=new Set;for(const[u,p]of s){const g=n.get(u);if(g){c.add(u);const{child:d,element:_}=g,{child:y,desiredIndex:b}=p;y._element=_,_.__widget=y,this.patchWidget(d,y);const E=Array.from(o.children).indexOf(_);E!==b&&E!==-1&&i.push({type:"move",element:_,toIndex:b})}else i.push({type:"add",child:p.child,atIndex:p.desiredIndex})}for(const[u,p]of n)c.has(u)||i.push({type:"remove",element:p.element,child:p.child});Array.from(o.children).filter(u=>!e.some(p=>this.getChildKey(p)!==null&&p._element===u)).forEach(u=>{const p=u.__widget;p&&i.push({type:"remove",element:u,child:p})}),a.forEach(({child:u,desiredIndex:p})=>{i.push({type:"add",child:u,atIndex:p})}),this.operations=i.sort((u,p)=>u.type==="remove"?-1:p.type==="remove"?1:0),this.executeOperations(o)}patchWidget(e,t){e.props={...t.props},e.className=[...t.className||[]],e.style=t.style instanceof ci?t.style:{...t.style},e.events={...t.events},e.children=[...t.children],e._element&&(e.dom.applyAttributes(e._element),e.dom.applyClasses(e._element),e.dom.applyStyles(e._element),e.eventsManager.clear(),e.eventsManager.attachEvents(e._element))}executeOperations(e){const t=this.operations.filter(i=>i.type==="move"),n=this.operations.filter(i=>i.type!=="move");n.filter(i=>i.type==="remove").forEach(i=>{this.handleRemoveOperation(i)}),n.filter(i=>i.type==="add").forEach(i=>{this.handleAddOperation(i,e)}),t.forEach(i=>{this.handleMoveOperation(i,e)}),this.operations=[]}handleAddOperation(e,t){var n;try{const i=e.child.render();e.child._element=i,i.__widget=e.child;const s=(n=e.atIndex)!=null?n:t.children.length,a=t.children[s]||null;a?t.insertBefore(i,a):t.appendChild(i),this.widget.hooks.addDeferredMountedCall(e.child,()=>e.child.mounted(i,e.child))}catch(i){console.error("Add operation failed:",i)}}handleMoveOperation(e,t){try{if(!e.element||!t)return;const n=e.toIndex,i=t.children[n]||null;if(!e.element.parentNode){i?t.insertBefore(e.element,i):t.appendChild(e.element);return}e.element.nextSibling!==(i||null)&&t.insertBefore(e.element,i)}catch(n){console.error("Move operation failed:",n,e)}}handleReplaceOperation(e,t){this.handleRemoveOperation({element:e.oldChild._element,child:e.oldChild}),this.handleAddOperation({child:e.newChild,atIndex:e.index},t)}handleRemoveOperation(e){try{e.element&&e.element.parentNode&&(e.element.parentNode.removeChild(e.element),e.child&&typeof e.child.detach=="function"&&e.child.detach(),this.widget.hooks.deleteDeferredMountedCall(e.child))}catch(t){console.error("Remove operation failed:",t)}}renderDeferredTextNode(e,t){e.nodeValue="",requestAnimationFrame(()=>{try{const n=this.widget.reactiveState.effectRenderFn(e,t,this.widget.template);typeof n=="function"&&this.widget._textNodeCleanups.set(e,n)}catch(n){console.error("Deferred text rendering error:",n),e.nodeValue=t}})}detachChildren(){var e;try{for(this.widget._textNodeCleanups&&(this.widget._textNodeCleanups.forEach(t=>{typeof t=="function"&&t()}),this.widget._textNodeCleanups.clear());(e=this.widget._element)!=null&&e.firstChild;){const t=this.widget._element.removeChild(this.widget._element.firstChild);this.widget.hooks.detached(t)}}catch(t){console.error("DOM child detachment error:",t)}}insertChildAtIndex(e,t){if(this.widget._element)try{if(e instanceof ge){const n=e.render();if(n){const i=this.widget._element.children[t];i?this.widget._element.insertBefore(n,i):this.widget._element.appendChild(n),this.widget.hooks.addDeferredMountedCall(e,()=>e.mounted(e._element,e))}}}catch(n){console.error("DOM child insertion error:",n)}}removeChild(e){if(this.widget._element)try{e instanceof ge&&e._element&&e._element.parentNode===this.widget._element&&(this.widget._element.removeChild(e._element),this.widget.hooks.deleteDeferredMountedCall(e),e.detach())}catch(t){console.error("DOM child removal error:",t)}}}const Tn=class Tn{constructor(e,t={},n=!1){this.widget=e,this.state=null,this.dependencyMap=new Map,this.uidToKeysMap=new Map,this.objectUIDs=new WeakMap,this.batchedEffects=new Set,this.isScheduled=!1,this.isBatching=!1,this.componentState=t,this.debug=n,this.rafId=null,this.proxyCache=new WeakMap}getObjectUID(e){return typeof e!="object"||e===null?null:(this.objectUIDs.has(e)||this.objectUIDs.set(e,i2()),this.objectUIDs.get(e))}initState(e={}){const t={...this.componentState,...e},n=(i,s="")=>{if(typeof i!="object"||i===null||Object.isFrozen(i))return i;if(this.proxyCache.has(i))return this.proxyCache.get(i);(!Object.prototype.hasOwnProperty.call(i,"_isNonReactive")||!i._isNonReactive)&&this.getObjectUID(i);const o=Array.isArray(i),c=new Proxy(i,{get:(h,u)=>{const p=Reflect.get(h,u);return this.shouldSkipTracking(h,u,p,o)?p:(o&&Tn.activeWidget?this.isArrayInternalProperty(u)||this.track({target:h,prop:"___array_self___",widget:Tn.activeWidget,path:s}):Tn.activeWidget&&this.track({target:h,prop:u,widget:Tn.activeWidget,path:s}),typeof p=="object"&&p!==null?n(p,"".concat(s).concat(u,".")):p)},set:(h,u,p)=>{typeof p=="object"&&p!==null&&(p=n(p,"".concat(s).concat(u,".")));const g=Reflect.get(h,u),d=Reflect.set(h,u,p);if(g!==p){const _=this.objectUIDs.get(g);_&&this.cleanupObjectDependencies(_),o?this.trigger({target:h,prop:"___array_self___",widget:Tn.activeWidget,path:s}):this.trigger({target:h,prop:u,widget:Tn.activeWidget,path:s})}return d}});return this.proxyCache.set(i,c),c};return this.state=n(t),this.state}shouldSkipTracking(e,t,n,i=!1){return["_isNonReactive","constructor","toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString"].includes(t)?!0:i?this.isArrayInternalProperty(t):!!(typeof n=="function"&&(Array.prototype[t]||Object.prototype[t])||!Object.prototype.hasOwnProperty.call(e,t))}isArrayInternalProperty(e){return["length",Symbol.iterator,Symbol.toStringTag].includes(e)}setState(e){if(!this.state){console.error("setState Error: State has not been initialized.",this.widget);return}let t;if(typeof e=="function"){const n=Tn.activeWidget,i=Tn.activeEffect.get(n);Tn.activeWidget=null,n&&Tn.activeEffect.delete(n);try{t=e(this.state)}catch(s){console.error("setState updater function error:",s);return}finally{Tn.activeWidget=n,n&&i&&Tn.activeEffect.set(n,i)}}else t=e;if(typeof t!="object"||t===null){console.error("setState Error: Updater must be an object or a function that returns an object.",t);return}try{const n=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const s=this.state[i];if(s!==t[i]){const a=this.objectUIDs.get(s);a&&this.cleanupObjectDependencies(a),n.push({key:i,value:t[i]})}}n.forEach(({key:i,value:s})=>{this.state[i]=s})}catch(n){console.error("Error applying setState:",n)}}cleanupObjectDependencies(e){const t=this.uidToKeysMap.get(e);t&&(t.forEach(n=>{this.dependencyMap.delete(n)}),this.uidToKeysMap.delete(e))}effectRenderFn(e,t,n){const i=n.templateExpression(String(t)),s=o=>{let c=o;for(;c;){const h=c.getState();if(h)return h;c=c.getParent()}return null},a=()=>{const o=s(this.widget);Tn.activeWidget||(Tn.activeWidget=this.widget),Tn.activeEffect.has(this.widget)||Tn.activeEffect.set(this.widget,a);try{const c=n.evaluateTemplate(i,o,this.widget);e.nodeValue=c(o,this.widget)}catch(c){console.error("Template evaluation error:",c),e.nodeValue=t}finally{Tn.activeWidget=null,Tn.activeEffect.delete(this.widget)}};a.isDOMRelated=!0,a()}track(e){const{target:t,prop:n,widget:i}=e;if(!i)return;const s=Tn.activeEffect.get(i);if(!s)return;const a=this.getObjectUID(t);if(!a)return;const o=n==="___array_self___"?"___array_self___":n,c="".concat(a,".").concat(o);this.dependencyMap.has(c)||this.dependencyMap.set(c,new Set);const h=this.dependencyMap.get(c);if(!h.has(s)&&(h.add(s),this.uidToKeysMap.has(a)||this.uidToKeysMap.set(a,new Set),this.uidToKeysMap.get(a).add(c),this.debug)){const u=o==="___array_self___"?"[array]":o;console.log("Tracking ".concat(u," (uid: ").concat(a,") for:"),i,s.name||"anonymous")}}trigger(e){const{target:t,prop:n}=e,i=this.getObjectUID(t);if(!i)return;const s=n==="___array_self___"?"___array_self___":n,a="".concat(i,".").concat(s);(this.dependencyMap.get(a)||new Set).forEach(c=>this.batchedEffects.add(c)),this.scheduleBatchExecEffect()}scheduleBatchExecEffect(){if(this.isScheduled){this.debug&&console.warn("Redundant scheduling attempt ignored.");return}this.isScheduled=!0,queueMicrotask(()=>{const e=new Set,t=new Set;this.batchedEffects.forEach(n=>{n.isDOMRelated?t.add(n):e.add(n)});try{e.forEach(n=>{try{n()}catch(i){console.error("Non-DOM effect error:",i)}})}catch(n){console.error("Microtask error:",n)}t.size>0?this.rafId=requestAnimationFrame(()=>{this.isBatching=!0;try{t.forEach(n=>{try{n()}catch(i){console.error("DOM effect error:",i)}})}catch(n){console.error("Animation frame error:",n)}finally{this.batchedEffects.clear(),this.isBatching=!1,this.isScheduled=!1,this.rafId=null}}):(this.batchedEffects.clear(),this.isBatching=!1,this.isScheduled=!1)})}detach(){this.rafId&&cancelAnimationFrame(this.rafId),this.batchedEffects.clear(),this.dependencyMap.clear(),this.uidToKeysMap.clear(),this.objectUIDs=new WeakMap,this.proxyCache=new WeakMap}};dt(Tn,"activeEffect",new WeakMap),dt(Tn,"activeWidget",null);let bo=Tn;class ge{constructor({tagName:e="div",rootElement:t=null,children:n=[],style:i={},events:s={},className:a=[],props:o={},widgetState:c={},args:h={},html:u="",path:p=null,onBeforeCreated:g=null,onCreated:d=null,onBeforeAttached:_=null,onAttached:y=null,onMounted:b=null,onBeforeDetached:E=null,onDetached:D=null,onBeforeUpdate:N=null,onDidUpdated:I=null}={}){const X="".concat(this.constructor.name.toString().toLowerCase(),"-").concat(i2());this._isRootElement=!1,this.tagName=e,this.rootElement=t,this.children=this.notify(n||[]),this.style=i instanceof ci?i:new ci({...i}),this.events=s,this.className=Array.isArray(a)?a.filter(Boolean):[a],this.props={id:X,...o},this.args=h,this.path=p,this.html=u,this.hooks=new bE({onBeforeCreated:g,onCreated:d,onBeforeAttached:_,onAttached:y,onMounted:b,onBeforeDetached:E,onDetached:D,onBeforeUpdate:N,onDidUpdated:I}),this.reactiveState=new bo(this,{...c}),this.eventsManager=new xE(this),this.template=new SE(this),this.dom=new EE(this),this.render=this.render.bind(this),this._initializeChildrenKeys()}_initializeChildrenKeys(){this.children.forEach((e,t)=>{if(e instanceof ge){if(!e._key){const n=this._key||this.constructor.name,i=e.constructor.name;e.index=t,e._key="".concat(n,"-").concat(t,"-").concat(i)}e._initializeChildrenKeys()}})}beforeCreated(e){this.hooks.beforeCreated(e)}created(e,t){this.hooks.created(e,t)}beforeAttached(e,t){this.hooks.beforeAttached(e,t)}attached(e,t){this.hooks.attached(e,t)}mounted(e,t){this.hooks.mounted(e,t)}beforeDetached(){this.hooks.beforeDetached()}detached(e){this.hooks.detached(e)}beforeUpdate(){this.hooks.beforeUpdate()}didUpdated(){this.hooks.didUpdated()}render(){try{if(this._element)return this.update(),this._element;this.tagName&&!this.rootElement&&this.beforeCreated(this);const e=this.dom.createElement();return e?(this.created(e,this),this.dom.applyStyles(e),this.dom.applyClasses(e),this.dom.applyAttributes(e),this.eventsManager.attachEvents(e),this.beforeAttached(e,this),this.dom.renderChildren(e),this._element=e,this.attached(e,this),this.html.trim()&&e.insertAdjacentHTML("beforeend",this.html.trim()),this._isRootElement&&this.mounted(this._element,this),e):null}catch(e){return console.error("BaseWidget render error:",e),null}}setState(e){this.reactiveState.setState(e)}initState(e={}){this.state=this.reactiveState.initState(e)}getState(){var e;return((e=this.reactiveState)==null?void 0:e.state)||null}getStateOf(e){var n;let t=null;return typeof e=="string"?t=this.getRootWidget().findDescendantById(e):e instanceof ge&&(t=e),((n=t==null?void 0:t.reactiveState)==null?void 0:n.state)||null}findDescendantById(e){var t;if(((t=this.props)==null?void 0:t.id)===e)return this;for(const n of this.children)if(n instanceof ge){const i=n.findDescendantById(e);if(i)return i}return null}findDescendantByKey(e){var t;if(((t=this.props)==null?void 0:t.key)===e)return this;for(const n of this.children)if(n instanceof ge){const i=n.findDescendantByKey(e);if(i)return i}return null}findDescendantByType(e){const t=e.toLowerCase();if(this.constructor.name.toLowerCase()===t)return this;for(const n of this.children)if(n instanceof ge){const i=n.findDescendantByType(e);if(i)return i}return null}findAncestorByType(e){const t=e.toLowerCase();let n=this;for(;n;){if(n.constructor.name.toLowerCase()===t)return n;n=n._parent}return null}getRootWidget(){let e=this;for(;e._parent;)e=e._parent;return e}findAllDescendantsByType(e){const t=[],n=e.toLowerCase();this.constructor.name.toLowerCase()===n&&t.push(this);for(const i of this.children)i instanceof ge&&t.push(...i.findAllDescendantsByType(e));return t}broadcastToWidgets(e,t,...n){this.findAllDescendantsByType(e).forEach(s=>{s.emit(t,...n)})}on(e,t,n){return this.eventsManager.on(e,t,n)}off(e,t){this.eventsManager.off(e,t)}once(e,t){return this.eventsManager.once(e,t)}emit(e,...t){this.eventsManager.emit(e,...t)}getParent(){return this._parent}getElement(){return this._element}getWidget(){return this._currentWidget}getChildIndex(e){return this.children.indexOf(e)}appendChild(e){if(e instanceof ge&&(e._parent=this,this.children.push(e),this._element)){const t=e.render();t&&(this._element.appendChild(t),this.hooks.addDeferredMountedCall(e,()=>e.mounted(e._element,e)))}}insertChild(e,t){e instanceof ge&&(e._parent=this,this.children.splice(t,0,e),this._element&&this.dom.insertChildAtIndex(e,t))}removeChild(e){const t=this.children.indexOf(e);t>-1&&(this.children.splice(t,1),this.dom.removeChild(e))}detach(){var e;this._element&&(this.beforeDetached(),this.eventsManager.clear(),this.children.forEach(t=>{t instanceof ge&&(t.detach(),this._parent&&this.hooks.deleteDeferredMountedCall(t))}),this.dom.detachChildren(),(e=this.reactiveState)==null||e.detach())}update(){!this._element||this._element==null||(this.beforeUpdate(),this.detach(),this.dom.renderChildren(this._element),this.didUpdated(),this.mounted(this._element,this))}patch(){!this._element||this._element==null||(this.beforeUpdate(),this.dom.patchChildren(),this.didUpdated())}updateStyles(e={}){this.style={...this.style,...e},this.dom.applyStyles(this._element)}updateClasses(e=[]){e.map(n=>n.trim()).filter(Boolean).forEach(n=>{this.className.indexOf(n)===-1&&this.className.push(n)}),this.dom.applyClasses(this._element)}updateEvents(e={}){this.events={...this.events,...e},this.eventsManager.clear(),this.eventsManager.attachEvents()}notify(e){const t=Array.isArray(e)?[...e].filter(Boolean):[e].filter(Boolean);let n=!1,i=!1,s=null;const a=o=>{var c,h;s=o,i||(i=!0,(h=(c=this._parent)==null?void 0:c.onNotify)==null||h.call(c,s),this._initializeChildrenKeys(),s=null,i=!1)};return new Proxy(t,{set:(o,c,h)=>{const u=o[c],p=Reflect.set(o,c,h),_=!isNaN(c)&&u!==h||c==="length"&&h!==o.length;return!n&&_&&a({type:"set",target:o,prop:c,value:h,previous:u}),p},get:(o,c)=>["push","pop","shift","unshift","splice","sort","reverse","fill","copyWithin"].includes(c)?(...u)=>{n=!0;const p=Array.prototype[c].apply(o,u);return n=!1,a({type:"method",method:c,args:u,target:o}),p}:Reflect.get(o,c)})}onNotify(e){var t,n;(n=(t=this._parent)==null?void 0:t.onNotify)==null||n.call(t,e)}setRootElement(e=!0){this._isRootElement=e}isRootElement(){return this._isRootElement}triggerMounted(){this._element&&this.mounted(this._element,this)}triggerDetached(e){this.detached(e)}isMounted(){return this._element&&this._element.isConnected}destroy(){this.detach(),this.hooks.clearDeferredMountedCalls()}}var Ol;let sr=(Ol=class extends ge{constructor(e,{className:t=[],style:n={},props:i={},onBeforeCreated:s=null,onCreated:a=null,onBeforeAttached:o=null,onAttached:c=null,onMounted:h=null}={}){if(Ol.instance)throw new Error("App is a singleton and has already been initialized");super({rootElement:e,className:t,style:n,props:i,onBeforeCreated:u=>s==null?void 0:s(u),onCreated:(u,p)=>a==null?void 0:a(u,p),onBeforeAttached:(u,p)=>o==null?void 0:o(u,p),onAttached:(u,p)=>c==null?void 0:c(u,{},p),onMounted:(u,p)=>h==null?void 0:h(u,{},p)}),this._isRootElement=!0,this.routePaths={},this.params={},this.path=null,this.middlewares=[],this.rootElement=e,this.notFoundComponent=null,this.previousComponents=[],this.currentLayoutStack=[],this.currentGroupPrefixes=[],this.args={},this.eventHandlers={routeChange:[]},window.addEventListener("popstate",this.handlePopState.bind(this)),Ol.instance=this}group(e,t){return this.currentGroupPrefixes.push(e),t(),this.currentGroupPrefixes.pop(),this}use(e){if(typeof e!="function")throw new Error("Middleware must be a function");return this.middlewares.push(e),this}routes(e,t){if(!t||!(t.prototype instanceof ge))throw new Error("Route component must extend BaseWidget");if(typeof e!="string"||!e.startsWith("/"))throw new Error("Invalid route path: ".concat(e,". Must start with '/'"));const n=this._combineGroupPrefixes(e);return this.routePaths[n]&&console.warn("Duplicate route definition for path: ".concat(n)),this.routePaths[n]={component:t,layouts:[...this.currentLayoutStack]},this}notFound(e){if(!e||!(e.prototype instanceof ge))throw new Error("Not Found component must extend BaseWidget");return this.notFoundComponent=e,this}layout(e,t){if(!(e.prototype instanceof ge))throw new Error("Layout must be a class extending BaseWidget");return this.currentLayoutStack.push(e),t(),this.currentLayoutStack.pop(),this}onRouteChange(e){return this.eventHandlers.routeChange.push(e),()=>{this.eventHandlers.routeChange=this.eventHandlers.routeChange.filter(t=>t!==e)}}async to(e,t={},n=""){if(!await this.applyMiddlewares(e))return;const s=this._normalizePath(e),a=window.location.pathname;s===this._normalizePath(a)?history.replaceState({args:t},n,s):history.pushState({args:t},n,s),this.path=s,this.args=t,document.title=n,this.render()}back({args:e={}}={}){this.args=e,window.history.back()}_normalizePath(e){return e==="/"?"/":"/".concat(e.replace(/^\/+|\/+$/g,""))}_combineGroupPrefixes(e){const t=[...this.currentGroupPrefixes,e].map(n=>String(n).replace(/^\/+|\/+$/g,"")).filter(n=>n!=="");return t.length===0?"/":"/".concat(t.join("/"))}_matchRoute(e){const t=decodeURIComponent(e),n=Object.entries(this.routePaths);if(typeof URLPattern<"u")for(const[i,s]of n)try{const o=new URLPattern({pathname:i}).exec({pathname:t});if(o){const c={};for(const[h,u]of Object.entries(o.pathname.groups||{}))c[h]=decodeURIComponent(u);return{component:s,params:c,layouts:s.layouts}}}catch(a){console.warn("Skipping invalid route pattern: ".concat(i),a)}for(const[i,s]of n){const a=[],o=i.replace(/:([^/]+)/g,(u,p)=>(a.push(p),"([^/]+)")),c=new RegExp("^".concat(o,"$")),h=t.match(c);if(h){const u=Object.fromEntries(a.map((p,g)=>[p,decodeURIComponent(h[g+1])]));return{component:s,params:u,layouts:s.layouts}}}return{component:null,params:{},layouts:[]}}render(){const e=this.path;this.path=this._normalizePath(window.location.pathname||"/"),this.renderRoute();const t=super.render();return e!==this.path&&this.eventHandlers.routeChange.forEach(n=>n({from:e,to:this.path})),t}renderRoute(){if(!this.rootElement)throw new Error("Root element not set. App needs a target DOM element.");const e=this._matchRoute(this.path);this.params=e.params,this.previousComponents=this.children||[],this._cleanupPreviousComponents();try{let t;const n=e.component;if(n){const i=n.component,s={args:{...this.params,...this.args},path:this.path};t=new i(s);const a=[...n.layouts].reverse();for(const o of a){const c=new o;c.children=[t],t=c}}else{const i=this.path;this.notFoundComponent?t=new this.notFoundComponent({args:{requestedPath:i},path:i}):t=new ge({tagName:"div",className:["app-not-found"],children:[new ge({tagName:"h1",children:["404 - Page Not Found"]}),new ge({tagName:"p",children:['The requested path "'.concat(i,'" was not found.')]})]})}this.children=[t]}catch(t){console.error("Error rendering route component:",t),this.children=[new ge({tagName:"div",className:["app-render-error"],children:["Error: Could not render the requested page."]})]}}async applyMiddlewares(e){for(const t of this.middlewares)try{if(await t(e)===!1)return!1}catch(n){return console.error("Middleware error:",n),!1}return!0}handlePopState(e){var n;const t=window.location.pathname||"/";this.path=this._normalizePath(t),this.args=((n=e==null?void 0:e.state)==null?void 0:n.args)||{},console.log(this.path),this.render()}_cleanupPreviousComponents(){this.previousComponents.forEach(e=>{e&&typeof e.detach=="function"&&e.detach()}),this.previousComponents=[]}getSessionManager(){return this.state.session}debugRoutes(){console.log("Registered routes:"),Object.entries(this.routePaths).forEach(([e,t])=>{console.log("- ".concat(e," => ").concat(t.component.name))})}onUpdate(){super.update.call(this)}},dt(Ol,"instance",null),Ol);class ht{static initialize(){this.initialized||(this.register("text",{hasSize:!0}),this.register("button",{hasSize:!0}),this.register("floatingButton",{hasSize:!0}),this.register("outlinedButton",{hasSize:!0}),this.register("input",{hasSize:!0}),this.register("tagInput",{hasSize:!0}),this.register("textArea",{hasSize:!0}),this.register("select",{hasSize:!0}),this.register("checkbox",{hasSize:!0}),this.register("radio",{hasSize:!0}),this.register("toast",{hasSize:!0}),this.register("alert",{hasSize:!0}),this.register("badge",{hasSize:!0}),this.register("tile",{hasSize:!0}),this.register("navbar",{hasSize:!0}),this.register("table",{hasSize:!0}),this.register("modal",{hasSize:!0}),this.register("listTile",{hasSize:!0}),this.register("expansionTile",{hasSize:!0}),this.register("spinner",{hasSize:!0}),this.register("card",{hasSize:!0}),this.initialized=!0)}static register(e,{hasSize:t=!1}={}){const n={type:this.createVariants(e,"type",["default","basic","primary","secondary","danger","info","success","warning","dark","error"]),...t&&{size:this.createVariants(e,"size",["xsmall","small","medium","large","xlarge"])}};this.registry.set(e,n)}static createVariants(e,t,n){const i="".concat(e.replace(/([A-Z])/g,"-$1").toLowerCase(),"-widget");return n.reduce((s,a)=>(s[a]=["".concat(i,"--").concat(a)],s),{})}static merge(e,t){if(!this.registry.has(e))throw new Error('Cannot merge: Component "'.concat(e,'" is not registered.'));const n=this.registry.get(e),i={};for(const s of Object.keys(t))Object.hasOwn(n,s)||console.warn('Warning: "'.concat(s,'" is not a recognized variant for "').concat(e,'"')),i[s]={...n[s]||{},...t[s]||{}};this.registry.set(e,{...n,...i})}static validate(e){const t=this.registry.get(e),n=[];return t?((!t.type||!t.type.default)&&n.push('Missing "default" type variant for "'.concat(e,'".')),"size"in t&&(!t.size||!t.size.medium)&&n.push('Missing "medium" size variant for "'.concat(e,'".')),n.length?n:!0):(n.push('Component "'.concat(e,'" is not registered.')),n)}static get(e,{type:t="default",size:n}={}){var a,o;const i=this.registry.get(e);if(!i)return[];const s=[];return(a=i.type)!=null&&a[t]&&s.push(...i.type[t]),n&&((o=i.size)!=null&&o[n])&&s.push(...i.size[n]),s}static safeGet(e){const t=this.registry.get(e)||{};return{type:t.type||{},size:t.size||{}}}static get navbar(){return this.safeGet("navbar")}static get text(){return this.safeGet("text")}static get button(){return this.safeGet("button")}static get floatingButton(){return this.safeGet("floatingButton")}static get outlinedButton(){return this.safeGet("outlinedButton")}static get table(){return this.safeGet("table")}static get alert(){return this.safeGet("alert")}static get input(){return this.safeGet("input")}static get select(){return this.safeGet("select")}static get checkbox(){return this.safeGet("checkbox")}static get radio(){return this.safeGet("radio")}static get textArea(){return this.safeGet("textArea")}static get toast(){return this.safeGet("toast")}static get tile(){return this.safeGet("tile")}static get badge(){return this.safeGet("badge")}static get alert(){return this.safeGet("alert")}static get modal(){return this.safeGet("modal")}static get listTile(){return this.safeGet("listTile")}static get expansionTile(){return this.safeGet("expansionTile")}static get spinner(){return this.safeGet("spinner")}static get card(){return this.safeGet("card")}}dt(ht,"registry",new Map),dt(ht,"initialized",!1);ht.initialize();const Du=class Du extends ge{constructor({direction:e=Du.column,gap:t=5,children:n=[],style:i={},events:s={},className:a=[],props:o={},onBeforeCreated:c=null,onCreated:h=null,onBeforeAttached:u=null,onAttached:p=null}={}){super({children:n,events:s,style:new ci({...i}),className:["center-widget",e,...a],props:o,onBeforeCreated:g=>{c==null||c(g)},onCreated:(g,d)=>{h==null||h(g,d)},onBeforeAttached:(g,d)=>{u==null||u(g,d)},onAttached:(g,d)=>{this.setupGapStyle(g,t),p==null||p(g,{},d)}})}setupGapStyle(e,t){e.style.setProperty("--gap","".concat(t,"px"))}};dt(Du,"row","row"),dt(Du,"column","column");let zl=Du;class Mc extends ge{constructor({size:e=50,color:t="#6366f1",speed:n=1.2,thickness:i=2,style:s={},className:a=[],props:o={},events:c={}}={}){super({tagName:"div",style:s,className:["spinner-widget",...a],props:o,events:c,onAttached:h=>{this.spinnerElement=h,this.setupSpinnerStyles()}}),this.size=e,this.color=t,this.speed=n,this.thickness=i}setupSpinnerStyles(){this.spinnerElement.style.setProperty("--spinner-width","".concat(this.size,"px")),this.spinnerElement.style.setProperty("--spinner-height","".concat(this.size,"px")),this.spinnerElement.style.setProperty("--spinner-border-width","".concat(this.thickness,"px")),this.spinnerElement.style.setProperty("--spinner-speed","".concat(this.speed,"s")),this.spinnerElement.style.setProperty("--spinner-color",this.color)}}class Ac extends ge{constructor({src:e="",alt:t="",rounded:n=!1,shadow:i=!0,border:s=!0,hoverEffect:a=!0,style:o={},figureStyle:c={},className:h=[],figureClassName:u=[],events:p={},props:g={},lazyLoad:d=!1,fallbackSrc:_="",placeholder:y=new zl({children:[new Mc]}),onBeforeCreated:b=null,onCreated:E=null,onBeforeAttached:D=null,onAttached:N=null,onMounted:I=null}={}){if(typeof t!="string")throw new Error("alt parameter in Image widget expects a string");super({tagName:"figure",style:c,className:u,onBeforeCreated:X=>{b==null||b(X)},onCreated:(X,he)=>{E==null||E(X,he)},onBeforeAttached:(X,he)=>{D==null||D(X,he)},onAttached:(X,he)=>{this.setupImageContainer(X),N==null||N(X,this.getImageReferences(),he)},onMounted:(X,he)=>{this.setupImageContainer(X),I==null||I(X,this.getImageReferences(),he)}}),this.className=[...this.className,...this.createImageContainerClasses()],this.storeImageConfig({src:e,alt:t,rounded:n,shadow:i,border:s,hoverEffect:a,style:o,className:h,props:g,events:p,lazyLoad:d,fallbackSrc:_,placeholder:y}),this.initializeImageState()}getImageReferences(){return{imageElement:this.imageElement,imageContainerElement:this.imageContainerElement}}createImageContainerClasses(){return["image-container-widget"]}createImageContainerStyles(e){return e}setupImageContainer(e){this.imageContainerElement=e}storeImageConfig({src:e,alt:t,rounded:n,shadow:i,border:s,hoverEffect:a,style:o,className:c,props:h,events:u,lazyLoad:p,fallbackSrc:g,placeholder:d}){this.config={src:e,alt:t,rounded:n,shadow:i,border:s,hoverEffect:a,style:o,className:["image-widget",...c],props:h,events:u,lazyLoad:p,fallbackSrc:g},this.placeholder=d}initializeImageState(){this.currentState={loaded:!1,error:!1}}createImage(){return new ge({tagName:"img",className:this.createImageClasses(),style:this.createImageStyles(),props:this.createImageProps(),events:this.createImageEvents(),onAttached:e=>{this.setupImageElement(e)}})}createImageClasses(){return[...this.config.className,this.config.rounded&&"rounded",this.config.shadow&&"shadow",this.config.border&&"border",this.config.hoverEffect&&"hover-effect"].filter(Boolean)}createImageStyles(){return{...this.config.style}}createImageProps(){return{decoding:"async",loading:this.config.lazyLoad?"lazy":"eager",...this.config.props,alt:this.config.alt}}createImageEvents(){return{load:e=>this.handleImageLoad(e),error:e=>this.handleImageError(e),...this.config.events}}setupImageElement(e){this.imageElement=e,e.src=this.currentState.error?this.config.fallbackSrc:this.config.src,e.style.display="none"}handleImageLoad(e){var n;this.currentState.loaded=!0,this.currentState.error=!1,e.target.style.display="",e.target.classList.add("loaded"),this.imageContainerElement.classList.add("loaded"),((n=this.placeholder)==null?void 0:n.render()).remove()}handleImageError(e){var t;console.log("Fallback"),this.currentState.error=!0,this.config.fallbackSrc?e.target.src=this.config.fallbackSrc:(console.error("Image failed to load:",this.config.src),(t=this.placeholder)==null||t.render().remove())}setSource(e){this.validateImageParameters(e,this.config.alt),this.config.src=e,this.imageElement&&!this.currentState.error&&(this.currentState.loaded=!1,this.imageElement.style.display="none",this.imageElement.src=e)}render(){return this.children=[this.placeholder,this.createImage()],super.render()}}class ze extends ge{constructor({text:e="",textAsHtml:t="",tag:n="p",theme:i=ht.text.type.dark,size:s=ht.text.size.medium,style:a={},className:o=[],props:c={},events:h={},onBeforeCreated:u=null,onCreated:p=null,onBeforeAttached:g=null,onAttached:d=null,onMounted:_=null}={}){super({tagName:n,children:[String(e)],style:a,onBeforeCreated:y=>{u==null||u(y)},onCreated:(y,b)=>{p==null||p(y,b)},onBeforeAttached:(y,b)=>{g==null||g(y,b)},onAttached:(y,b)=>{t&&(y.innerHTML=t),d==null||d(y,{},b)},onMounted:(y,b)=>{_==null||_(y,{},b)}}),this.className=[...this.className,...this.createTextClasses(i,s,o)],this.props={...this.props,...this.createTextProps(c)},this.events={...this.events,...this.createTextEvents(h)},this.storeTextConfig(e,n,i,s)}createTextStyles(e){return e}createTextClasses(e,t,n){return["text-widget",...e,...t,...n]}createTextProps(e){return{...e}}createTextEvents(e){return{...e}}storeTextConfig(e,t,n,i){this.text=e,this.tag=t,this.theme=n,this.size=i}setText(e){this.validateTextParameters(e,this.tag),this.text=e,this.rootElement&&(this.rootElement.textContent=e)}setTheme(e){this.rootElement&&(this.theme.forEach(t=>{this.rootElement.classList.remove(t)}),e.forEach(t=>{this.rootElement.classList.add(t)})),this.theme=e}}class Fr{static get PREFIX(){return"position-widget-"}static get flex(){return Object.freeze({start:"".concat(this.PREFIX,"flex-start"),end:"".concat(this.PREFIX,"flex-end"),center:"".concat(this.PREFIX,"flex-center"),top:"".concat(this.PREFIX,"flex-top"),bottom:"".concat(this.PREFIX,"flex-bottom"),centerLeft:"".concat(this.PREFIX,"flex-center-left"),centerRight:"".concat(this.PREFIX,"flex-center-right"),topLeft:"".concat(this.PREFIX,"flex-top-left"),topRight:"".concat(this.PREFIX,"flex-top-right"),bottomLeft:"".concat(this.PREFIX,"flex-bottom-left"),bottomRight:"".concat(this.PREFIX,"flex-bottom-right")})}static get absolute(){return Object.freeze({topLeft:"".concat(this.PREFIX,"absolute-top-left"),topRight:"".concat(this.PREFIX,"absolute-top-right"),bottomLeft:"".concat(this.PREFIX,"absolute-bottom-left"),bottomRight:"".concat(this.PREFIX,"absolute-bottom-right"),top:"".concat(this.PREFIX,"absolute-top"),bottom:"".concat(this.PREFIX,"absolute-bottom"),left:"".concat(this.PREFIX,"absolute-left"),right:"".concat(this.PREFIX,"absolute-right"),center:"".concat(this.PREFIX,"absolute-center")})}static get z(){return Object.freeze({auto:"auto",base:"".concat(this.PREFIX,"z-0"),raised:"".concat(this.PREFIX,"z-1"),dropdown:"".concat(this.PREFIX,"z-10"),sticky:"".concat(this.PREFIX,"z-20"),overlay:"".concat(this.PREFIX,"z-30"),modal:"".concat(this.PREFIX,"z-40"),popover:"".concat(this.PREFIX,"z-50"),tooltip:"".concat(this.PREFIX,"z-60"),topmost:"".concat(this.PREFIX,"z-999"),xtopmost:"".concat(this.PREFIX,"z-9999")})}static get static(){return"".concat(this.PREFIX,"static")}static get relative(){return"".concat(this.PREFIX,"relative")}static responsive(e){return e}static get breakpoints(){return Object.freeze({sm:"sm",md:"md",lg:"lg",xl:"xl",xxl:"xxl"})}constructor(){throw new Error("Position is a static utility class")}}let Ge=class extends ge{constructor({tag:e="div",position:t=Fr.flex.start,children:n=[],gap:i="10px",style:s={},className:a=[],props:o={},events:c={},onBeforeCreated:h=null,onCreated:u=null,onBeforeAttached:p=null,onAttached:g=null,onMounted:d=null}={}){super({tagName:e,children:n,style:s,className:["column-widget",t,...a],props:o,events:c,onBeforeCreated:_=>{h==null||h(_)},onCreated:(_,y)=>{u==null||u(_,y)},onBeforeAttached:(_,y)=>{p==null||p(_,y)},onAttached:(_,y)=>{this.setupGapStyles(_,i),g==null||g(_,{},y)},onMounted:(_,y)=>{d==null||d(_,{},y)}})}setupGapStyles(e,t){e.style.setProperty("column-gap",t),e.style.setProperty("row-gap",t)}};class yt extends ge{constructor({children:e=[],style:t={},className:n=[],props:i={},events:s={},onBeforeCreated:a=()=>{},onCreated:o=()=>{},onBeforeAttached:c=()=>{},onAttached:h=()=>{},onMounted:u=()=>{}}={}){super({tagName:"div",children:e,style:new ci({...t}),className:n,props:i,events:s,onBeforeCreated:p=>{a(p)},onCreated:(p,g)=>{o(p,g)},onBeforeAttached:(p,g)=>{c(p,g)},onAttached:(p,g)=>{h(p,{},g)},onMounted:(p,g)=>{u(p,{},g)}})}}class ft extends ge{constructor({tag:e="div",children:t=[],breakpoints:n={},style:i={},className:s=[],props:a={},onBeforeCreated:o=null,onCreated:c=null,onBeforeAttached:h=null,onAttached:u=null,onMounted:p=null}={}){if(Object.keys(n).length===0)throw new Error("Expand widget requires at least one breakpoint in the 'breakpoints' property");super({tagName:e,children:t,style:i,props:a,onBeforeCreated:d=>{o==null||o(d)},onCreated:(d,_)=>{c==null||c(d,_)},onBeforeAttached:(d,_)=>{h==null||h(d,_)},onAttached:(d,_)=>{u==null||u(d,_)},onMounted:(d,_)=>{p==null||p(d,_)}});const g=this.generateColumnClasses(n);this.className=this.mergeClassNames(g,s)}generateColumnClasses(e){return Object.entries(e).map(([t,n])=>{if(typeof n!="number"||n<1||n>12)throw new Error("Invalid column size ".concat(n,". Must be between 1-12"));return n==="auto"?t==="col"?"col-auto":"".concat(t,"-auto"):n==="fill"?t==="col"?"col":"".concat(t):t==="col"?"col-".concat(n):"col-".concat(t,"-").concat(n)})}mergeClassNames(e,t){return[...e,...Array.isArray(t)?t:[t]].filter(Boolean)}}let Je=class extends ge{constructor({tag:e="div",children:t=[],rowContainerStyle:n={},style:i={},rowStyle:s={},gap:a="15px",containerPadding:o=!1,className:c=[],props:h={},onBeforeCreated:u=null,onCreated:p=null,onBeforeAttached:g=null,onAttached:d=null,onMounted:_=null}={}){const y=["row-container-widget","row-container-widget--fluid"];o===!0?y.push("row-container-widget--spaced"):o&&typeof o=="string"&&(n.paddingLeft=o,n.paddingRight=o),super({tagName:e,style:n,className:[...y,...c],props:h,onBeforeCreated:b=>{u==null||u(b)},onCreated:(b,E)=>{p==null||p(b,E)},onBeforeAttached:(b,E)=>{g==null||g(b,E)},onAttached:(b,E)=>{d==null||d(b,{rowElement:this.rowElement},E)},onMounted:(b,E)=>{_==null||_(b,{rowElement:this.rowElement},E)}}),this.gap=a,this.children=this.createRowElement(t,{...i,...s})}validateChildrenIntegrity(e){let t=0,n=0;return e.filter(Boolean).forEach(i=>{i instanceof ft?t++:n++}),{isExpandChild:t,isNonExpandChild:n}}createRowElement(e,t){const n=this.validateChildrenIntegrity(e);if(n.isExpandChild>0&&n.isNonExpandChild>0){console.error("You must provide only Expand widget or non Expand widget, do not mix Expand widget with any other widget");return}const i=n.isNonExpandChild>0&&n.isExpandChild===0;return[new ge({tagName:"div",className:["row-widget"],style:{...t,"--gutter-x":this.gap,gap:i&&this.gap},children:e,onAttached:s=>{this.rowElement=s}})]}};class Qr extends ge{constructor({label:e="",prefixIcon:t=null,suffixIcon:n=null,theme:i=ht.button.type.primary,size:s=ht.button.size.medium,fullWidth:a=!1,type:o="button",onPressed:c=null,style:h={},className:u=[],disabled:p=!1,events:g={},props:d={},html:_="",onBeforeCreated:y=null,onCreated:b=null,onBeforeAttached:E=null,onAttached:D=null,onMounted:N=null}={}){super({tagName:"button",style:{width:a?"100%":"auto",...h},className:["button-widget",i,s,p?"disabled":"",...u].filter(Boolean),props:{type:o,disabled:p,...d},html:_,events:{click:I=>{!this._disabled&&c&&c(I)},...g},onBeforeCreated:I=>{y==null||y(I)},onCreated:(I,X)=>{this.buttonElement=I,b==null||b(I,X)},onBeforeAttached:(I,X)=>{E==null||E(I,X)},onAttached:(I,X)=>{D==null||D(I,{},X)},onMounted:(I,X)=>{N==null||N(I,{},X)}}),this.label=e,this.prefixIcon=t,this.suffixIcon=n,this.theme=i,this.size=s,this.fullWidth=a,this._disabled=p,this.disabled=p}get disabled(){return this._disabled}set disabled(e){this._disabled=!!e,this.buttonElement&&(this.buttonElement.disabled=this._disabled,this._disabled?(this.buttonElement.classList.add("disabled"),this.buttonElement.setAttribute("aria-disabled","true")):(this.buttonElement.classList.remove("disabled"),this.buttonElement.removeAttribute("aria-disabled")))}render(){return this.children=[this.prefixIcon,this.label,this.suffixIcon].filter(Boolean),super.render()}}class AE extends ge{constructor({position:e=Fr.flex.center,style:t={},dismissable:n=!1,onBeforeCreated:i=null,onCreated:s=null,onBeforeAttached:a=null,onAttached:o=null,onMounted:c=null}={}){super({tagName:"div",style:t,className:["backdrop-widget",e],events:{click:h=>{this.handleBackdropClick(h)}},onBeforeCreated:h=>{i==null||i(h)},onCreated:(h,u)=>{s==null||s(h,u)},onBeforeAttached:(h,u)=>{a==null||a(h,u)},onAttached:(h,u)=>{this.backdropElement=h,o==null||o(h,{},u)},onMounted:(h,u)=>{this.backdropElement=h,c==null||c(h,{},u)}}),this.dismissable=n}handleBackdropClick(e){var t;this.dismissable&&e.target===this.backdropElement&&((t=this.close)==null||t.call(this))}close(){}}class Hm extends AE{constructor({position:e=Fr.flex.center,showCloseIcon:t=!1,dismissable:n=!1,className:i=[],content:s=[],style:a={},props:o={},onClose:c=null,onBeforeCreated:h=null,onCreated:u=null,onBeforeAttached:p=null,onAttached:g=null,onMounted:d=null}={}){super({position:e,dismissable:n,onBeforeCreated:_=>{h==null||h(_)},onCreated:(_,y)=>{u==null||u(_,y)},onBeforeAttached:(_,y)=>{p==null||p(_,y)},onAttached:(_,y,b)=>{this.backdropElement=_,g==null||g(_,{modalElement:this.modalElement},b)},onMounted:(_,y,b)=>{this.backdropElement=_,d==null||d(_,{modalElement:this.modalElement},b)}}),this.showCloseIcon=t,this.onClose=c,this.config={style:a},this.children=[this.createModalWidget(i,s,o)]}createModalWidget(e,t,n){return new ge({tagName:"div",className:["modal-widget",...e],style:{...this.config.style},children:[this.showCloseIcon?this.createCloseButton():null,...t].filter(Boolean),props:{role:"dialog","aria-hidden":"true",tabindex:"-1",...n},onAttached:i=>{this.modalElement=i}})}createCloseButton(){return new ge({tagName:"button",className:["modal-header-close-icon-widget"],events:{click:()=>{this.close()}},onAttached:e=>{e.insertAdjacentHTML("beforeend",'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>')}})}show(){if(!document.body.contains(this.backdropElement))try{const e=super.render();super.mounted(e,this),document.body.appendChild(e)}catch(e){console.log(e)}requestAnimationFrame(()=>{this.applyShowStyles()})}applyShowStyles(){document.body.contains(this.backdropElement)&&(this.backdropElement.classList.add("show"),this.modalElement.classList.add("show"),this.modalElement.setAttribute("aria-hidden","false"))}close(){this.backdropElement&&(this.applyCloseStyles(),this.scheduleCleanup())}applyCloseStyles(){var e;this.backdropElement.classList.remove("show"),this.modalElement.classList.remove("show"),(e=document.activeElement)==null||e.blur(),this.modalElement.setAttribute("aria-hidden","true")}scheduleCleanup(){setTimeout(()=>{var e,t;(e=this.backdropElement)==null||e.remove(),(t=this.onClose)==null||t.call(this)},300)}}class qn extends ge{constructor({showCloseIcon:e=!0,content:t=[],style:n={},className:i=[],props:s={},dismissable:a=!1,onClose:o=()=>{},onBeforeCreated:c=null,onCreated:h=null,onBeforeAttached:u=null,onAttached:p=null,onMounted:g=null}={}){super({}),this.modal=this.createModal(e,t,n,i,s,a,o,c,h,u,p,g)}createModal(e,t,n,i,s,a,o,c,h,u,p,g){return new Hm({position:Fr.flex.topLeft,dismissable:a,showCloseIcon:e,style:n,className:["offcanvas-widget","translateX",...i],props:s,onClose:o,content:Array.isArray(t)?t:[t],onBeforeCreated:d=>{c==null||c(d)},onCreated:(d,_)=>{h==null||h(d,_)},onBeforeAttached:(d,_)=>{u==null||u(d,_)},onAttached:(d,_,y)=>{const b=_.backdropElement,E=_.modalElement;p==null||p(d,{backdropElement:b,modalElement:E},y)},onMounted:(d,_,y)=>{const b=_.backdropElement,E=_.modalElement;g==null||g(d,{backdropElement:b,modalElement:E},y)}})}show(){this.modal.show()}close(){this.modal.close()}}class jm extends ge{constructor({item:t}){super({tagName:"li",className:["navbar-items-item-widget",...t.className||[]],style:t.style||{},props:{role:"none",...t.props}});dt(this,"handleEscapeKey",t=>{var n;t.key==="Escape"&&((n=this.dropdownElement)!=null&&n.classList.contains("show"))&&this.closeDropdown()});this.item=t,this.dropdownOpen=!1,this.dropdownElement=null,this.clickHandler=null,this.ARRAY_DOWN_SVG='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="M480-344 240-584l56-56 184 184 184-184 56 56-240 240Z"/></svg>'}createItemLink(){var n,i;const t=(n=this.item.dropdown)!=null&&n.length?{click:s=>this.toggleDropdown(s),keydown:s=>{(s.key==="Enter"||s.key===" ")&&this.toggleDropdown(s)}}:this.item.onClick?{click:s=>{s.preventDefault(),this.item.onClick(s)}}:{};return new ge({tagName:"a",children:[this.item.text],className:[this.item.active?"active":""],style:{...this.item.style},props:{href:this.item.href||"#",title:this.item.text,role:"menuitem","aria-haspopup":(i=this.item.dropdown)!=null&&i.length?"true":void 0,"aria-expanded":"false",tabIndex:"0"},events:t,onAttached:(s,a,o)=>{var c;(c=this.item.dropdown)!=null&&c.length&&s.insertAdjacentHTML("beforeend",this.ARRAY_DOWN_SVG),this.anchorElement=s}})}createDropdown(){return new ge({tagName:"ul",className:["navbar-items-dropdown-widget"],children:(this.item.dropdown||[]).map(t=>new jm({item:t})),props:{role:"menu"},onAttached:t=>{this.dropdownElement=t}})}toggleDropdown(t){if(t.preventDefault(),t.stopPropagation(),!this.dropdownElement||!this.anchorElement)return;const i=!(this.anchorElement.getAttribute("aria-expanded")==="true");this.anchorElement.setAttribute("aria-expanded",i.toString()),this.dropdownElement.classList.toggle("show"),this.anchorElement.classList.toggle("active"),i&&this.dropdownElement?(this.positionDropdown(),this.setupClickOutsideHandler()):this.removeClickOutsideHandler()}positionDropdown(){if(!this.dropdownElement)return;this.dropdownElement.classList.remove("right","left");const t=this.dropdownElement.getBoundingClientRect(),n=window.innerWidth;t.right>n-20?this.dropdownElement.classList.add("left"):t.left<20&&this.dropdownElement.classList.add("right")}setupClickOutsideHandler(){this.removeClickOutsideHandler(),this.clickHandler=t=>{this.dropdownElement&&this.anchorElement&&!this.dropdownElement.contains(t.target)&&!this.anchorElement.contains(t.target)&&this.closeDropdown()},setTimeout(()=>{document.addEventListener("click",this.clickHandler),document.addEventListener("keydown",this.handleEscapeKey)},0)}closeDropdown(){this.anchorElement&&(this.anchorElement.setAttribute("aria-expanded","false"),this.anchorElement.classList.remove("active")),this.dropdownElement&&this.dropdownElement.classList.remove("show"),this.removeClickOutsideHandler()}removeClickOutsideHandler(){this.clickHandler&&(document.removeEventListener("click",this.clickHandler),document.removeEventListener("keydown",this.handleEscapeKey),this.clickHandler=null)}isElementInViewport(t){if(!t)return!1;const n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=window.innerHeight&&n.right<=window.innerWidth}detach(){var t;this.removeClickOutsideHandler(),(t=super.detach)==null||t.call(this)}render(){var t;return this.children=[this.createItemLink()],(t=this.item.dropdown)!=null&&t.length&&this.children.push(this.createDropdown()),super.render()}}class TE extends ge{constructor({fixed:e=!1,brand:t=null,actions:n=[],items:i=[],theme:s=ht.navbar.type.secondary,style:a={},navBrandStyle:o={},navItemsStyle:c={},navActionsStyle:h={},className:u=[],navBrandClassName:p=[],navItemsClassName:g=[],navActionsClassName:d=[],props:_={},onBeforeCreated:y=null,onCreated:b=null,onBeforeAttached:E=null,onAttached:D=null}={}){super({tagName:"nav",className:["navbar-widget","navbar-widget--medium",e?"navbar-widget--fixed":null,s,...u].filter(Boolean),style:new ci({...a}),props:{role:"navigation",..._},onBeforeCreated:N=>{y==null||y(N)},onCreated:(N,I)=>{b==null||b(N,I)},onBeforeAttached:(N,I)=>{E==null||E(N,I)},onAttached:(N,I)=>{D==null||D(N,{brandElement:this.brandElement,navItemsElement:this.navItemsElement,actionsElement:this.actionsElement},I)}}),this.brand=t,this.actions=n,this.items=i,this.navBrandStyle=o,this.navItemsStyle=c,this.navActionsStyle=h,this.navBrandClassName=p,this.navItemsClassName=g,this.navActionsClassName=d,this.isMobileMenuOpen=!1,this.mobileOffCanvas=null,this.mobileToggleEl=null,this.navItemsContainer=null,this.brandElement=null,this.navItemsElement=null,this.actionsElement=null,this.resizeHandler=null,this.escapeHandler=null}createBrand(){return this.brand?new ge({tagName:"div",className:["navbar-brand-container-widget",...this.navBrandClassName],style:{...this.navBrandStyle},children:[new ge({tagName:"a",children:[this.brand.logo||this.brand.text],className:["navbar-brand-widget",...this.brand.className||[]],events:this.brand.onClick?{click:e=>this.handleBrandClick(e)}:{},style:this.brand.style||{},props:{href:"javascript:void(0)","aria-label":this.brand.ariaLabel||"Home",...this.brand.props},onAttached:e=>this.brandElement=e})]}):null}handleBrandClick(e){var t,n;e.preventDefault(),(n=(t=this.brand).onClick)==null||n.call(t,e)}createMobileToggle(){return new Qr({className:["navbar-mobile-toggle"],onPress:t=>this.toggleMobileMenu(t),events:{keydown:t=>{(t.key==="Enter"||t.key===" ")&&this.toggleMobileMenu(t)}},props:{"aria-label":"Toggle navigation","aria-expanded":"false",role:"button",type:"button"},onAttached:t=>{this.mobileToggleEl=t,t.insertAdjacentHTML("beforeend",'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/></svg>')}})}toggleMobileMenu(e){e==null||e.preventDefault(),e==null||e.stopPropagation(),this.isMobileMenuOpen?this.closeMobileMenu():this.openMobileMenu()}openMobileMenu(){this.isMobileMenuOpen||(this.isMobileMenuOpen=!0,this.mobileToggleEl&&(this.mobileToggleEl.setAttribute("aria-expanded","true"),this.mobileToggleEl.classList.add("active")),this.mobileOffCanvas=new qn({dismissable:!0,className:["navbar-offcanvas-widget"],content:[new ge({tagName:"div",className:["navbar-mobile-content"],children:[new ge({tagName:"button",className:["offcanvas-close"],children:[""],events:{click:()=>this.closeMobileMenu()},props:{"aria-label":"Close menu",type:"button"}}),this.createNavItems(!0)]})],onClose:()=>{this.closeMobileMenu()},onAttached:e=>{this.escapeHandler=n=>{n.key==="Escape"&&this.closeMobileMenu()},document.addEventListener("keydown",this.escapeHandler);const t=e.querySelector(".offcanvas-close");t&&setTimeout(()=>t.focus(),100)}}),this.mobileOffCanvas.show(),this.resizeHandler=()=>{window.innerWidth>992&&this.isMobileMenuOpen&&this.closeMobileMenu()},window.addEventListener("resize",this.resizeHandler))}closeMobileMenu(){this.isMobileMenuOpen&&(this.isMobileMenuOpen=!1,this.mobileToggleEl&&(this.mobileToggleEl.setAttribute("aria-expanded","false"),this.mobileToggleEl.classList.remove("active"),this.mobileToggleEl.focus()),this.mobileOffCanvas&&(this.mobileOffCanvas.close(),this.mobileOffCanvas=null),this.escapeHandler&&(document.removeEventListener("keydown",this.escapeHandler),this.escapeHandler=null),this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null))}createNavItems(e=!1){const t=this.items.map(n=>new jm({item:n}));return new ge({tagName:"ul",className:["navbar-items-widget",e?"navbar-mobile-items":""],children:t,props:{role:"menubar"},onAttached:n=>{e||(this.navItemsElement=n)}})}createNavItemsContainer(){return new ge({tagName:"div",className:["navbar-items-container-widget",...this.navItemsClassName],style:{...this.navItemsStyle},children:[this.createNavItems()],onAttached:e=>this.navItemsContainer=e})}createActions(){return new ge({tagName:"div",className:["navbar-actions-widget",...this.navActionsClassName],style:{...this.navActionsStyle},children:this.actions,props:{role:"toolbar"},onAttached:e=>this.actionsElement=e})}render(){return this.children=[this.createBrand(),this.createNavItemsContainer(),this.actions.length?this.createActions():null,this.createMobileToggle()].filter(Boolean),super.render()}detach(){var e;this.closeMobileMenu(),this.escapeHandler&&document.removeEventListener("keydown",this.escapeHandler),this.resizeHandler&&window.removeEventListener("resize",this.resizeHandler),(e=super.detach)==null||e.call(this)}}const Nu=class Nu{constructor({baseURL:e="",defaultHeaders:t={"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"},timeout:n=1e4,requestInterceptor:i=null,responseInterceptor:s=null}={}){if(Nu.instance)throw new Error("App is a singleton and has already been initialized");this.baseURL=e,this.defaultHeaders={"Content-Type":"application/json",...t},this.timeout=n,this.requestInterceptor=i,this.responseInterceptor=s,Nu.instance=this}async get(e,t={},n={cache:"no-store"}){return this._request({method:"GET",url:e,params:t,...n})}async post(e,t={},n={cache:"no-store"}){return this._request({method:"POST",url:e,data:t,...n})}async put(e,t={},n={cache:"no-store"}){return this._request({method:"PUT",url:e,data:t,...n})}async delete(e,t={},n={cache:"no-store"}){return this._request({method:"DELETE",data:t,url:e,...n})}async freshGet(e,t={},n={}){return this._request({method:"GET",url:e,params:{...t,_:Date.now()},cache:"reload",headers:{"Cache-Control":"no-cache",...n.headers},...n})}async upload(e,t,n={}){const{fieldName:i="file",additionalData:s={},onProgress:a=null,...o}=n,c=new FormData;return c.append(i,t),Object.entries(s).forEach(([h,u])=>{c.append(h,u)}),this._request({method:"POST",url:e,data:c,headers:{"Content-Type":void 0,...o.headers},onProgress:a,...o})}async _request(e){const{method:t,url:n,params:i={},data:s=null,headers:a={},timeout:o=this.timeout,responseType:c="json",signal:h=null,cache:u="no-store",onProgress:p=null}=e,g=this._buildUrl(n,i),d=new AbortController,_=setTimeout(()=>d.abort(),o);try{const y={method:t,headers:{...this.defaultHeaders,...a},signal:h||d.signal,cache:u};s instanceof FormData?(y.body=s,delete y.headers["Content-Type"]):s&&t!=="GET"&&t!=="HEAD"&&(y.body=this._stringifyData(s,a["Content-Type"]));const b=this.requestInterceptor?await this.requestInterceptor({...y,url:g}):y,E=await fetch(g,b);if(p&&E.body){const D=E.headers.get("content-length"),N=parseInt(D,10)||0;let I=0;const X=E.body.getReader(),he=[];for(;;){const{done:ee,value:P}=await X.read();if(ee)break;he.push(P),I+=P.length,p({loaded:I,total:N})}const G=new Blob(he),q=new Response(G,{status:E.status,statusText:E.statusText,headers:E.headers});if(clearTimeout(_),!q.ok)throw await this._createError(q);const O=await this._parseResponse(q,c);return this.responseInterceptor?this.responseInterceptor(O,q):O}else{if(clearTimeout(_),!E.ok)throw await this._createError(E);const D=await this._parseResponse(E,c);return this.responseInterceptor?this.responseInterceptor(D,E):D}}catch(y){throw clearTimeout(_),this._normalizeError(y)}}_buildUrl(e,t){const n={...t},i=this.baseURL.replace(/\/+$/,""),s=e.replace(/^\/+/,""),a="".concat(i,"/").concat(s),o=new URLSearchParams;Object.entries(n).forEach(([h,u])=>{u!=null&&(Array.isArray(u)?u.forEach(p=>o.append(h,p)):o.append(h,u))});const c=o.toString();return c?"".concat(a,"?").concat(c):a}_stringifyData(e,t="application/json"){if(t==="application/json")return JSON.stringify(e);if(t==="multipart/form-data"){const n=new FormData;return Object.entries(e).forEach(([i,s])=>{n.append(i,s)}),n}else if(t==="application/x-www-form-urlencoded")return new URLSearchParams(e).toString();return e}async _parseResponse(e,t){return t==="json"?e.json():t==="text"?e.text():t==="blob"?e.blob():t==="arraybuffer"?e.arrayBuffer():t==="formdata"?e.formData():e.text()}async _createError(e){let t;try{t=await e.json()}catch(i){t={message:e.statusText}}const n=new Error(t.message||"HTTP error ".concat(e.status));return n.status=e.status,n.response=t,n}_normalizeError(e){return e.name==="AbortError"?new Error("Request timeout"):e}};dt(Nu,"instance",null);let Ut=Nu;const Up="auth_session";class Ss{static async login(e){var i;const t=await Ut.instance.post("auth",e);if(((i=t.result)==null?void 0:i.status)!=="success")throw new Error("As credenciais no conferem");const n={user:t.result.user,access_token:t.result.token,refresh_token:t.result.refresh_token,access_expires_at:Date.now()+(t.result.expires_in||3600)*1e3,refresh_expires_at:Date.now()+(t.result.refresh_expires_in||30*24*3600*1e3)};return this._saveSession(n),n}static async getValidAccessToken(){var n;const e=this.getSession();if(!e)return null;const t=Date.now();if(t>=e.refresh_expires_at)return this.clearSession(),null;if(t<e.access_expires_at)return e.access_token;if(this._refreshPromise)return this._refreshPromise;this._refreshPromise=this._refreshAccessToken();try{return await this._refreshPromise,((n=this.getSession())==null?void 0:n.access_token)||null}catch(i){return null}finally{this._refreshPromise=null}}static async _refreshAccessToken(){var t;const e=this.getSession();if(!(e!=null&&e.refresh_token))throw new Error("No refresh token");try{const n=await Ut.instance.post("auth/refresh",{refresh_token:e.refresh_token});if(((t=n.result)==null?void 0:t.status)!=="success")throw new Error("Refresh failed");const i={...e,access_token:n.result.token,refresh_token:n.result.refresh_token||e.refresh_token,access_expires_at:Date.now()+(n.result.expires_in||3600)*1e3,refresh_expires_at:Date.now()+(n.result.refresh_expires_in||30*24*3600*1e3)};this._saveSession(i)}catch(n){throw this.clearSession(),n}}static async logout(){const e=this.getSession();if(this.clearSession(),!!(e!=null&&e.refresh_token))try{await Ut.instance.post("auth/revoke",{refresh_token:e.refresh_token})}catch(t){console.warn("Failed to revoke token on server (still logged out locally)",t)}}static isAuthenticated(){const e=this.getSession();return!!(e&&Date.now()<e.refresh_expires_at)}static getCurrentUser(){var e;return this.isAuthenticated()?(e=this.getSession())==null?void 0:e.user:null}static getToken(){const e=this.getSession();return e&&Date.now()<e.access_expires_at?e.access_token:null}static getSession(){try{const e=localStorage.getItem(Up);return e?JSON.parse(e):null}catch(e){return this.clearSession(),null}}static _saveSession(e){try{localStorage.setItem(Up,JSON.stringify(e))}catch(t){console.error("Failed to save session",t)}}static clearSession(){try{localStorage.removeItem(Up)}catch(e){console.error("Failed to clear session",e)}}}dt(Ss,"_refreshPromise",null);class bn{static stringToColor(e){if(!e)return"#6c757d";let t=0;for(let i=0;i<e.length;i++)t=e.charCodeAt(i)+((t<<5)-t);const n=(t&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-n.length)+n}static getInitials(e,t={}){const{defaultValue:n="?",emptyValue:i="?"}=t;if(!e||(e==null?void 0:e.trim())==="")return i;const s=e.trim().split(/\s+/);return s.length===1?s[0].substring(0,2).toUpperCase():(s[0][0]+s[s.length-1][0]).toUpperCase()}static createAvatarBadge(e,t={}){const{emptyName:n="No Atribudo",emptyBackgroundColor:i="#f0f0f0",emptyTextColor:s="#999",fontSize:a="0.8rem",border:o="2px solid #fff",showShadow:c=!0,size:h}=t,u=e||n,p=!e||e===n,g=p?i:this.stringToColor(u),d=p?s:"#FFF",_=this.getInitials(u,{emptyValue:"NA"});return new yt({style:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:g,border:o,boxShadow:c?"0 2px 4px rgba(0,0,0,0.1)":"none",flexShrink:0,width:"40px",height:"40px"},attributes:{title:u},children:[new ze({text:_,style:{fontWeight:"600",color:d,fontSize:a,lineHeight:1}})]})}static createFilterInputs(e,t,n,i,s,a={}){return[e.createForm({fields:n||[],controller:t,initialValues:a,actions:[{label:"Pesquisar",icon:"fa fa-search",onPressed:i},{label:"Limpar",icon:"fa fa-times",theme:ht.button.type.danger,onPressed:s}]})]}static createTableActions(e={}){const{viewUrl:t="",editUrl:n="",onDelete:i=null,viewIcon:s="fa-solid fa-eye",editIcon:a="fa-solid fa-pen",deleteIcon:o="fa-solid fa-trash",customActions:c=[]}=e,h=[{icon:s,theme:ht.button.type.primary,onAction:u=>sr.instance.to(t.replace("{id}",u))},{icon:a,onAction:u=>sr.instance.to(n.replace("{id}",u))}];return i&&h.push({icon:o,theme:ht.button.type.danger,onAction:i}),[...h,...c]}static getCardStyles(e={}){return{...{padding:"16px",borderRadius:"12px",border:"1px solid #f0f0f0",boxShadow:"0 4px 12px rgba(0,0,0,0.03)",cursor:"pointer",transition:"all 0.2s ease-in-out",backgroundColor:"#fff"},...e}}static getTextStyles(){return{MUTED:{fontSize:"0.75rem",color:"#9aa0ac",fontWeight:"500"},BOLD:{fontWeight:"600",fontSize:"1rem",color:"#333"},REGULAR:{fontSize:"0.9rem",color:"#555",fontWeight:"500"}}}static formatPrice(e){return!e||e<=0?"Preo sob consulta":new Intl.NumberFormat("pt-MZ",{style:"currency",currency:"MZN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}static formatDate(e){return e?new Intl.DateTimeFormat("pt-MZ",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(e)):"Data no disponvel"}static formatDateTime(e){return e?new Intl.DateTimeFormat("pt-MZ",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e)):"Data no disponvel"}}class CE extends ge{constructor(){super({className:["default-component"]}),this._initializeSession()}_initializeSession(){try{if(this.session=Ss.isAuthenticated(),!this.session){sr.instance.to("/auth");return}this.loggedUser=Ss.getCurrentUser()}catch(e){console.error("Session initialization failed:",e),sr.instance.to("/auth")}}createNavBar(){var e,t,n;return new TE({fixed:!0,theme:ht.navbar.type.primary,brand:{logo:this._createBrand()},style:{width:"98%",margin:"auto",borderRadius:"5rem",marginTop:"1rem"},items:[this._createNavLink({text:"Dashboard",to:"/"}),this._createNavLink({text:"Propriedades",to:"/properties"}),this._createNavLink({text:"Visitas",to:"/activities/visits"}),this._createNavLink({text:"Tarefas",to:"/activities/tasks"}),this._createNavLink({text:"Configuraes",to:"/configurations"})],actions:[new Je({rowStyle:{alignItems:"center"},children:[this._renderAvatarBadgeCell((e=this.loggedUser)==null?void 0:e.name),new Ge({gap:0,style:{flex:"1"},children:[new ze({text:(t=this.loggedUser)==null?void 0:t.username,style:{color:"#fff",fontSize:"0.7rem"}}),new ze({text:(n=this.loggedUser)==null?void 0:n.role,style:{color:"#fff",fontSize:"0.6rem"}})]})]})]})}_createBrand(){return new yt({style:{display:"flex",alignItems:"center",gap:"5px"},children:[new Ac({src:new URL("/assets/images/logo.png",import.meta.url),rounded:!0,border:!0,style:{width:"2rem"}}),new ze({text:"Casa Coimbra",style:{color:"#fff",fontSize:"0.8rem"}})]})}_createNavLink({text:e="",to:t="",dropdown:n=[]}){return{text:e,style:{fontSize:"0.8rem"},onClick:()=>{sr.instance.to(t)}}}createHero(){return new yt({className:["default-hero-style"]})}createPage(){return new yt({className:["default-style"],children:[new yt({style:{padding:"1rem",paddingTop:"calc(5rem + 20px)"},children:[...this.children]})]})}_renderAvatarBadgeCell(e,t=!0){const n=e||"Convidado";return bn.createAvatarBadge(n,{emptyName:"Sem cliente",emptyBackgroundColor:"#e9ecef",emptyTextColor:"#6c757d",size:t?"small":"medium",style:t?{size:"24px",fontSize:"0.6rem"}:void 0})}render(){return this.children=[this.createNavBar(),this.createPage()],super.render()}}class Af extends yt{constructor({theme:e="success",label:t="",value:n=0,icon:i=null}={}){super({className:["card-kpi-component",e]}),this.label=t,this.icon=i,this.value=typeof n=="string"?n:String(n)}createKPIContent(){return new yt({className:["kpi-content-component"],children:[this.createLabel(),this.icon]})}createLabel(){return new ze({className:["kpi-label-component"],text:this.label})}createValue(){return new ze({className:["kpi-value-component"],text:this.value})}createBottomGradient(){return new yt({className:["kpi-border-bottom-gradient"]})}render(){return this.children=[this.createKPIContent(),this.createValue(),this.createBottomGradient()],super.render()}}class et extends ge{constructor({tag:e="i",icon:t="",className:n=[],style:i={},props:s={},events:a={}}={}){super({tagName:e,style:i});const o=this.parseIconClasses(t);this.className=[...this.className,...this.createIconClasses(o,n)],this.props={...this.props,...this.createIconProps(s)},this.events={...this.events,...this.createIconEvents(a)},this.storeIconConfig(e,t,o)}validateIconParameters(e,t){if(typeof e!="string")throw new Error("icon parameter in Icon widget expects a string of classes");if(typeof t!="string")throw new Error("tag parameter in Icon widget expects a string")}parseIconClasses(e){return e.split(" ").flatMap(t=>t.split(" ")).filter(Boolean)}createIconClasses(e,t){return[...e,...t]}createIconStyles(e){return new ci({...e})}createIconProps(e){return{...e}}createIconEvents(e){return{...e}}storeIconConfig(e,t,n){this.tag=e,this.icon=t,this.iconClasses=n}setIcon(e){this.validateIconParameters(e,this.tag);const t=this.parseIconClasses(e);this.rootElement&&(this.iconClasses.forEach(n=>{this.rootElement.classList.remove(n)}),t.forEach(n=>{this.rootElement.classList.add(n)})),this.icon=e,this.iconClasses=t}}class Fl extends ge{constructor({icon:e=null,label:t=null,image:n=null,theme:i=ht.button.type.primary,size:s=ht.button.size.medium,reverse:a=!1,onPressed:o=null,style:c={},className:h=[],disabled:u=!1,props:p={},onBeforeCreated:g=null,onCreated:d=null,onBeforeAttached:_=null,onAttached:y=null,onMounted:b=null}={}){super({tagName:"button",style:c,events:{click:E=>{!u&&o&&o(E)}},props:{type:"button",...p},onBeforeCreated:E=>{g==null||g(E)},onCreated:(E,D)=>{d==null||d(E,D)},onBeforeAttached:(E,D)=>{_==null||_(E,D)},onAttached:(E,D)=>{this.setupIconButtonState(E,u),y==null||y(E,{},D)},onMounted:(E,D)=>{b==null||b(E,{},D)}}),this.children=this.createIconButtonChildren(e,t,n,a),this.className=this.createIconButtonClasses(i,s,h),this.storeIconButtonConfig(e,t,n,i,s,a,u)}createIconButtonChildren(e,t,n,i){const s=[];return n?s.push(this.createImageElement(n)):e&&s.push(e),t&&s.push(t),i?s.reverse():s}createImageElement(e){return new ge({tagName:"img",props:{src:e,alt:"button icon"},style:{width:"100%",height:"100%",objectFit:"contain"}})}createIconButtonClasses(e,t,n){return["icon-button",e,t,...n]}setupIconButtonState(e,t){e.disabled=t}storeIconButtonConfig(e,t,n,i,s,a,o){this.icon=e,this.label=t,this.image=n,this.theme=i,this.size=s,this.reverse=a,this.disabled=o}setDisabled(e){this.disabled=e,this.rootElement&&(this.rootElement.disabled=e)}}class Wm extends ze{constructor({text:e="",style:t={},className:n=[]}={}){super({text:e,style:t,className:["header-subtitle-component",...n]})}}class mi extends ze{constructor({text:e="",style:t={},className:n=[]}={}){super({text:e,style:t,className:["header-title-component",...n]})}}class Es extends yt{constructor({leading:e=null,title:t="",subtitle:n="",onFilter:i=null,onExport:s=null,onBack:a=null}={}){super({className:["content-header-component"]}),this.leading=e,this.title=t,this.subtitle=n,this.onFilter=i,this.onExport=s,this.onBack=a}createActions(){return new yt({className:["content-header-actions-component"],children:[this.onFilter?new Fl({style:{gap:"10px"},className:["actions-filter-component"],onPressed:this.onFilter,label:"Filtrar",icon:new et({icon:"fa-solid fa-filter"})}):null,this.onExport?new Fl({style:{gap:"10px"},className:["actions-sort-component"],onPressed:this.onExport,label:"Exportar",icon:new et({icon:"fa-solid fa-download"})}):null,this.onBack?new Fl({style:{gap:"10px"},className:["actions-back-component"],onPressed:this.onBack,label:"Voltar",icon:new et({icon:"fa-solid fa-arrow-left"})}):null].filter(Boolean)})}onUpdate(){super.update()}render(){return this.children=[new Ge({children:[new yt({style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"10px"},children:[this.leading?this.leading:null,new Ge({children:[this.title instanceof ge?this.title:new mi({style:{lineHeight:"1"},text:this.title}),this.subtitle instanceof ge?this.subtitle:new Wm({style:{lineHeight:"1.4"},text:this.subtitle})]})]})]}),this.createActions()],super.render()}}let kE=class extends ge{constructor(){super()}createPage(){return new Je({children:[new ft({breakpoints:{lg:3},children:[new Af({label:"Imoveis activos",value:0})]}),new ft({breakpoints:{lg:3},children:[new Af({theme:"danger",label:"Imoveis inactivos",value:0})]}),new ft({breakpoints:{lg:3},children:[new Af({theme:"info",label:"Imoveis arrendados",value:0})]}),new ft({breakpoints:{lg:3},children:[new Af({theme:"info",label:"Imoveis vendidos",value:0})]})]})}render(){return this.children=[new Es({title:"Dashboard",subtitle:"Viso geral",onFilter:()=>{}}),this.createPage()],super.render()}};class kn extends ge{constructor({theme:e=ht.card.type.primary,size:t=ht.card.size.medium,header:n=null,body:i=null,footer:s=null,style:a={},events:o={},className:c=[],headerClassName:h=[],bodyClassName:u=[],footerClassName:p=[],headerStyle:g={},bodyStyle:d={},footerStyle:_={},props:y={},onBeforeCreated:b=null,onCreated:E=null,onBeforeAttached:D=null,onAttached:N=null}={}){super({tagName:"div",style:{...a},className:["card-widget",e,t,...c],props:{"aria-label":"Card",...y},events:o,onBeforeCreated:I=>{b==null||b(I)},onCreated:(I,X)=>{E==null||E(I,X)},onBeforeAttached:(I,X)=>{D==null||D(I,X)},onAttached:(I,X)=>{const he=this.headerElement,G=this.bodyElement,q=this.footerElement;N==null||N(I,{headerElement:he,bodyElement:G,footerElement:q},X)}}),this.header=n,this.body=i,this.footer=s,this.headerClassName=h,this.bodyClassName=u,this.footerClassName=p,this.headerStyle=g,this.bodyStyle=d,this.footerStyle=_}createHeader(){if(!this.header)return null;if(!this.header instanceof ge)throw new Error("Please provide an Basewidget to the header");const e=Array.isArray(this.header)?this.header:[this.header];return new ge({tagName:"header",style:this.headerStyle,className:["card-header-widget",...this.headerClassName],children:e,onAttached:t=>{this.headerElement=t}})}createBody(){if(!this.body)return null;if(!this.body instanceof ge)throw new Error("Please provide an Basewidget to the body");const e=Array.isArray(this.body)?this.body:[this.body];return new ge({tagName:"div",style:{height:"100%",...this.bodyStyle},className:["card-body-widget",...this.bodyClassName],children:e,onAttached:t=>{this.bodyElement=t}})}createFooter(){if(!this.footer)return null;if(!this.footer instanceof ge)throw new Error("Please provide an Basewidget to the footer");const e=Array.isArray(this.footer)?this.footer:[this.footer];return new ge({tagName:"footer",style:this.footerStyle,className:["card-footer-widget",...this.footerClassName],children:e,onAttached:t=>{this.footerElement=t}})}render(){return this.children=[this.createHeader(),this.createBody(),this.createFooter()].filter(Boolean),super.render()}}const kl=class kl extends ge{constructor({position:e=Fr.absolute.center,theme:t=ht.toast.type.success,message:n="Default message",duration:i=5e3,onClose:s=null,showLeadingIcon:a=!0,showCloseButton:o=!0,autoDismiss:c=!0,priority:h=0,style:u={},className:p=[],props:g={},id:d="toast-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,9))}={}){super({tagName:"div",className:["toast-container-widget"]}),this.position=e,this.theme=t,this.message=n,this.duration=i,this.onClose=s,this.showLeadingIcon=a,this.showCloseButton=o,this.autoDismiss=c,this.priority=h,this.id=d,this.config={style:u,props:g,className:p},this.toastElement=null}createToastWidget(){return new ge({tagName:"div",className:["toast-widget",this.theme,...this.config.className],props:{role:"alert","aria-live":"assertive","aria-atomic":"true","data-toast-id":this.id,...this.config.props},style:{opacity:"0",transform:"translateY(-20px)",...this.config.style},children:[this.showLeadingIcon?this.createIcon():null,this.createMessage(),this.showCloseButton?this.createCloseButton():null,this.autoDismiss?this.createProgressBar():null].filter(Boolean),onAttached:e=>this.setupToastLifecycle(e)})}createMessage(){return new ge({tagName:"span",className:["toast-message-widget"],children:[this.message]})}createProgressBar(){return new ge({tagName:"div",className:["toast-progress-bar-widget"],style:{width:"100%"}})}createIcon(){return new ge({tagName:"span",className:["toast-icon-widget"],props:{"aria-hidden":"true"}})}createCloseButton(){return new ge({tagName:"span",children:[""],className:["toast-close-icon-widget"],events:{click:e=>{e.stopPropagation(),this.dismiss()}},onAttached:e=>{e.insertAdjacentHTML("beforeend",'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>')}})}getSharedContainer(){if(!kl.containers.has(this.position)){const e=new ge({tagName:"div",className:["toast-container-widget",this.position]});kl.containers.set(this.position,{widget:e,toasts:[]}),document.body.appendChild(e.render())}return kl.containers.get(this.position)}show(){const e=this.getSharedContainer(),t=e.widget.render(),n=this.createToastWidget();e.toasts.push({widget:n,priority:this.priority}),e.toasts.sort((i,s)=>s.priority-i.priority),t.innerHTML="",e.toasts.forEach(({widget:i})=>{i instanceof ge&&t.appendChild(i.render())})}setupToastLifecycle(e){if(this.toastElement=e,!this.autoDismiss){this.animateIn(e);return}this.setupAutoDismiss(e)}setupAutoDismiss(e){let t,n=e.querySelector(".toast-progress-bar-widget"),i=Date.now(),s=this.duration,a=!1;const o=()=>{a||(t=setTimeout(()=>this.dismissToast(e),s),n&&this.animateProgressBar(n,s))},c=()=>{a=!0,clearTimeout(t),s-=Date.now()-i,n&&(n.style.transition="none",n.style.width="".concat(s/this.duration*100,"%"))},h=()=>{a&&(a=!1,i=Date.now(),o())};this.animateIn(e),this.setupEventListeners(e,c,h),o()}setupEventListeners(e,t,n){e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n),e.addEventListener("focusin",t),e.addEventListener("focusout",n)}animateIn(e){requestAnimationFrame(()=>{e.style.transition="opacity 300ms ease, transform 300ms ease",e.style.opacity="1",e.style.transform="translateY(0)"})}animateProgressBar(e,t){e.style.transition="width ".concat(t,"ms linear"),requestAnimationFrame(()=>{e.style.width="0%"})}dismissToast(e){e.style.transition="opacity 300ms ease, transform 300ms ease",e.style.opacity="0",e.style.transform="translateY(-20px)",setTimeout(()=>{this.removeToastFromContainer(e),this.onClose&&this.onClose()},300)}removeToastFromContainer(e){const t=kl.containers.get(this.position);t&&(t.toasts=t.toasts.filter(({widget:n})=>n.render().dataset.toastId!==this.id),e.remove(),t.toasts.length===0&&(t.widget.render().remove(),kl.containers.delete(this.position)))}updateMessage(e){this.message=e;const t=document.querySelector('[data-toast-id="'.concat(this.id,'"]'));if(t){const n=t.querySelector(".toast-message-widget");n&&(n.textContent=e)}}dismiss(){const e=document.querySelector('[data-toast-id="'.concat(this.id,'"]'));e&&this.dismissToast(e)}};dt(kl,"containers",new Map);let qo=kl;class Iu extends ge{constructor({showCloseIcon:e=!0,content:t=[],style:n={},className:i=[],props:s={},dismissable:a=!1}={}){super({}),this.modal=this.createModal(e,Array.isArray(t)?t:[t],n,i,s,a),this.modal._isRootElement=!0}createModal(e,t,n,i,s,a){return new Hm({position:Fr.flex.bottom,dismissable:a,showCloseIcon:e,style:n,className:["bottomsheet-widget","translateY",...i],props:s,content:[this.createHandle(),...t]})}createHandle(){return new ge({tagName:"div",className:["bottomsheet-handle-widget"],events:{click:()=>{this.close()}}})}show(){this.modal.show()}close(){this.modal.close()}}const zo={buttons:{tableButton:{width:"auto",height:"auto!important"}},alerts:{default:{width:"100%"}},bottomSheets:{fullScreen:{minHeight:"100dvh",width:"100dvw"}},table:{text:{fontWeight:"400",fontSize:".85rem"},number:{fontWeight:"500",fontSize:".95rem",textAlign:"right",color:"rgb(78, 84, 200)!important"},date:{color:"#6c757d",fontSize:"0.95rem",textAlign:"center"},actionsColumn:{justifyContent:"flex-end"}},iframe:{fullHeight:{height:"100dvh"}}},hu={view:"Visualizar",approve:"Aprovar",reject:"Rejeitar",close:"Fechar",confirm:"Sim, confirmo"},mu={pending:{label:"Pendente",backgroundColor:"#ffc107",textColor:"#000"},in_progress:{label:"Em progresso",backgroundColor:"#0dcaf0",textColor:"#fff"},completed:{label:"Concluda",backgroundColor:"#198754",textColor:"#fff"},cancelled:{label:"Cancelada",backgroundColor:"#dc3545",textColor:"#fff"},low:{label:"Baixa",backgroundColor:"#6c757d",textColor:"#fff"},normal:{label:"Normal",backgroundColor:"#0d6efd",textColor:"#fff"},high:{label:"Alta",backgroundColor:"#fd7e14",textColor:"#fff"},urgent:{label:"Urgente",backgroundColor:"#dc3545",textColor:"#fff"},active:{label:"Ativo",backgroundColor:"rgba(46, 125, 50, 0.9)",textColor:"#e8f5e8"},inactive:{label:"Inativo",backgroundColor:"rgba(198, 40, 40, 0.9)",textColor:"#ffebee"},rented:{label:"Arrendado",backgroundColor:"rgba(21, 101, 192, 0.9)",textColor:"#e3f2fd"},sold:{label:"Vendido",backgroundColor:"rgba(239, 108, 0, 0.9)",textColor:"#fff3e0"}};class $e{static createPrimaryButton({label:e="",onPressed:t=null}={}){return this._createActionButton({label:e,onPressed:t,theme:ht.button.type.primary})}static createDangerButton({label:e="",onPressed:t=null}={}){return this._createActionButton({label:e,onPressed:t,theme:ht.button.type.danger})}static createViewButton({label:e=hu.view,onPressed:t=null}={}){return this._createTableButton({label:e,onPressed:t,theme:ht.button.type.secondary})}static createApproveButton({label:e=hu.approve,onPressed:t=null}={}){return this._createTableButton({label:e,onPressed:t,theme:ht.button.type.primary})}static createRejectButton({label:e=hu.reject,onPressed:t=null}={}){return this._createTableButton({label:e,onPressed:t,theme:ht.button.type.danger})}static showInfoAlert({message:e=""}={}){return this._createAlert({message:e,type:ht.alert.type.info})}static showSuccessAlert({message:e=""}={}){return this._createAlert({message:e,type:ht.alert.type.success})}static showErrorAlert({message:e=""}={}){return this._createAlert({message:e,type:ht.alert.type.error})}static showSuccessNotification({message:e=""}={}){return new qo({message:e,theme:ht.toast.type.success}).show()}static showErrorNotification({message:e=""}={}){return new qo({message:e,theme:ht.toast.type.error}).show()}static showWarningNotification({message:e=""}={}){return new qo({message:e,theme:ht.toast.type.warning}).show()}static showInfoNotification({message:e=""}={}){return new qo({message:e,theme:ht.toast.type.info}).show()}static showConfirmationDialog({title:e,subtitle:t,body:n=[],confirmLabel:i=hu.confirm,cancelLabel:s=hu.close,onConfirm:a,onCancel:o}={}){const c=[new Es({title:e,subtitle:t}),...n,new Je({gap:"5px",rowStyle:{justifyContent:"center"},children:[this.createPrimaryButton({label:i,onPressed:a}),this.createDangerButton({label:s,onPressed:o})]})];return this.showOffCanvas({content:c,style:{alignItems:"center",justifyContent:"center",display:"flex",flexDirection:"column"}})}static showBottomSheet({content:e}){const t=new Iu({style:{maxWidth:"600px"},content:e});return t.show(),t}static showOffCanvas({content:e,style:t={}}){const n=new qn({style:{maxWidth:"600px",...t},content:e});return n.show(),n}static showDocumentPreview({title:e="",src:t=null,employerId:n=""}={}){const i=t||"".concat(APIEndpoints.ASSETS_ENV,"/").concat(n,"/documents/").concat(t),s=[new ze({text:e}),new ge({tagName:"iframe",style:zo.iframe.fullHeight,props:{src:i}})];return this.showBottomSheet({style:zo.bottomSheets.fullScreen,content:s})}static createLoadingSpinner({height:e="250px"}={}){return new yt({style:e,children:[new zl({children:[new Mc]})]})}static createTextColumn({label:e,key:t,width:n="auto",format:i=o=>o,filterable:s=!1,renderFn:a}={}){return this._createColumn({label:e,key:t,filterable:s,width:n,renderFn:(o,c)=>o?a?a(o,c):new ze({text:"".concat(i(o,c)),style:zo.table.text}):""})}static createNumberColumn({label:e,key:t,width:n="auto",format:i=a=>a,filterable:s=!1}={}){return this._createColumn({label:e,key:t,filterable:s,width:n,renderFn:a=>new ze({text:i(a),style:zo.table.number})})}static createMoneyColumn({label:e,key:t,width:n="auto",filterable:i=!1,symbol:s="MZN"}={}){return this._createColumn({label:e,key:t,filterable:i,width:n,renderFn:(a,o)=>{var c;return new ze({text:this.simpleCurrencyFormat(a,(c=o==null?void 0:o.currencies)==null?void 0:c.code),style:zo.table.number})}})}static createStatusColumn({label:e,key:t,width:n="auto",format:i=o=>o,filterable:s=!1,renderFn:a=null}={}){return this._createColumn({label:e,key:t,filterable:s,width:n,renderFn:o=>a?a(o):$e.createBadge(o)})}static createBadge(e){var t,n,i;return new yt({style:{background:"transaprent!important",backgroundColor:(t=mu[e])==null?void 0:t.backgroundColor,padding:"0.25rem 0.75rem",borderRadius:"12px",display:"inline-block",width:"fit-content"},children:[new ze({text:(n=mu[e])==null?void 0:n.label,style:{color:"".concat((i=mu[e])==null?void 0:i.textColor,"!important"),fontSize:"0.7rem",fontWeight:"bold"}})]})}static createDateColumn({label:e,key:t,width:n="auto",filterable:i=!1}={}){return this._createColumn({label:e,key:t,filterable:i,width:n,renderFn:s=>new ze({style:zo.table.date})})}static createActionsColumn({label:e="",key:t="id",rowStyle:n={},width:i={},actions:s=[]}={}){return{label:e,key:t,style:{width:i},renderFn:(a,o)=>new Je({gap:"5px",rowStyle:{...zo.table.actionsColumn,...n},children:s.map(c=>{let h=!1;c.hasOwnProperty("disabled")&&(typeof(c==null?void 0:c.disabled)=="function"?h=c==null?void 0:c.disabled(a,o):h=!!(c!=null&&c.disabled));const u=this._createTableButton({label:c==null?void 0:c.label,theme:(c==null?void 0:c.theme)||ht.button.type.secondary,size:(c==null?void 0:c.size)||ht.button.size.small,disabled:h,onPressed:()=>c.onAction(a,o)});return c!=null&&c.style&&(u.style={...u.style,...c==null?void 0:c.style}),u})})}}static _createActionButton({label:e,style:t,onPressed:n,theme:i}){return new Qr({label:e,theme:i,onPressed:n})}static _createTableButton({label:e,style:t,disabled:n=!1,onPressed:i,theme:s}={}){return new Qr({style:{...zo.buttons.tableButton,...t},label:e,size:ht.button.size.small,theme:s,disabled:n,onPressed:i})}static _createAlert({message:e,type:t}){return new Alert({style:zo.alerts.default,theme:t,message:e})}static _createColumn({label:e,key:t,width:n,renderFn:i}){return{label:e,key:t,style:{width:n},renderFn:i}}static _getBadgeTheme(e){var t;return(t=mu[e])==null?void 0:t.theme}static numericValue(e,t=".",n=","){if(!e)return 0;const i=a=>a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),s=e.toString().replace(new RegExp(i(n),"g"),"").replace(new RegExp(i(t)),".").replace(/[^\d.]/g,"");return parseFloat(s)||0}static simpleCurrencyFormat(e,t="MZN ",n=".",i=","){if(e==null||e==="")return t+"0"+n+"00";e=Math.round(e*100)/100;const s=e.toString().split(".");let a=s[0],o=s.length>1?s[1]:"00";return o.length<2&&(o=o.padEnd(2,"0")),a=a.replace(/\B(?=(\d{3})+(?!\d))/g,i),t+" "+a+n+o}static formatNumberInput(e){const t=e.selectionStart;let n=e.value.replace(/[^\d]/g,"");const i=parseFloat(n)/100;e.value=Helper.simpleCurrencyFormat(i);const s=e.value.length,a=t+(s-(n.length+1));e.setSelectionRange(Math.max(0,a),Math.max(0,a))}static debounce(e,t=DEFAULT_DEBOUNCE_MS){let n;return(...i)=>{clearTimeout(n),n=setTimeout(()=>e(...i),t)}}}class DE{constructor({onValidate:e,onSubmit:t,onError:n,onSuccess:i,onInvalid:s}={}){this.onValidate=e==null?void 0:e.bind(this),this.onSubmit=t==null?void 0:t.bind(this),this.onError=n==null?void 0:n.bind(this),this.onSuccess=i==null?void 0:i.bind(this),this.onInvalid=s==null?void 0:s.bind(this),this._validationTimeouts=new Map,this._inputs=new Map,this._isValidating=!1,this._isSubmitting=!1,this._submitPromise=null}register(e){var i;if(!e.id){console.warn("Input must have an ID to be registered");return}if(this._inputs.has(e.id))return;this._inputs.set(e.id,e);const t=e.validate.bind(e);e.validate=async s=>{const a=await t(s);return this.onInputValidated(e.id,a),a};const n=((i=e.onDetached)==null?void 0:i.bind(e))||(()=>{});e.onDetached=()=>{this._inputs.delete(e.id),n()}}unregister(e){this._inputs.delete(e)}get inputs(){return Array.from(this._inputs.values())}getFormData(){const e={};for(const[t,n]of this._inputs){const i=n.name||t;e[i]=n.value}return e}async validateAll({focusFirstInvalid:e=!0}={}){var i;this._isValidating=!0;const n=(await Promise.all(this.inputs.map(s=>s.validate({force:!0})))).every(s=>s.isValid);return this._isValidating=!1,(i=this.onValidate)==null||i.call(this,n),!n&&e&&await this.focusFirstInvalid(),n}async validate(){try{await this.validateAll({focusFirstInvalid:!0});const e=this.inputs.map(async n=>{var i;try{const s=await((i=n.validate)==null?void 0:i.call(n,{force:!0}));return{key:n.name||n.id,error:s.error,isValid:s.isValid}}catch(s){return console.warn("Validation failed for input ".concat(n.name||n.id,":"),s),{key:n.name||n.id,error:"Validation error",isValid:!1}}})||[],t=await Promise.all(e);return this._errors={},t.forEach(({key:n,error:i})=>{i&&(this._errors[n]=i)}),this._errors}catch(e){return console.error("Form validation failed:",e),{}}}async submit(e){var i;if(e&&(e.preventDefault(),e.stopPropagation()),this._isSubmitting)return this._submitPromise;if(!await this.validateAll({focusFirstInvalid:!0}))return(i=this.onInvalid)==null||i.call(this),!1;this._isSubmitting=!0,this._submitPromise=this.performSubmit();const n=await this._submitPromise;return this._isSubmitting=!1,this._submitPromise=null,n}async performSubmit(){var t,n;const e=this.getFormData();try{const i=this.onSubmit?await this.onSubmit(e):null;return(t=this.onSuccess)==null||t.call(this,e,i),{success:!0,data:e,response:i}}catch(i){const s=this.extractServerErrors(i);return s&&this.applyServerErrors(s),(n=this.onError)==null||n.call(this,i,e),{success:!1,error:i,data:e}}}reset(){this.inputs.forEach(e=>e.reset()),this.clearServerErrors()}async focusFirstInvalid(){for(const e of this.inputs){if(!e.validate)continue;const t=await e.validate({force:!0});if(!t){console.log(e,t),e.focus();break}}}onInputValidated(e,t){this._validationTimeouts.has(e)&&clearTimeout(this._validationTimeouts.get(e)),this._validationTimeouts.set(e,setTimeout(()=>{this._validationTimeouts.delete(e)},300))}applyServerErrors(e){this.clearServerErrors();for(const[t,n]of e){const i=this.findInputByName(t);i&&(i.errorMessage=n,i.validate({force:!0}))}}clearServerErrors(){this.inputs.forEach(e=>{e.errorMessage=null})}findInputByName(e){let t=null;for(const n of this.inputs){if(n.name===e)return n;n.id===e&&(t=n)}return t}extractServerErrors(e){const t=e.response||e.data||e;if(!t||typeof t!="object")return null;const n=new Map;return t.errors&&typeof t.errors=="object"&&Object.entries(t.errors).forEach(([i,s])=>{n.set(i,Array.isArray(s)?s[0]:s)}),Object.entries(t).forEach(([i,s])=>{Array.isArray(s)&&s.length>0?n.set(i,s[0]):typeof s=="string"&&n.set(i,s)}),n.size>0?n:null}cancelSubmit(){this._isSubmitting=!1,this._submitPromise=null}get isValidating(){return this._isValidating}get isSubmitting(){return this._isSubmitting}get hasErrors(){return this.inputs.some(e=>!e.validate())}}class zh extends ge{constructor({inputType:e="text",value:t=null,name:n="",id:i="input-".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,5)),label:s="",required:a=!1,disabled:o=!1,validation:c=null,errorMessage:h="This field is required",style:u={},className:p=[],props:g={},events:d={},onChange:_=null,onFocus:y=null,onBlur:b=null,onGet:E=null,onSet:D=null,onBeforeCreated:N=null,onCreated:I=null,onBeforeAttached:X=null,onAttached:he=null,onMounted:G=null}={}){super({tagName:"div",className:[...p],props:g,onBeforeCreated:N,onCreated:I,onBeforeAttached:X,onAttached:(q,O)=>{he==null||he(q,this.getElementReferences(),O)},onMounted:(q,O)=>{this.syncValueToInput(),this.updateUI(),(this.onSet||this.value)&&this.validate(),G==null||G(q,this.getElementReferences(),O)}}),this.handleInputBound=this.handleInput.bind(this),this.handleBlurBound=this.handleBlur.bind(this),this.handleFocusBound=this.handleFocus.bind(this),this.id=i,this.inputType=e,this.size=ht.input.size.medium,this._value=t,this.name=n,this.required=a,this.validation=c,this.errorMessage=h,this.disabled=o,this.label=s,this.onChange=_,this.onFocus=y,this.onBlur=b,this.onGet=E,this.onSet=D,this.inputElement=null,this.labelElement=null,this.errorElement=null,this.config={style:u,className:p,props:{id:this.id,name:this.name,disabled:this.disabled,required:this.required,...g},events:d}}getElementReferences(){return{inputElement:this.inputElement,labelElement:this.labelElement,errorElement:this.errorElement,container:this.element}}createLabel({labelClass:e="input-label-widget",additionalProps:t={}}={}){return this.label?new ge({tagName:"label",props:{for:this.id,...t},className:Array.isArray(e)?e:[e],children:[this.label],onAttached:n=>{this.labelElement=n}}):null}createInput({inputClass:e="input-widget",additionalProps:t={},style:n={}}={}){return new ge({tagName:"input",props:{autocomplete:"off",type:this.inputType,"aria-invalid":"false","aria-describedby":"".concat(this.id,"-error"),...this.config.props,...t},className:[e,this.size,...this.config.className],style:{...this.config.style,...n},events:{input:this.handleInputBound,blur:this.handleBlurBound,focus:this.handleFocusBound,...this.config.events},onAttached:i=>{this.inputElement=i,i.disabled=this.disabled,this.syncValueToInput()}})}createError({errorClass:e="input-error-message-widget",additionalProps:t={}}={}){return new ge({tagName:"div",props:{id:"".concat(this.id,"-error"),role:"alert","aria-live":"assertive",...t},className:[e],style:{display:"none"},onAttached:n=>{this.errorElement=n}})}handleInput(e){var i;const t=e.target.value,n=this.onSet?this.onSet.call(this,t):t;this._value=n,(i=this.onChange)==null||i.call(this,n,e),this.updateUI(),this.validate()}handleBlur(e){var t;(t=this.onBlur)==null||t.call(this,e),this.validate(),this.updateUI()}handleFocus(e){var t;(t=this.onFocus)==null||t.call(this,e),this.errorElement&&(this.errorElement.style.display="none"),this.updateUI()}async validate({validateClass:e="input-invalid-state-widget"}={}){if(!this.inputElement||!this.errorElement)return!0;let t=!0,n=this.errorMessage;if(this.required&&!this.hasValue()&&(t=!1),typeof this.validation=="function"){const i=await this.validation(this._value);typeof i=="string"?(t=!1,n=i):i||(t=!0)}return this.inputElement.classList.toggle(e,!t),this.inputElement.setAttribute("aria-invalid",String(!t)),this.errorElement.textContent=t?"":n,this.errorElement.style.display=t?"none":"block",{isValid:t,error:t?null:n}}hasValue(){return this._value===null||this._value===void 0?!1:typeof this._value=="string"?this._value.trim().length>0:typeof this._value=="number"?!0:Array.isArray(this._value)?this._value.length>0:!!this._value}isFocused(){return document.activeElement==this.inputElement}updateUI({filledStateClass:e="input-empty-state",emptyStateClass:t="input-filled-state"}={}){if(!this.inputElement)return;const n=this.hasValue();this.inputElement.classList.toggle(e,n),this.inputElement.classList.toggle(t,!n)}syncValueToInput(){this.inputElement&&this._value!=null&&(this.inputElement.value=this._value)}get value(){return this.onGet?this.onGet.call(this,this._value):this._value}set value(e){const t=this.onSet?this.onSet.call(this,e):e,n=this._value!==t;this._value=t,this.inputElement&&(this.inputElement.value=t),n&&(this.updateUI(),this.validate())}detach(){this.inputElement&&(this.inputElement.removeEventListener("input",this.handleInputBound),this.inputElement.removeEventListener("blur",this.handleBlurBound),this.inputElement.removeEventListener("focus",this.handleFocusBound)),super.detach()}focus(){var e;(e=this.inputElement)==null||e.focus()}blur(){var e;(e=this.inputElement)==null||e.blur()}reset(){this.value=null,this.validate(),this.updateUI()}enable(){this.disabled=!1,this.inputElement&&(this.inputElement.disabled=!1)}disable(){this.disabled=!0,this.inputElement&&(this.inputElement.disabled=!0)}}class Zu extends zh{constructor(e){super({...e}),this.className=["input-outter-container-widget"],this.options=e,this.initializeIcons()}initializeIcons(){[this.options.prefixIcon,this.options.suffixIcon].forEach((e,t)=>{e instanceof ge&&(Object.assign(e.style.styles,{position:"absolute",[t===0?"left":"right"]:"12px",zIndex:"1",pointerEvents:"auto"}),e&&e.className&&(e.className=[...e.className]),e.onAttached=(n,i)=>{t===0?this.prefixIconElement=n:this.suffixIconElement=n})})}createInputContainer(){var e,t;return new ge({tagName:"div",className:["input-inner-container-widget",this.options.themes||ht.input.type.default],children:[this.options.prefixIcon,this.createInput({additionalProps:{placeholder:!((e=this.options)!=null&&e.label)&&(((t=this.options)==null?void 0:t.placeholder)||"Please enter your text...")},style:{paddingLeft:this.options.prefixIcon?"2rem":""}}),this.options.suffixIcon,this.createLabel()].filter(Boolean)})}updateUI(){super.updateUI()}render(){return this.children=[this.createInputContainer(),this.createError()],super.render()}}class ta{constructor(){this._form=null}attach(e){this._form=e}get form(){return this._form}get validator(){var e,t;return(t=(e=this._form)==null?void 0:e.validator)!=null?t:null}submit(){var e;(e=this.validator)==null||e.submit()}getValues(){var e,t;return(t=(e=this.validator)==null?void 0:e.getFormData())!=null?t:{}}getField(e){var n;const t=(n=this.validator)==null?void 0:n.findInputByName(e);return t?{[e]:t.value}:{[e]:void 0}}getInput(e){var t;return(t=this.validator)==null?void 0:t.findInputByName(e)}getFields(){var e;return(e=this.validator)==null?void 0:e.inputs}updateValues(e={}){var t;(t=this.validator)==null||t.inputs.forEach(n=>{e[n.name]!==void 0&&(n.value=e[n.name])})}setFieldValue(e,t){var i;const n=(i=this.validator)==null?void 0:i.findInputByName(e);n.value=t}setInitialValues(e={}){var t;(t=this._form)==null||t.setInitialValues(e)}async isValid(){var e;try{const t=await((e=this.validator)==null?void 0:e.validate());return!Object.keys(t).length}catch(t){return console.error("Validation error:",t),!1}}reset(){var e,t,n,i,s;(t=(e=this._form)==null?void 0:e.formElement)==null||t.reset(),(n=this.validator)==null||n.inputs.forEach(a=>a.reset()),this.updateValues((s=(i=this._form)==null?void 0:i.initialValues)!=null?s:{})}focusFirstInvalid(){var e,t;(t=(e=this.validator)==null?void 0:e.inputs.find(n=>{var i;return!((i=n.validate)!=null&&i.call(n,{force:!0}))}))==null||t.focus()}}class NE extends zh{constructor(e){const{checked:t=!1,labelPosition:n="right",groupName:i="radio-group",...s}=e;super({...s,inputType:"radio",value:t,name:i,onSet:a=>!!a}),this.labelPosition=n,this.groupName=i}createInput({inputClass:e="radio-input-widget",additionalProps:t={},additionalEvents:n={}}={}){return new ge({tagName:"input",props:{type:this.inputType,"aria-invalid":"false","aria-describedby":"".concat(this.id,"-error"),name:this.groupName,...this.config.props,...t},className:[e,...this.config.className,this.theme],style:{...this.config.style},events:{change:this.handleInputBound,blur:this.handleBlurBound,focus:this.handleFocusBound,...n},onAttached:i=>{this.inputElement=i,i.disabled=this.disabled,i.checked=!!this._value}})}handleInput(e){var i;const t=e.target.checked,n=this.onSet?this.onSet.call(this,t):t;this._value=n,(i=this.onChange)==null||i.call(this,n,e),this.updateUI(),this.validate()}syncValueToInput(){this.inputElement&&(this.inputElement.checked=!!this._value)}createRadioContainer(){const e=[this.createInput(),this.createLabel({labelClass:"radio-label-widget"})].filter(Boolean);return new ge({tagName:"div",props:{htmlFor:this.id},className:["radio-container-widget","radio-label-".concat(this.labelPosition)],style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 0",...(this.labelPosition==="top"||this.labelPosition==="bottom")&&{flexDirection:"column",alignItems:"flex-start"}},children:e,onAttached:t=>{this.labelElement=t}})}render(){return this.children=[this.createRadioContainer(),this.createError()],super.render()}updateUI(){if(!this.inputElement)return;const e=!!this._value;this.inputElement.classList.toggle("radio-checked",e),this.inputElement.classList.toggle("radio-unchecked",!e)}hasValue(){return!!this._value}select(){this.value=!0}}class s2 extends ge{constructor(e){super({...e,tagName:"div"}),this.className=["radio-group-widget","radio-group-".concat(e==null?void 0:e.layout)],this.name=(e==null?void 0:e.name)||"radio-group-".concat(Date.now()),this.radioOptions=(e==null?void 0:e.data)||[],this._value=e==null?void 0:e.value,this.layout=(e==null?void 0:e.layout)||"vertical",this.required=(e==null?void 0:e.required)||!1,this.onChange=e==null?void 0:e.onChange,this.radioInputs=[]}createRadioOptions(){return this.radioOptions.map((e,t)=>{const n="".concat(this.name,"-").concat(t),i=this._value===e.value,s=new NE({id:n,label:e.label,value:e.value,checked:i,groupName:this.name,disabled:e.disabled||!1,style:{padding:"0.5rem 0"},onChange:(a,o)=>{a&&(this._value=e.value,this.onRadioChange(e.value,o))}});return this.radioInputs.push(s),s})}onRadioChange(e,t){var n;this.radioInputs.forEach(i=>{i.value=i._value===e}),this._value=e,(n=this.onChange)==null||n.call(this,e,t)}render(){return this.children=[...this.createRadioOptions()],super.render()}get value(){return this._value}set value(e){this._value=e,this.radioInputs.forEach(t=>{t.value=t._value===e})}getSelectedOption(){return this.radioOptions.find(e=>e.value===this._value)}validate(){return!(this.required&&!this._value)}reset(){this.value=null,this.radioInputs.forEach(e=>{e.value=!1})}}class Bc extends zh{constructor(e,t=null){super({...e}),this.className=["text-area-outter-container-widget"],this.options=e}createInput({inputClass:e="text-area-widget",additionalProps:t={},additionalEvents:n={}}={}){var i,s,a,o,c,h,u;return new ge({tagName:"textarea",props:{id:this.id,"aria-invalid":"false","aria-describedby":"".concat(this.id,"-error"),rows:(i=this.options)==null?void 0:i.rows,cols:(s=this.options)==null?void 0:s.cols,maxLength:(a=this.options)==null?void 0:a.maxLength,...(o=this.options)==null?void 0:o.props,...t},className:[e,((c=this.options)==null?void 0:c.size)||ht.textArea.size.medium,,...this.config.className],style:{...(h=this.options)==null?void 0:h.style,paddingTop:"1.5rem",resize:((u=this.options)==null?void 0:u.resize)||"vertical"},events:{input:this.handleInputBound,blur:this.handleBlurBound,focus:this.handleFocusBound,...n},onAttached:p=>{this.inputElement=p,p.disabled=this.disabled,this.syncValueToInput()}})}createInputContainer(){var e,t,n;return new ge({tagName:"div",className:["text-area-inner-container-widget",((e=this.options)==null?void 0:e.themes)||ht.textArea.type.default],children:[this.createLabel({labelClass:"text-area-label-widget"}),this.createInput({additionalProps:{placeholder:!((t=this.options)!=null&&t.label)&&(((n=this.options)==null?void 0:n.placeholder)||"Please enter your text...")}})].filter(Boolean)})}validate(){return super.validate({validateClass:"text-area-invalid-state-widget"})}updateLabelState(){const e=this.hasValue(),t=this.isFocused();this.labelElement&&this.labelElement.classList.toggle("text-area-label-floating-widget",e||t)}render(){return this.children=[this.createInputContainer(),this.createError({errorClass:"text-area-error-message-widget"})],super.render()}updateUI(){super.updateUI(),this.updateLabelState()}}class Kd extends Zu{constructor(e){super({...e,inputType:"search",placeholder:(e==null?void 0:e.placeholder)||"Search...",onSet:t=>t,...e}),this.debounceTimeout=null,this.debounceDelay=(e==null?void 0:e.debounceDelay)||300}handleInput(e){const t=e.target.value,n=this.onSet?this.onSet.call(this,t):t;this._value=n,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{var i;(i=this.onChange)==null||i.call(this,n,e),this.updateUI(),this.validate()},this.debounceDelay)}updateLabelState(){const e=this.hasValue(),t=this.isFocused();this.labelElement&&this.labelElement.classList.toggle("input-label-floating-widget",e||t)}updateUI(){super.updateUI(),this.updateLabelState()}onDetached(){this.debounceTimeout&&clearTimeout(this.debounceTimeout),super.onDetached()}}class Ai extends zh{constructor(e){super({...e,inputType:"select",onSet:t=>e!=null&&e.multiple?Array.isArray(t)?t:[t].filter(Boolean):t}),this.className=["select-outter-container-widget"],this.selectOptions=(e==null?void 0:e.data)||[],this.multiple=(e==null?void 0:e.multiple)||!1,this.searchable=(e==null?void 0:e.searchable)||!0,this.placeholder=(e==null?void 0:e.placeholder)||"Select an option"}createInput({inputClass:e="select-widget"}={}){var t,n;return new ge({tagName:"select",props:{"aria-invalid":"false","aria-describedby":"".concat(this.id,"-error"),multiple:this.multiple,...this.config.props},className:[e,...((t=this.options)==null?void 0:t.size)||ht.select.size.medium,...this.config.className],style:new ci({...this.config.style,...this.multiple&&{height:"auto"}}),events:{change:this.handleInputBound,blur:this.handleBlurBound,focus:this.handleFocusBound,...(n=this.options)==null?void 0:n.events},onAttached:i=>{this.inputElement=i,i.disabled=this.disabled,this.populateOptions(),this.syncValueToInput()},onMounted:()=>{this.labelElement&&this.labelElement.classList.add("select-label-floating-widget")}})}createSearchInput({inputClass:e="input-widget"}={}){var t;return new Kd({placeholder:this.placeholder,className:[e,...((t=this.options)==null?void 0:t.size)||ht.input.size.medium,...this.config.className],onChange:(n,i)=>{this.handleInputBound(i)}})}populateOptions(){if(this.inputElement){if(this.inputElement.innerHTML="",!this.multiple&&this.placeholder){const e=new Option(this.placeholder,"",!0,!1);e.disabled=!0,e.hidden=!0,this.inputElement.appendChild(e)}this.selectOptions.forEach(e=>{const t=new Option(e.label||e.value,e.value,!1,this.isOptionSelected(e.value));if(e.disabled&&(t.disabled=!0),e.group){let n=this.inputElement.querySelector('optgroup[label="'.concat(e.group,'"]'));n||(n=document.createElement("optgroup"),n.label=e.group,this.inputElement.appendChild(n)),n.appendChild(t)}else this.inputElement.appendChild(t)})}}isOptionSelected(e){return this.multiple?Array.isArray(this._value)&&this._value.includes(e):this._value===e}handleInput(e){var s;let t;this.multiple?t=Array.from(e.target.selectedOptions).map(a=>a.value):t=e.target.value;const n=this.onSet?this.onSet.call(this,t):t;this._value=n;const i=e.target.selectedOptions[0];(s=this.onChange)==null||s.call(this,n,e,{value:i.value,label:i.innerText}),this.updateUI(),this.validate({validateClass:"select-invalid-state-widget"})}syncValueToInput(){this.inputElement&&(this.multiple&&Array.isArray(this._value)?Array.from(this.inputElement.options).forEach(e=>{e.selected=this._value.includes(e.value)}):this.inputElement.value=this._value||"")}createSelectContainer(){var e;return new ge({tagName:"div",className:["select-inner-container-widget",((e=this.options)==null?void 0:e.theme)||ht.select.type.default],children:[this.createLabel({labelClass:["select-label-widget","select-label-floating-widget"]}),this.createInput()].filter(Boolean)})}render(){return this.children=[this.createSelectContainer(),this.createError({errorClass:"select-error-message-widget"})],super.render()}updateUI(){super.updateUI({filledStateClass:"select-empty-state",emptyStateClass:"select-filled-state"})}hasValue(){return this.multiple?Array.isArray(this._value)&&this._value.length>0:super.hasValue()}addOption(e){this.selectOptions.push(e),this.inputElement&&this.populateOptions()}removeOption(e){this.selectOptions=this.selectOptions.filter(t=>t.value!==e),this.inputElement&&this.populateOptions()}clearOptions(){this.selectOptions=[],this.inputElement&&this.populateOptions()}getSelectedOptions(){return this.multiple?this.selectOptions.filter(e=>Array.isArray(this._value)&&this._value.includes(e.value)):this.selectOptions.filter(e=>e.value===this._value)}}const qa={undo:'<svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M3 7v6h6"></path><path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"></path></svg>',redo:'<svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M21 7v6h-6"></path><path d="M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3L21 13"></path></svg>',bold:'<svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M6 4h8a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path><path d="M6 12h9a4 4 0 0 1 4 4 4 4 0 0 1-4 4H6z"></path></svg>',italic:'<svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="4" x2="10" y2="4"></line><line x1="14" y1="20" x2="5" y2="20"></line><line x1="15" y1="4" x2="9" y2="20"></line></svg>',underline:'<svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M6 3v7a6 6 0 0 0 6 6 6 6 0 0 0 6-6V3"></path><line x1="4" y1="21" x2="20" y2="21"></line></svg>',alignLeft:'<svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><line x1="17" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="17" y1="18" x2="3" y2="18"></line></svg>',alignCenter:'<svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="10" x2="6" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="18" y1="18" x2="6" y2="18"></line></svg>',alignRight:'<svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><line x1="21" y1="10" x2="7" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="7" y2="18"></line></svg>',alignJustify:'<svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><line x1="21" y1="10" x2="3" y2="10"></line><line x1="21" y1="6" x2="3" y2="6"></line><line x1="21" y1="14" x2="3" y2="14"></line><line x1="21" y1="18" x2="3" y2="18"></line></svg>',ul:'<svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"><line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3.01" y2="6"></line><line x1="3" y1="12" x2="3.01" y2="12"></line><line x1="3" y1="18" x2="3.01" y2="18"></line></svg>',ol:'<svg viewBox="0 0 24 24" width="16" height="16" stroke="currentColor" stroke-width="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"><line x1="10" y1="6" x2="21" y2="6"></line><line x1="10" y1="12" x2="21" y2="12"></line><line x1="10" y1="18" x2="21" y2="18"></line><path d="M4 6h1v4"></path><path d="M4 10h2"></path><path d="M6 18H4c0-1 2-2 2-3s-1-1.5-2-1"></path></svg>'};class Hh extends Bc{constructor(e){super({...e}),this._value=e.value||"",this.className=["text-area-builder-outter-container-widget"],this.options={toolbar:!0,...e},this.toolbarElement=null,this.isSettingContent=!1}get value(){return this._value}set value(e){const t=e||"";this._value!==t&&(this._value=t,this.syncValueToInput(),this.updateUI())}createToolbar(){return this.options.toolbar?new ge({tagName:"section",className:["text-area-builder-toolbar"],children:[this.createButton({icon:qa.undo,title:"Undo",command:"undo",className:"btn-undo"}),this.createButton({icon:qa.redo,title:"Redo",command:"redo",className:"btn-redo"}),this.createSelect({title:"Formatting",command:"formatBlock",className:"select-format",options:[{label:"Normal",value:"p"},{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"}]}),this.createSelect({title:"Font Family",command:"fontName",className:"select-font",options:[{label:"Sans Serif",value:"Arial, Helvetica, sans-serif"},{label:"Serif",value:"'Times New Roman', Times, serif"},{label:"Monospace",value:"'Courier New', Courier, monospace"}]}),this.createSelect({title:"Size",command:"fontSize",className:"select-size",options:[{label:"Small",value:"2"},{label:"Normal",value:"3"},{label:"Large",value:"5"},{label:"Huge",value:"7"}]}),this.createButton({icon:qa.bold,title:"Bold",command:"bold",className:"btn-bold"}),this.createButton({icon:qa.italic,title:"Italic",command:"italic",className:"btn-italic"}),this.createButton({icon:qa.underline,title:"Underline",command:"underline",className:"btn-underline"}),this.createButton({icon:qa.alignLeft,title:"Left",command:"justifyLeft",className:"btn-left"}),this.createButton({icon:qa.alignCenter,title:"Center",command:"justifyCenter",className:"btn-center"}),this.createButton({icon:qa.alignRight,title:"Right",command:"justifyRight",className:"btn-right"}),this.createButton({icon:qa.alignJustify,title:"Justify",command:"justifyFull",className:"btn-justify"}),this.createButton({icon:qa.ul,title:"Bullet",command:"insertUnorderedList",className:"btn-ul"}),this.createButton({icon:qa.ol,title:"Numbered",command:"insertOrderedList",className:"btn-ol"})].filter(Boolean),onAttached:e=>{this.toolbarElement=e}}):null}createDivider(){return new ge({tagName:"div",className:["text-area-toolbar-divider"]})}createButtonGroup(e){return new ge({tagName:"div",className:["text-area-btn-group"],children:e})}createSelect({options:e,command:t,title:n,className:i}){return new Ai({className:Array.isArray(i)?i:[i],label:n,data:e,style:{height:"auto!important"},onChange:(s,a)=>{a.preventDefault(),this.applyFormatting(t,a.target.value)}})}createButton({icon:e,title:t,command:n,className:i}){return new Qr({className:["text-area-builder-button",i],theme:ht.button.type.default,size:ht.button.size.small,label:t,html:e,style:{height:"auto!important"},onPressed:s=>{s.preventDefault(),s.stopPropagation(),this.applyFormatting(n)}})}applyFormatting(e,t=null){if(this.inputElement&&this.isEditable())try{this.inputElement.focus(),document.execCommand(e,!1,t),this.handleInput(),this.updateToolbarState()}catch(n){console.error("Error applying ".concat(e,":"),n)}}isEditable(){return this.inputElement&&this.inputElement.contentEditable==="true"}createInput({inputClass:e="text-area-builder-widget",additionalProps:t={},additionalEvents:n={}}={}){var s,a,o,c,h,u,p;const i=!((s=this.options)!=null&&s.label)&&(((a=this.options)==null?void 0:a.placeholder)||"Type something...");return new ge({tagName:"div",props:{id:this.id,"aria-invalid":"false",contentEditable:"true","data-placeholder":i,...(o=this.options)==null?void 0:o.props,...t},className:[e,((c=this.options)==null?void 0:c.size)||ht.textArea.size.medium,...this.config.className],style:{...(h=this.options)==null?void 0:h.style,minHeight:(u=this.options)!=null&&u.rows?"".concat(this.options.rows*1.5,"em"):"120px",resize:((p=this.options)==null?void 0:p.resize)||"vertical",overflowY:"auto",whiteSpace:"pre-wrap",wordWrap:"break-word"},events:{input:this.handleInputBound,blur:this.handleBlurBound,focus:g=>{this.handleFocusBound(g),this.editorWrapper&&this.editorWrapper.classList.add("focused"),this.updateToolbarState()},blur:g=>{this.handleBlurBound(g),this.editorWrapper&&this.editorWrapper.classList.remove("focused")},mouseup:()=>this.updateToolbarState(),keyup:g=>{var d;this.updateToolbarState(),(d=n.keyup)==null||d.call(n,g)},keydown:g=>{var d;g.key==="Tab"&&(g.preventDefault(),this.insertTab()),(d=n.keydown)==null||d.call(n,g)},paste:g=>{var d;this.handlePaste(g),(d=n.paste)==null||d.call(n,g)},...n},onAttached:g=>{this.inputElement=g,this._value&&(this.isSettingContent=!0,g.innerHTML=this._value,this.isSettingContent=!1),this.setupMutationObserver()}})}handlePaste(e){e.preventDefault();const t=e.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t),this.handleInput()}insertTab(){this.inputElement&&this.isEditable()&&(document.execCommand("insertText",!1,"	"),this.handleInput())}setupMutationObserver(){this.inputElement&&(this.mutationObserver=new MutationObserver(()=>{this.isSettingContent||this.handleInput()}),this.mutationObserver.observe(this.inputElement,{childList:!0,subtree:!0,characterData:!0}))}createInputContainer(){var t;const e=new ge({tagName:"div",className:["text-area-builder-frame"],children:[this.createToolbar(),this.createInput()],onAttached:n=>{this.editorWrapper=n}});return new ge({tagName:"div",className:["text-area-builder-inner-container-widget",((t=this.options)==null?void 0:t.themes)||ht.textArea.type.default],children:[this.createLabel({labelClass:"text-area-label-widget"}),e].filter(Boolean)})}render(){return this.children=[this.createInputContainer(),this.createError({errorClass:"text-area-error-message-widget"})],super.render()}updateUI(){super.updateUI(),this.options.toolbar&&this.inputElement&&this.updateToolbarState()}updateToolbarState(){if(!this.isEditable()||!this.toolbarElement)return;const e={bold:".btn-bold",italic:".btn-italic",underline:".btn-underline",insertUnorderedList:".btn-ul",insertOrderedList:".btn-ol",justifyLeft:".btn-left",justifyCenter:".btn-center",justifyRight:".btn-right",justifyFull:".btn-justify"};Object.keys(e).forEach(t=>{const n=this.toolbarElement.querySelector(e[t]);if(console.log(n),n){const i=document.queryCommandState(t);n.classList.toggle("active",i),n.disabled=!this.isEditable()}});try{const t=this.toolbarElement.querySelector(".select-format");if(t){const s=document.queryCommandValue("formatBlock");t.value=s?s.toLowerCase():"p"}const n=this.toolbarElement.querySelector(".select-font");if(n){const s=document.queryCommandValue("fontName");s&&Array.from(n.options).forEach(a=>{a.value.includes(s.replace(/['"]/g,""))&&(n.value=a.value)})}const i=this.toolbarElement.querySelector(".select-size");if(i){const s=document.queryCommandValue("fontSize");s&&(i.value=s)}}catch(t){}}syncValueToInput(){this.inputElement&&this.inputElement.innerHTML!==this._value&&(this.isSettingContent=!0,this.inputElement.innerHTML=this._value||"",this.isSettingContent=!1)}handleInput(){var e,t;this.inputElement&&!this.isSettingContent&&(this._value=this.inputElement.innerHTML,this.updateUI(),(t=(e=this.options)==null?void 0:e.onChange)==null||t.call(e,this._value))}detach(){this.mutationObserver&&this.mutationObserver.disconnect(),super.detach()}setDisabled(e){super.setDisabled(e),this.inputElement&&(this.inputElement.contentEditable=!e,this.editorWrapper&&this.editorWrapper.classList.toggle("disabled",e))}}class to extends ge{constructor({controller:e=null,preventDefault:t=!0,action:n="",method:i="GET",name:s="",onSubmit:a=null,payload:o={},onReset:c=null,validateOnSubmit:h=!0,initialValues:u={},children:p=[],style:g={},className:d=[],props:_={}}={}){super({tagName:"form",style:{...g},className:["form-widget",...d],children:p,props:{action:n,method:i,name:s,..._},events:{submit:y=>this.handleSubmit(y),reset:y=>this.handleReset(y)},onAttached:y=>{this.formElement=y}}),this.formElement=null,this.preventDefault=t,this.validateOnSubmit=h,this.initialValues={...u},this.payload=o,this.onSubmit=a,this.onReset=c,this._validator,this._controller=null,this._validator=new DE({onSubmit:y=>this.performSubmit(y),onSuccess:(y,b)=>this.notifySuccess(y,b),onError:(y,b)=>this.notifyError(y,b),onInvalid:()=>this.notifyInvalid()}),e&&(e.attach(this),this._controller=e),this.registerChildrenFields(this.children)}getValues(){return this._validator.getFormData()}getField(e){var n;const t=this._validator.getFormData();return{[e]:(n=t[e])!=null?n:void 0}}async validate(){await this._validator.validateAll({focusFirstInvalid:!0});const e={};return this._validator.inputs.forEach(t=>{var i;const n=t.validate?t.validate({force:!0}):!0;e[t.name||t.id]=n?null:(i=t.errorMessage)!=null?i:"Invalid"}),e}updateValues(e={}){Object.entries(e).filter(([n])=>this._validator.findInputByName(n)).forEach(([n,i])=>{const s=this._validator.findInputByName(n);s&&(s.value=i)})}async setInitialValues(e={}){const t=await Promise.resolve(e);this.initialValues={...t},this.updateValues(t)}handleSubmit(e){if(this.preventDefault&&(e.preventDefault(),e.stopPropagation()),!this.validateOnSubmit){this.performSubmit(this.getValues());return}this._validator.submit(e)}handleReset(e){var t,n;(t=this.formElement)==null||t.reset(),this.updateValues(this.initialValues),(n=this.onReset)==null||n.call(this)}async performSubmit(e){if(this.onSubmit){const t={values:e,event:null,...this.payload};return await this.onSubmit(t)}return null}notifySuccess(e,t){}notifyError(e,t){var i,s,a,o;const n=(s=(i=this._validator).extractServerErrors)==null?void 0:s.call(i,e);n&&((o=(a=this._validator).applyServerErrors)==null||o.call(a,n))}notifyInvalid(){}registerChildrenFields(e){if(!Array.isArray(e))return;const t=new Set,n=i=>{var s,a;if((i instanceof Zu||i instanceof zh||i instanceof Hh||i instanceof s2)&&i.id&&!t.has(i.id))this._validator.register(i),t.add(i.id);else if(i instanceof ge){const o=(a=(s=i.children)!=null?s:i.body)!=null?a:i.content;o&&(Array.isArray(o)?o:[o]).forEach(n)}};e.forEach(n)}render(){const e=super.render();return this.setInitialValues(this.initialValues),e}get validator(){return this._validator}get controller(){return this._controller}}class a2 extends Zu{constructor(e){const{showToggle:t=!0,showStrength:n=!1,...i}=e;super({...i,inputType:"password"}),this.showToggle=t,this.showStrength=n,this.isPasswordVisible=!1,this.toggleButton=null}createToggleButton(){return this.showToggle?new ge({tagName:"button",props:{type:"button","aria-label":"Toggle password visibility"},className:["password-toggle-button"],style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",zIndex:"2"},children:[""],events:{click:e=>{e.preventDefault(),this.togglePasswordVisibility()}},onAttached:e=>{this.toggleButton=e}}):null}togglePasswordVisibility(){this.isPasswordVisible=!this.isPasswordVisible,this.inputElement.type=this.isPasswordVisible?"text":"password",this.toggleButton&&(this.toggleButton.textContent=this.isPasswordVisible?"":"",this.toggleButton.setAttribute("aria-label",this.isPasswordVisible?"Hide password":"Show password"))}checkPasswordStrength(e){if(!e)return 0;let t=0;return e.length>=8&&t++,/[A-Z]/.test(e)&&t++,/[a-z]/.test(e)&&t++,/[0-9]/.test(e)&&t++,/[^A-Za-z0-9]/.test(e)&&t++,t}createInputContainer(){var e;return new ge({tagName:"div",className:["input-inner-container-widget",this.options.theme||ht.input.type.default],children:[this.options.prefixIcon,this.createInput({additionalProps:{placeholder:!this.options.label&&((e=this.options.placeholder)!=null?e:"Enter your password...")},style:{paddingLeft:this.options.prefixIcon?"2rem":""}}),this.createToggleButton(),this.options.suffixIcon,this.createLabel()].filter(Boolean)})}updateLabelState(){const e=this.hasValue(),t=this.isFocused();this.labelElement&&this.labelElement.classList.toggle("input-label-floating-widget",e||t)}updateUI(){super.updateUI(),this.updateLabelState()}}class Zo extends Zu{constructor(e){super({...e,inputType:"date",onAttached:()=>{var t;(t=this.labelElement)==null||t.classList.add("input-label-floating-widget")}})}updateUI(){super.updateUI()}}const IE=(r,e)=>{let t;return(...n)=>(clearTimeout(t),new Promise(i=>{t=setTimeout(()=>i(r(...n)),e)}))};class ya extends Ai{constructor({theme:e=ht.select.type.basic,size:t=ht.select.size.medium,future:n,params:i={},controller:s=null,onLoading:a=null,onSuccess:o=null,onError:c=null,onComplete:h=null,proxyData:u=null,placeholder:p="",value:g="",name:d="",display:_={loading:null,empty:null,error:null},style:y={},className:b=[],onChange:E=null,onFocus:D=null,onBlur:N=null,disabled:I=!1,prefixIcon:X=null,suffixIcon:he=null,label:G="",multiple:q=!1,required:O=!1,validation:ee=null,errorMessage:P="This field is required",props:z={},showDropdownIcon:te=!0,dropdownIcon:ce=null,proxyValue:be=null,selectedOption:Ce=null,onSelected:Pe=null,onBeforeCreated:me=null,onCreated:Fe=null,onBeforeAttached:Oe=null,onAttached:Me=null,onMounted:T=null,valueKey:F="value",labelKey:R="label",transformData:B=null,debounceTime:Y=300,maxRetries:fe=3,retryDelay:we=1e3,requestTimeout:ve=1e4,cacheTTL:_e=6e4}={}){if(!n)throw new Error("SelectBuilder expects future to be provided");super({theme:e,size:t,placeholder:p,value:g,name:d,props:z,style:y,options:[],display:_,selectedOption:Ce,className:b,onChange:E,onFocus:D,onBlur:N,disabled:I,prefixIcon:X,suffixIcon:he,label:G,multiple:q,required:O,validation:ee,errorMessage:P,showDropdownIcon:te,dropdownIcon:ce,proxyValue:be,onSelected:Pe,onBeforeCreated:me,onCreated:Fe,onBeforeAttached:(je,Xe)=>{Oe==null||Oe(je,Xe)},onAttached:(je,Xe,ct)=>{this.subscribeToFuture(),Me==null||Me(je,Xe,ct)},onMounted:(je,Xe,ct)=>{T==null||T(je,Xe,ct)}}),this.future=n,this.params=i,this.valueKey=F,this.labelKey=R,this.transformData=B,this.debounceTime=Y,this.maxRetries=fe,this.retryDelay=we,this.requestTimeout=ve,this.cacheTTL=_e,this.onLoading=a,this.onSuccess=o,this.onError=c,this.onComplete=h,this.proxyData=u,this.currentState={status:"idle",data:[],error:null},this.abortController=new AbortController,this.cache=new Map,this.debouncedSubscribe=IE(this.subscribeToFuture.bind(this),this.debounceTime),s&&s.setSelectBuilder(this)}async subscribeToFuture(e=0){var i,s,a,o,c,h;const t=JSON.stringify(this.params),n=this.cache.get(t);if(n&&Date.now()<n.expires){this.setCurrentState({status:n.data.length===0?"empty":"success",data:n.data,error:null}),(i=this.onSuccess)==null||i.call(this,n.rawData,n.data),(s=this.onComplete)==null||s.call(this,this.currentState);return}this.abortController.abort(),this.abortController=new AbortController,this.setCurrentState({status:"loading",data:this.currentState.data,error:null}),(a=this.onLoading)==null||a.call(this,this.currentState);try{const u=new Promise((b,E)=>{setTimeout(()=>E(new Error("Request timed out")),this.requestTimeout)}),p=typeof this.future=="function"?this.future(this.params,{signal:this.abortController.signal}):this.future,g=await Promise.race([p,u]);let d=this.proxyData?this.proxyData(g):g;this.transformData&&(d=this.transformData(d)),d=Array.isArray(d)?d:[d];const _=this.transformOptions(d),y=_.length===0;this.cache.set(t,{data:_,rawData:g,expires:Date.now()+this.cacheTTL}),this.setCurrentState({status:y?"empty":"success",data:_,error:null}),(o=this.onSuccess)==null||o.call(this,g,_)}catch(u){if(u.name==="AbortError"){console.log("SelectBuilder: Request was aborted");return}if(e<this.maxRetries)return console.log("SelectBuilder: Retrying (".concat(e+1,"/").concat(this.maxRetries,")...")),await new Promise(p=>setTimeout(p,this.retryDelay)),this.subscribeToFuture(e+1);console.error("SelectBuilder: Error fetching data:",u),this.setCurrentState({status:"error",data:this.currentState.data,error:u}),(c=this.onError)==null||c.call(this,u)}finally{(this.currentState.status!=="error"||e>=this.maxRetries)&&((h=this.onComplete)==null||h.call(this,this.currentState))}}transformOptions(e){return e.map(t=>{if(typeof t=="object"&&t!==null){if("value"in t&&"label"in t)return t;if(this.valueKey in t&&this.labelKey in t)return{value:t[this.valueKey],label:t[this.labelKey],...t};const n=Object.keys(t);return{value:n.length>0?t[n[0]]:"",label:n.length>1?t[n[1]]:String(t),...t}}return{value:t,label:String(t)}})}setCurrentState(e){this.currentState={...this.currentState,...e},e.data!==void 0&&(this.selectOptions=e.data),this.inputElement&&(this.populateOptions(),this.syncValueToInput())}setParams(e){this.params={...this.params,...e},this.debouncedSubscribe()}getParams(){return this.params}setData(e){const t=this.transformOptions(Array.isArray(e)?e:[e]);this.setCurrentState({status:t.length===0?"empty":"success",data:t,error:null})}clearData(){this.cache.clear(),this.setCurrentState({status:"idle",data:[],error:null})}getState(){return this.currentState}refresh(){this.debouncedSubscribe()}detach(){this.abortController.abort(),this.cache.clear(),this.currentState={status:"idle",data:[],error:null},super.detach()}clearCache(){this.cache.clear()}getCacheInfo(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}class ts extends Zu{constructor(e){super({...e,inputType:"text"})}updateLabelState(){const e=this.hasValue(),t=this.isFocused();this.labelElement&&this.labelElement.classList.toggle("input-label-floating-widget",e||t)}updateUI(){super.updateUI(),this.updateLabelState()}}class el extends zh{constructor(e){const{checked:t=!1,indeterminate:n=!1,labelPosition:i="right",...s}=e;super({...s,inputType:"checkbox",value:t,onSet:a=>!!a}),this.labelPosition=i,this.indeterminate=n}createInput({inputClass:e="checkbox-widget",additionalProps:t={},additionalEvents:n={}}={}){return new ge({tagName:"input",props:{type:this.inputType,"aria-invalid":"false","aria-describedby":"".concat(this.id,"-error"),...this.config.props,...t},className:[e,...this.config.className],style:new ci({...this.config.style}),events:{change:this.handleInputBound,blur:this.handleBlurBound,focus:this.handleFocusBound,...n},onAttached:i=>{this.inputElement=i,i.disabled=this.disabled,i.checked=!!this._value,i.indeterminate=this.indeterminate}})}handleInput(e){var i;const t=e.target.checked,n=this.onSet?this.onSet.call(this,t):t;this._value=n,(i=this.onChange)==null||i.call(this,n,e),this.updateUI(),this.validate()}syncValueToInput(){this.inputElement&&(this.inputElement.checked=!!this._value,this.inputElement.indeterminate=this.indeterminate)}createCheckboxContainer(){var t;const e=[this.createInput(),this.createLabel({labelClass:"checkbox-label-widget"})].filter(Boolean);return new ge({tagName:"div",props:{for:this.id},className:["checkbox-container-widget","checkbox-label-".concat(this.labelPosition),,((t=this.options)==null?void 0:t.theme)||ht.checkbox.type.primary],style:{...(this.labelPosition==="top"||this.labelPosition==="bottom")&&{flexDirection:"column",alignItems:"flex-start"}},children:e,onAttached:n=>{this.labelElement=n}})}render(){return this.children=[this.createCheckboxContainer(),this.createError({errorClass:"checkbox-error-message-widget"})],super.render()}updateUI(){if(!this.inputElement)return;const e=!!this._value;this.inputElement.classList.toggle("checkbox-checked",e),this.inputElement.classList.toggle("checkbox-unchecked",!e)}hasValue(){return!!this._value}setIndeterminate(e){this.indeterminate=e,this.inputElement&&(this.inputElement.indeterminate=e)}toggle(){this.value=!this._value}}const go={inputHeight:"3.5rem",textAreaHeight:"12rem",gap:"5px"},ma={TextInput:"TextInput",PasswordInput:"PasswordInput",DateInput:"DateInput",SearchInput:"SearchInput",SelectBuilder:"SelectBuilder",SelectInput:"SelectInput",TextAreaInput:"TextAreaInput",CheckBoxInput:"CheckBoxInput",Custom:"Custom"},o2=300;function LE(r,e=o2){let t;return(...n)=>{clearTimeout(t),t=setTimeout(()=>r(...n),e)}}class ba{constructor(){this.formData={},this.searchTags={},this.controller=null}getSearchTagData(){return this.searchTags}resetSearchTagData(){this.searchTags={}}getFormData(){return{...this.formData}}resetFormData(){this.formData={},this.controller.reset()}setFormData(e){this.formData={...e}}removeFormDataKey(e){delete this.formData[e],this.controller.setInitialValues(this.formData)}createForm({fields:e,controller:t,layout:n={type:"row",style:{}},actions:i=[],ariaLabel:s="Generic form",initialValues:a={}}){if(!Array.isArray(e)||!t)return console.warn("Invalid form configuration: 'fields' must be an array and 'controller' is required"),null;this.controller=t;const o=e.map(u=>this.createInputComponent(u,n.type==="column")).filter(Boolean);Object.keys(a).length>0&&this.setFormData(a);const c=n.type==="column"?new Ge({gap:"20px",children:o,style:{...n.style}}):new Je({gap:go.gap,children:o,style:{...n.style}}),h=i.map(u=>this.createActionButton(u));return new Ge({gap:go.gap,children:[new to({controller:t,style:{width:"100%"},ariaLabel:s,children:[c],initialValues:a}),...h.length>0?[new Je({gap:go.gap,style:{marginTop:n.type==="column"?"1rem":"0"},children:h})]:[]]})}createInputComponent(e,t){const{type:n,name:i,breakpoints:s={lg:12},debounceMs:a=o2,required:o=!1,component:c}=e;if(!ma[n])return console.warn("Invalid input type: ".concat(n)),null;if(n!==ma.Custom&&!i)return console.warn("Missing name for input type: ".concat(n)),null;if(n===ma.Custom&&!c)return console.warn("Custom input type requires a 'component' property"),null;if(n===ma.Custom)return new ft({breakpoints:s,style:{marginBottom:!t&&"1rem"},children:[c]});const h={[ma.TextInput]:this.createTextInput,[ma.PasswordInput]:this.createPasswordInput,[ma.DateInput]:this.createDateInput,[ma.SearchInput]:this.createSearchInput,[ma.SelectBuilder]:this.createSelectBuilder,[ma.SelectInput]:this.createSelectInput,[ma.TextAreaInput]:this.createTextAreaInput,[ma.CheckBoxInput]:this.createCheckBoxInput}[n];return new ft({breakpoints:s,style:{marginBottom:!t&&"1rem"},children:[h.call(this,{...e,onChange:LE((u,p,g)=>{this.formData={...this.formData,[i]:u},this.searchTags={...this.searchTags,[e.label]:e.type==="SelectBuilder"||e.type==="Select"?{key:[i],value:g.label}:{key:[i],value:u}}},a),required:o})]})}createActionButton({label:e,onPressed:t,theme:n=ht.button.type.primary,icon:i=null,ariaLabel:s=e,breakpoints:a}){const o=new Qr({label:e,theme:n,prefixIcon:i?new et({icon:i,ariaHidden:!0}):null,onPressed:t,ariaLabel:s});return a?new ft({breakpoints:a,children:[o]}):o}createTextInput({label:e="",placeholder:t="",name:n="",required:i=!1,onChange:s,style:a={height:go.inputHeight}}){return new ts({label:e,placeholder:t,name:n,required:i,style:a,onChange:s,ariaLabel:e||"Text input"})}createPasswordInput({label:e="",placeholder:t="",name:n="",validation:i=null,required:s=!1,onChange:a,style:o={height:go.inputHeight}}){return new a2({label:e,placeholder:t,name:n,validation:i,required:s,style:o,onChange:a,ariaLabel:e||"Password input"})}createDateInput({label:e="",placeholder:t="",name:n="",required:i=!1,onChange:s,style:a={height:go.inputHeight}}){return new Zo({label:e,placeholder:t,name:n,required:i,style:a,onChange:s,ariaLabel:e||"Date input"})}createSearchInput({label:e="",placeholder:t="Pesquisar por",name:n="",required:i=!1,onChange:s,style:a={height:go.inputHeight}}){return new Kd({label:e,placeholder:t,name:n,required:i,style:a,onChange:s,ariaLabel:e||"Search input"})}createSelectBuilder({endpoint:e="",dataMapper:t=({result:h})=>h.data.map(u=>({label:(u==null?void 0:u.name)||(u==null?void 0:u.full_name),value:u.id})),label:n="",placeholder:i="Seleccione uma opo",name:s="",required:a=!1,onChange:o,style:c={height:go.inputHeight}}){return e?new ya({future:Ut.instance.get(e),label:n,placeholder:i,name:s,required:a,style:c,proxyData:t,onChange:o,ariaLabel:n||"Select builder"}):(console.warn("SelectBuilder requires an endpoint"),null)}createSelectInput({options:e=[],label:t="",placeholder:n="Seleccione uma opo",name:i="",required:s=!1,onChange:a,data:o=[],style:c={height:go.inputHeight}}){return new Ai({options:e,label:t,placeholder:n,name:i,required:s,style:c,onChange:a,data:o,ariaLabel:t||"Select input"})}createTextAreaInput({label:e="",placeholder:t="",name:n="",required:i=!1,onChange:s,style:a={height:go.textAreaHeight}}){return new Hh({label:e,placeholder:t,name:n,required:i,style:a,onChange:s,ariaLabel:e||"Textarea input"})}createCheckBoxInput({label:e="",name:t="",required:n=!1,onChange:i,checked:s=!1,style:a={}}){return new el({label:e,name:t,required:n,onChange:i,checked:s,style:a,ariaLabel:e||"Checkbox input"})}}class l2 extends ge{constructor({totalItems:e=0,itemsPerPage:t=10,currentPage:n=1,params:i={},onPageChange:s=()=>{},visiblePages:a=5,style:o={},className:c=[]}={}){super({tagName:"nav",className:["paginator-widget",...c],style:o}),this.totalItems=e,this.itemsPerPage=t,this.currentPage=n,this.params={...i},this.onPageChange=s,this.visiblePages=a,this.totalPages=Math.ceil(e/t)}buildQueryString(e){const t=new URLSearchParams({...this.params,page:e}).toString();return"?".concat(t)}validatePage(e){return Math.max(1,Math.min(e,this.totalPages))}goToPage(e){const t=this.validatePage(e);t!==this.currentPage&&(this.currentPage=t,this.onPageChange({page:this.currentPage,limit:this.itemsPerPage,skip:this.currentPage*this.itemsPerPage-this.itemsPerPage,url:this.buildQueryString(this.currentPage)}),this.update())}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(1)}goToLastPage(){this.goToPage(this.totalPages)}createPageItem(e,t=null,n=!1,i=!1){const s=typeof e=="string",a=n?ht.button.type.primary:ht.button.type.default;let o="Page ".concat(e);if(s)switch(e){case"":o="First page";break;case"":o="Previous page";break;case"":o="Next page";break;case"":o="Last page";break}return new Qr({label:"".concat(e),theme:a,size:ht.button.size.small,className:["paginator-button-item-widget"],onPressed:()=>t==null?void 0:t(),disabled:i||n,props:{"aria-label":o,...n&&{"aria-current":"page"}}})}createEllipsis(){return new ge({tagName:"span",className:["paginator-ellipsis-item-widget"],props:{"aria-hidden":"true"},children:["..."]})}getVisiblePages(){if(this.totalPages<=1)return[];const e=[];let t=Math.max(1,this.currentPage-Math.floor(this.visiblePages/2)),n=Math.min(this.totalPages,t+this.visiblePages-1);n-t<this.visiblePages-1&&(t=Math.max(1,n-this.visiblePages+1)),t>1&&(e.push(1),t>2&&e.push("ellipsis-start"));for(let i=t;i<=n;i++)e.push(i);return n<this.totalPages&&(n<this.totalPages-1&&e.push("ellipsis-end"),e.push(this.totalPages)),e}render(){this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.currentPage=this.validatePage(this.currentPage);const e=[],t=this.createPageItem("",()=>this.goToFirstPage(),!1,this.currentPage===1),n=this.createPageItem("",()=>this.goToPreviousPage(),!1,this.currentPage===1),i=this.createPageItem("",()=>this.goToNextPage(),!1,this.currentPage===this.totalPages),s=this.createPageItem("",()=>this.goToLastPage(),!1,this.currentPage===this.totalPages);return e.push(t,n),this.getVisiblePages().forEach(a=>{typeof a=="string"?e.push(this.createEllipsis()):e.push(this.createPageItem(a,()=>this.goToPage(a),a===this.currentPage))}),e.push(i,s),this.children=e,super.render()}updateParams(e){this.params={...this.params,...e},this.update()}updateTotalItems(e){this.totalItems=e,this.update()}updateItemsPerPage(e){this.itemsPerPage=e,this.update()}}class jr extends ge{constructor({watch:t=()=>{},className:n=[],style:i={},props:s={},events:a={},onBeforeCreated:o=null,onCreated:c=null,onBeforeAttached:h=null,onAttached:u=null,onMounted:p=null}={}){super({className:n,style:new ci({width:"100%",...i}),props:s,events:a,onBeforeCreated:g=>o==null?void 0:o(g),onCreated:(g,d)=>c==null?void 0:c(g,d),onBeforeAttached:(g,d)=>h==null?void 0:h(g,d),onAttached:(g,d)=>{u==null||u(g,d)},onMounted:(g,d)=>{p==null||p(g,d)}});dt(this,"updateEffect",()=>{try{if(this.isUpdating)return;this.isUpdating=!0;const t=bo.activeWidget,n=bo.activeEffect.get(t);bo.activeWidget=this,bo.activeEffect.set(this,this.updateEffect);const i=this.watch();this._previousWidget=this._currentWidget,this._currentWidget=i,this.children[0]=i||"",this._element&&super.update()}catch(t){console.error("Builder updateEffect error:",t),this.children=[],this._element&&super.update()}finally{bo.activeWidget=null,bo.activeEffect.delete(this),this.isUpdating=!1}});this._previousWidget=null,this._currentWidget=null,this.isUpdating=!1,this.watch=t,this.updateEffect()}render(){return this._currentWidget||this.updateEffect(),super.render()}patch(){this.updateEffect()}detach(){super.detach(),bo.activeEffect.delete(this),this._currentWidget&&this._currentWidget.detach&&this._currentWidget.detach()}getCurrentWidget(){return this._currentWidget}getPreviousWidget(){return this._previousWidget}}let PE=class extends ge{constructor({theme:e=ht.table.type.default,columns:t=[],data:n=[],display:i={loading:null,empty:null,error:null},selectable:s=!1,className:a=[],props:o={},showPaginator:c=!1,visiblePages:h=4,itemsPerPage:u=12,rowGroups:p=null,onSelected:g=null,onBeforeCreated:d=null,onCreated:_=null,onBeforeAttached:y=null,onAttached:b=null,onMounted:E=null}={}){super({tagName:"div",className:["table-container-widget"],props:{"aria-label":"table"},onBeforeCreated:D=>{d==null||d(D)},onCreated:(D,N)=>{_==null||_(D,N)},onBeforeAttached:(D,N)=>{y==null||y(D,N)},onAttached:(D,N)=>{this.tableContainerElement=D;const I=this.tableElement,X=this.tableHeaderElement,he=this.tableHeaderSearchInputElement,G=this.tableBodyElement;b==null||b(D,{tableElement:I,tableHeaderElement:X,tableHeaderSearchInputElement:he,tableBodyElement:G},N)},onMounted:(D,N)=>{this.tableContainerElement=D;const I=this.tableElement,X=this.tableHeaderElement,he=this.tableHeaderSearchInputElement,G=this.tableBodyElement;E==null||E(D,{tableElement:I,tableHeaderElement:X,tableHeaderSearchInputElement:he,tableBodyElement:G},N)}}),this.columns=t.map(D=>({sortable:D.sortable!==void 0?D.sortable:!1,filterable:D.filterable!==void 0?D.filterable:!1,filterType:"input",...D})),this.data=[...n],this.originalData=[...n],this.selectable=s,this.theme=e,this.display=i,this.sortColumn=null,this.sortDirection="asc",this.filters={},this.selectedRows=new Set,this.onSelected=g,this.showPaginator=c,this.visiblePages=h,this.itemsPerPage=u,this.rowGroups=p,this.body=null,this.config={className:a,props:o},this.currentState={status:n.length?"success":"loading",data:n.length?n:[],error:null},this.initState({tableCurrentPage:1,tableTotalItems:n.length})}mounted(){}resolveValue(e,t){return typeof t=="function"?t(e):typeof t=="string"&&t.includes(".")?t.split(".").reduce((n,i)=>n&&n[i],e):e[t]}toggleSelectAll(e){var t;e?this.selectedRows=new Set(this.data):this.selectedRows.clear(),(t=this.onSelected)==null||t.call(this,[...this.selectedRows]),this.createBody()}toggleRowSelection(e,t){var n;t?this.selectedRows.add(e):this.selectedRows.delete(e),(n=this.onSelected)==null||n.call(this,[...this.selectedRows])}applyFilters(){let e=this.originalData.filter(t=>Object.entries(this.filters).every(([n,i])=>{var s;return String((s=this.resolveValue(t,n))!=null?s:"").toLowerCase().includes(i)}));if(this.sortColumn){const t=this.columns.find(n=>n.key===this.sortColumn);t!=null&&t.sortFn?e=t.sortFn(e,this.sortDirection):e=[...e].sort((n,i)=>{const s=this.resolveValue(n,this.sortColumn),a=this.resolveValue(i,this.sortColumn);return this.defaultSortFn(s,a,this.sortDirection)})}if(this.showPaginator){this.state.tableTotalItems=e.length;const t=this.itemsPerPage,i=(this.state.tableCurrentPage-1)*t,s=i+t;this.currentState.data=e.slice(i,s)}else this.currentState.data=e}defaultSortFn(e,t,n){return typeof e=="number"&&typeof t=="number"||e instanceof Date&&t instanceof Date?n==="asc"?e-t:t-e:(e=String(e).toLowerCase(),t=String(t).toLowerCase(),e<t?n==="asc"?-1:1:e>t?n==="asc"?1:-1:0)}handleFilter(e,t){const n=t.toLowerCase();this.filters[e]=n||"",this.createBody()}handleSort(e,t){const n=e.currentTarget.querySelector(".sort-icon");this.sortColumn===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),n.classList.remove("asc","desc"),n.classList.add(this.sortDirection),this.createBody()}createTable(){return new ge({tagName:"table",className:["table-widget",this.theme,...this.config.className],children:[this.createHeader(),this.createBody(),this.createFooter()],props:{...this.config.props},onAttached:e=>this.tableElement=e})}createHeader(){const e=this.createHeaderColumnFilter(),t=e.children.every(n=>n.children.filter(Boolean).length===0);return new ge({tagName:"thead",className:["table-head-widget"],children:[this.createHeaderColumn(),t?null:e],props:{role:"columnheader"},onAttached:n=>this.tableHeaderElement=n})}createHeaderColumn(){return new ge({tagName:"tr",children:[this.selectable?new ge({tagName:"th",children:[new el({onChange:e=>this.toggleSelectAll(e)})]}):null,...this.columns.map(e=>new ge({tagName:"th",className:e.sortable?["table-head-sortable-widget"]:[],children:[e.label,e.sortable?new ge({tagName:"span",className:["sort-icon"],onAttached:t=>{}}):null].filter(Boolean),events:{click:t=>e.sortable?this.handleSort(t,e.key):null}}))].filter(Boolean)})}createHeaderColumnFilter(){return new ge({tagName:"tr",className:["table-filter-row-widget"],children:[this.selectable?new ge({tagName:"th",props:{colSpan:"1"}}):null,...this.columns.map(e=>new ge({tagName:"th",children:[e.filterable?new ts({size:ht.input.size.small,placeholder:e.placeholder?e.placeholder:"Search by ".concat(e.key),name:"".concat(e.key),onChange:t=>{var n;return e!=null&&e.filterFn?(n=e==null?void 0:e.filterFn)==null?void 0:n.call(e,e.key,t):this.handleFilter(e.key,t)},onAttached:t=>this.tableHeaderSearchInputElement=t}):null]}))].filter(Boolean)})}createBody(){try{this.applyFilters();const e=this.createBodyRowData();this.body?(this.body.children=[...e],this.body.update()):this.body=new ge({tagName:"tbody",className:["table-body-widget"],children:e,onAttached:t=>this.tableBodyElement=t})}catch(e){console.log(e)}return this.body}createPlaceholder(e,t="no-data",n){return new ge({tagName:"tr",children:[new ge({tagName:"td",className:[t],style:new ci({color:"#ababab",fontSize:"1.2rem",fontWeight:"600",padding:"2.4rem",...n}),props:{colSpan:this.columns.length+(this.selectable?1:0)},children:[new zl({children:[typeof e=="string"?new ge({tagName:"div",children:[e]}):e]})]})]})}createBodyRowData(){const e=this.currentState.status,t=this.currentState.data,n=this.currentState.error;if(e==="loading")return[this.createPlaceholder(this.display.loading||new zl({children:[new Mc]}),"loading-data")];if(e==="error")return[this.createPlaceholder(this.display.error||"Failed to fetch data: ".concat(n==null?void 0:n.message),"error-data")];if(e==="empty")return[this.createPlaceholder(this.display.empty||"No data available","empty-data")];if(e==="success")return this.rowGroups?this.createGroupedRows(t):t.map(i=>this.createStandardRow(i))}createStandardRow(e){return new ge({tagName:"tr",children:[this.selectable?this.createSelectCell(e):null,...this.columns.map(t=>this.createDataCell(e,t))].filter(Boolean)})}createGroupedRows(e){const t=this.groupData(e),n=[];for(const i of t)i.rows.forEach((s,a)=>{const o=a===0,c=[];this.selectable&&c.push(this.createSelectCell(s)),this.columns.forEach(h=>{if(this.rowGroups.groupColumns.includes(h.key)&&!o)return;const u={};this.rowGroups.groupColumns.includes(h.key)&&(u.rowSpan=i.count),c.push(this.createDataCell(s,h,u))}),n.push(new ge({tagName:"tr",children:c}))});return n}groupData(e){const t=[];let n=null;for(const i of e){const s=this.rowGroups.groupColumns.map(a=>i[a]).join("|");(!n||n.key!==s)&&(n={key:s,rows:[],count:0},t.push(n)),n.rows.push(i),n.count++}return t}createDataCell(e,t,n={}){const i=this.resolveValue(e,t.key),s=[...t.className||[],typeof i=="number"?"type-number":null].filter(Boolean);return new ge({tagName:"td",className:s,style:t.style?new ci({...t.style}):{},props:{...n,"data-column":t.key},children:[t.renderFn?t.renderFn(i,e):i]})}createSelectCell(e){return new ge({tagName:"td",children:[new el({value:this.selectedRows.has(e),onChange:t=>this.toggleRowSelection(e,t)})]})}createFooter(){return new ge({tagName:"tfoot",onAttached:e=>this.footerElement=e})}createPaginator(){return new jr({watch:()=>{if(this.state.tableTotalItems>this.itemsPerPage)return new l2({visiblePages:this.visiblePages,itemsPerPage:this.itemsPerPage,currentPage:this.state.tableCurrentPage,totalItems:this.state.tableTotalItems,onPageChange:e=>{this.state.tableCurrentPage=e.page,this.createBody()}})}})}onUpdate(){super.update()}render(){return this.children=[this.createTable(),this.showPaginator?this.createPaginator():null].filter(Boolean),super.render()}safeToString(e){return e===null?"null":e===void 0?"undefined":typeof e=="symbol"?e.toString():String(e)}};class RE extends PE{constructor({theme:e=ht.table.type.primary,future:t,params:n={},columns:i=[],display:s={},controller:a=null,onLoading:o=null,onSuccess:c=null,onError:h=null,onComplete:u=null,proxyData:p=null,selectable:g=!1,className:d=[],props:_={},style:y={},rowGroups:b=null,showPaginator:E=!1,onSelected:D=null,onBeforeCreated:N=null,onCreated:I=null,onBeforeAttached:X=null,onAttached:he=null,onMounted:G=null}={}){if(!t)throw new Error("TableBuilder expects future to be provided");super({theme:e,columns:i,display:s,props:_,style:y,data:[],selectable:g,className:d,showPaginator:E,rowGroups:b,onSelected:D,onBeforeCreated:N,onCreated:I,onBeforeAttached:X,onAttached:(q,O,ee)=>{this.subscribeToFuture(),he==null||he(q,O,ee)},onMounted:(q,O,ee)=>{G==null||G(q,O,ee)}}),this.future=t,this.params=n,this.onLoading=o==null?void 0:o.bind(this),this.onSuccess=c==null?void 0:c.bind(this),this.onError=h==null?void 0:h.bind(this),this.onComplete=u==null?void 0:u.bind(this),this.proxyData=p==null?void 0:p.bind(this),this.originalData=[],this._isMounted=!1,a&&a.setTableBuilder(this)}subscribeToFuture(){var e,t;if(this.future){(e=this.onLoading)==null||e.call(this),this.setCurrentState({status:"loading",data:[],error:null});try{(typeof this.future=="function"?this.future(this.params):this.future).then(i=>{var o;let s=i;this.proxyData&&(s=this.proxyData(i));const a=Array.isArray(s)&&s.length===0;this.originalData=[...s],this.data=[...s],this.setCurrentState({status:a?"empty":"success",data:s,error:null}),(o=this.onSuccess)==null||o.call(this,s)}).catch(i=>{var s;this._isMounted&&(console.error("TableBuilder data fetch error:",i),this.setCurrentState({status:"error",data:[],error:i}),(s=this.onError)==null||s.call(this,i))}).finally(()=>{var i;(i=this.onComplete)==null||i.call(this)})}catch(n){console.error("TableBuilder error in subscribeToFuture:",n),this.setCurrentState({status:"error",data:[],error:n}),(t=this.onError)==null||t.call(this,n)}}}setParams(e){this.params={...this.params,...e},this.refresh()}refresh(){this.originalData=[],this.data=[],this.filters={},this.sortColumn=null,this.sortDirection="asc",this.setCurrentState({status:"loading",data:[],error:null}),requestAnimationFrame(()=>{this.subscribeToFuture()})}getParams(){return this.params}setCurrentState(e){this.currentState.status=e.status,this.currentState.error=e.error,this.currentState.data=e.data||[],this.createBody()}unmounted(){}}class OE{constructor(){this.tableBuilder=null}setTableBuilder(e){this.tableBuilder=e}setParams(e){this.tableBuilder?this.tableBuilder.setParams(e):console.warn("TableBuilderController: No tableBuilder set")}getParams(){var e;return(e=this.tableBuilder)==null?void 0:e.getParams()}refresh(){try{return this.tableBuilder?(this.tableBuilder.refresh(),!0):(console.warn("TableBuilderController: No tableBuilder set"),!1)}catch(e){return console.error("TableBuilderController refresh failed:",e),!1}}}class Xd{constructor(){this.futureBuilder=null}_setFutureBuilder(e){this.futureBuilder=e}attach(e){this._setFutureBuilder(e)}_ensureFutureBuilder(e){if(!this.futureBuilder)throw new Error("[FutureBuilderController.".concat(e,"] No FutureBuilder associated with this controller"))}setParams(e){this._ensureFutureBuilder("setParams"),this.futureBuilder.setParams(e)}reload(){this._ensureFutureBuilder("reload"),this.futureBuilder.reload()}setFuture(e){this._ensureFutureBuilder("setFuture"),this.futureBuilder.setFuture(e)}}class _n extends ge{constructor({theme:e=ht.tile.type.primary,leading:t=null,title:n=null,subtitle:i=null,trailing:s=null,className:a=[],leadingStyle:o={},trailingStyle:c={},titleStyle:h={},subtitleStyle:u={},onTap:p=null,style:g={},props:d={},events:_={},onBeforeCreated:y=null,onCreated:b=null,onBeforeAttached:E=null,onAttached:D=null,onMounted:N=null}={}){super({tagName:"div",className:["list-tile-widget",e,...a],style:new ci({...g}),events:p?{click:p,..._}:{..._},props:d,onBeforeCreated:I=>{y==null||y(I)},onCreated:(I,X)=>{b==null||b(I,X)},onBeforeAttached:(I,X)=>{E==null||E(I,X)},onAttached:(I,X)=>{D==null||D(I,{leadingElement:this.leadingElement,trailingElement:this.trailingElement,titleElement:this.titleElement,subtitleElement:this.subtitleElement},X)},onMounted:(I,X)=>{N==null||N(I,{leadingElement:this.leadingElement,trailingElement:this.trailingElement,titleElement:this.titleElement,subtitleElement:this.subtitleElement},X)}}),this.title=n,this.subtitle=i,this.leading=t,this.trailing=s,this.leadingStyle=o,this.trailingStyle=c,this.titleStyle=h,this.subtitleStyle=u,this.leadingElement=null,this.trailingElement=null,this.titleElement=null,this.subtitleElement=null}createLeading(){return new ge({children:[this.leading],className:["list-tile-leading-widget"],style:new ci({...this.leadingStyle}),onAttached:e=>{this.leadingElement=e}})}createTrailing(){return new ge({children:[this.trailing],className:["list-tile-trailing-widget"],style:new ci({...this.trailingStyle}),onAttached:e=>{this.trailingElement=e}})}createTitle(){if(!Array.isArray(this.title))return new ge({tagName:"div",className:["title-widget"],children:[this.title],style:new ci({...this.titleStyle}),onAttached:e=>{this.titleElement=e}})}createSubtitle(){if(!Array.isArray(this.subtitle))return new ge({tagName:"div",children:[this.subtitle],className:["subtitle-widget"],style:new ci({...this.subtitleStyle}),onAttached:e=>{this.subtitleElement=e}})}render(){return this.children=[this.leading?this.createLeading():null,new Ge({gap:2,children:[this.createTitle(),this.createSubtitle()]}),this.trailing?this.createTrailing():null].filter(Boolean),super.render()}}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var cd={};cd.version="0.18.5";var c2=1252,FE=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],h2=function(r){FE.indexOf(r)!=-1&&(c2=r)};function ME(){h2(1252)}var Lu=function(r){h2(r)};function BE(){Lu(1200),ME()}var Tf=function(e){return String.fromCharCode(e)},E1=function(e){return String.fromCharCode(e)},hd,Dl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Pu(r){for(var e="",t=0,n=0,i=0,s=0,a=0,o=0,c=0,h=0;h<r.length;)t=r.charCodeAt(h++),s=t>>2,n=r.charCodeAt(h++),a=(t&3)<<4|n>>4,i=r.charCodeAt(h++),o=(n&15)<<2|i>>6,c=i&63,isNaN(n)?o=c=64:isNaN(i)&&(c=64),e+=Dl.charAt(s)+Dl.charAt(a)+Dl.charAt(o)+Dl.charAt(c);return e}function tl(r){var e="",t=0,n=0,i=0,s=0,a=0,o=0,c=0;r=r.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<r.length;)s=Dl.indexOf(r.charAt(h++)),a=Dl.indexOf(r.charAt(h++)),t=s<<2|a>>4,e+=String.fromCharCode(t),o=Dl.indexOf(r.charAt(h++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),c=Dl.indexOf(r.charAt(h++)),i=(o&3)<<6|c,c!==64&&(e+=String.fromCharCode(i));return e}var Mr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),al=function(){if(typeof Buffer<"u"){var r=!Buffer.from;if(!r)try{Buffer.from("foo","utf8")}catch(e){r=!0}return r?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Tc(r){return Mr?Buffer.alloc?Buffer.alloc(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}function A1(r){return Mr?Buffer.allocUnsafe?Buffer.allocUnsafe(r):new Buffer(r):typeof Uint8Array<"u"?new Uint8Array(r):new Array(r)}var Ya=function(e){return Mr?al(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Jd(r){if(typeof ArrayBuffer>"u")return Ya(r);for(var e=new ArrayBuffer(r.length),t=new Uint8Array(e),n=0;n!=r.length;++n)t[n]=r.charCodeAt(n)&255;return e}function Yu(r){if(Array.isArray(r))return r.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],t=0;t<r.length;++t)e[t]=String.fromCharCode(r[t]);return e.join("")}function UE(r){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(r)}var Ti=Mr?function(r){return Buffer.concat(r.map(function(e){return Buffer.isBuffer(e)?e:al(e)}))}:function(r){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<r.length;++e)t+=r[e].length;var n=new Uint8Array(t),i=0;for(e=0,t=0;e<r.length;t+=i,++e)if(i=r[e].length,r[e]instanceof Uint8Array)n.set(r[e],t);else{if(typeof r[e]=="string")throw"wtf";n.set(new Uint8Array(r[e]),t)}return n}return[].concat.apply([],r.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function zE(r){for(var e=[],t=0,n=r.length+250,i=Tc(r.length+255),s=0;s<r.length;++s){var a=r.charCodeAt(s);if(a<128)i[t++]=a;else if(a<2048)i[t++]=192|a>>6&31,i[t++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=r.charCodeAt(++s)&1023;i[t++]=240|a>>8&7,i[t++]=128|a>>2&63,i[t++]=128|o>>6&15|(a&3)<<4,i[t++]=128|o&63}else i[t++]=224|a>>12&15,i[t++]=128|a>>6&63,i[t++]=128|a&63;t>n&&(e.push(i.slice(0,t)),t=0,i=Tc(65535),n=65530)}return e.push(i.slice(0,t)),Ti(e)}var vu=/\u0000/g,Cf=/[\u0001-\u0006]/g;function Sh(r){for(var e="",t=r.length-1;t>=0;)e+=r.charAt(t--);return e}function Ka(r,e){var t=""+r;return t.length>=e?t:Fn("0",e-t.length)+t}function Vm(r,e){var t=""+r;return t.length>=e?t:Fn(" ",e-t.length)+t}function ud(r,e){var t=""+r;return t.length>=e?t:t+Fn(" ",e-t.length)}function HE(r,e){var t=""+Math.round(r);return t.length>=e?t:Fn("0",e-t.length)+t}function jE(r,e){var t=""+r;return t.length>=e?t:Fn("0",e-t.length)+t}var T1=Math.pow(2,32);function lh(r,e){if(r>T1||r<-T1)return HE(r,e);var t=Math.round(r);return jE(t,e)}function fd(r,e){return e=e||0,r.length>=7+e&&(r.charCodeAt(e)|32)===103&&(r.charCodeAt(e+1)|32)===101&&(r.charCodeAt(e+2)|32)===110&&(r.charCodeAt(e+3)|32)===101&&(r.charCodeAt(e+4)|32)===114&&(r.charCodeAt(e+5)|32)===97&&(r.charCodeAt(e+6)|32)===108}var C1=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],zp=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function WE(r){return r||(r={}),r[0]="General",r[1]="0",r[2]="0.00",r[3]="#,##0",r[4]="#,##0.00",r[9]="0%",r[10]="0.00%",r[11]="0.00E+00",r[12]="# ?/?",r[13]="# ??/??",r[14]="m/d/yy",r[15]="d-mmm-yy",r[16]="d-mmm",r[17]="mmm-yy",r[18]="h:mm AM/PM",r[19]="h:mm:ss AM/PM",r[20]="h:mm",r[21]="h:mm:ss",r[22]="m/d/yy h:mm",r[37]="#,##0 ;(#,##0)",r[38]="#,##0 ;[Red](#,##0)",r[39]="#,##0.00;(#,##0.00)",r[40]="#,##0.00;[Red](#,##0.00)",r[45]="mm:ss",r[46]="[h]:mm:ss",r[47]="mmss.0",r[48]="##0.0E+0",r[49]="@",r[56]='"/ "hh""mm""ss" "',r}var Mn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},k1={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},VE={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function dd(r,e,t){for(var n=r<0?-1:1,i=r*n,s=0,a=1,o=0,c=1,h=0,u=0,p=Math.floor(i);h<e&&(p=Math.floor(i),o=p*a+s,u=p*h+c,!(i-p<5e-8));)i=1/(i-p),s=a,a=o,c=h,h=u;if(u>e&&(h>e?(u=c,o=s):(u=h,o=a)),!t)return[0,n*o,u];var g=Math.floor(n*o/u);return[g,n*o-g*u,u]}function kf(r,e,t){if(r>2958465||r<0)return null;var n=r|0,i=Math.floor(86400*(r-n)),s=0,a=[],o={D:n,T:i,u:86400*(r-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=t?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),a=[c.getFullYear(),c.getMonth()+1,c.getDate()],s=c.getDay(),n<60&&(s=(s+6)%7),t&&(s=XE(c,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var u2=new Date(1899,11,31,0,0,0),qE=u2.getTime(),GE=new Date(1900,2,1,0,0,0);function f2(r,e){var t=r.getTime();return e?t-=1461*24*60*60*1e3:r>=GE&&(t+=24*60*60*1e3),(t-(qE+(r.getTimezoneOffset()-u2.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function qm(r){return r.indexOf(".")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function $E(r){return r.indexOf("E")==-1?r:r.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ZE(r){var e=r<0?12:11,t=qm(r.toFixed(12));return t.length<=e||(t=r.toPrecision(10),t.length<=e)?t:r.toExponential(5)}function YE(r){var e=qm(r.toFixed(11));return e.length>(r<0?12:11)||e==="0"||e==="-0"?r.toPrecision(6):e}function KE(r){var e=Math.floor(Math.log(Math.abs(r))*Math.LOG10E),t;return e>=-4&&e<=-1?t=r.toPrecision(10+e):Math.abs(e)<=9?t=ZE(r):e===10?t=r.toFixed(10).substr(0,12):t=YE(r),qm($E(t.toUpperCase()))}function X0(r,e){switch(typeof r){case"string":return r;case"boolean":return r?"TRUE":"FALSE";case"number":return(r|0)===r?r.toString(10):KE(r);case"undefined":return"";case"object":if(r==null)return"";if(r instanceof Date)return Hl(14,f2(r,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+r)}function XE(r,e){e[0]-=581;var t=r.getDay();return r<60&&(t=(t+6)%7),t}function JE(r,e,t,n){var i="",s=0,a=0,o=t.y,c,h=0;switch(r){case 98:o=t.y+543;case 121:switch(e.length){case 1:case 2:c=o%100,h=2;break;default:c=o%1e4,h=4;break}break;case 109:switch(e.length){case 1:case 2:c=t.m,h=e.length;break;case 3:return zp[t.m-1][1];case 5:return zp[t.m-1][0];default:return zp[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:c=t.d,h=e.length;break;case 3:return C1[t.q][0];default:return C1[t.q][1]}break;case 104:switch(e.length){case 1:case 2:c=1+(t.H+11)%12,h=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:c=t.H,h=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:c=t.M,h=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Ka(t.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(t.S+t.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Ka(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":c=t.D*24+t.H;break;case"[m]":case"[mm]":c=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":c=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}h=e.length===3?1:2;break;case 101:c=o,h=1;break}var u=h>0?Ka(c,h):"";return u}function Nl(r){var e=3;if(r.length<=e)return r;for(var t=r.length%e,n=r.substr(0,t);t!=r.length;t+=e)n+=(n.length>0?",":"")+r.substr(t,e);return n}var d2=/%/g;function QE(r,e,t){var n=e.replace(d2,""),i=e.length-n.length;return Yo(r,n,t*Math.pow(10,2*i))+Fn("%",i)}function eA(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Yo(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function p2(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+p2(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),t.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,h,u){return c+h+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var m2=/# (\?+)( ?)\/( ?)(\d+)/;function tA(r,e,t){var n=parseInt(r[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return t+(s===0?"":""+s)+" "+(a===0?Fn(" ",r[1].length+1+r[4].length):Vm(a,r[1].length)+r[2]+"/"+r[3]+Ka(o,r[4].length))}function rA(r,e,t){return t+(e===0?"":""+e)+Fn(" ",r[1].length+2+r[4].length)}var g2=/^#*0*\.([0#]+)/,v2=/\).*[0#]/,w2=/\(###\) ###\\?-####/;function Qi(r){for(var e="",t,n=0;n!=r.length;++n)switch(t=r.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function D1(r,e){var t=Math.pow(10,e);return""+Math.round(r*t)/t}function N1(r,e){var t=r-Math.floor(r),n=Math.pow(10,e);return e<(""+Math.round(t*n)).length?0:Math.round(t*n)}function nA(r,e){return e<(""+Math.round((r-Math.floor(r))*Math.pow(10,e))).length?1:0}function iA(r){return r<2147483647&&r>-2147483648?""+(r>=0?r|0:r-1|0):""+Math.floor(r)}function va(r,e,t){if(r.charCodeAt(0)===40&&!e.match(v2)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?va("n",n,t):"("+va("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return eA(r,e,t);if(e.indexOf("%")!==-1)return QE(r,e,t);if(e.indexOf("E")!==-1)return p2(e,t);if(e.charCodeAt(0)===36)return"$"+va(r,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,c=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+lh(c,e.length);if(e.match(/^[#?]+$/))return i=lh(t,0),i==="0"&&(i=""),i.length>e.length?i:Qi(e.substr(0,e.length-i.length))+i;if(s=e.match(m2))return tA(s,c,h);if(e.match(/^#+0+$/))return h+lh(c,e.length-e.indexOf("0"));if(s=e.match(g2))return i=D1(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Qi(s[1])).replace(/\.$/,"."+Qi(s[1])).replace(/\.(\d*)$/,function(_,y){return"."+y+Fn("0",Qi(s[1]).length-y.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+D1(c,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+Nl(lh(c,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+va(r,e,-t):Nl(""+(Math.floor(t)+nA(t,s[1].length)))+"."+Ka(N1(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return va(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Sh(va(r,e.replace(/[\\-]/g,""),t)),a=0,Sh(Sh(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return a<i.length?i.charAt(a++):_==="0"?"0":""}));if(e.match(w2))return i=va(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=dd(c,Math.pow(10,a)-1,!1),i=""+h,u=Yo("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=ud(o[2],a),u.length<s[4].length&&(u=Qi(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=dd(c,Math.pow(10,a)-1,!0),h+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Vm(o[1],a)+s[2]+"/"+s[3]+ud(o[2],a):Fn(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=lh(t,0),e.length<=i.length?i:Qi(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,g=e.length-i.length-p;return Qi(e.substr(0,p)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=N1(t,s[1].length),t<0?"-"+va(r,e,-t):Nl(iA(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Ka(0,3-_.length):"")+_})+"."+Ka(a,s[1].length);switch(e){case"###,##0.00":return va(r,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var d=Nl(lh(c,0));return d!=="0"?h+d:"";case"###,###.00":return va(r,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return va(r,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function sA(r,e,t){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Yo(r,e.substr(0,n),t/Math.pow(10,3*(e.length-n)))}function aA(r,e,t){var n=e.replace(d2,""),i=e.length-n.length;return Yo(r,n,t*Math.pow(10,2*i))+Fn("%",i)}function y2(r,e){var t,n=r.indexOf("E")-r.indexOf(".")-1;if(r.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+y2(r,-e);var i=r.indexOf(".");i===-1&&(i=r.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!t.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,h,u){return c+h+u.substr(0,(i+s)%i)+"."+u.substr(s)+"E"})}else t=e.toExponential(n);return r.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),r.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function wo(r,e,t){if(r.charCodeAt(0)===40&&!e.match(v2)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?wo("n",n,t):"("+wo("n",n,-t)+")"}if(e.charCodeAt(e.length-1)===44)return sA(r,e,t);if(e.indexOf("%")!==-1)return aA(r,e,t);if(e.indexOf("E")!==-1)return y2(e,t);if(e.charCodeAt(0)===36)return"$"+wo(r,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,o,c=Math.abs(t),h=t<0?"-":"";if(e.match(/^00+$/))return h+Ka(c,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Qi(e.substr(0,e.length-i.length))+i;if(s=e.match(m2))return rA(s,c,h);if(e.match(/^#+0+$/))return h+Ka(c,e.length-e.indexOf("0"));if(s=e.match(g2))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Qi(s[1])).replace(/\.$/,"."+Qi(s[1])),i=i.replace(/\.(\d*)$/,function(_,y){return"."+y+Fn("0",Qi(s[1]).length-y.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return h+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return h+Nl(""+c);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+wo(r,e,-t):Nl(""+t)+"."+Fn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return wo(r,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Sh(wo(r,e.replace(/[\\-]/g,""),t)),a=0,Sh(Sh(e.replace(/\\/g,"")).replace(/[0#]/g,function(_){return a<i.length?i.charAt(a++):_==="0"?"0":""}));if(e.match(w2))return i=wo(r,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=dd(c,Math.pow(10,a)-1,!1),i=""+h,u=Yo("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+s[2]+"/"+s[3],u=ud(o[2],a),u.length<s[4].length&&(u=Qi(s[4].substr(s[4].length-u.length))+u),i+=u,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=dd(c,Math.pow(10,a)-1,!0),h+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Vm(o[1],a)+s[2]+"/"+s[3]+ud(o[2],a):Fn(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Qi(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,g=e.length-i.length-p;return Qi(e.substr(0,p)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+wo(r,e,-t):Nl(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(_){return"00,"+(_.length<3?Ka(0,3-_.length):"")+_})+"."+Ka(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var d=Nl(""+c);return d!=="0"?h+d:"";default:if(e.match(/\.[0#?]*$/))return wo(r,e.slice(0,e.lastIndexOf(".")),t)+Qi(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Yo(r,e,t){return(t|0)===t?wo(r,e,t):va(r,e,t)}function oA(r){for(var e=[],t=!1,n=0,i=0;n<r.length;++n)switch(r.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=r.substr(i,n-i),i=n+1}if(e[e.length]=r.substr(i),t===!0)throw new Error("Format |"+r+"| unterminated string ");return e}var _2=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function b2(r){for(var e=0,t="",n="";e<r.length;)switch(t=r.charAt(e)){case"G":fd(r,e)&&(e+=6),e++;break;case'"':for(;r.charCodeAt(++e)!==34&&e<r.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(r.charAt(e+1)==="1"||r.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(r.substr(e,3).toUpperCase()==="A/P"||r.substr(e,5).toUpperCase()==="AM/PM"||r.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=t;r.charAt(e++)!=="]"&&e<r.length;)n+=r.charAt(e);if(n.match(_2))return!0;break;case".":case"0":case"#":for(;e<r.length&&("0#?.,E+-%".indexOf(t=r.charAt(++e))>-1||t=="\\"&&r.charAt(e+1)=="-"&&"0#".indexOf(r.charAt(e+2))>-1););break;case"?":for(;r.charAt(++e)===t;);break;case"*":++e,(r.charAt(e)==" "||r.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<r.length&&"0123456789".indexOf(r.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function lA(r,e,t,n){for(var i=[],s="",a=0,o="",c="t",h,u,p,g="H";a<r.length;)switch(o=r.charAt(a)){case"G":if(!fd(r,a))throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(p=r.charCodeAt(++a))!==34&&a<r.length;)s+=String.fromCharCode(p);i[i.length]={t:"t",v:s},++a;break;case"\\":var d=r.charAt(++a),_=d==="("||d===")"?d:"t";i[i.length]={t:_,v:d},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(r.charAt(a+1)==="1"||r.charAt(a+1)==="2"){if(h==null&&(h=kf(e,t,r.charAt(a+1)==="2"),h==null))return"";i[i.length]={t:"X",v:r.substr(a,2)},c=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||h==null&&(h=kf(e,t),h==null))return"";for(s=o;++a<r.length&&r.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:s},c=o;break;case"A":case"a":case"":var y={t:o,v:o};if(h==null&&(h=kf(e,t)),r.substr(a,3).toUpperCase()==="A/P"?(h!=null&&(y.v=h.H>=12?"P":"A"),y.t="T",g="h",a+=3):r.substr(a,5).toUpperCase()==="AM/PM"?(h!=null&&(y.v=h.H>=12?"PM":"AM"),y.t="T",a+=5,g="h"):r.substr(a,5).toUpperCase()==="/"?(h!=null&&(y.v=h.H>=12?"":""),y.t="T",a+=5,g="h"):(y.t="t",++a),h==null&&y.t==="T")return"";i[i.length]=y,c=o;break;case"[":for(s=o;r.charAt(a++)!=="]"&&a<r.length;)s+=r.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(_2)){if(h==null&&(h=kf(e,t),h==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},c=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",b2(r)||(i[i.length]={t:"t",v:s}));break;case".":if(h!=null){for(s=o;++a<r.length&&(o=r.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<r.length&&"0#?.,E+-%".indexOf(o=r.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;r.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},c=o;break;case"*":++a,(r.charAt(a)==" "||r.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<r.length&&"0123456789".indexOf(r.charAt(++a))>-1;)s+=r.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+r);i[i.length]={t:"t",v:o},++a;break}var b=0,E=0,D;for(a=i.length-1,c="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=g,c="h",b<1&&(b=1);break;case"s":(D=i[a].v.match(/\.0+$/))&&(E=Math.max(E,D[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":c=i[a].t;break;case"m":c==="s"&&(i[a].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&i[a].v.match(/[Hh]/)&&(b=1),b<2&&i[a].v.match(/[Mm]/)&&(b=2),b<3&&i[a].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var N="",I;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=JE(i[a].t.charCodeAt(0),i[a].v,h,E),i[a].t="t";break;case"n":case"?":for(I=a+1;i[I]!=null&&((o=i[I].t)==="?"||o==="D"||(o===" "||o==="t")&&i[I+1]!=null&&(i[I+1].t==="?"||i[I+1].t==="t"&&i[I+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[I].v==="/"||i[I].v===" "&&i[I+1]!=null&&i[I+1].t=="?"));)i[a].v+=i[I].v,i[I]={v:"",t:";"},++I;N+=i[a].v,a=I-1;break;case"G":i[a].t="t",i[a].v=X0(e,t);break}var X="",he,G;if(N.length>0){N.charCodeAt(0)==40?(he=e<0&&N.charCodeAt(0)===45?-e:e,G=Yo("n",N,he)):(he=e<0&&n>1?-e:e,G=Yo("n",N,he),he<0&&i[0]&&i[0].t=="t"&&(G=G.substr(1),i[0].v="-"+i[0].v)),I=G.length-1;var q=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){q=a;break}var O=i.length;if(q===i.length&&G.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(I>=i[a].v.length-1?(I-=i[a].v.length,i[a].v=G.substr(I+1,i[a].v.length)):I<0?i[a].v="":(i[a].v=G.substr(0,I+1),I=-1),i[a].t="t",O=a);I>=0&&O<i.length&&(i[O].v=G.substr(0,I+1)+i[O].v)}else if(q!==i.length&&G.indexOf("E")===-1){for(I=G.indexOf(".")-1,a=q;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(u=i[a].v.indexOf(".")>-1&&a===q?i[a].v.indexOf(".")-1:i[a].v.length-1,X=i[a].v.substr(u+1);u>=0;--u)I>=0&&(i[a].v.charAt(u)==="0"||i[a].v.charAt(u)==="#")&&(X=G.charAt(I--)+X);i[a].v=X,i[a].t="t",O=a}for(I>=0&&O<i.length&&(i[O].v=G.substr(0,I+1)+i[O].v),I=G.indexOf(".")+1,a=q;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==q)){for(u=i[a].v.indexOf(".")>-1&&a===q?i[a].v.indexOf(".")+1:0,X=i[a].v.substr(0,u);u<i[a].v.length;++u)I<G.length&&(X+=G.charAt(I++));i[a].v=X,i[a].t="t",O=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(he=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=Yo(i[a].t,i[a].v,he),i[a].t="t");var ee="";for(a=0;a!==i.length;++a)i[a]!=null&&(ee+=i[a].v);return ee}var I1=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function L1(r,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(r==t)return!0;break;case">":if(r>t)return!0;break;case"<":if(r<t)return!0;break;case"<>":if(r!=t)return!0;break;case">=":if(r>=t)return!0;break;case"<=":if(r<=t)return!0;break}return!1}function cA(r,e){var t=oA(r),n=t.length,i=t[n-1].indexOf("@");if(n<4&&i>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var a=t[0].match(I1),o=t[1].match(I1);return L1(e,a)?[n,t[0]]:L1(e,o)?[n,t[1]]:[n,t[a!=null&&o!=null?2:1]]}return[n,s]}function Hl(r,e,t){t==null&&(t={});var n="";switch(typeof r){case"string":r=="m/d/yy"&&t.dateNF?n=t.dateNF:n=r;break;case"number":r==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:Mn)[r],n==null&&(n=t.table&&t.table[k1[r]]||Mn[k1[r]]),n==null&&(n=VE[r]||"General");break}if(fd(n,0))return X0(e,t);e instanceof Date&&(e=f2(e,t.date1904));var i=cA(n,e);if(fd(i[1]))return X0(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return lA(i[1],e,t,i[0])}function x2(r,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(Mn[t]==null){e<0&&(e=t);continue}if(Mn[t]==r){e=t;break}}e<0&&(e=391)}return Mn[e]=r,e}function Qd(r){for(var e=0;e!=392;++e)r[e]!==void 0&&x2(r[e],e)}function ep(){Mn=WE()}var S2=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function hA(r){var e=typeof r=="number"?Mn[r]:r;return e=e.replace(S2,"(\\d+)"),new RegExp("^"+e+"$")}function uA(r,e,t){var n=-1,i=-1,s=-1,a=-1,o=-1,c=-1;(e.match(S2)||[]).forEach(function(p,g){var d=parseInt(t[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=d;break;case"d":s=d;break;case"h":a=d;break;case"s":c=d;break;case"m":a>=0?o=d:i=d;break}}),c>=0&&o==-1&&i>=0&&(o=i,i=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return a==-1&&o==-1&&c==-1?h:n==-1&&i==-1&&s==-1?u:h+"T"+u}var fA=function(){var r={};r.version="1.2.0";function e(){for(var G=0,q=new Array(256),O=0;O!=256;++O)G=O,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,q[O]=G;return typeof Int32Array<"u"?new Int32Array(q):q}var t=e();function n(G){var q=0,O=0,ee=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(ee=0;ee!=256;++ee)P[ee]=G[ee];for(ee=0;ee!=256;++ee)for(O=G[ee],q=256+ee;q<4096;q+=256)O=P[q]=O>>>8^G[O&255];var z=[];for(ee=1;ee!=16;++ee)z[ee-1]=typeof Int32Array<"u"?P.subarray(ee*256,ee*256+256):P.slice(ee*256,ee*256+256);return z}var i=n(t),s=i[0],a=i[1],o=i[2],c=i[3],h=i[4],u=i[5],p=i[6],g=i[7],d=i[8],_=i[9],y=i[10],b=i[11],E=i[12],D=i[13],N=i[14];function I(G,q){for(var O=q^-1,ee=0,P=G.length;ee<P;)O=O>>>8^t[(O^G.charCodeAt(ee++))&255];return~O}function X(G,q){for(var O=q^-1,ee=G.length-15,P=0;P<ee;)O=N[G[P++]^O&255]^D[G[P++]^O>>8&255]^E[G[P++]^O>>16&255]^b[G[P++]^O>>>24]^y[G[P++]]^_[G[P++]]^d[G[P++]]^g[G[P++]]^p[G[P++]]^u[G[P++]]^h[G[P++]]^c[G[P++]]^o[G[P++]]^a[G[P++]]^s[G[P++]]^t[G[P++]];for(ee+=15;P<ee;)O=O>>>8^t[(O^G[P++])&255];return~O}function he(G,q){for(var O=q^-1,ee=0,P=G.length,z=0,te=0;ee<P;)z=G.charCodeAt(ee++),z<128?O=O>>>8^t[(O^z)&255]:z<2048?(O=O>>>8^t[(O^(192|z>>6&31))&255],O=O>>>8^t[(O^(128|z&63))&255]):z>=55296&&z<57344?(z=(z&1023)+64,te=G.charCodeAt(ee++)&1023,O=O>>>8^t[(O^(240|z>>8&7))&255],O=O>>>8^t[(O^(128|z>>2&63))&255],O=O>>>8^t[(O^(128|te>>6&15|(z&3)<<4))&255],O=O>>>8^t[(O^(128|te&63))&255]):(O=O>>>8^t[(O^(224|z>>12&15))&255],O=O>>>8^t[(O^(128|z>>6&63))&255],O=O>>>8^t[(O^(128|z&63))&255]);return~O}return r.table=t,r.bstr=I,r.buf=X,r.str=he,r}(),Jr=function(){var e={};e.version="1.2.1";function t(H,ie){for(var K=H.split("/"),Q=ie.split("/"),ne=0,oe=0,Ee=Math.min(K.length,Q.length);ne<Ee;++ne){if(oe=K[ne].length-Q[ne].length)return oe;if(K[ne]!=Q[ne])return K[ne]<Q[ne]?-1:1}return K.length-Q.length}function n(H){if(H.charAt(H.length-1)=="/")return H.slice(0,-1).indexOf("/")===-1?H:n(H.slice(0,-1));var ie=H.lastIndexOf("/");return ie===-1?H:H.slice(0,ie+1)}function i(H){if(H.charAt(H.length-1)=="/")return i(H.slice(0,-1));var ie=H.lastIndexOf("/");return ie===-1?H:H.slice(ie+1)}function s(H,ie){typeof ie=="string"&&(ie=new Date(ie));var K=ie.getHours();K=K<<6|ie.getMinutes(),K=K<<5|ie.getSeconds()>>>1,H.write_shift(2,K);var Q=ie.getFullYear()-1980;Q=Q<<4|ie.getMonth()+1,Q=Q<<5|ie.getDate(),H.write_shift(2,Q)}function a(H){var ie=H.read_shift(2)&65535,K=H.read_shift(2)&65535,Q=new Date,ne=K&31;K>>>=5;var oe=K&15;K>>>=4,Q.setMilliseconds(0),Q.setFullYear(K+1980),Q.setMonth(oe-1),Q.setDate(ne);var Ee=ie&31;ie>>>=5;var He=ie&63;return ie>>>=6,Q.setHours(ie),Q.setMinutes(He),Q.setSeconds(Ee<<1),Q}function o(H){Zs(H,0);for(var ie={},K=0;H.l<=H.length-4;){var Q=H.read_shift(2),ne=H.read_shift(2),oe=H.l+ne,Ee={};switch(Q){case 21589:K=H.read_shift(1),K&1&&(Ee.mtime=H.read_shift(4)),ne>5&&(K&2&&(Ee.atime=H.read_shift(4)),K&4&&(Ee.ctime=H.read_shift(4))),Ee.mtime&&(Ee.mt=new Date(Ee.mtime*1e3));break}H.l=oe,ie[Q]=Ee}return ie}var c;function h(){return c||(c={})}function u(H,ie){if(H[0]==80&&H[1]==75)return en(H,ie);if((H[0]|32)==109&&(H[1]|32)==105)return zt(H,ie);if(H.length<512)throw new Error("CFB file size "+H.length+" < 512");var K=3,Q=512,ne=0,oe=0,Ee=0,He=0,ke=0,De=[],Re=H.slice(0,512);Zs(Re,0);var at=p(Re);switch(K=at[0],K){case 3:Q=512;break;case 4:Q=4096;break;case 0:if(at[1]==0)return en(H,ie);default:throw new Error("Major Version: Expected 3 or 4 saw "+K)}Q!==512&&(Re=H.slice(0,Q),Zs(Re,28));var ut=H.slice(0,Q);g(Re,K);var bt=Re.read_shift(4,"i");if(K===3&&bt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+bt);Re.l+=4,Ee=Re.read_shift(4,"i"),Re.l+=4,Re.chk("00100000","Mini Stream Cutoff Size: "),He=Re.read_shift(4,"i"),ne=Re.read_shift(4,"i"),ke=Re.read_shift(4,"i"),oe=Re.read_shift(4,"i");for(var lt=-1,vt=0;vt<109&&(lt=Re.read_shift(4,"i"),!(lt<0));++vt)De[vt]=lt;var Yt=d(H,Q);b(ke,oe,Yt,Q,De);var Br=D(Yt,Ee,De,Q);Br[Ee].name="!Directory",ne>0&&He!==te&&(Br[He].name="!MiniFAT"),Br[De[0]].name="!FAT",Br.fat_addrs=De,Br.ssz=Q;var vr={},wn=[],os=[],gi=[];N(Ee,Br,Yt,wn,ne,vr,os,He),_(os,gi,wn),wn.shift();var Ls={FileIndex:os,FullPaths:gi};return ie&&ie.raw&&(Ls.raw={header:ut,sectors:Yt}),Ls}function p(H){if(H[H.l]==80&&H[H.l+1]==75)return[0,0];H.chk(ce,"Header Signature: "),H.l+=16;var ie=H.read_shift(2,"u");return[H.read_shift(2,"u"),ie]}function g(H,ie){var K=9;switch(H.l+=2,K=H.read_shift(2)){case 9:if(ie!=3)throw new Error("Sector Shift: Expected 9 saw "+K);break;case 12:if(ie!=4)throw new Error("Sector Shift: Expected 12 saw "+K);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+K)}H.chk("0600","Mini Sector Shift: "),H.chk("000000000000","Reserved: ")}function d(H,ie){for(var K=Math.ceil(H.length/ie)-1,Q=[],ne=1;ne<K;++ne)Q[ne-1]=H.slice(ne*ie,(ne+1)*ie);return Q[K-1]=H.slice(K*ie),Q}function _(H,ie,K){for(var Q=0,ne=0,oe=0,Ee=0,He=0,ke=K.length,De=[],Re=[];Q<ke;++Q)De[Q]=Re[Q]=Q,ie[Q]=K[Q];for(;He<Re.length;++He)Q=Re[He],ne=H[Q].L,oe=H[Q].R,Ee=H[Q].C,De[Q]===Q&&(ne!==-1&&De[ne]!==ne&&(De[Q]=De[ne]),oe!==-1&&De[oe]!==oe&&(De[Q]=De[oe])),Ee!==-1&&(De[Ee]=Q),ne!==-1&&Q!=De[Q]&&(De[ne]=De[Q],Re.lastIndexOf(ne)<He&&Re.push(ne)),oe!==-1&&Q!=De[Q]&&(De[oe]=De[Q],Re.lastIndexOf(oe)<He&&Re.push(oe));for(Q=1;Q<ke;++Q)De[Q]===Q&&(oe!==-1&&De[oe]!==oe?De[Q]=De[oe]:ne!==-1&&De[ne]!==ne&&(De[Q]=De[ne]));for(Q=1;Q<ke;++Q)if(H[Q].type!==0){if(He=Q,He!=De[He])do He=De[He],ie[Q]=ie[He]+"/"+ie[Q];while(He!==0&&De[He]!==-1&&He!=De[He]);De[Q]=-1}for(ie[0]+="/",Q=1;Q<ke;++Q)H[Q].type!==2&&(ie[Q]+="/")}function y(H,ie,K){for(var Q=H.start,ne=H.size,oe=[],Ee=Q;K&&ne>0&&Ee>=0;)oe.push(ie.slice(Ee*z,Ee*z+z)),ne-=z,Ee=gc(K,Ee*4);return oe.length===0?Ve(0):Ti(oe).slice(0,H.size)}function b(H,ie,K,Q,ne){var oe=te;if(H===te){if(ie!==0)throw new Error("DIFAT chain shorter than expected")}else if(H!==-1){var Ee=K[H],He=(Q>>>2)-1;if(!Ee)return;for(var ke=0;ke<He&&(oe=gc(Ee,ke*4))!==te;++ke)ne.push(oe);b(gc(Ee,Q-4),ie-1,K,Q,ne)}}function E(H,ie,K,Q,ne){var oe=[],Ee=[];ne||(ne=[]);var He=Q-1,ke=0,De=0;for(ke=ie;ke>=0;){ne[ke]=!0,oe[oe.length]=ke,Ee.push(H[ke]);var Re=K[Math.floor(ke*4/Q)];if(De=ke*4&He,Q<4+De)throw new Error("FAT boundary crossed: "+ke+" 4 "+Q);if(!H[Re])break;ke=gc(H[Re],De)}return{nodes:oe,data:z1([Ee])}}function D(H,ie,K,Q){var ne=H.length,oe=[],Ee=[],He=[],ke=[],De=Q-1,Re=0,at=0,ut=0,bt=0;for(Re=0;Re<ne;++Re)if(He=[],ut=Re+ie,ut>=ne&&(ut-=ne),!Ee[ut]){ke=[];var lt=[];for(at=ut;at>=0;){lt[at]=!0,Ee[at]=!0,He[He.length]=at,ke.push(H[at]);var vt=K[Math.floor(at*4/Q)];if(bt=at*4&De,Q<4+bt)throw new Error("FAT boundary crossed: "+at+" 4 "+Q);if(!H[vt]||(at=gc(H[vt],bt),lt[at]))break}oe[ut]={nodes:He,data:z1([ke])}}return oe}function N(H,ie,K,Q,ne,oe,Ee,He){for(var ke=0,De=Q.length?2:0,Re=ie[H].data,at=0,ut=0,bt;at<Re.length;at+=128){var lt=Re.slice(at,at+128);Zs(lt,64),ut=lt.read_shift(2),bt=Km(lt,0,ut-De),Q.push(bt);var vt={name:bt,type:lt.read_shift(1),color:lt.read_shift(1),L:lt.read_shift(4,"i"),R:lt.read_shift(4,"i"),C:lt.read_shift(4,"i"),clsid:lt.read_shift(16),state:lt.read_shift(4,"i"),start:0,size:0},Yt=lt.read_shift(2)+lt.read_shift(2)+lt.read_shift(2)+lt.read_shift(2);Yt!==0&&(vt.ct=I(lt,lt.l-8));var Br=lt.read_shift(2)+lt.read_shift(2)+lt.read_shift(2)+lt.read_shift(2);Br!==0&&(vt.mt=I(lt,lt.l-8)),vt.start=lt.read_shift(4,"i"),vt.size=lt.read_shift(4,"i"),vt.size<0&&vt.start<0&&(vt.size=vt.type=0,vt.start=te,vt.name=""),vt.type===5?(ke=vt.start,ne>0&&ke!==te&&(ie[ke].name="!StreamData")):vt.size>=4096?(vt.storage="fat",ie[vt.start]===void 0&&(ie[vt.start]=E(K,vt.start,ie.fat_addrs,ie.ssz)),ie[vt.start].name=vt.name,vt.content=ie[vt.start].data.slice(0,vt.size)):(vt.storage="minifat",vt.size<0?vt.size=0:ke!==te&&vt.start!==te&&ie[ke]&&(vt.content=y(vt,ie[ke].data,(ie[He]||{}).data))),vt.content&&Zs(vt.content,0),oe[bt]=vt,Ee.push(vt)}}function I(H,ie){return new Date((Ks(H,ie+4)/1e7*Math.pow(2,32)+Ks(H,ie)/1e7-11644473600)*1e3)}function X(H,ie){return h(),u(c.readFileSync(H),ie)}function he(H,ie){var K=ie&&ie.type;switch(K||Mr&&Buffer.isBuffer(H)&&(K="buffer"),K||"base64"){case"file":return X(H,ie);case"base64":return u(Ya(tl(H)),ie);case"binary":return u(Ya(H),ie)}return u(H,ie)}function G(H,ie){var K=ie||{},Q=K.root||"Root Entry";if(H.FullPaths||(H.FullPaths=[]),H.FileIndex||(H.FileIndex=[]),H.FullPaths.length!==H.FileIndex.length)throw new Error("inconsistent CFB structure");H.FullPaths.length===0&&(H.FullPaths[0]=Q+"/",H.FileIndex[0]={name:Q,type:5}),K.CLSID&&(H.FileIndex[0].clsid=K.CLSID),q(H)}function q(H){var ie="Sh33tJ5";if(!Jr.find(H,"/"+ie)){var K=Ve(4);K[0]=55,K[1]=K[3]=50,K[2]=54,H.FileIndex.push({name:ie,type:2,content:K,size:4,L:69,R:69,C:69}),H.FullPaths.push(H.FullPaths[0]+ie),O(H)}}function O(H,ie){G(H);for(var K=!1,Q=!1,ne=H.FullPaths.length-1;ne>=0;--ne){var oe=H.FileIndex[ne];switch(oe.type){case 0:Q?K=!0:(H.FileIndex.pop(),H.FullPaths.pop());break;case 1:case 2:case 5:Q=!0,isNaN(oe.R*oe.L*oe.C)&&(K=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(K=!0);break;default:K=!0;break}}if(!(!K&&!ie)){var Ee=new Date(1987,1,19),He=0,ke=Object.create?Object.create(null):{},De=[];for(ne=0;ne<H.FullPaths.length;++ne)ke[H.FullPaths[ne]]=!0,H.FileIndex[ne].type!==0&&De.push([H.FullPaths[ne],H.FileIndex[ne]]);for(ne=0;ne<De.length;++ne){var Re=n(De[ne][0]);Q=ke[Re],Q||(De.push([Re,{name:i(Re).replace("/",""),type:1,clsid:Ce,ct:Ee,mt:Ee,content:null}]),ke[Re]=!0)}for(De.sort(function(bt,lt){return t(bt[0],lt[0])}),H.FullPaths=[],H.FileIndex=[],ne=0;ne<De.length;++ne)H.FullPaths[ne]=De[ne][0],H.FileIndex[ne]=De[ne][1];for(ne=0;ne<De.length;++ne){var at=H.FileIndex[ne],ut=H.FullPaths[ne];if(at.name=i(ut).replace("/",""),at.L=at.R=at.C=-(at.color=1),at.size=at.content?at.content.length:0,at.start=0,at.clsid=at.clsid||Ce,ne===0)at.C=De.length>1?1:-1,at.size=0,at.type=5;else if(ut.slice(-1)=="/"){for(He=ne+1;He<De.length&&n(H.FullPaths[He])!=ut;++He);for(at.C=He>=De.length?-1:He,He=ne+1;He<De.length&&n(H.FullPaths[He])!=n(ut);++He);at.R=He>=De.length?-1:He,at.type=1}else n(H.FullPaths[ne+1]||"")==n(ut)&&(at.R=ne+1),at.type=2}}}function ee(H,ie){var K=ie||{};if(K.fileType=="mad")return Ns(H,K);switch(O(H),K.fileType){case"zip":return Dr(H,K)}var Q=function(bt){for(var lt=0,vt=0,Yt=0;Yt<bt.FileIndex.length;++Yt){var Br=bt.FileIndex[Yt];if(Br.content){var vr=Br.content.length;vr>0&&(vr<4096?lt+=vr+63>>6:vt+=vr+511>>9)}}for(var wn=bt.FullPaths.length+3>>2,os=lt+7>>3,gi=lt+127>>7,Ls=os+vt+wn+gi,qi=Ls+127>>7,ls=qi<=109?0:Math.ceil((qi-109)/127);Ls+qi+ls+127>>7>qi;)ls=++qi<=109?0:Math.ceil((qi-109)/127);var Xt=[1,ls,qi,gi,wn,vt,lt,0];return bt.FileIndex[0].size=lt<<6,Xt[7]=(bt.FileIndex[0].start=Xt[0]+Xt[1]+Xt[2]+Xt[3]+Xt[4]+Xt[5])+(Xt[6]+7>>3),Xt}(H),ne=Ve(Q[7]<<9),oe=0,Ee=0;{for(oe=0;oe<8;++oe)ne.write_shift(1,be[oe]);for(oe=0;oe<8;++oe)ne.write_shift(2,0);for(ne.write_shift(2,62),ne.write_shift(2,3),ne.write_shift(2,65534),ne.write_shift(2,9),ne.write_shift(2,6),oe=0;oe<3;++oe)ne.write_shift(2,0);for(ne.write_shift(4,0),ne.write_shift(4,Q[2]),ne.write_shift(4,Q[0]+Q[1]+Q[2]+Q[3]-1),ne.write_shift(4,0),ne.write_shift(4,4096),ne.write_shift(4,Q[3]?Q[0]+Q[1]+Q[2]-1:te),ne.write_shift(4,Q[3]),ne.write_shift(-4,Q[1]?Q[0]-1:te),ne.write_shift(4,Q[1]),oe=0;oe<109;++oe)ne.write_shift(-4,oe<Q[2]?Q[1]+oe:-1)}if(Q[1])for(Ee=0;Ee<Q[1];++Ee){for(;oe<236+Ee*127;++oe)ne.write_shift(-4,oe<Q[2]?Q[1]+oe:-1);ne.write_shift(-4,Ee===Q[1]-1?te:Ee+1)}var He=function(bt){for(Ee+=bt;oe<Ee-1;++oe)ne.write_shift(-4,oe+1);bt&&(++oe,ne.write_shift(-4,te))};for(Ee=oe=0,Ee+=Q[1];oe<Ee;++oe)ne.write_shift(-4,Pe.DIFSECT);for(Ee+=Q[2];oe<Ee;++oe)ne.write_shift(-4,Pe.FATSECT);He(Q[3]),He(Q[4]);for(var ke=0,De=0,Re=H.FileIndex[0];ke<H.FileIndex.length;++ke)Re=H.FileIndex[ke],Re.content&&(De=Re.content.length,!(De<4096)&&(Re.start=Ee,He(De+511>>9)));for(He(Q[6]+7>>3);ne.l&511;)ne.write_shift(-4,Pe.ENDOFCHAIN);for(Ee=oe=0,ke=0;ke<H.FileIndex.length;++ke)Re=H.FileIndex[ke],Re.content&&(De=Re.content.length,!(!De||De>=4096)&&(Re.start=Ee,He(De+63>>6)));for(;ne.l&511;)ne.write_shift(-4,Pe.ENDOFCHAIN);for(oe=0;oe<Q[4]<<2;++oe){var at=H.FullPaths[oe];if(!at||at.length===0){for(ke=0;ke<17;++ke)ne.write_shift(4,0);for(ke=0;ke<3;++ke)ne.write_shift(4,-1);for(ke=0;ke<12;++ke)ne.write_shift(4,0);continue}Re=H.FileIndex[oe],oe===0&&(Re.start=Re.size?Re.start-1:te);var ut=oe===0&&K.root||Re.name;if(De=2*(ut.length+1),ne.write_shift(64,ut,"utf16le"),ne.write_shift(2,De),ne.write_shift(1,Re.type),ne.write_shift(1,Re.color),ne.write_shift(-4,Re.L),ne.write_shift(-4,Re.R),ne.write_shift(-4,Re.C),Re.clsid)ne.write_shift(16,Re.clsid,"hex");else for(ke=0;ke<4;++ke)ne.write_shift(4,0);ne.write_shift(4,Re.state||0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(4,Re.start),ne.write_shift(4,Re.size),ne.write_shift(4,0)}for(oe=1;oe<H.FileIndex.length;++oe)if(Re=H.FileIndex[oe],Re.size>=4096)if(ne.l=Re.start+1<<9,Mr&&Buffer.isBuffer(Re.content))Re.content.copy(ne,ne.l,0,Re.size),ne.l+=Re.size+511&-512;else{for(ke=0;ke<Re.size;++ke)ne.write_shift(1,Re.content[ke]);for(;ke&511;++ke)ne.write_shift(1,0)}for(oe=1;oe<H.FileIndex.length;++oe)if(Re=H.FileIndex[oe],Re.size>0&&Re.size<4096)if(Mr&&Buffer.isBuffer(Re.content))Re.content.copy(ne,ne.l,0,Re.size),ne.l+=Re.size+63&-64;else{for(ke=0;ke<Re.size;++ke)ne.write_shift(1,Re.content[ke]);for(;ke&63;++ke)ne.write_shift(1,0)}if(Mr)ne.l=ne.length;else for(;ne.l<ne.length;)ne.write_shift(1,0);return ne}function P(H,ie){var K=H.FullPaths.map(function(ke){return ke.toUpperCase()}),Q=K.map(function(ke){var De=ke.split("/");return De[De.length-(ke.slice(-1)=="/"?2:1)]}),ne=!1;ie.charCodeAt(0)===47?(ne=!0,ie=K[0].slice(0,-1)+ie):ne=ie.indexOf("/")!==-1;var oe=ie.toUpperCase(),Ee=ne===!0?K.indexOf(oe):Q.indexOf(oe);if(Ee!==-1)return H.FileIndex[Ee];var He=!oe.match(Cf);for(oe=oe.replace(vu,""),He&&(oe=oe.replace(Cf,"!")),Ee=0;Ee<K.length;++Ee)if((He?K[Ee].replace(Cf,"!"):K[Ee]).replace(vu,"")==oe||(He?Q[Ee].replace(Cf,"!"):Q[Ee]).replace(vu,"")==oe)return H.FileIndex[Ee];return null}var z=64,te=-2,ce="d0cf11e0a1b11ae1",be=[208,207,17,224,161,177,26,225],Ce="00000000000000000000000000000000",Pe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:te,FREESECT:-1,HEADER_SIGNATURE:ce,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Ce,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function me(H,ie,K){h();var Q=ee(H,K);c.writeFileSync(ie,Q)}function Fe(H){for(var ie=new Array(H.length),K=0;K<H.length;++K)ie[K]=String.fromCharCode(H[K]);return ie.join("")}function Oe(H,ie){var K=ee(H,ie);switch(ie&&ie.type||"buffer"){case"file":return h(),c.writeFileSync(ie.filename,K),K;case"binary":return typeof K=="string"?K:Fe(K);case"base64":return Pu(typeof K=="string"?K:Fe(K));case"buffer":if(Mr)return Buffer.isBuffer(K)?K:al(K);case"array":return typeof K=="string"?Ya(K):K}return K}var Me;function T(H){try{var ie=H.InflateRaw,K=new ie;if(K._processChunk(new Uint8Array([3,0]),K._finishFlushFlag),K.bytesRead)Me=H;else throw new Error("zlib does not expose bytesRead")}catch(Q){console.error("cannot use native zlib: "+(Q.message||Q))}}function F(H,ie){if(!Me)return pr(H,ie);var K=Me.InflateRaw,Q=new K,ne=Q._processChunk(H.slice(H.l),Q._finishFlushFlag);return H.l+=Q.bytesRead,ne}function R(H){return Me?Me.deflateRawSync(H):Wt(H)}var B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],fe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function we(H){var ie=(H<<1|H<<11)&139536|(H<<5|H<<15)&558144;return(ie>>16|ie>>8|ie)&255}for(var ve=typeof Uint8Array<"u",_e=ve?new Uint8Array(256):[],je=0;je<256;++je)_e[je]=we(je);function Xe(H,ie){var K=_e[H&255];return ie<=8?K>>>8-ie:(K=K<<8|_e[H>>8&255],ie<=16?K>>>16-ie:(K=K<<8|_e[H>>16&255],K>>>24-ie))}function ct(H,ie){var K=ie&7,Q=ie>>>3;return(H[Q]|(K<=6?0:H[Q+1]<<8))>>>K&3}function Ne(H,ie){var K=ie&7,Q=ie>>>3;return(H[Q]|(K<=5?0:H[Q+1]<<8))>>>K&7}function le(H,ie){var K=ie&7,Q=ie>>>3;return(H[Q]|(K<=4?0:H[Q+1]<<8))>>>K&15}function Nt(H,ie){var K=ie&7,Q=ie>>>3;return(H[Q]|(K<=3?0:H[Q+1]<<8))>>>K&31}function Qe(H,ie){var K=ie&7,Q=ie>>>3;return(H[Q]|(K<=1?0:H[Q+1]<<8))>>>K&127}function St(H,ie,K){var Q=ie&7,ne=ie>>>3,oe=(1<<K)-1,Ee=H[ne]>>>Q;return K<8-Q||(Ee|=H[ne+1]<<8-Q,K<16-Q)||(Ee|=H[ne+2]<<16-Q,K<24-Q)||(Ee|=H[ne+3]<<24-Q),Ee&oe}function st(H,ie,K){var Q=ie&7,ne=ie>>>3;return Q<=5?H[ne]|=(K&7)<<Q:(H[ne]|=K<<Q&255,H[ne+1]=(K&7)>>8-Q),ie+3}function Et(H,ie,K){var Q=ie&7,ne=ie>>>3;return K=(K&1)<<Q,H[ne]|=K,ie+1}function mt(H,ie,K){var Q=ie&7,ne=ie>>>3;return K<<=Q,H[ne]|=K&255,K>>>=8,H[ne+1]=K,ie+8}function Jt(H,ie,K){var Q=ie&7,ne=ie>>>3;return K<<=Q,H[ne]|=K&255,K>>>=8,H[ne+1]=K&255,H[ne+2]=K>>>8,ie+16}function It(H,ie){var K=H.length,Q=2*K>ie?2*K:ie+5,ne=0;if(K>=ie)return H;if(Mr){var oe=A1(Q);if(H.copy)H.copy(oe);else for(;ne<H.length;++ne)oe[ne]=H[ne];return oe}else if(ve){var Ee=new Uint8Array(Q);if(Ee.set)Ee.set(H);else for(;ne<K;++ne)Ee[ne]=H[ne];return Ee}return H.length=Q,H}function lr(H){for(var ie=new Array(H),K=0;K<H;++K)ie[K]=0;return ie}function Zt(H,ie,K){var Q=1,ne=0,oe=0,Ee=0,He=0,ke=H.length,De=ve?new Uint16Array(32):lr(32);for(oe=0;oe<32;++oe)De[oe]=0;for(oe=ke;oe<K;++oe)H[oe]=0;ke=H.length;var Re=ve?new Uint16Array(ke):lr(ke);for(oe=0;oe<ke;++oe)De[ne=H[oe]]++,Q<ne&&(Q=ne),Re[oe]=0;for(De[0]=0,oe=1;oe<=Q;++oe)De[oe+16]=He=He+De[oe-1]<<1;for(oe=0;oe<ke;++oe)He=H[oe],He!=0&&(Re[oe]=De[He+16]++);var at=0;for(oe=0;oe<ke;++oe)if(at=H[oe],at!=0)for(He=Xe(Re[oe],Q)>>Q-at,Ee=(1<<Q+4-at)-1;Ee>=0;--Ee)ie[He|Ee<<at]=at&15|oe<<4;return Q}var Gt=ve?new Uint16Array(512):lr(512),yr=ve?new Uint16Array(32):lr(32);if(!ve){for(var jt=0;jt<512;++jt)Gt[jt]=0;for(jt=0;jt<32;++jt)yr[jt]=0}(function(){for(var H=[],ie=0;ie<32;ie++)H.push(5);Zt(H,yr,32);var K=[];for(ie=0;ie<=143;ie++)K.push(8);for(;ie<=255;ie++)K.push(9);for(;ie<=279;ie++)K.push(7);for(;ie<=287;ie++)K.push(8);Zt(K,Gt,288)})();var Ot=function(){for(var ie=ve?new Uint8Array(32768):[],K=0,Q=0;K<fe.length-1;++K)for(;Q<fe[K+1];++Q)ie[Q]=K;for(;Q<32768;++Q)ie[Q]=29;var ne=ve?new Uint8Array(259):[];for(K=0,Q=0;K<Y.length-1;++K)for(;Q<Y[K+1];++Q)ne[Q]=K;function oe(He,ke){for(var De=0;De<He.length;){var Re=Math.min(65535,He.length-De),at=De+Re==He.length;for(ke.write_shift(1,+at),ke.write_shift(2,Re),ke.write_shift(2,~Re&65535);Re-- >0;)ke[ke.l++]=He[De++]}return ke.l}function Ee(He,ke){for(var De=0,Re=0,at=ve?new Uint16Array(32768):[];Re<He.length;){var ut=Math.min(65535,He.length-Re);if(ut<10){for(De=st(ke,De,+(Re+ut==He.length)),De&7&&(De+=8-(De&7)),ke.l=De/8|0,ke.write_shift(2,ut),ke.write_shift(2,~ut&65535);ut-- >0;)ke[ke.l++]=He[Re++];De=ke.l*8;continue}De=st(ke,De,+(Re+ut==He.length)+2);for(var bt=0;ut-- >0;){var lt=He[Re];bt=(bt<<5^lt)&32767;var vt=-1,Yt=0;if((vt=at[bt])&&(vt|=Re&-32768,vt>Re&&(vt-=32768),vt<Re))for(;He[vt+Yt]==He[Re+Yt]&&Yt<250;)++Yt;if(Yt>2){lt=ne[Yt],lt<=22?De=mt(ke,De,_e[lt+1]>>1)-1:(mt(ke,De,3),De+=5,mt(ke,De,_e[lt-23]>>5),De+=3);var Br=lt<8?0:lt-4>>2;Br>0&&(Jt(ke,De,Yt-Y[lt]),De+=Br),lt=ie[Re-vt],De=mt(ke,De,_e[lt]>>3),De-=3;var vr=lt<4?0:lt-2>>1;vr>0&&(Jt(ke,De,Re-vt-fe[lt]),De+=vr);for(var wn=0;wn<Yt;++wn)at[bt]=Re&32767,bt=(bt<<5^He[Re])&32767,++Re;ut-=Yt-1}else lt<=143?lt=lt+48:De=Et(ke,De,1),De=mt(ke,De,_e[lt]),at[bt]=Re&32767,++Re}De=mt(ke,De,0)-1}return ke.l=(De+7)/8|0,ke.l}return function(ke,De){return ke.length<8?oe(ke,De):Ee(ke,De)}}();function Wt(H){var ie=Ve(50+Math.floor(H.length*1.1)),K=Ot(H,ie);return ie.slice(0,K)}var Lt=ve?new Uint16Array(32768):lr(32768),Lr=ve?new Uint16Array(32768):lr(32768),wr=ve?new Uint16Array(128):lr(128),Tt=1,Kt=1;function Pr(H,ie){var K=Nt(H,ie)+257;ie+=5;var Q=Nt(H,ie)+1;ie+=5;var ne=le(H,ie)+4;ie+=4;for(var oe=0,Ee=ve?new Uint8Array(19):lr(19),He=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ke=1,De=ve?new Uint8Array(8):lr(8),Re=ve?new Uint8Array(8):lr(8),at=Ee.length,ut=0;ut<ne;++ut)Ee[B[ut]]=oe=Ne(H,ie),ke<oe&&(ke=oe),De[oe]++,ie+=3;var bt=0;for(De[0]=0,ut=1;ut<=ke;++ut)Re[ut]=bt=bt+De[ut-1]<<1;for(ut=0;ut<at;++ut)(bt=Ee[ut])!=0&&(He[ut]=Re[bt]++);var lt=0;for(ut=0;ut<at;++ut)if(lt=Ee[ut],lt!=0){bt=_e[He[ut]]>>8-lt;for(var vt=(1<<7-lt)-1;vt>=0;--vt)wr[bt|vt<<lt]=lt&7|ut<<3}var Yt=[];for(ke=1;Yt.length<K+Q;)switch(bt=wr[Qe(H,ie)],ie+=bt&7,bt>>>=3){case 16:for(oe=3+ct(H,ie),ie+=2,bt=Yt[Yt.length-1];oe-- >0;)Yt.push(bt);break;case 17:for(oe=3+Ne(H,ie),ie+=3;oe-- >0;)Yt.push(0);break;case 18:for(oe=11+Qe(H,ie),ie+=7;oe-- >0;)Yt.push(0);break;default:Yt.push(bt),ke<bt&&(ke=bt);break}var Br=Yt.slice(0,K),vr=Yt.slice(K);for(ut=K;ut<286;++ut)Br[ut]=0;for(ut=Q;ut<30;++ut)vr[ut]=0;return Tt=Zt(Br,Lt,286),Kt=Zt(vr,Lr,30),ie}function Ft(H,ie){if(H[0]==3&&!(H[1]&3))return[Tc(ie),2];for(var K=0,Q=0,ne=A1(ie||1<<18),oe=0,Ee=ne.length>>>0,He=0,ke=0;!(Q&1);){if(Q=Ne(H,K),K+=3,Q>>>1)Q>>1==1?(He=9,ke=5):(K=Pr(H,K),He=Tt,ke=Kt);else{K&7&&(K+=8-(K&7));var De=H[K>>>3]|H[(K>>>3)+1]<<8;if(K+=32,De>0)for(!ie&&Ee<oe+De&&(ne=It(ne,oe+De),Ee=ne.length);De-- >0;)ne[oe++]=H[K>>>3],K+=8;continue}for(;;){!ie&&Ee<oe+32767&&(ne=It(ne,oe+32767),Ee=ne.length);var Re=St(H,K,He),at=Q>>>1==1?Gt[Re]:Lt[Re];if(K+=at&15,at>>>=4,!(at>>>8&255))ne[oe++]=at;else{if(at==256)break;at-=257;var ut=at<8?0:at-4>>2;ut>5&&(ut=0);var bt=oe+Y[at];ut>0&&(bt+=St(H,K,ut),K+=ut),Re=St(H,K,ke),at=Q>>>1==1?yr[Re]:Lr[Re],K+=at&15,at>>>=4;var lt=at<4?0:at-2>>1,vt=fe[at];for(lt>0&&(vt+=St(H,K,lt),K+=lt),!ie&&Ee<bt&&(ne=It(ne,bt+100),Ee=ne.length);oe<bt;)ne[oe]=ne[oe-vt],++oe}}}return ie?[ne,K+7>>>3]:[ne.slice(0,oe),K+7>>>3]}function pr(H,ie){var K=H.slice(H.l||0),Q=Ft(K,ie);return H.l+=Q[1],Q[0]}function Qt(H,ie){if(H)typeof console<"u"&&console.error(ie);else throw new Error(ie)}function en(H,ie){var K=H;Zs(K,0);var Q=[],ne=[],oe={FileIndex:Q,FullPaths:ne};G(oe,{root:ie.root});for(var Ee=K.length-4;(K[Ee]!=80||K[Ee+1]!=75||K[Ee+2]!=5||K[Ee+3]!=6)&&Ee>=0;)--Ee;K.l=Ee+4,K.l+=4;var He=K.read_shift(2);K.l+=6;var ke=K.read_shift(4);for(K.l=ke,Ee=0;Ee<He;++Ee){K.l+=20;var De=K.read_shift(4),Re=K.read_shift(4),at=K.read_shift(2),ut=K.read_shift(2),bt=K.read_shift(2);K.l+=8;var lt=K.read_shift(4),vt=o(K.slice(K.l+at,K.l+at+ut));K.l+=at+ut+bt;var Yt=K.l;K.l=lt+4,vn(K,De,Re,oe,vt),K.l=Yt}return oe}function vn(H,ie,K,Q,ne){H.l+=2;var oe=H.read_shift(2),Ee=H.read_shift(2),He=a(H);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var ke=H.read_shift(4),De=H.read_shift(4),Re=H.read_shift(4),at=H.read_shift(2),ut=H.read_shift(2),bt="",lt=0;lt<at;++lt)bt+=String.fromCharCode(H[H.l++]);if(ut){var vt=o(H.slice(H.l,H.l+ut));(vt[21589]||{}).mt&&(He=vt[21589].mt),((ne||{})[21589]||{}).mt&&(He=ne[21589].mt)}H.l+=ut;var Yt=H.slice(H.l,H.l+De);switch(Ee){case 8:Yt=F(H,Re);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ee)}var Br=!1;oe&8&&(ke=H.read_shift(4),ke==134695760&&(ke=H.read_shift(4),Br=!0),De=H.read_shift(4),Re=H.read_shift(4)),De!=ie&&Qt(Br,"Bad compressed size: "+ie+" != "+De),Re!=K&&Qt(Br,"Bad uncompressed size: "+K+" != "+Re),ai(Q,bt,Yt,{unsafe:!0,mt:He})}function Dr(H,ie){var K=ie||{},Q=[],ne=[],oe=Ve(1),Ee=K.compression?8:0,He=0,ke=0,De=0,Re=0,at=0,ut=H.FullPaths[0],bt=ut,lt=H.FileIndex[0],vt=[],Yt=0;for(ke=1;ke<H.FullPaths.length;++ke)if(bt=H.FullPaths[ke].slice(ut.length),lt=H.FileIndex[ke],!(!lt.size||!lt.content||bt=="Sh33tJ5")){var Br=Re,vr=Ve(bt.length);for(De=0;De<bt.length;++De)vr.write_shift(1,bt.charCodeAt(De)&127);vr=vr.slice(0,vr.l),vt[at]=fA.buf(lt.content,0);var wn=lt.content;Ee==8&&(wn=R(wn)),oe=Ve(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,He),oe.write_shift(2,Ee),lt.mt?s(oe,lt.mt):oe.write_shift(4,0),oe.write_shift(-4,vt[at]),oe.write_shift(4,wn.length),oe.write_shift(4,lt.content.length),oe.write_shift(2,vr.length),oe.write_shift(2,0),Re+=oe.length,Q.push(oe),Re+=vr.length,Q.push(vr),Re+=wn.length,Q.push(wn),oe=Ve(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,He),oe.write_shift(2,Ee),oe.write_shift(4,0),oe.write_shift(-4,vt[at]),oe.write_shift(4,wn.length),oe.write_shift(4,lt.content.length),oe.write_shift(2,vr.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,Br),Yt+=oe.l,ne.push(oe),Yt+=vr.length,ne.push(vr),++at}return oe=Ve(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,at),oe.write_shift(2,at),oe.write_shift(4,Yt),oe.write_shift(4,Re),oe.write_shift(2,0),Ti([Ti(Q),Ti(ne),oe])}var Vt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Sr(H,ie){if(H.ctype)return H.ctype;var K=H.name||"",Q=K.match(/\.([^\.]+)$/);return Q&&Vt[Q[1]]||ie&&(Q=(K=ie).match(/[\.\\]([^\.\\])+$/),Q&&Vt[Q[1]])?Vt[Q[1]]:"application/octet-stream"}function Aa(H){for(var ie=Pu(H),K=[],Q=0;Q<ie.length;Q+=76)K.push(ie.slice(Q,Q+76));return K.join("\r\n")+"\r\n"}function Gn(H){var ie=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(De){var Re=De.charCodeAt(0).toString(16).toUpperCase();return"="+(Re.length==1?"0"+Re:Re)});ie=ie.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ie.charAt(0)=="\n"&&(ie="=0D"+ie.slice(1)),ie=ie.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,"\n=0A").replace(/([^\r\n])\n/mg,"$1=0A");for(var K=[],Q=ie.split("\r\n"),ne=0;ne<Q.length;++ne){var oe=Q[ne];if(oe.length==0){K.push("");continue}for(var Ee=0;Ee<oe.length;){var He=76,ke=oe.slice(Ee,Ee+He);ke.charAt(He-1)=="="?He--:ke.charAt(He-2)=="="?He-=2:ke.charAt(He-3)=="="&&(He-=3),ke=oe.slice(Ee,Ee+He),Ee+=He,Ee<oe.length&&(ke+="="),K.push(ke)}}return K.join("\r\n")}function Ds(H){for(var ie=[],K=0;K<H.length;++K){for(var Q=H[K];K<=H.length&&Q.charAt(Q.length-1)=="=";)Q=Q.slice(0,Q.length-1)+H[++K];ie.push(Q)}for(var ne=0;ne<ie.length;++ne)ie[ne]=ie[ne].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return Ya(ie.join("\r\n"))}function as(H,ie,K){for(var Q="",ne="",oe="",Ee,He=0;He<10;++He){var ke=ie[He];if(!ke||ke.match(/^\s*$/))break;var De=ke.match(/^(.*?):\s*([^\s].*)$/);if(De)switch(De[1].toLowerCase()){case"content-location":Q=De[2].trim();break;case"content-type":oe=De[2].trim();break;case"content-transfer-encoding":ne=De[2].trim();break}}switch(++He,ne.toLowerCase()){case"base64":Ee=Ya(tl(ie.slice(He).join("")));break;case"quoted-printable":Ee=Ds(ie.slice(He));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ne)}var Re=ai(H,Q.slice(K.length),Ee,{unsafe:!0});oe&&(Re.ctype=oe)}function zt(H,ie){if(Fe(H.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var K=ie&&ie.root||"",Q=(Mr&&Buffer.isBuffer(H)?H.toString("binary"):Fe(H)).split("\r\n"),ne=0,oe="";for(ne=0;ne<Q.length;++ne)if(oe=Q[ne],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),K||(K=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,K.length)!=K))for(;K.length>0&&(K=K.slice(0,K.length-1),K=K.slice(0,K.lastIndexOf("/")+1),oe.slice(0,K.length)!=K););var Ee=(Q[1]||"").match(/boundary="(.*?)"/);if(!Ee)throw new Error("MAD cannot find boundary");var He="--"+(Ee[1]||""),ke=[],De=[],Re={FileIndex:ke,FullPaths:De};G(Re);var at,ut=0;for(ne=0;ne<Q.length;++ne){var bt=Q[ne];bt!==He&&bt!==He+"--"||(ut++&&as(Re,Q.slice(at,ne),K),at=ne)}return Re}function Ns(H,ie){var K=ie||{},Q=K.boundary||"SheetJS";Q="------="+Q;for(var ne=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Q.slice(2)+'"',"","",""],oe=H.FullPaths[0],Ee=oe,He=H.FileIndex[0],ke=1;ke<H.FullPaths.length;++ke)if(Ee=H.FullPaths[ke].slice(oe.length),He=H.FileIndex[ke],!(!He.size||!He.content||Ee=="Sh33tJ5")){Ee=Ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Yt){return"_x"+Yt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Yt){return"_u"+Yt.charCodeAt(0).toString(16)+"_"});for(var De=He.content,Re=Mr&&Buffer.isBuffer(De)?De.toString("binary"):Fe(De),at=0,ut=Math.min(1024,Re.length),bt=0,lt=0;lt<=ut;++lt)(bt=Re.charCodeAt(lt))>=32&&bt<128&&++at;var vt=at>=ut*4/5;ne.push(Q),ne.push("Content-Location: "+(K.root||"file:///C:/SheetJS/")+Ee),ne.push("Content-Transfer-Encoding: "+(vt?"quoted-printable":"base64")),ne.push("Content-Type: "+Sr(He,Ee)),ne.push(""),ne.push(vt?Gn(Re):Aa(Re))}return ne.push(Q+"--\r\n"),ne.join("\r\n")}function Is(H){var ie={};return G(ie,H),ie}function ai(H,ie,K,Q){var ne=Q&&Q.unsafe;ne||G(H);var oe=!ne&&Jr.find(H,ie);if(!oe){var Ee=H.FullPaths[0];ie.slice(0,Ee.length)==Ee?Ee=ie:(Ee.slice(-1)!="/"&&(Ee+="/"),Ee=(Ee+ie).replace("//","/")),oe={name:i(ie),type:2},H.FileIndex.push(oe),H.FullPaths.push(Ee),ne||Jr.utils.cfb_gc(H)}return oe.content=K,oe.size=K?K.length:0,Q&&(Q.CLSID&&(oe.clsid=Q.CLSID),Q.mt&&(oe.mt=Q.mt),Q.ct&&(oe.ct=Q.ct)),oe}function Ni(H,ie){G(H);var K=Jr.find(H,ie);if(K){for(var Q=0;Q<H.FileIndex.length;++Q)if(H.FileIndex[Q]==K)return H.FileIndex.splice(Q,1),H.FullPaths.splice(Q,1),!0}return!1}function _r(H,ie,K){G(H);var Q=Jr.find(H,ie);if(Q){for(var ne=0;ne<H.FileIndex.length;++ne)if(H.FileIndex[ne]==Q)return H.FileIndex[ne].name=i(K),H.FullPaths[ne]=K,!0}return!1}function _t(H){O(H,!0)}return e.find=P,e.read=he,e.parse=u,e.write=Oe,e.writeFile=me,e.utils={cfb_new:Is,cfb_add:ai,cfb_del:Ni,cfb_mov:_r,cfb_gc:_t,ReadShift:yu,CheckField:H2,prep_blob:Zs,bconcat:Ti,use_zlib:T,_deflateRaw:Wt,_inflateRaw:pr,consts:Pe},e}();function dA(r){return typeof r=="string"?Jd(r):Array.isArray(r)?UE(r):r}function Ku(r,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Jd(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(r,e)}var n=t=="utf8"?Ou(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,r);if(typeof Blob<"u"){var i=new Blob([dA(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,r);if(typeof saveAs<"u")return saveAs(i,r);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:r,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=r,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(r);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=Yu(e)),o.write(e),o.close(),e}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+r)}function Di(r){for(var e=Object.keys(r),t=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(r,e[n])&&t.push(e[n]);return t}function P1(r,e){for(var t=[],n=Di(r),i=0;i!==n.length;++i)t[r[n[i]][e]]==null&&(t[r[n[i]][e]]=n[i]);return t}function Gm(r){for(var e=[],t=Di(r),n=0;n!==t.length;++n)e[r[t[n]]]=t[n];return e}function tp(r){for(var e=[],t=Di(r),n=0;n!==t.length;++n)e[r[t[n]]]=parseInt(t[n],10);return e}function pA(r){for(var e=[],t=Di(r),n=0;n!==t.length;++n)e[r[t[n]]]==null&&(e[r[t[n]]]=[]),e[r[t[n]]].push(t[n]);return e}var pd=new Date(1899,11,30,0,0,0);function As(r,e){var t=r.getTime(),n=pd.getTime()+(r.getTimezoneOffset()-pd.getTimezoneOffset())*6e4;return(t-n)/(24*60*60*1e3)}var E2=new Date,mA=pd.getTime()+(E2.getTimezoneOffset()-pd.getTimezoneOffset())*6e4,R1=E2.getTimezoneOffset();function A2(r){var e=new Date;return e.setTime(r*24*60*60*1e3+mA),e.getTimezoneOffset()!==R1&&e.setTime(e.getTime()+(e.getTimezoneOffset()-R1)*6e4),e}var O1=new Date("2017-02-19T19:06:09.000Z"),T2=isNaN(O1.getFullYear())?new Date("2/19/17"):O1,gA=T2.getFullYear()==2017;function rs(r,e){var t=new Date(r);if(gA)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(r instanceof Date)return r;if(T2.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return r.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var i=r.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return r.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function rp(r,e){if(Mr&&Buffer.isBuffer(r))return r.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(r)&&(r=new Uint8Array(r)),new TextDecoder("latin1").decode(r).replace(/[]/g,function(s){return t[s]||s})}catch(s){}for(var n=[],i=0;i!=r.length;++i)n.push(String.fromCharCode(r[i]));return n.join("")}function Ts(r){if(typeof JSON<"u"&&!Array.isArray(r))return JSON.parse(JSON.stringify(r));if(typeof r!="object"||r==null)return r;if(r instanceof Date)return new Date(r.getTime());var e={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=Ts(r[t]));return e}function Fn(r,e){for(var t="";t.length<e;)t+=r;return t}function Ko(r){var e=Number(r);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(r))return e;var t=1,n=r.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(n)))?e/t:e}var vA=["january","february","march","april","may","june","july","august","september","october","november","december"];function Ru(r){var e=new Date(r),t=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var a=r.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&vA.indexOf(a)==-1)return t}else if(a.match(/[a-z]/))return t;return n<0||n>8099?t:(i>0||s>1)&&n!=101?e:r.match(/[^-0-9:,\/\\]/)?t:e}function gr(r,e,t){if(r.FullPaths){if(typeof t=="string"){var n;return Mr?n=al(t):n=zE(t),Jr.utils.cfb_add(r,e,n)}Jr.utils.cfb_add(r,e,t)}else r.file(e,t)}function $m(){return Jr.utils.cfb_new()}var Qn='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',wA={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Zm=Gm(wA),Ym=/[&<>'"]/g,yA=/[\u0000-\u0008\u000b-\u001f]/g;function Kr(r){var e=r+"";return e.replace(Ym,function(t){return Zm[t]}).replace(yA,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function F1(r){return Kr(r).replace(/ /g,"_x0020_")}var C2=/[\u0000-\u001f]/g;function _A(r){var e=r+"";return e.replace(Ym,function(t){return Zm[t]}).replace(/\n/g,"<br/>").replace(C2,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function bA(r){var e=r+"";return e.replace(Ym,function(t){return Zm[t]}).replace(C2,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function xA(r){return r.replace(/(\r\n|[\r\n])/g,"&#10;")}function SA(r){switch(r){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Hp(r){for(var e="",t=0,n=0,i=0,s=0,a=0,o=0;t<r.length;){if(n=r.charCodeAt(t++),n<128){e+=String.fromCharCode(n);continue}if(i=r.charCodeAt(t++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=r.charCodeAt(t++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=r.charCodeAt(t++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function M1(r){var e=Tc(2*r.length),t,n,i=1,s=0,a=0,o;for(n=0;n<r.length;n+=i)i=1,(o=r.charCodeAt(n))<128?t=o:o<224?(t=(o&31)*64+(r.charCodeAt(n+1)&63),i=2):o<240?(t=(o&15)*4096+(r.charCodeAt(n+1)&63)*64+(r.charCodeAt(n+2)&63),i=3):(i=4,t=(o&7)*262144+(r.charCodeAt(n+1)&63)*4096+(r.charCodeAt(n+2)&63)*64+(r.charCodeAt(n+3)&63),t-=65536,a=55296+(t>>>10&1023),t=56320+(t&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function B1(r){return al(r,"binary").toString("utf8")}var Df="foo bar baz",wu=Mr&&(B1(Df)==Hp(Df)&&B1||M1(Df)==Hp(Df)&&M1)||Hp,Ou=Mr?function(r){return al(r,"utf8").toString("binary")}:function(r){for(var e=[],t=0,n=0,i=0;t<r.length;)switch(n=r.charCodeAt(t++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=r.charCodeAt(t++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},EA=function(){var r=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),i=0;i<r.length;++i)n=n.replace(r[i][0],r[i][1]);return n}}(),k2=/(^\s|\s$|\n)/;function Ci(r,e){return"<"+r+(e.match(k2)?' xml:space="preserve"':"")+">"+e+"</"+r+">"}function Fu(r){return Di(r).map(function(e){return" "+e+'="'+r[e]+'"'}).join("")}function pt(r,e,t){return"<"+r+(t!=null?Fu(t):"")+(e!=null?(e.match(k2)?' xml:space="preserve"':"")+">"+e+"</"+r:"/")+">"}function J0(r,e){try{return r.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function AA(r,e){switch(typeof r){case"string":var t=pt("vt:lpwstr",Kr(r));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return pt((r|0)==r?"vt:i4":"vt:r8",Kr(String(r)));case"boolean":return pt("vt:bool",r?"true":"false")}if(r instanceof Date)return pt("vt:filetime",J0(r));throw new Error("Unable to serialize "+r)}var hi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},jh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ys={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function TA(r,e){for(var t=1-2*(r[e+7]>>>7),n=((r[e+7]&127)<<4)+(r[e+6]>>>4&15),i=r[e+6]&15,s=5;s>=0;--s)i=i*256+r[e+s];return n==2047?i==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),t*Math.pow(2,n-52)*i)}function CA(r,e,t){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)r[t+o]=s&255;r[t+6]=(i&15)<<4|s&15,r[t+7]=i>>4|n}var U1=function(r){for(var e=[],t=10240,n=0;n<r[0].length;++n)if(r[0][n])for(var i=0,s=r[0][n].length;i<s;i+=t)e.push.apply(e,r[0][n].slice(i,i+t));return e},z1=Mr?function(r){return r[0].length>0&&Buffer.isBuffer(r[0][0])?Buffer.concat(r[0].map(function(e){return Buffer.isBuffer(e)?e:al(e)})):U1(r)}:U1,H1=function(r,e,t){for(var n=[],i=e;i<t;i+=2)n.push(String.fromCharCode(gu(r,i)));return n.join("").replace(vu,"")},Km=Mr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("utf16le",e,t).replace(vu,""):H1(r,e,t)}:H1,j1=function(r,e,t){for(var n=[],i=e;i<e+t;++i)n.push(("0"+r[i].toString(16)).slice(-2));return n.join("")},D2=Mr?function(r,e,t){return Buffer.isBuffer(r)?r.toString("hex",e,e+t):j1(r,e,t)}:j1,W1=function(r,e,t){for(var n=[],i=e;i<t;i++)n.push(String.fromCharCode(mh(r,i)));return n.join("")},Xu=Mr?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):W1(e,t,n)}:W1,N2=function(r,e){var t=Ks(r,e);return t>0?Xu(r,e+4,e+4+t-1):""},I2=N2,L2=function(r,e){var t=Ks(r,e);return t>0?Xu(r,e+4,e+4+t-1):""},P2=L2,R2=function(r,e){var t=2*Ks(r,e);return t>0?Xu(r,e+4,e+4+t-1):""},O2=R2,F2=function(e,t){var n=Ks(e,t);return n>0?Km(e,t+4,t+4+n):""},M2=F2,B2=function(r,e){var t=Ks(r,e);return t>0?Xu(r,e+4,e+4+t):""},U2=B2,z2=function(r,e){return TA(r,e)},md=z2,Xm=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Mr&&(I2=function(e,t){if(!Buffer.isBuffer(e))return N2(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},P2=function(e,t){if(!Buffer.isBuffer(e))return L2(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},O2=function(e,t){if(!Buffer.isBuffer(e))return R2(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},M2=function(e,t){if(!Buffer.isBuffer(e))return F2(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},U2=function(e,t){if(!Buffer.isBuffer(e))return B2(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},md=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):z2(e,t)},Xm=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var mh=function(r,e){return r[e]},gu=function(r,e){return r[e+1]*256+r[e]},kA=function(r,e){var t=r[e+1]*256+r[e];return t<32768?t:(65535-t+1)*-1},Ks=function(r,e){return r[e+3]*(1<<24)+(r[e+2]<<16)+(r[e+1]<<8)+r[e]},gc=function(r,e){return r[e+3]<<24|r[e+2]<<16|r[e+1]<<8|r[e]},DA=function(r,e){return r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3]};function yu(r,e){var t="",n,i,s=[],a,o,c,h;switch(e){case"dbcs":if(h=this.l,Mr&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*r).toString("utf16le");else for(c=0;c<r;++c)t+=String.fromCharCode(gu(this,h)),h+=2;r*=2;break;case"utf8":t=Xu(this,this.l,this.l+r);break;case"utf16le":r*=2,t=Km(this,this.l,this.l+r);break;case"wstr":return yu.call(this,r,"dbcs");case"lpstr-ansi":t=I2(this,this.l),r=4+Ks(this,this.l);break;case"lpstr-cp":t=P2(this,this.l),r=4+Ks(this,this.l);break;case"lpwstr":t=O2(this,this.l),r=4+2*Ks(this,this.l);break;case"lpp4":r=4+Ks(this,this.l),t=M2(this,this.l),r&2&&(r+=2);break;case"8lpp4":r=4+Ks(this,this.l),t=U2(this,this.l),r&3&&(r+=4-(r&3));break;case"cstr":for(r=0,t="";(a=mh(this,this.l+r++))!==0;)s.push(Tf(a));t=s.join("");break;case"_wstr":for(r=0,t="";(a=gu(this,this.l+r))!==0;)s.push(Tf(a)),r+=2;r+=2,t=s.join("");break;case"dbcs-cont":for(t="",h=this.l,c=0;c<r;++c){if(this.lens&&this.lens.indexOf(h)!==-1)return a=mh(this,h),this.l=h+1,o=yu.call(this,r-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Tf(gu(this,h))),h+=2}t=s.join(""),r*=2;break;case"cpstr":case"sbcs-cont":for(t="",h=this.l,c=0;c!=r;++c){if(this.lens&&this.lens.indexOf(h)!==-1)return a=mh(this,h),this.l=h+1,o=yu.call(this,r-c,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Tf(mh(this,h))),h+=1}t=s.join("");break;default:switch(r){case 1:return n=mh(this,this.l),this.l++,n;case 2:return n=(e==="i"?kA:gu)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(r>0?gc:DA)(this,this.l),this.l+=4,n):(i=Ks(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return r==8?i=md(this,this.l):i=md([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;r=8;case 16:t=D2(this,this.l,r);break}}return this.l+=r,t}var NA=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255,r[t+2]=e>>>16&255,r[t+3]=e>>>24&255},IA=function(r,e,t){r[t]=e&255,r[t+1]=e>>8&255,r[t+2]=e>>16&255,r[t+3]=e>>24&255},LA=function(r,e,t){r[t]=e&255,r[t+1]=e>>>8&255};function PA(r,e,t){var n=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)LA(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(t==="hex"){for(;i<r;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+r,this.length);for(i=0;i<Math.min(e.length,r);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(r){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,NA(this,e,this.l);break;case 8:if(n=8,t==="f"){CA(this,e,this.l);break}case 16:break;case-4:n=4,IA(this,e,this.l);break}return this.l+=n,this}function H2(r,e){var t=D2(this,this.l,r.length>>1);if(t!==r)throw new Error(e+"Expected "+r+" saw "+t);this.l+=r.length>>1}function Zs(r,e){r.l=e,r.read_shift=yu,r.chk=H2,r.write_shift=PA}function Eo(r,e){r.l+=e}function Ve(r){var e=Tc(r);return Zs(e,0),e}function xs(){var r=[],e=Mr?256:2048,t=function(h){var u=Ve(h);return Zs(u,0),u},n=t(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&r.push(n),n=null)},s=function(h){return n&&h<n.length-n.l?n:(i(),n=t(Math.max(h+1,e)))},a=function(){return i(),Ti(r)},o=function(h){i(),n=h,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:r}}function nt(r,e,t,n){var i=+e,s;if(!isNaN(i)){n||(n=TD[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=r.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&Xm(t)&&r.push(t)}}function _u(r,e,t){var n=Ts(r);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function V1(r,e,t){var n=Ts(r);return n.s=_u(n.s,e.s,t),n.e=_u(n.e,e.s,t),n}function bu(r,e){if(r.cRel&&r.c<0)for(r=Ts(r);r.c<0;)r.c+=e>8?16384:256;if(r.rRel&&r.r<0)for(r=Ts(r);r.r<0;)r.r+=e>8?1048576:e>5?65536:16384;var t=Xr(r);return!r.cRel&&r.cRel!=null&&(t=FA(t)),!r.rRel&&r.rRel!=null&&(t=RA(t)),t}function jp(r,e){return r.s.r==0&&!r.s.rRel&&r.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!r.e.rRel?(r.s.cRel?"":"$")+Wi(r.s.c)+":"+(r.e.cRel?"":"$")+Wi(r.e.c):r.s.c==0&&!r.s.cRel&&r.e.c==(e.biff>=12?16383:255)&&!r.e.cRel?(r.s.rRel?"":"$")+ki(r.s.r)+":"+(r.e.rRel?"":"$")+ki(r.e.r):bu(r.s,e.biff)+":"+bu(r.e,e.biff)}function Jm(r){return parseInt(OA(r),10)-1}function ki(r){return""+(r+1)}function RA(r){return r.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function OA(r){return r.replace(/\$(\d+)$/,"$1")}function Qm(r){for(var e=MA(r),t=0,n=0;n!==e.length;++n)t=26*t+e.charCodeAt(n)-64;return t-1}function Wi(r){if(r<0)throw new Error("invalid column "+r);var e="";for(++r;r;r=Math.floor((r-1)/26))e=String.fromCharCode((r-1)%26+65)+e;return e}function FA(r){return r.replace(/^([A-Z])/,"$$$1")}function MA(r){return r.replace(/^\$([A-Z])/,"$1")}function BA(r){return r.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function fi(r){for(var e=0,t=0,n=0;n<r.length;++n){var i=r.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Xr(r){for(var e=r.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(r.r+1)}function ea(r){var e=r.indexOf(":");return e==-1?{s:fi(r),e:fi(r)}:{s:fi(r.slice(0,e)),e:fi(r.slice(e+1))}}function Jn(r,e){return typeof e>"u"||typeof e=="number"?Jn(r.s,r.e):(typeof r!="string"&&(r=Xr(r)),typeof e!="string"&&(e=Xr(e)),r==e?r:r+":"+e)}function gn(r){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,i=0,s=r.length;for(t=0;n<s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.s.c=--t,t=0;n<s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;if(e.s.r=--t,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,t=0;n!=s&&!((i=r.charCodeAt(n)-64)<1||i>26);++n)t=26*t+i;for(e.e.c=--t,t=0;n!=s&&!((i=r.charCodeAt(n)-48)<0||i>9);++n)t=10*t+i;return e.e.r=--t,e}function q1(r,e){var t=r.t=="d"&&e instanceof Date;if(r.z!=null)try{return r.w=Hl(r.z,t?As(e):e)}catch(n){}try{return r.w=Hl((r.XF||{}).numFmtId||(t?14:0),t?As(e):e)}catch(n){return""+e}}function rl(r,e,t){return r==null||r.t==null||r.t=="z"?"":r.w!==void 0?r.w:(r.t=="d"&&!r.z&&t&&t.dateNF&&(r.z=t.dateNF),r.t=="e"?Ju[r.v]||r.v:e==null?q1(r,r.v):q1(r,e))}function Uc(r,e){var t=e&&e.sheet?e.sheet:"Sheet1",n={};return n[t]=r,{SheetNames:[t],Sheets:n}}function j2(r,e,t){var n=t||{},i=r?Array.isArray(r):n.dense,s=r||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?fi(n.origin):n.origin;a=c.r,o=c.c}s["!ref"]||(s["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=gn(s["!ref"]);h.s.c=u.s.c,h.s.r=u.s.r,h.e.c=Math.max(h.e.c,u.e.c),h.e.r=Math.max(h.e.r,u.e.r),a==-1&&(h.e.r=a=u.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[p].length;++g)if(!(typeof e[p][g]>"u")){var d={v:e[p][g]},_=a+p,y=o+g;if(h.s.r>_&&(h.s.r=_),h.s.c>y&&(h.s.c=y),h.e.r<_&&(h.e.r=_),h.e.c<y&&(h.e.c=y),e[p][g]&&typeof e[p][g]=="object"&&!Array.isArray(e[p][g])&&!(e[p][g]instanceof Date))d=e[p][g];else if(Array.isArray(d.v)&&(d.f=e[p][g][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||Mn[14],n.cellDates?(d.t="d",d.w=Hl(d.z,As(d.v))):(d.t="n",d.v=As(d.v),d.w=Hl(d.z,d.v))):d.t="s";if(i)s[_]||(s[_]=[]),s[_][y]&&s[_][y].z&&(d.z=s[_][y].z),s[_][y]=d;else{var b=Xr({c:y,r:_});s[b]&&s[b].z&&(d.z=s[b].z),s[b]=d}}}return h.s.c<1e7&&(s["!ref"]=Jn(h)),s}function Wh(r,e){return j2(null,r,e)}function UA(r){return r.read_shift(4,"i")}function Ja(r,e){return e||(e=Ve(4)),e.write_shift(4,r),e}function Vi(r){var e=r.read_shift(4);return e===0?"":r.read_shift(e,"dbcs")}function di(r,e){var t=!1;return e==null&&(t=!0,e=Ve(4+2*r.length)),e.write_shift(4,r.length),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}function zA(r){return{ich:r.read_shift(2),ifnt:r.read_shift(2)}}function HA(r,e){return e||(e=Ve(4)),e.write_shift(2,0),e.write_shift(2,0),e}function eg(r,e){var t=r.l,n=r.read_shift(1),i=Vi(r),s=[],a={t:i,h:i};if(n&1){for(var o=r.read_shift(4),c=0;c!=o;++c)s.push(zA(r));a.r=s}else a.r=[{ich:0,ifnt:0}];return r.l=t+e,a}function jA(r,e){var t=!1;return e==null&&(t=!0,e=Ve(15+4*r.t.length)),e.write_shift(1,0),di(r.t,e),t?e.slice(0,e.l):e}var WA=eg;function VA(r,e){var t=!1;return e==null&&(t=!0,e=Ve(23+4*r.t.length)),e.write_shift(1,1),di(r.t,e),e.write_shift(4,1),HA({},e),t?e.slice(0,e.l):e}function xa(r){var e=r.read_shift(4),t=r.read_shift(2);return t+=r.read_shift(1)<<16,r.l++,{c:e,iStyleRef:t}}function zc(r,e){return e==null&&(e=Ve(8)),e.write_shift(-4,r.c),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}function Hc(r){var e=r.read_shift(2);return e+=r.read_shift(1)<<16,r.l++,{c:-1,iStyleRef:e}}function jc(r,e){return e==null&&(e=Ve(4)),e.write_shift(3,r.iStyleRef||r.s),e.write_shift(1,0),e}var qA=Vi,W2=di;function tg(r){var e=r.read_shift(4);return e===0||e===4294967295?"":r.read_shift(e,"dbcs")}function gd(r,e){var t=!1;return e==null&&(t=!0,e=Ve(127)),e.write_shift(4,r.length>0?r.length:4294967295),r.length>0&&e.write_shift(0,r,"dbcs"),t?e.slice(0,e.l):e}var GA=Vi,Q0=tg,rg=gd;function V2(r){var e=r.slice(r.l,r.l+4),t=e[0]&1,n=e[0]&2;r.l+=4;var i=n===0?md([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):gc(e,0)>>2;return t?i/100:i}function q2(r,e){e==null&&(e=Ve(4));var t=0,n=0,i=r*100;if(r==(r|0)&&r>=-536870912&&r<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,t=1),n)e.write_shift(-4,((t?i:r)<<2)+(t+2));else throw new Error("unsupported RkNumber "+r)}function G2(r){var e={s:{},e:{}};return e.s.r=r.read_shift(4),e.e.r=r.read_shift(4),e.s.c=r.read_shift(4),e.e.c=r.read_shift(4),e}function $A(r,e){return e||(e=Ve(16)),e.write_shift(4,r.s.r),e.write_shift(4,r.e.r),e.write_shift(4,r.s.c),e.write_shift(4,r.e.c),e}var Wc=G2,Vh=$A;function qh(r){if(r.length-r.l<8)throw"XLS Xnum Buffer underflow";return r.read_shift(8,"f")}function Cc(r,e){return(e||Ve(8)).write_shift(8,r,"f")}function ZA(r){var e={},t=r.read_shift(1),n=t>>>1,i=r.read_shift(1),s=r.read_shift(2,"i"),a=r.read_shift(1),o=r.read_shift(1),c=r.read_shift(1);switch(r.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var h=nT[i];h&&(e.rgb=rv(h));break;case 2:e.rgb=rv([a,o,c]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function vd(r,e){if(e||(e=Ve(8)),!r||r.auto)return e.write_shift(4,0),e.write_shift(4,0),e;r.index!=null?(e.write_shift(1,2),e.write_shift(1,r.index)):r.theme!=null?(e.write_shift(1,6),e.write_shift(1,r.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=r.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!r.rgb||r.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=r.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function YA(r){var e=r.read_shift(1);r.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function KA(r,e){e||(e=Ve(2));var t=(r.italic?2:0)|(r.strike?8:0)|(r.outline?16:0)|(r.shadow?32:0)|(r.condense?64:0)|(r.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var $2=2,$s=3,Nf=11,wd=19,If=64,XA=65,JA=71,QA=4108,eT=4126,Ei=80,G1={1:{n:"CodePage",t:$2},2:{n:"Category",t:Ei},3:{n:"PresentationFormat",t:Ei},4:{n:"ByteCount",t:$s},5:{n:"LineCount",t:$s},6:{n:"ParagraphCount",t:$s},7:{n:"SlideCount",t:$s},8:{n:"NoteCount",t:$s},9:{n:"HiddenCount",t:$s},10:{n:"MultimediaClipCount",t:$s},11:{n:"ScaleCrop",t:Nf},12:{n:"HeadingPairs",t:QA},13:{n:"TitlesOfParts",t:eT},14:{n:"Manager",t:Ei},15:{n:"Company",t:Ei},16:{n:"LinksUpToDate",t:Nf},17:{n:"CharacterCount",t:$s},19:{n:"SharedDoc",t:Nf},22:{n:"HyperlinksChanged",t:Nf},23:{n:"AppVersion",t:$s,p:"version"},24:{n:"DigSig",t:XA},26:{n:"ContentType",t:Ei},27:{n:"ContentStatus",t:Ei},28:{n:"Language",t:Ei},29:{n:"Version",t:Ei},255:{},2147483648:{n:"Locale",t:wd},2147483651:{n:"Behavior",t:wd},1919054434:{}},$1={1:{n:"CodePage",t:$2},2:{n:"Title",t:Ei},3:{n:"Subject",t:Ei},4:{n:"Author",t:Ei},5:{n:"Keywords",t:Ei},6:{n:"Comments",t:Ei},7:{n:"Template",t:Ei},8:{n:"LastAuthor",t:Ei},9:{n:"RevNumber",t:Ei},10:{n:"EditTime",t:If},11:{n:"LastPrinted",t:If},12:{n:"CreatedDate",t:If},13:{n:"ModifiedDate",t:If},14:{n:"PageCount",t:$s},15:{n:"WordCount",t:$s},16:{n:"CharCount",t:$s},17:{n:"Thumbnail",t:JA},18:{n:"Application",t:Ei},19:{n:"DocSecurity",t:$s},255:{},2147483648:{n:"Locale",t:wd},2147483651:{n:"Behavior",t:wd},1919054434:{}};function tT(r){return r.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var rT=tT([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),nT=Ts(rT),Ju={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},iT={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Lf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Z2(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Y2(r,e){var t=pA(iT),n=[],i;n[n.length]=Qn,n[n.length]=pt("Types",null,{xmlns:hi.CT,"xmlns:xsd":hi.xsd,"xmlns:xsi":hi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return pt("Default",null,{Extension:c[0],ContentType:c[1]})}));var s=function(c){r[c]&&r[c].length>0&&(i=r[c][0],n[n.length]=pt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Lf[c][e.bookType]||Lf[c].xlsx}))},a=function(c){(r[c]||[]).forEach(function(h){n[n.length]=pt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Lf[c][e.bookType]||Lf[c].xlsx})})},o=function(c){(r[c]||[]).forEach(function(h){n[n.length]=pt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:t[c][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Ir={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function K2(r){var e=r.lastIndexOf("/");return r.slice(0,e+1)+"_rels/"+r.slice(e+1)+".rels"}function Eh(r){var e=[Qn,pt("Relationships",null,{xmlns:hi.RELS})];return Di(r["!id"]).forEach(function(t){e[e.length]=pt("Relationship",null,r["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Zr(r,e,t,n,i,s){if(i||(i={}),r["!id"]||(r["!id"]={}),r["!idx"]||(r["!idx"]=1),e<0)for(e=r["!idx"];r["!id"]["rId"+e];++e);if(r["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=t,[Ir.HLINK,Ir.XPATH,Ir.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),r["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return r["!id"][i.Id]=i,r[("/"+i.Target).replace("//","/")]=i,e}function sT(r){var e=[Qn];e.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),e.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var t=0;t<r.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+r[t][0]+'" manifest:media-type="'+r[t][1]+'"/>\n');return e.push("</manifest:manifest>"),e.join("")}function Z1(r,e,t){return['  <rdf:Description rdf:about="'+r+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+'"/>\n',"  </rdf:Description>\n"].join("")}function aT(r,e){return['  <rdf:Description rdf:about="'+r+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+'"/>\n',"  </rdf:Description>\n"].join("")}function oT(r){var e=[Qn];e.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var t=0;t!=r.length;++t)e.push(Z1(r[t][0],r[t][1])),e.push(aT("",r[t][0]));return e.push(Z1("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function X2(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+cd.version+"</meta:generator></office:meta></office:document-meta>"}var bc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Wp(r,e,t,n,i){i[r]!=null||e==null||e===""||(i[r]=e,e=Kr(e),n[n.length]=t?pt(r,e,t):Ci(r,e))}function J2(r,e){var t=e||{},n=[Qn,pt("cp:coreProperties",null,{"xmlns:cp":hi.CORE_PROPS,"xmlns:dc":hi.dc,"xmlns:dcterms":hi.dcterms,"xmlns:dcmitype":hi.dcmitype,"xmlns:xsi":hi.xsi})],i={};if(!r&&!t.Props)return n.join("");r&&(r.CreatedDate!=null&&Wp("dcterms:created",typeof r.CreatedDate=="string"?r.CreatedDate:J0(r.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),r.ModifiedDate!=null&&Wp("dcterms:modified",typeof r.ModifiedDate=="string"?r.ModifiedDate:J0(r.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=bc.length;++s){var a=bc[s],o=t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:r?r[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&Wp(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Ah=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Q2=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function e_(r){var e=[],t=pt;return r||(r={}),r.Application="SheetJS",e[e.length]=Qn,e[e.length]=pt("Properties",null,{xmlns:hi.EXT_PROPS,"xmlns:vt":hi.vt}),Ah.forEach(function(n){if(r[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Kr(String(r[n[1]]));break;case"bool":i=r[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(n[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(r.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",r.SheetNames.map(function(n){return"<vt:lpstr>"+Kr(n)+"</vt:lpstr>"}).join(""),{size:r.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function t_(r){var e=[Qn,pt("Properties",null,{xmlns:hi.CUST_PROPS,"xmlns:vt":hi.vt})];if(!r)return e.join("");var t=1;return Di(r).forEach(function(i){++t,e[e.length]=pt("property",AA(r[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Kr(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Y1={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function lT(r,e){var t=[];return Di(Y1).map(function(n){for(var i=0;i<bc.length;++i)if(bc[i][1]==n)return bc[i];for(i=0;i<Ah.length;++i)if(Ah[i][1]==n)return Ah[i];throw n}).forEach(function(n){if(r[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:r[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(Ci(Y1[n[1]]||n[1],i))}}),pt("DocumentProperties",t.join(""),{xmlns:Ys.o})}function cT(r,e){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return r&&Di(r).forEach(function(s){if(Object.prototype.hasOwnProperty.call(r,s)){for(var a=0;a<bc.length;++a)if(s==bc[a][1])return;for(a=0;a<Ah.length;++a)if(s==Ah[a][1])return;for(a=0;a<t.length;++a)if(s==t[a])return;var o=r[s],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),i.push(pt(F1(s),o,{"dt:dt":c}))}}),e&&Di(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(r&&Object.prototype.hasOwnProperty.call(r,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(pt(F1(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Ys.o+'">'+i.join("")+"</"+n+">"}function hT(r){var e=typeof r=="string"?new Date(Date.parse(r)):r,t=e.getTime()/1e3+11644473600,n=t%Math.pow(2,32),i=(t-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=Ve(8);return a.write_shift(4,n),a.write_shift(4,i),a}function K1(r,e){var t=Ve(4),n=Ve(4);switch(t.write_shift(4,r==80?31:r),r){case 3:n.write_shift(-4,e);break;case 5:n=Ve(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=hT(e);break;case 31:case 80:for(n=Ve(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+r+" "+e)}return Ti([t,n])}var r_=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function uT(r){switch(typeof r){case"boolean":return 11;case"number":return(r|0)==r?3:5;case"string":return 31;case"object":if(r instanceof Date)return 64;break}return-1}function X1(r,e,t){var n=Ve(8),i=[],s=[],a=8,o=0,c=Ve(8),h=Ve(8);if(c.write_shift(4,2),c.write_shift(4,1200),h.write_shift(4,1),s.push(c),i.push(h),a+=8+c.length,!e){h=Ve(8),h.write_shift(4,0),i.unshift(h);var u=[Ve(4)];for(u[0].write_shift(4,r.length),o=0;o<r.length;++o){var p=r[o][0];for(c=Ve(8+2*(p.length+1)+(p.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,p.length+1),c.write_shift(0,p,"dbcs");c.l!=c.length;)c.write_shift(1,0);u.push(c)}c=Ti(u),s.unshift(c),a+=8+c.length}for(o=0;o<r.length;++o)if(!(e&&!e[r[o][0]])&&!(r_.indexOf(r[o][0])>-1||Q2.indexOf(r[o][0])>-1)&&r[o][1]!=null){var g=r[o][1],d=0;if(e){d=+e[r[o][0]];var _=t[d];if(_.p=="version"&&typeof g=="string"){var y=g.split(".");g=(+y[0]<<16)+(+y[1]||0)}c=K1(_.t,g)}else{var b=uT(g);b==-1&&(b=31,g=String(g)),c=K1(b,g)}s.push(c),h=Ve(8),h.write_shift(4,e?d:2+o),i.push(h),a+=8+c.length}var E=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,E),E+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),Ti([n].concat(i).concat(s))}function J1(r,e,t,n,i,s){var a=Ve(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Jr.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var c=X1(r,t,n);if(o.push(c),i){var h=X1(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+c.length),o.push(h)}return Ti(o)}function fT(r,e){e||(e=Ve(r));for(var t=0;t<r;++t)e.write_shift(1,0);return e}function dT(r,e){return r.read_shift(e)===1}function es(r,e){return e||(e=Ve(2)),e.write_shift(2,+!!r),e}function n_(r){return r.read_shift(2,"u")}function wa(r,e){return e||(e=Ve(2)),e.write_shift(2,r),e}function i_(r,e,t){return t||(t=Ve(2)),t.write_shift(1,e=="e"?+r:+!!r),t.write_shift(1,e=="e"?1:0),t}function s_(r,e,t){var n=r.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=r.read_shift(1);s&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var a=n?r.read_shift(n,i):"";return a}function pT(r){var e=r.t||"",t=Ve(3);t.write_shift(2,e.length),t.write_shift(1,1);var n=Ve(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[t,n];return Ti(i)}function mT(r,e,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return r.read_shift(e,"cpstr");if(t.biff>=12)return r.read_shift(e,"dbcs-cont")}var i=r.read_shift(1);return i===0?n=r.read_shift(e,"sbcs-cont"):n=r.read_shift(e,"dbcs-cont"),n}function gT(r,e,t){var n=r.read_shift(t&&t.biff==2?1:2);return n===0?(r.l++,""):mT(r,n,t)}function vT(r,e,t){if(t.biff>5)return gT(r,e,t);var n=r.read_shift(1);return n===0?(r.l++,""):r.read_shift(n,t.biff<=4||!r.lens?"cpstr":"sbcs-cont")}function a_(r,e,t){return t||(t=Ve(3+2*r.length)),t.write_shift(2,r.length),t.write_shift(1,1),t.write_shift(31,r,"utf16le"),t}function Q1(r,e){e||(e=Ve(6+r.length*2)),e.write_shift(4,1+r.length);for(var t=0;t<r.length;++t)e.write_shift(2,r.charCodeAt(t));return e.write_shift(2,0),e}function wT(r){var e=Ve(512),t=0,n=r.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(t=0;t<a.length;++t)e.write_shift(4,a[t]);if(s==28)n=n.slice(1),Q1(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),t=0;t<o.length;++t)e.write_shift(2,o.charCodeAt(t));e.write_shift(2,0),s&8&&Q1(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(e.write_shift(2,c),e.write_shift(4,n.length-3*c+1),t=0;t<n.length-3*c;++t)e.write_shift(1,n.charCodeAt(t+3*c)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function kc(r,e,t,n){return n||(n=Ve(6)),n.write_shift(2,r),n.write_shift(2,e),n.write_shift(2,t||0),n}function yT(r,e,t){var n=t.biff>8?4:2,i=r.read_shift(n),s=r.read_shift(n,"i"),a=r.read_shift(n,"i");return[i,s,a]}function _T(r){var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(2),i=r.read_shift(2);return{s:{c:n,r:e},e:{c:i,r:t}}}function o_(r,e){return e||(e=Ve(8)),e.write_shift(2,r.s.r),e.write_shift(2,r.e.r),e.write_shift(2,r.s.c),e.write_shift(2,r.e.c),e}function ng(r,e,t){var n=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Ve(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function bT(r,e){var t=!e||e.biff==8,n=Ve(t?112:54);for(n.write_shift(e.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function xT(r,e){var t=!e||e.biff>=8?2:1,n=Ve(8+t*r.name.length);n.write_shift(4,r.pos),n.write_shift(1,r.hs||0),n.write_shift(1,r.dt),n.write_shift(1,r.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(t*r.name.length,r.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function ST(r,e){var t=Ve(8);t.write_shift(4,r.Count),t.write_shift(4,r.Unique);for(var n=[],i=0;i<r.length;++i)n[i]=pT(r[i]);var s=Ti([t].concat(n));return s.parts=[t.length].concat(n.map(function(a){return a.length})),s}function ET(){var r=Ve(18);return r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r}function AT(r){var e=Ve(18),t=1718;return r&&r.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function TT(r,e){var t=r.name||"Arial",n=e&&e.biff==5,i=n?15+t.length:16+2*t.length,s=Ve(i);return s.write_shift(2,r.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),s}function CT(r,e,t,n){var i=Ve(10);return kc(r,e,n,i),i.write_shift(4,t),i}function kT(r,e,t,n,i){var s=!i||i.biff==8,a=Ve(8+ +s+(1+s)*t.length);return kc(r,e,n,a),a.write_shift(2,t.length),s&&a.write_shift(1,1),a.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),a}function DT(r,e,t,n){var i=t&&t.biff==5;n||(n=Ve(i?3+e.length:5+2*e.length)),n.write_shift(2,r),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function NT(r,e){var t=e.biff==8||!e.biff?4:2,n=Ve(2*t+6);return n.write_shift(t,r.s.r),n.write_shift(t,r.e.r+1),n.write_shift(2,r.s.c),n.write_shift(2,r.e.c+1),n.write_shift(2,0),n}function ev(r,e,t,n){var i=t&&t.biff==5;n||(n=Ve(i?16:20)),n.write_shift(2,0),r.style?(n.write_shift(2,r.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,r.numFmtId||0),n.write_shift(2,e<<4));var s=0;return r.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function IT(r){var e=Ve(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function LT(r,e,t,n,i,s){var a=Ve(8);return kc(r,e,n,a),i_(t,s,a),a}function PT(r,e,t,n){var i=Ve(14);return kc(r,e,n,i),Cc(t,i),i}function RT(r,e,t){if(t.biff<8)return OT(r,e,t);for(var n=[],i=r.l+e,s=r.read_shift(t.biff>8?4:2);s--!==0;)n.push(yT(r,t.biff>8?12:6,t));if(r.l!=i)throw new Error("Bad ExternSheet: "+r.l+" != "+i);return n}function OT(r,e,t){r[r.l+1]==3&&r[r.l]++;var n=s_(r,e,t);return n.charCodeAt(0)==3?n.slice(1):n}function FT(r){var e=Ve(2+r.length*8);e.write_shift(2,r.length);for(var t=0;t<r.length;++t)o_(r[t],e);return e}function MT(r){var e=Ve(24),t=fi(r[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Ti([e,wT(r[1])])}function BT(r){var e=r[1].Tooltip,t=Ve(10+2*(e.length+1));t.write_shift(2,2048);var n=fi(r[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function UT(r){return r||(r=Ve(4)),r.write_shift(2,1),r.write_shift(2,1),r}function zT(r,e,t){if(!t.cellStyles)return Eo(r,e);var n=t&&t.biff>=12?4:2,i=r.read_shift(n),s=r.read_shift(n),a=r.read_shift(n),o=r.read_shift(n),c=r.read_shift(2);n==2&&(r.l+=2);var h={s:i,e:s,w:a,ixfe:o,flags:c};return(t.biff>=5||!t.biff)&&(h.level=c>>8&7),h}function HT(r,e){var t=Ve(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,r.width*256),t.write_shift(2,0);var n=0;return r.hidden&&(n|=1),t.write_shift(1,n),n=r.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function jT(r){for(var e=Ve(2*r),t=0;t<r;++t)e.write_shift(2,t+1);return e}function WT(r,e,t){var n=Ve(15);return ef(n,r,e),n.write_shift(8,t,"f"),n}function VT(r,e,t){var n=Ve(9);return ef(n,r,e),n.write_shift(2,t),n}var qT=function(){var r={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Gm({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(o,c){var h=[],u=Tc(1);switch(c.type){case"base64":u=Ya(tl(o));break;case"binary":u=Ya(o);break;case"buffer":case"array":u=o;break}Zs(u,0);var p=u.read_shift(1),g=!!(p&136),d=!1,_=!1;switch(p){case 2:break;case 3:break;case 48:d=!0,g=!0;break;case 49:d=!0,g=!0;break;case 131:break;case 139:break;case 140:_=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var y=0,b=521;p==2&&(y=u.read_shift(2)),u.l+=3,p!=2&&(y=u.read_shift(4)),y>1048576&&(y=1e6),p!=2&&(b=u.read_shift(2));var E=u.read_shift(2),D=c.codepage||1252;p!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(D=r[u[u.l]]),u.l+=1,u.l+=2),_&&(u.l+=36);for(var N=[],I={},X=Math.min(u.length,p==2?521:b-10-(d?264:0)),he=_?32:11;u.l<X&&u[u.l]!=13;)switch(I={},I.name=hd.utils.decode(D,u.slice(u.l,u.l+he)).replace(/[\u0000\r\n].*$/g,""),u.l+=he,I.type=String.fromCharCode(u.read_shift(1)),p!=2&&!_&&(I.offset=u.read_shift(4)),I.len=u.read_shift(1),p==2&&(I.offset=u.read_shift(2)),I.dec=u.read_shift(1),I.name.length&&N.push(I),p!=2&&(u.l+=_?13:14),I.type){case"B":(!d||I.len!=8)&&c.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+I.type)}if(u[u.l]!==13&&(u.l=b-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=b;var G=0,q=0;for(h[0]=[],q=0;q!=N.length;++q)h[0][q]=N[q].name;for(;y-- >0;){if(u[u.l]===42){u.l+=E;continue}for(++u.l,h[++G]=[],q=0,q=0;q!=N.length;++q){var O=u.slice(u.l,u.l+N[q].len);u.l+=N[q].len,Zs(O,0);var ee=hd.utils.decode(D,O);switch(N[q].type){case"C":ee.trim().length&&(h[G][q]=ee.replace(/\s+$/,""));break;case"D":ee.length===8?h[G][q]=new Date(+ee.slice(0,4),+ee.slice(4,6)-1,+ee.slice(6,8)):h[G][q]=ee;break;case"F":h[G][q]=parseFloat(ee.trim());break;case"+":case"I":h[G][q]=_?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(ee.trim().toUpperCase()){case"Y":case"T":h[G][q]=!0;break;case"N":case"F":h[G][q]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+ee+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));h[G][q]="##MEMO##"+(_?parseInt(ee.trim(),10):O.read_shift(4));break;case"N":ee=ee.replace(/\u0000/g,"").trim(),ee&&ee!="."&&(h[G][q]=+ee||0);break;case"@":h[G][q]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":h[G][q]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":h[G][q]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[G][q]=-O.read_shift(-8,"f");break;case"B":if(d&&N[q].len==8){h[G][q]=O.read_shift(8,"f");break}case"G":case"P":O.l+=N[q].len;break;case"0":if(N[q].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+N[q].type)}}}if(p!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return c&&c.sheetRows&&(h=h.slice(0,c.sheetRows)),c.DBF=N,h}function n(o,c){var h=c||{};h.dateNF||(h.dateNF="yyyymmdd");var u=Wh(t(o,h),h);return u["!cols"]=h.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete h.DBF,u}function i(o,c){try{return Uc(n(o,c),c)}catch(h){if(c&&c.WTF)throw h}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,c){var h=c||{};if(+h.codepage>=0&&Lu(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var u=xs(),p=Sd(o,{header:1,raw:!0,cellDates:!0}),g=p[0],d=p.slice(1),_=o["!cols"]||[],y=0,b=0,E=0,D=1;for(y=0;y<g.length;++y){if(((_[y]||{}).DBF||{}).name){g[y]=_[y].DBF.name,++E;continue}if(g[y]!=null){if(++E,typeof g[y]=="number"&&(g[y]=g[y].toString(10)),typeof g[y]!="string")throw new Error("DBF Invalid column name "+g[y]+" |"+typeof g[y]+"|");if(g.indexOf(g[y])!==y){for(b=0;b<1024;++b)if(g.indexOf(g[y]+"_"+b)==-1){g[y]+="_"+b;break}}}}var N=gn(o["!ref"]),I=[],X=[],he=[];for(y=0;y<=N.e.c-N.s.c;++y){var G="",q="",O=0,ee=[];for(b=0;b<d.length;++b)d[b][y]!=null&&ee.push(d[b][y]);if(ee.length==0||g[y]==null){I[y]="?";continue}for(b=0;b<ee.length;++b){switch(typeof ee[b]){case"number":q="B";break;case"string":q="C";break;case"boolean":q="L";break;case"object":q=ee[b]instanceof Date?"D":"C";break;default:q="C"}O=Math.max(O,String(ee[b]).length),G=G&&G!=q?"C":q}O>250&&(O=250),q=((_[y]||{}).DBF||{}).type,q=="C"&&_[y].DBF.len>O&&(O=_[y].DBF.len),G=="B"&&q=="N"&&(G="N",he[y]=_[y].DBF.dec,O=_[y].DBF.len),X[y]=G=="C"||q=="N"?O:s[G]||0,D+=X[y],I[y]=G}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,d.length),P.write_shift(2,296+32*E),P.write_shift(2,D),y=0;y<4;++y)P.write_shift(4,0);for(P.write_shift(4,0|(+e[c2]||3)<<8),y=0,b=0;y<g.length;++y)if(g[y]!=null){var z=u.next(32),te=(g[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);z.write_shift(1,te,"sbcs"),z.write_shift(1,I[y]=="?"?"C":I[y],"sbcs"),z.write_shift(4,b),z.write_shift(1,X[y]||s[I[y]]||0),z.write_shift(1,he[y]||0),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(1,0),z.write_shift(4,0),z.write_shift(4,0),b+=X[y]||s[I[y]]||0}var ce=u.next(264);for(ce.write_shift(4,13),y=0;y<65;++y)ce.write_shift(4,0);for(y=0;y<d.length;++y){var be=u.next(D);for(be.write_shift(1,0),b=0;b<g.length;++b)if(g[b]!=null)switch(I[b]){case"L":be.write_shift(1,d[y][b]==null?63:d[y][b]?84:70);break;case"B":be.write_shift(8,d[y][b]||0,"f");break;case"N":var Ce="0";for(typeof d[y][b]=="number"&&(Ce=d[y][b].toFixed(he[b]||0)),E=0;E<X[b]-Ce.length;++E)be.write_shift(1,32);be.write_shift(1,Ce,"sbcs");break;case"D":d[y][b]?(be.write_shift(4,("0000"+d[y][b].getFullYear()).slice(-4),"sbcs"),be.write_shift(2,("00"+(d[y][b].getMonth()+1)).slice(-2),"sbcs"),be.write_shift(2,("00"+d[y][b].getDate()).slice(-2),"sbcs")):be.write_shift(8,"00000000","sbcs");break;case"C":var Pe=String(d[y][b]!=null?d[y][b]:"").slice(0,X[b]);for(be.write_shift(1,Pe,"sbcs"),E=0;E<X[b]-Pe.length;++E)be.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),GT=function(){var r={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Di(r).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(g,d){var _=r[d];return typeof _=="number"?E1(_):_},n=function(g,d,_){var y=d.charCodeAt(0)-32<<4|_.charCodeAt(0)-48;return y==59?g:E1(y)};r["|"]=254;function i(g,d){switch(d.type){case"base64":return s(tl(g),d);case"binary":return s(g,d);case"buffer":return s(Mr&&Buffer.isBuffer(g)?g.toString("binary"):Yu(g),d);case"array":return s(rp(g),d)}throw new Error("Unrecognized type "+d.type)}function s(g,d){var _=g.split(/[\n\r]+/),y=-1,b=-1,E=0,D=0,N=[],I=[],X=null,he={},G=[],q=[],O=[],ee=0,P;for(+d.codepage>=0&&Lu(+d.codepage);E!==_.length;++E){ee=0;var z=_[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,t),te=z.replace(/;;/g,"\0").split(";").map(function(B){return B.replace(/\u0000/g,";")}),ce=te[0],be;if(z.length>0)switch(ce){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":te[1].charAt(0)=="P"&&I.push(z.slice(3).replace(/;;/g,";"));break;case"C":var Ce=!1,Pe=!1,me=!1,Fe=!1,Oe=-1,Me=-1;for(D=1;D<te.length;++D)switch(te[D].charAt(0)){case"A":break;case"X":b=parseInt(te[D].slice(1))-1,Pe=!0;break;case"Y":for(y=parseInt(te[D].slice(1))-1,Pe||(b=0),P=N.length;P<=y;++P)N[P]=[];break;case"K":be=te[D].slice(1),be.charAt(0)==='"'?be=be.slice(1,be.length-1):be==="TRUE"?be=!0:be==="FALSE"?be=!1:isNaN(Ko(be))?isNaN(Ru(be).getDate())||(be=rs(be)):(be=Ko(be),X!==null&&b2(X)&&(be=A2(be))),Ce=!0;break;case"E":Fe=!0;var T=VC(te[D].slice(1),{r:y,c:b});N[y][b]=[N[y][b],T];break;case"S":me=!0,N[y][b]=[N[y][b],"S5S"];break;case"G":break;case"R":Oe=parseInt(te[D].slice(1))-1;break;case"C":Me=parseInt(te[D].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+z)}if(Ce&&(N[y][b]&&N[y][b].length==2?N[y][b][0]=be:N[y][b]=be,X=null),me){if(Fe)throw new Error("SYLK shared formula cannot have own formula");var F=Oe>-1&&N[Oe][Me];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");N[y][b][1]=qC(F[1],{r:y-Oe,c:b-Me})}break;case"F":var R=0;for(D=1;D<te.length;++D)switch(te[D].charAt(0)){case"X":b=parseInt(te[D].slice(1))-1,++R;break;case"Y":for(y=parseInt(te[D].slice(1))-1,P=N.length;P<=y;++P)N[P]=[];break;case"M":ee=parseInt(te[D].slice(1))/20;break;case"F":break;case"G":break;case"P":X=I[parseInt(te[D].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=te[D].slice(1).split(" "),P=parseInt(O[0],10);P<=parseInt(O[1],10);++P)ee=parseInt(O[2],10),q[P-1]=ee===0?{hidden:!0}:{wch:ee},ig(q[P-1]);break;case"C":b=parseInt(te[D].slice(1))-1,q[b]||(q[b]={});break;case"R":y=parseInt(te[D].slice(1))-1,G[y]||(G[y]={}),ee>0?(G[y].hpt=ee,G[y].hpx=f_(ee)):ee===0&&(G[y].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+z)}R<1&&(X=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+z)}}return G.length>0&&(he["!rows"]=G),q.length>0&&(he["!cols"]=q),d&&d.sheetRows&&(N=N.slice(0,d.sheetRows)),[N,he]}function a(g,d){var _=i(g,d),y=_[0],b=_[1],E=Wh(y,d);return Di(b).forEach(function(D){E[D]=b[D]}),E}function o(g,d){return Uc(a(g,d),d)}function c(g,d,_,y){var b="C;Y"+(_+1)+";X"+(y+1)+";K";switch(g.t){case"n":b+=g.v||0,g.f&&!g.F&&(b+=";E"+ag(g.f,{r:_,c:y}));break;case"b":b+=g.v?"TRUE":"FALSE";break;case"e":b+=g.w||g.v;break;case"d":b+='"'+(g.w||g.v)+'"';break;case"s":b+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function h(g,d){d.forEach(function(_,y){var b="F;W"+(y+1)+" "+(y+1)+" ";_.hidden?b+="0":(typeof _.width=="number"&&!_.wpx&&(_.wpx=yd(_.width)),typeof _.wpx=="number"&&!_.wch&&(_.wch=_d(_.wpx)),typeof _.wch=="number"&&(b+=Math.round(_.wch))),b.charAt(b.length-1)!=" "&&g.push(b)})}function u(g,d){d.forEach(function(_,y){var b="F;";_.hidden?b+="M0;":_.hpt?b+="M"+20*_.hpt+";":_.hpx&&(b+="M"+20*bd(_.hpx)+";"),b.length>2&&g.push(b+"R"+(y+1))})}function p(g,d){var _=["ID;PWXL;N;E"],y=[],b=gn(g["!ref"]),E,D=Array.isArray(g),N="\r\n";_.push("P;PGeneral"),_.push("F;P0;DG0G8;M255"),g["!cols"]&&h(_,g["!cols"]),g["!rows"]&&u(_,g["!rows"]),_.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var I=b.s.r;I<=b.e.r;++I)for(var X=b.s.c;X<=b.e.c;++X){var he=Xr({r:I,c:X});E=D?(g[I]||[])[X]:g[he],!(!E||E.v==null&&(!E.f||E.F))&&y.push(c(E,g,I,X))}return _.join(N)+N+y.join(N)+N+"E"+N}return{to_workbook:o,to_sheet:a,from_sheet:p}}(),$T=function(){function r(s,a){switch(a.type){case"base64":return e(tl(s),a);case"binary":return e(s,a);case"buffer":return e(Mr&&Buffer.isBuffer(s)?s.toString("binary"):Yu(s),a);case"array":return e(rp(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split("\n"),c=-1,h=-1,u=0,p=[];u!==o.length;++u){if(o[u].trim()==="BOT"){p[++c]=[],h=0;continue}if(!(c<0)){var g=o[u].trim().split(","),d=g[0],_=g[1];++u;for(var y=o[u]||"";(y.match(/["]/g)||[]).length&1&&u<o.length-1;)y+="\n"+o[++u];switch(y=y.trim(),+d){case-1:if(y==="BOT"){p[++c]=[],h=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?p[c][h]=!0:y==="FALSE"?p[c][h]=!1:isNaN(Ko(_))?isNaN(Ru(_).getDate())?p[c][h]=_:p[c][h]=rs(_):p[c][h]=Ko(_),++h;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),p[c][h++]=y!==""?y:null;break}if(y==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function t(s,a){return Wh(r(s,a),a)}function n(s,a){return Uc(t(s,a),a)}var i=function(){var s=function(c,h,u,p,g){c.push(h),c.push(u+","+p),c.push('"'+g.replace(/"/g,'""')+'"')},a=function(c,h,u,p){c.push(h+","+u),c.push(h==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var h=[],u=gn(c["!ref"]),p,g=Array.isArray(c);s(h,"TABLE",0,1,"sheetjs"),s(h,"VECTORS",0,u.e.r-u.s.r+1,""),s(h,"TUPLES",0,u.e.c-u.s.c+1,""),s(h,"DATA",0,0,"");for(var d=u.s.r;d<=u.e.r;++d){a(h,-1,0,"BOT");for(var _=u.s.c;_<=u.e.c;++_){var y=Xr({r:d,c:_});if(p=g?(c[d]||[])[_]:c[y],!p){a(h,1,0,"");continue}switch(p.t){case"n":var b=p.w;!b&&p.v!=null&&(b=p.v),b==null?p.f&&!p.F?a(h,1,0,"="+p.f):a(h,1,0,""):a(h,0,b,"V");break;case"b":a(h,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(h,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Hl(p.z||Mn[14],As(rs(p.v)))),a(h,0,p.w,"V");break;default:a(h,1,0,"")}}}a(h,-1,0,"EOD");var E="\r\n",D=h.join(E);return D}}();return{to_workbook:n,to_sheet:t,from_sheet:i}}(),l_=function(){function r(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(p,g){for(var d=p.split("\n"),_=-1,y=-1,b=0,E=[];b!==d.length;++b){var D=d[b].trim().split(":");if(D[0]==="cell"){var N=fi(D[1]);if(E.length<=N.r)for(_=E.length;_<=N.r;++_)E[_]||(E[_]=[]);switch(_=N.r,y=N.c,D[2]){case"t":E[_][y]=r(D[3]);break;case"v":E[_][y]=+D[3];break;case"vtf":var I=D[D.length-1];case"vtc":switch(D[3]){case"nl":E[_][y]=!!+D[4];break;default:E[_][y]=+D[4];break}D[2]=="vtf"&&(E[_][y]=[E[_][y],I])}}}return g&&g.sheetRows&&(E=E.slice(0,g.sheetRows)),E}function n(p,g){return Wh(t(p,g),g)}function i(p,g){return Uc(n(p,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),c="--SocialCalcSpreadsheetControlSave--";function h(p){if(!p||!p["!ref"])return"";for(var g=[],d=[],_,y="",b=ea(p["!ref"]),E=Array.isArray(p),D=b.s.r;D<=b.e.r;++D)for(var N=b.s.c;N<=b.e.c;++N)if(y=Xr({r:D,c:N}),_=E?(p[D]||[])[N]:p[y],!(!_||_.v==null||_.t==="z")){switch(d=["cell",y,"t"],_.t){case"s":case"str":d.push(e(_.v));break;case"n":_.f?(d[2]="vtf",d[3]="n",d[4]=_.v,d[5]=e(_.f)):(d[2]="v",d[3]=_.v);break;case"b":d[2]="vt"+(_.f?"f":"c"),d[3]="nl",d[4]=_.v?"1":"0",d[5]=e(_.f||(_.v?"TRUE":"FALSE"));break;case"d":var I=As(rs(_.v));d[2]="vtc",d[3]="nd",d[4]=""+I,d[5]=_.w||Hl(_.z||Mn[14],I);break;case"e":continue}g.push(d.join(":"))}return g.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join("\n")}function u(p){return[s,a,o,a,h(p),c].join("\n")}return{to_workbook:i,to_sheet:n,from_sheet:u}}(),ZT=function(){function r(u,p,g,d,_){_.raw?p[g][d]=u:u===""||(u==="TRUE"?p[g][d]=!0:u==="FALSE"?p[g][d]=!1:isNaN(Ko(u))?isNaN(Ru(u).getDate())?p[g][d]=u:p[g][d]=rs(u):p[g][d]=Ko(u))}function e(u,p){var g=p||{},d=[];if(!u||u.length===0)return d;for(var _=u.split(/[\r\n]/),y=_.length-1;y>=0&&_[y].length===0;)--y;for(var b=10,E=0,D=0;D<=y;++D)E=_[D].indexOf(" "),E==-1?E=_[D].length:E++,b=Math.max(b,E);for(D=0;D<=y;++D){d[D]=[];var N=0;for(r(_[D].slice(0,b).trim(),d,D,N,g),N=1;N<=(_[D].length-b)/10+1;++N)r(_[D].slice(b+(N-1)*10,b+N*10).trim(),d,D,N,g)}return g.sheetRows&&(d=d.slice(0,g.sheetRows)),d}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var p={},g=!1,d=0,_=0;d<u.length;++d)(_=u.charCodeAt(d))==34?g=!g:!g&&_ in t&&(p[_]=(p[_]||0)+1);_=[];for(d in p)Object.prototype.hasOwnProperty.call(p,d)&&_.push([p[d],d]);if(!_.length){p=n;for(d in p)Object.prototype.hasOwnProperty.call(p,d)&&_.push([p[d],d])}return _.sort(function(y,b){return y[0]-b[0]||n[y[1]]-n[b[1]]}),t[_.pop()[1]]||44}function s(u,p){var g=p||{},d="",_=g.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(d=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(d=u.charAt(4),u=u.slice(6)):d=i(u.slice(0,1024)):g&&g.FS?d=g.FS:d=i(u.slice(0,1024));var b=0,E=0,D=0,N=0,I=0,X=d.charCodeAt(0),he=!1,G=0,q=u.charCodeAt(0);u=u.replace(/\r\n/mg,"\n");var O=g.dateNF!=null?hA(g.dateNF):null;function ee(){var P=u.slice(N,I),z={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)z.t="z";else if(g.raw)z.t="s",z.v=P;else if(P.trim().length===0)z.t="s",z.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(z.t="s",z.v=P.slice(2,-1).replace(/""/g,'"')):GC(P)?(z.t="n",z.f=P.slice(1)):(z.t="s",z.v=P);else if(P=="TRUE")z.t="b",z.v=!0;else if(P=="FALSE")z.t="b",z.v=!1;else if(!isNaN(D=Ko(P)))z.t="n",g.cellText!==!1&&(z.w=P),z.v=D;else if(!isNaN(Ru(P).getDate())||O&&P.match(O)){z.z=g.dateNF||Mn[14];var te=0;O&&P.match(O)&&(P=uA(P,g.dateNF,P.match(O)||[]),te=1),g.cellDates?(z.t="d",z.v=rs(P,te)):(z.t="n",z.v=As(rs(P,te))),g.cellText!==!1&&(z.w=Hl(z.z,z.v instanceof Date?As(z.v):z.v)),g.cellNF||delete z.z}else z.t="s",z.v=P;if(z.t=="z"||(g.dense?(_[b]||(_[b]=[]),_[b][E]=z):_[Xr({c:E,r:b})]=z),N=I+1,q=u.charCodeAt(N),y.e.c<E&&(y.e.c=E),y.e.r<b&&(y.e.r=b),G==X)++E;else if(E=0,++b,g.sheetRows&&g.sheetRows<=b)return!0}e:for(;I<u.length;++I)switch(G=u.charCodeAt(I)){case 34:q===34&&(he=!he);break;case X:case 10:case 13:if(!he&&ee())break e;break}return I-N>0&&ee(),_["!ref"]=Jn(y),_}function a(u,p){return!(p&&p.PRN)||p.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,p):Wh(e(u,p),p)}function o(u,p){var g="",d=p.type=="string"?[0,0,0,0]:aN(u,p);switch(p.type){case"base64":g=tl(u);break;case"binary":g=u;break;case"buffer":p.codepage==65001?g=u.toString("utf8"):p.codepage&&typeof hd<"u"||(g=Mr&&Buffer.isBuffer(u)?u.toString("binary"):Yu(u));break;case"array":g=rp(u);break;case"string":g=u;break;default:throw new Error("Unrecognized type "+p.type)}return d[0]==239&&d[1]==187&&d[2]==191?g=wu(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=wu(g):p.type=="binary"&&typeof hd<"u",g.slice(0,19)=="socialcalc:version:"?l_.to_sheet(p.type=="string"?g:wu(g),p):a(g,p)}function c(u,p){return Uc(o(u,p),p)}function h(u){for(var p=[],g=gn(u["!ref"]),d,_=Array.isArray(u),y=g.s.r;y<=g.e.r;++y){for(var b=[],E=g.s.c;E<=g.e.c;++E){var D=Xr({r:y,c:E});if(d=_?(u[y]||[])[E]:u[D],!d||d.v==null){b.push("          ");continue}for(var N=(d.w||(rl(d),d.w)||"").slice(0,10);N.length<10;)N+=" ";b.push(N+(E===0?" ":""))}p.push(b.join(""))}return p.join("\n")}return{to_workbook:c,to_sheet:o,from_sheet:h}}(),tv=function(){function r(T,F,R){if(T){Zs(T,T.l||0);for(var B=R.Enum||Oe;T.l<T.length;){var Y=T.read_shift(2),fe=B[Y]||B[65535],we=T.read_shift(2),ve=T.l+we,_e=fe.f&&fe.f(T,we,R);if(T.l=ve,F(_e,fe,Y))return}}}function e(T,F){switch(F.type){case"base64":return t(Ya(tl(T)),F);case"binary":return t(Ya(T),F);case"buffer":case"array":return t(T,F)}throw"Unsupported type "+F.type}function t(T,F){if(!T)return T;var R=F||{},B=R.dense?[]:{},Y="Sheet1",fe="",we=0,ve={},_e=[],je=[],Xe={s:{r:0,c:0},e:{r:0,c:0}},ct=R.sheetRows||0;if(T[2]==0&&(T[3]==8||T[3]==9)&&T.length>=16&&T[14]==5&&T[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(T[2]==2)R.Enum=Oe,r(T,function(Qe,St,st){switch(st){case 0:R.vers=Qe,Qe>=4096&&(R.qpro=!0);break;case 6:Xe=Qe;break;case 204:Qe&&(fe=Qe);break;case 222:fe=Qe;break;case 15:case 51:R.qpro||(Qe[1].v=Qe[1].v.slice(1));case 13:case 14:case 16:st==14&&(Qe[2]&112)==112&&(Qe[2]&15)>1&&(Qe[2]&15)<15&&(Qe[1].z=R.dateNF||Mn[14],R.cellDates&&(Qe[1].t="d",Qe[1].v=A2(Qe[1].v))),R.qpro&&Qe[3]>we&&(B["!ref"]=Jn(Xe),ve[Y]=B,_e.push(Y),B=R.dense?[]:{},Xe={s:{r:0,c:0},e:{r:0,c:0}},we=Qe[3],Y=fe||"Sheet"+(we+1),fe="");var Et=R.dense?(B[Qe[0].r]||[])[Qe[0].c]:B[Xr(Qe[0])];if(Et){Et.t=Qe[1].t,Et.v=Qe[1].v,Qe[1].z!=null&&(Et.z=Qe[1].z),Qe[1].f!=null&&(Et.f=Qe[1].f);break}R.dense?(B[Qe[0].r]||(B[Qe[0].r]=[]),B[Qe[0].r][Qe[0].c]=Qe[1]):B[Xr(Qe[0])]=Qe[1];break}},R);else if(T[2]==26||T[2]==14)R.Enum=Me,T[2]==14&&(R.qpro=!0,T.l=0),r(T,function(Qe,St,st){switch(st){case 204:Y=Qe;break;case 22:Qe[1].v=Qe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Qe[3]>we&&(B["!ref"]=Jn(Xe),ve[Y]=B,_e.push(Y),B=R.dense?[]:{},Xe={s:{r:0,c:0},e:{r:0,c:0}},we=Qe[3],Y="Sheet"+(we+1)),ct>0&&Qe[0].r>=ct)break;R.dense?(B[Qe[0].r]||(B[Qe[0].r]=[]),B[Qe[0].r][Qe[0].c]=Qe[1]):B[Xr(Qe[0])]=Qe[1],Xe.e.c<Qe[0].c&&(Xe.e.c=Qe[0].c),Xe.e.r<Qe[0].r&&(Xe.e.r=Qe[0].r);break;case 27:Qe[14e3]&&(je[Qe[14e3][0]]=Qe[14e3][1]);break;case 1537:je[Qe[0]]=Qe[1],Qe[0]==we&&(Y=Qe[1]);break}},R);else throw new Error("Unrecognized LOTUS BOF "+T[2]);if(B["!ref"]=Jn(Xe),ve[fe||Y]=B,_e.push(fe||Y),!je.length)return{SheetNames:_e,Sheets:ve};for(var Ne={},le=[],Nt=0;Nt<je.length;++Nt)ve[_e[Nt]]?(le.push(je[Nt]||_e[Nt]),Ne[je[Nt]]=ve[je[Nt]]||ve[_e[Nt]]):(le.push(je[Nt]),Ne[je[Nt]]={"!ref":"A1"});return{SheetNames:le,Sheets:Ne}}function n(T,F){var R=F||{};if(+R.codepage>=0&&Lu(+R.codepage),R.type=="string")throw new Error("Cannot write WK1 to JS string");var B=xs(),Y=gn(T["!ref"]),fe=Array.isArray(T),we=[];gt(B,0,s(1030)),gt(B,6,c(Y));for(var ve=Math.min(Y.e.r,8191),_e=Y.s.r;_e<=ve;++_e)for(var je=ki(_e),Xe=Y.s.c;Xe<=Y.e.c;++Xe){_e===Y.s.r&&(we[Xe]=Wi(Xe));var ct=we[Xe]+je,Ne=fe?(T[_e]||[])[Xe]:T[ct];if(!(!Ne||Ne.t=="z"))if(Ne.t=="n")(Ne.v|0)==Ne.v&&Ne.v>=-32768&&Ne.v<=32767?gt(B,13,d(_e,Xe,Ne.v)):gt(B,14,y(_e,Xe,Ne.v));else{var le=rl(Ne);gt(B,15,p(_e,Xe,le.slice(0,239)))}}return gt(B,1),B.end()}function i(T,F){var R=F||{};if(+R.codepage>=0&&Lu(+R.codepage),R.type=="string")throw new Error("Cannot write WK3 to JS string");var B=xs();gt(B,0,a(T));for(var Y=0,fe=0;Y<T.SheetNames.length;++Y)(T.Sheets[T.SheetNames[Y]]||{})["!ref"]&&gt(B,27,Fe(T.SheetNames[Y],fe++));var we=0;for(Y=0;Y<T.SheetNames.length;++Y){var ve=T.Sheets[T.SheetNames[Y]];if(!(!ve||!ve["!ref"])){for(var _e=gn(ve["!ref"]),je=Array.isArray(ve),Xe=[],ct=Math.min(_e.e.r,8191),Ne=_e.s.r;Ne<=ct;++Ne)for(var le=ki(Ne),Nt=_e.s.c;Nt<=_e.e.c;++Nt){Ne===_e.s.r&&(Xe[Nt]=Wi(Nt));var Qe=Xe[Nt]+le,St=je?(ve[Ne]||[])[Nt]:ve[Qe];if(!(!St||St.t=="z"))if(St.t=="n")gt(B,23,ee(Ne,Nt,we,St.v));else{var st=rl(St);gt(B,22,G(Ne,Nt,we,st.slice(0,239)))}}++we}}return gt(B,1),B.end()}function s(T){var F=Ve(2);return F.write_shift(2,T),F}function a(T){var F=Ve(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var R=0,B=0,Y=0,fe=0;fe<T.SheetNames.length;++fe){var we=T.SheetNames[fe],ve=T.Sheets[we];if(!(!ve||!ve["!ref"])){++Y;var _e=ea(ve["!ref"]);R<_e.e.r&&(R=_e.e.r),B<_e.e.c&&(B=_e.e.c)}}return R>8191&&(R=8191),F.write_shift(2,R),F.write_shift(1,Y),F.write_shift(1,B),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function o(T,F,R){var B={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&R.qpro?(B.s.c=T.read_shift(1),T.l++,B.s.r=T.read_shift(2),B.e.c=T.read_shift(1),T.l++,B.e.r=T.read_shift(2),B):(B.s.c=T.read_shift(2),B.s.r=T.read_shift(2),F==12&&R.qpro&&(T.l+=2),B.e.c=T.read_shift(2),B.e.r=T.read_shift(2),F==12&&R.qpro&&(T.l+=2),B.s.c==65535&&(B.s.c=B.e.c=B.s.r=B.e.r=0),B)}function c(T){var F=Ve(8);return F.write_shift(2,T.s.c),F.write_shift(2,T.s.r),F.write_shift(2,T.e.c),F.write_shift(2,T.e.r),F}function h(T,F,R){var B=[{c:0,r:0},{t:"n",v:0},0,0];return R.qpro&&R.vers!=20768?(B[0].c=T.read_shift(1),B[3]=T.read_shift(1),B[0].r=T.read_shift(2),T.l+=2):(B[2]=T.read_shift(1),B[0].c=T.read_shift(2),B[0].r=T.read_shift(2)),B}function u(T,F,R){var B=T.l+F,Y=h(T,F,R);if(Y[1].t="s",R.vers==20768){T.l++;var fe=T.read_shift(1);return Y[1].v=T.read_shift(fe,"utf8"),Y}return R.qpro&&T.l++,Y[1].v=T.read_shift(B-T.l,"cstr"),Y}function p(T,F,R){var B=Ve(7+R.length);B.write_shift(1,255),B.write_shift(2,F),B.write_shift(2,T),B.write_shift(1,39);for(var Y=0;Y<B.length;++Y){var fe=R.charCodeAt(Y);B.write_shift(1,fe>=128?95:fe)}return B.write_shift(1,0),B}function g(T,F,R){var B=h(T,F,R);return B[1].v=T.read_shift(2,"i"),B}function d(T,F,R){var B=Ve(7);return B.write_shift(1,255),B.write_shift(2,F),B.write_shift(2,T),B.write_shift(2,R,"i"),B}function _(T,F,R){var B=h(T,F,R);return B[1].v=T.read_shift(8,"f"),B}function y(T,F,R){var B=Ve(13);return B.write_shift(1,255),B.write_shift(2,F),B.write_shift(2,T),B.write_shift(8,R,"f"),B}function b(T,F,R){var B=T.l+F,Y=h(T,F,R);if(Y[1].v=T.read_shift(8,"f"),R.qpro)T.l=B;else{var fe=T.read_shift(2);I(T.slice(T.l,T.l+fe),Y),T.l+=fe}return Y}function E(T,F,R){var B=F&32768;return F&=-32769,F=(B?T:0)+(F>=8192?F-16384:F),(B?"":"$")+(R?Wi(F):ki(F))}var D={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},N=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function I(T,F){Zs(T,0);for(var R=[],B=0,Y="",fe="",we="",ve="";T.l<T.length;){var _e=T[T.l++];switch(_e){case 0:R.push(T.read_shift(8,"f"));break;case 1:fe=E(F[0].c,T.read_shift(2),!0),Y=E(F[0].r,T.read_shift(2),!1),R.push(fe+Y);break;case 2:{var je=E(F[0].c,T.read_shift(2),!0),Xe=E(F[0].r,T.read_shift(2),!1);fe=E(F[0].c,T.read_shift(2),!0),Y=E(F[0].r,T.read_shift(2),!1),R.push(je+Xe+":"+fe+Y)}break;case 3:if(T.l<T.length){console.error("WK1 premature formula end");return}break;case 4:R.push("("+R.pop()+")");break;case 5:R.push(T.read_shift(2));break;case 6:{for(var ct="";_e=T[T.l++];)ct+=String.fromCharCode(_e);R.push('"'+ct.replace(/"/g,'""')+'"')}break;case 8:R.push("-"+R.pop());break;case 23:R.push("+"+R.pop());break;case 22:R.push("NOT("+R.pop()+")");break;case 20:case 21:ve=R.pop(),we=R.pop(),R.push(["AND","OR"][_e-20]+"("+we+","+ve+")");break;default:if(_e<32&&N[_e])ve=R.pop(),we=R.pop(),R.push(we+N[_e]+ve);else if(D[_e]){if(B=D[_e][1],B==69&&(B=T[T.l++]),B>R.length){console.error("WK1 bad formula parse 0x"+_e.toString(16)+":|"+R.join("|")+"|");return}var Ne=R.slice(-B);R.length-=B,R.push(D[_e][0]+"("+Ne.join(",")+")")}else return _e<=7?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=24?console.error("WK1 unsupported op "+_e.toString(16)):_e<=30?console.error("WK1 invalid opcode "+_e.toString(16)):_e<=115?console.error("WK1 unsupported function opcode "+_e.toString(16)):console.error("WK1 unrecognized opcode "+_e.toString(16))}}R.length==1?F[1].f=""+R[0]:console.error("WK1 bad formula parse |"+R.join("|")+"|")}function X(T){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=T.read_shift(2),F[3]=T[T.l++],F[0].c=T[T.l++],F}function he(T,F){var R=X(T);return R[1].t="s",R[1].v=T.read_shift(F-4,"cstr"),R}function G(T,F,R,B){var Y=Ve(6+B.length);Y.write_shift(2,T),Y.write_shift(1,R),Y.write_shift(1,F),Y.write_shift(1,39);for(var fe=0;fe<B.length;++fe){var we=B.charCodeAt(fe);Y.write_shift(1,we>=128?95:we)}return Y.write_shift(1,0),Y}function q(T,F){var R=X(T);R[1].v=T.read_shift(2);var B=R[1].v>>1;if(R[1].v&1)switch(B&7){case 0:B=(B>>3)*5e3;break;case 1:B=(B>>3)*500;break;case 2:B=(B>>3)/20;break;case 3:B=(B>>3)/200;break;case 4:B=(B>>3)/2e3;break;case 5:B=(B>>3)/2e4;break;case 6:B=(B>>3)/16;break;case 7:B=(B>>3)/64;break}return R[1].v=B,R}function O(T,F){var R=X(T),B=T.read_shift(4),Y=T.read_shift(4),fe=T.read_shift(2);if(fe==65535)return B===0&&Y===3221225472?(R[1].t="e",R[1].v=15):B===0&&Y===3489660928?(R[1].t="e",R[1].v=42):R[1].v=0,R;var we=fe&32768;return fe=(fe&32767)-16446,R[1].v=(1-we*2)*(Y*Math.pow(2,fe+32)+B*Math.pow(2,fe)),R}function ee(T,F,R,B){var Y=Ve(14);if(Y.write_shift(2,T),Y.write_shift(1,R),Y.write_shift(1,F),B==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var fe=0,we=0,ve=0,_e=0;return B<0&&(fe=1,B=-B),we=Math.log2(B)|0,B/=Math.pow(2,we-31),_e=B>>>0,_e&2147483648||(B/=2,++we,_e=B>>>0),B-=_e,_e|=2147483648,_e>>>=0,B*=Math.pow(2,32),ve=B>>>0,Y.write_shift(4,ve),Y.write_shift(4,_e),we+=16383+(fe?32768:0),Y.write_shift(2,we),Y}function P(T,F){var R=O(T);return T.l+=F-14,R}function z(T,F){var R=X(T),B=T.read_shift(4);return R[1].v=B>>6,R}function te(T,F){var R=X(T),B=T.read_shift(8,"f");return R[1].v=B,R}function ce(T,F){var R=te(T);return T.l+=F-10,R}function be(T,F){return T[T.l+F-1]==0?T.read_shift(F,"cstr"):""}function Ce(T,F){var R=T[T.l++];R>F-1&&(R=F-1);for(var B="";B.length<R;)B+=String.fromCharCode(T[T.l++]);return B}function Pe(T,F,R){if(!(!R.qpro||F<21)){var B=T.read_shift(1);T.l+=17,T.l+=1,T.l+=2;var Y=T.read_shift(F-21,"cstr");return[B,Y]}}function me(T,F){for(var R={},B=T.l+F;T.l<B;){var Y=T.read_shift(2);if(Y==14e3){for(R[Y]=[0,""],R[Y][0]=T.read_shift(2);T[T.l];)R[Y][1]+=String.fromCharCode(T[T.l]),T.l++;T.l++}}return R}function Fe(T,F){var R=Ve(5+T.length);R.write_shift(2,14e3),R.write_shift(2,F);for(var B=0;B<T.length;++B){var Y=T.charCodeAt(B);R[R.l++]=Y>127?95:Y}return R[R.l++]=0,R}var Oe={0:{n:"BOF",f:n_},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:_},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:be},222:{n:"SHEETNAMELP",f:Ce},65535:{n:""}},Me={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:he},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:q},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:me},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:z},38:{n:"??"},39:{n:"NUMBER27",f:te},40:{n:"FORMULA28",f:ce},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:be},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Pe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),YT=/^\s|\s$|[\t\n\r]/;function c_(r,e){if(!e.bookSST)return"";var t=[Qn];t[t.length]=pt("sst",null,{xmlns:jh[0],count:r.Count,uniqueCount:r.Unique});for(var n=0;n!=r.length;++n)if(r[n]!=null){var i=r[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(YT)&&(s+=' xml:space="preserve"'),s+=">"+Kr(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function KT(r){return[r.read_shift(4),r.read_shift(4)]}function XT(r,e){return e||(e=Ve(8)),e.write_shift(4,r.Count),e.write_shift(4,r.Unique),e}var JT=jA;function QT(r){var e=xs();nt(e,159,XT(r));for(var t=0;t<r.length;++t)nt(e,19,JT(r[t]));return nt(e,160),e.end()}function eC(r){for(var e=[],t=r.split(""),n=0;n<t.length;++n)e[n]=t[n].charCodeAt(0);return e}function h_(r){var e=0,t,n=eC(r),i=n.length+1,s,a,o,c,h;for(t=Tc(i),t[0]=n.length,s=1;s!=i;++s)t[s]=n[s-1];for(s=i-1;s>=0;--s)a=t[s],o=e&16384?1:0,c=e<<1&32767,h=o|c,e=h^a;return e^52811}var tC=function(){function r(i,s){switch(s.type){case"base64":return e(tl(i),s);case"binary":return e(i,s);case"buffer":return e(Mr&&Buffer.isBuffer(i)?i.toString("binary"):Yu(i),s);case"array":return e(rp(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(u,p){Array.isArray(o)&&(o[p]=[]);for(var g=/\\\w+\b/g,d=0,_,y=-1;_=g.exec(u);){switch(_[0]){case"\\cell":var b=u.slice(d,g.lastIndex-_[0].length);if(b[0]==" "&&(b=b.slice(1)),++y,b.length){var E={v:b,t:"s"};Array.isArray(o)?o[p][y]=E:o[Xr({r:p,c:y})]=E}break}d=g.lastIndex}y>h.e.c&&(h.e.c=y)}),o["!ref"]=Jn(h),o}function t(i,s){return Uc(r(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=gn(i["!ref"]),o,c=Array.isArray(i),h=a.s.r;h<=a.e.r;++h){s.push("\\trowd\\trautofit1");for(var u=a.s.c;u<=a.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=a.s.c;u<=a.e.c;++u){var p=Xr({r:h,c:u});o=c?(i[h]||[])[u]:i[p],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(rl(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:r,from_sheet:n}}();function rv(r){for(var e=0,t=1;e!=3;++e)t=t*256+(r[e]>255?255:r[e]<0?0:r[e]);return t.toString(16).toUpperCase().slice(1)}var rC=6,Xo=rC;function yd(r){return Math.floor((r+Math.round(128/Xo)/256)*Xo)}function _d(r){return Math.floor((r-5)/Xo*100+.5)/100}function em(r){return Math.round((r*Xo+5)/Xo*256)/256}function ig(r){r.width?(r.wpx=yd(r.width),r.wch=_d(r.wpx),r.MDW=Xo):r.wpx?(r.wch=_d(r.wpx),r.width=em(r.wch),r.MDW=Xo):typeof r.wch=="number"&&(r.width=em(r.wch),r.wpx=yd(r.width),r.MDW=Xo),r.customWidth&&delete r.customWidth}var nC=96,u_=nC;function bd(r){return r*96/u_}function f_(r){return r*u_/96}function iC(r){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)r[n]!=null&&(e[e.length]=pt("numFmt",null,{numFmtId:n,formatCode:Kr(r[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=pt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function sC(r){var e=[];return e[e.length]=pt("cellXfs",null),r.forEach(function(t){e[e.length]=pt("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=pt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function d_(r,e){var t=[Qn,pt("styleSheet",null,{xmlns:jh[0],"xmlns:vt":hi.vt})],n;return r.SSF&&(n=iC(r.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=sC(e.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function aC(r,e){var t=r.read_shift(2),n=Vi(r);return[t,n]}function oC(r,e,t){t||(t=Ve(6+4*e.length)),t.write_shift(2,r),di(e,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function lC(r,e,t){var n={};n.sz=r.read_shift(2)/20;var i=YA(r);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=r.read_shift(2);switch(s===700&&(n.bold=1),r.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=r.read_shift(1);a!=0&&(n.underline=a);var o=r.read_shift(1);o>0&&(n.family=o);var c=r.read_shift(1);switch(c>0&&(n.charset=c),r.l++,n.color=ZA(r),r.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Vi(r),n}function cC(r,e){e||(e=Ve(25+4*32)),e.write_shift(2,r.sz*20),KA(r,e),e.write_shift(2,r.bold?700:400);var t=0;r.vertAlign=="superscript"?t=1:r.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,r.underline||0),e.write_shift(1,r.family||0),e.write_shift(1,r.charset||0),e.write_shift(1,0),vd(r.color,e);var n=0;return n=2,e.write_shift(1,n),di(r.name,e),e.length>e.l?e.slice(0,e.l):e}var hC=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Vp,uC=Eo;function nv(r,e){e||(e=Ve(4*3+8*7+16*1)),Vp||(Vp=Gm(hC));var t=Vp[r.patternType];t==null&&(t=40),e.write_shift(4,t);var n=0;if(t!=40)for(vd({auto:1},e),vd({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function fC(r,e){var t=r.l+e,n=r.read_shift(2),i=r.read_shift(2);return r.l=t,{ixfe:n,numFmtId:i}}function p_(r,e,t){t||(t=Ve(16)),t.write_shift(2,e||0),t.write_shift(2,r.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function uu(r,e){return e||(e=Ve(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var dC=Eo;function pC(r,e){return e||(e=Ve(51)),e.write_shift(1,0),uu(null,e),uu(null,e),uu(null,e),uu(null,e),uu(null,e),e.length>e.l?e.slice(0,e.l):e}function mC(r,e){return e||(e=Ve(12+4*10)),e.write_shift(4,r.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),gd(r.name||"",e),e.length>e.l?e.slice(0,e.l):e}function gC(r,e,t){var n=Ve(2052);return n.write_shift(4,r),gd(e,n),gd(t,n),n.length>n.l?n.slice(0,n.l):n}function vC(r,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++t}),t!=0&&(nt(r,615,Ja(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&nt(r,44,oC(i,e[i]))}),nt(r,616))}}function wC(r){var e=1;nt(r,611,Ja(e)),nt(r,43,cC({sz:12,color:{theme:1},name:"Calibri",family:2})),nt(r,612)}function yC(r){var e=2;nt(r,603,Ja(e)),nt(r,45,nv({patternType:"none"})),nt(r,45,nv({patternType:"gray125"})),nt(r,604)}function _C(r){var e=1;nt(r,613,Ja(e)),nt(r,46,pC()),nt(r,614)}function bC(r){var e=1;nt(r,626,Ja(e)),nt(r,47,p_({numFmtId:0},65535)),nt(r,627)}function xC(r,e){nt(r,617,Ja(e.length)),e.forEach(function(t){nt(r,47,p_(t,0))}),nt(r,618)}function SC(r){var e=1;nt(r,619,Ja(e)),nt(r,48,mC({xfId:0,name:"Normal"})),nt(r,620)}function EC(r){var e=0;nt(r,505,Ja(e)),nt(r,506)}function AC(r){var e=0;nt(r,508,gC(e,"TableStyleMedium9","PivotStyleMedium4")),nt(r,509)}function TC(r,e){var t=xs();return nt(t,278),vC(t,r.SSF),wC(t),yC(t),_C(t),bC(t),xC(t,e.cellXfs),SC(t),EC(t),AC(t),nt(t,279),t.end()}function m_(r,e){if(e&&e.themeXLSX)return e.themeXLSX;if(r&&typeof r.raw=="string")return r.raw;var t=[Qn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function CC(r,e){return{flags:r.read_shift(4),version:r.read_shift(4),name:Vi(r)}}function kC(r){var e=Ve(12+2*r.name.length);return e.write_shift(4,r.flags),e.write_shift(4,r.version),di(r.name,e),e.slice(0,e.l)}function DC(r){for(var e=[],t=r.read_shift(4);t-- >0;)e.push([r.read_shift(4),r.read_shift(4)]);return e}function NC(r){var e=Ve(4+8*r.length);e.write_shift(4,r.length);for(var t=0;t<r.length;++t)e.write_shift(4,r[t][0]),e.write_shift(4,r[t][1]);return e}function IC(r,e){var t=Ve(8+2*e.length);return t.write_shift(4,r),di(e,t),t.slice(0,t.l)}function LC(r){return r.l+=4,r.read_shift(4)!=0}function PC(r,e){var t=Ve(8);return t.write_shift(4,r),t.write_shift(4,1),t}function RC(){var r=xs();return nt(r,332),nt(r,334,Ja(1)),nt(r,335,kC({name:"XLDAPR",version:12e4,flags:3496657072})),nt(r,336),nt(r,339,IC(1,"XLDAPR")),nt(r,52),nt(r,35,Ja(514)),nt(r,4096,Ja(0)),nt(r,4097,wa(1)),nt(r,36),nt(r,53),nt(r,340),nt(r,337,PC(1)),nt(r,51,NC([[1,0]])),nt(r,338),nt(r,333),r.end()}function g_(){var r=[Qn];return r.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),r.join("")}function OC(r){var e={};e.i=r.read_shift(4);var t={};t.r=r.read_shift(4),t.c=r.read_shift(4),e.r=Xr(t);var n=r.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var yh=1024;function v_(r,e){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[pt("xml",null,{"xmlns:v":Ys.v,"xmlns:o":Ys.o,"xmlns:x":Ys.x,"xmlns:mv":Ys.mv}).replace(/\/>/,">"),pt("o:shapelayout",pt("o:idmap",null,{"v:ext":"edit",data:r}),{"v:ext":"edit"}),pt("v:shapetype",[pt("v:stroke",null,{joinstyle:"miter"}),pt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];yh<r*1e3;)yh+=1e3;return e.forEach(function(s){var a=fi(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?pt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=pt("v:fill",c,o),u={on:"t",obscured:"t"};++yh,i=i.concat(["<v:shape"+Fu({id:"_x0000_s"+yh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,pt("v:shadow",null,u),pt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Ci("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Ci("x:AutoFill","False"),Ci("x:Row",String(a.r)),Ci("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function w_(r){var e=[Qn,pt("comments",null,{xmlns:jh[0]})],t=[];return e.push("<authors>"),r.forEach(function(n){n[1].forEach(function(i){var s=Kr(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),r.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=t.indexOf(Kr(c.a))),s.push(c.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(Ci("t",Kr(s[0]||"")));else{for(var a="Comment:\n    "+s[0]+"\n",o=1;o<s.length;++o)a+="Reply:\n    "+s[o]+"\n";e.push(Ci("t",Kr(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function FC(r,e,t){var n=[Qn,pt("ThreadedComments",null,{xmlns:hi.TCMNT}).replace(/[\/]>/,">")];return r.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};o==0?s=c.id:c.parentId=s,a.ID=c.id,a.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(pt("threadedComment",Ci("text",a.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function MC(r){var e=[Qn,pt("personList",null,{xmlns:hi.TCMNT,"xmlns:x":jh[0]}).replace(/[\/]>/,">")];return r.forEach(function(t,n){e.push(pt("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function BC(r){var e={};e.iauthor=r.read_shift(4);var t=Wc(r);return e.rfx=t.s,e.ref=Xr(t.s),r.l+=16,e}function UC(r,e){return e==null&&(e=Ve(36)),e.write_shift(4,r[1].iauthor),Vh(r[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var zC=Vi;function HC(r){return di(r.slice(0,54))}function jC(r){var e=xs(),t=[];return nt(e,628),nt(e,630),r.forEach(function(n){n[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),nt(e,632,HC(i.a)))})}),nt(e,631),nt(e,633),r.forEach(function(n){n[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:fi(n[0]),e:fi(n[0])};nt(e,635,UC([s,i])),i.t&&i.t.length>0&&nt(e,637,VA(i)),nt(e,636),delete i.iauthor})}),nt(e,634),nt(e,629),e.end()}function WC(r,e){e.FullPaths.forEach(function(t,n){if(n!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Jr.utils.cfb_add(r,i,e.FileIndex[n].content)}})}var y_=["xlsb","xlsm","xlam","biff8","xla"],VC=function(){var r=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(n,i,s,a){var o=!1,c=!1;s.length==0?c=!0:s.charAt(0)=="["&&(c=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var h=s.length>0?parseInt(s,10)|0:0,u=a.length>0?parseInt(a,10)|0:0;return o?u+=e.c:--u,c?h+=e.r:--h,i+(o?"":"$")+Wi(u)+(c?"":"$")+ki(h)}return function(i,s){return e=s,i.replace(r,t)}}(),sg=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ag=function(){return function(e,t){return e.replace(sg,function(n,i,s,a,o,c){var h=Qm(a)-(s?0:t.c),u=Jm(c)-(o?0:t.r),p=u==0?"":o?u+1:"["+u+"]",g=h==0?"":s?h+1:"["+h+"]";return i+"R"+p+"C"+g})}}();function qC(r,e){return r.replace(sg,function(t,n,i,s,a,o){return n+(i=="$"?i+s:Wi(Qm(s)+e.c))+(a=="$"?a+o:ki(Jm(o)+e.r))})}function GC(r){return r.length!=1}function Xn(r){r.l+=1}function jl(r,e){var t=r.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function __(r,e,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return b_(r);t.biff==12&&(n=4)}var i=r.read_shift(n),s=r.read_shift(n),a=jl(r),o=jl(r);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function b_(r){var e=jl(r),t=jl(r),n=r.read_shift(1),i=r.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function $C(r,e,t){if(t.biff<8)return b_(r);var n=r.read_shift(t.biff==12?4:2),i=r.read_shift(t.biff==12?4:2),s=jl(r),a=jl(r);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function x_(r,e,t){if(t&&t.biff>=2&&t.biff<=5)return ZC(r);var n=r.read_shift(t&&t.biff==12?4:2),i=jl(r);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function ZC(r){var e=jl(r),t=r.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function YC(r){var e=r.read_shift(2),t=r.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function KC(r,e,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return XC(r);var i=r.read_shift(n>=12?4:2),s=r.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function XC(r){var e=r.read_shift(2),t=r.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:n}}function JC(r,e,t){var n=(r[r.l++]&96)>>5,i=__(r,t.biff>=2&&t.biff<=5?6:8,t);return[n,i]}function QC(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}var a=__(r,s,t);return[n,i,a]}function e4(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function t4(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=8;if(t)switch(t.biff){case 5:r.l+=12,s=6;break;case 12:s=12;break}return r.l+=s,[n,i]}function r4(r,e,t){var n=(r[r.l++]&96)>>5,i=$C(r,e-1,t);return[n,i]}function n4(r,e,t){var n=(r[r.l++]&96)>>5;return r.l+=t.biff==2?6:t.biff==12?14:7,[n]}function iv(r){var e=r[r.l+1]&1,t=1;return r.l+=4,[e,t]}function i4(r,e,t){r.l+=2;for(var n=r.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(r.read_shift(t&&t.biff==2?1:2));return i}function s4(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function a4(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=2,[n,r.read_shift(t&&t.biff==2?1:2)]}function o4(r){var e=r[r.l+1]&255?1:0;return r.l+=2,[e,r.read_shift(2)]}function l4(r,e,t){var n=r[r.l+1]&255?1:0;return r.l+=t&&t.biff==2?3:4,[n]}function S_(r){var e=r.read_shift(1),t=r.read_shift(1);return[e,t]}function c4(r){return r.read_shift(2),S_(r)}function h4(r){return r.read_shift(2),S_(r)}function u4(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=x_(r,0,t);return[n,i]}function f4(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=KC(r,0,t);return[n,i]}function d4(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(2);t&&t.biff==5&&(r.l+=12);var s=x_(r,0,t);return[n,i,s]}function p4(r,e,t){var n=(r[r.l]&96)>>5;r.l+=1;var i=r.read_shift(t&&t.biff<=3?1:2);return[p3[i],T_[i],n]}function m4(r,e,t){var n=r[r.l++],i=r.read_shift(1),s=t&&t.biff<=3?[n==88?-1:0,r.read_shift(1)]:g4(r);return[i,(s[0]===0?T_:d3)[s[1]]]}function g4(r){return[r[r.l+1]>>7,r.read_shift(2)&32767]}function v4(r,e,t){r.l+=t&&t.biff==2?3:4}function w4(r,e,t){if(r.l++,t&&t.biff==12)return[r.read_shift(4,"i"),0];var n=r.read_shift(2),i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function y4(r){return r.l++,Ju[r.read_shift(1)]}function _4(r){return r.l++,r.read_shift(2)}function b4(r){return r.l++,r.read_shift(1)!==0}function x4(r){return r.l++,qh(r)}function S4(r,e,t){return r.l++,s_(r,e-1,t)}function E4(r,e){var t=[r.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=dT(r,1)?"TRUE":"FALSE",e!=12&&(r.l+=7);break;case 37:case 16:t[1]=Ju[r[r.l]],r.l+=e==12?4:8;break;case 0:r.l+=8;break;case 1:t[1]=qh(r);break;case 2:t[1]=vT(r,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function A4(r,e,t){for(var n=r.read_shift(t.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((t.biff==12?Wc:_T)(r));return i}function T4(r,e,t){var n=0,i=0;t.biff==12?(n=r.read_shift(4),i=r.read_shift(4)):(i=1+r.read_shift(1),n=1+r.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=E4(r,t.biff);return a}function C4(r,e,t){var n=r.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=r.read_shift(i);switch(t.biff){case 2:r.l+=5;break;case 3:case 4:r.l+=8;break;case 5:r.l+=12;break}return[n,0,s]}function k4(r,e,t){if(t.biff==5)return D4(r);var n=r.read_shift(1)>>>5&3,i=r.read_shift(2),s=r.read_shift(4);return[n,i,s]}function D4(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2,"i");r.l+=8;var n=r.read_shift(2);return r.l+=12,[e,t,n]}function N4(r,e,t){var n=r.read_shift(1)>>>5&3;r.l+=t&&t.biff==2?3:4;var i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function I4(r,e,t){var n=r.read_shift(1)>>>5&3,i=r.read_shift(t&&t.biff==2?1:2);return[n,i]}function L4(r,e,t){var n=r.read_shift(1)>>>5&3;return r.l+=4,t.biff<8&&r.l--,t.biff==12&&(r.l+=2),[n]}function P4(r,e,t){var n=(r[r.l++]&96)>>5,i=r.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return r.l+=s,[n,i]}var R4=Eo,O4=Eo,F4=Eo;function Qu(r,e,t){return r.l+=2,[YC(r)]}function og(r){return r.l+=6,[]}var M4=Qu,B4=og,U4=og,z4=Qu;function E_(r){return r.l+=2,[n_(r),r.read_shift(2)&1]}var H4=Qu,j4=E_,W4=og,V4=Qu,q4=Qu,G4=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function $4(r){r.l+=2;var e=r.read_shift(2),t=r.read_shift(2),n=r.read_shift(4),i=r.read_shift(2),s=r.read_shift(2),a=G4[t>>2&31];return{ixti:e,coltype:t&3,rt:a,idx:n,c:i,C:s}}function Z4(r){return r.l+=2,[r.read_shift(4)]}function Y4(r,e,t){return r.l+=5,r.l+=2,r.l+=t.biff==2?1:4,["PTGSHEET"]}function K4(r,e,t){return r.l+=t.biff==2?4:5,["PTGENDSHEET"]}function X4(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function J4(r){var e=r.read_shift(1)>>>5&3,t=r.read_shift(2);return[e,t]}function Q4(r){return r.l+=4,[0,0]}var sv={1:{n:"PtgExp",f:w4},2:{n:"PtgTbl",f:F4},3:{n:"PtgAdd",f:Xn},4:{n:"PtgSub",f:Xn},5:{n:"PtgMul",f:Xn},6:{n:"PtgDiv",f:Xn},7:{n:"PtgPower",f:Xn},8:{n:"PtgConcat",f:Xn},9:{n:"PtgLt",f:Xn},10:{n:"PtgLe",f:Xn},11:{n:"PtgEq",f:Xn},12:{n:"PtgGe",f:Xn},13:{n:"PtgGt",f:Xn},14:{n:"PtgNe",f:Xn},15:{n:"PtgIsect",f:Xn},16:{n:"PtgUnion",f:Xn},17:{n:"PtgRange",f:Xn},18:{n:"PtgUplus",f:Xn},19:{n:"PtgUminus",f:Xn},20:{n:"PtgPercent",f:Xn},21:{n:"PtgParen",f:Xn},22:{n:"PtgMissArg",f:Xn},23:{n:"PtgStr",f:S4},26:{n:"PtgSheet",f:Y4},27:{n:"PtgEndSheet",f:K4},28:{n:"PtgErr",f:y4},29:{n:"PtgBool",f:b4},30:{n:"PtgInt",f:_4},31:{n:"PtgNum",f:x4},32:{n:"PtgArray",f:n4},33:{n:"PtgFunc",f:p4},34:{n:"PtgFuncVar",f:m4},35:{n:"PtgName",f:C4},36:{n:"PtgRef",f:u4},37:{n:"PtgArea",f:JC},38:{n:"PtgMemArea",f:N4},39:{n:"PtgMemErr",f:R4},40:{n:"PtgMemNoMem",f:O4},41:{n:"PtgMemFunc",f:I4},42:{n:"PtgRefErr",f:L4},43:{n:"PtgAreaErr",f:e4},44:{n:"PtgRefN",f:f4},45:{n:"PtgAreaN",f:r4},46:{n:"PtgMemAreaN",f:X4},47:{n:"PtgMemNoMemN",f:J4},57:{n:"PtgNameX",f:k4},58:{n:"PtgRef3d",f:d4},59:{n:"PtgArea3d",f:QC},60:{n:"PtgRefErr3d",f:P4},61:{n:"PtgAreaErr3d",f:t4},255:{}},e3={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},t3={1:{n:"PtgElfLel",f:E_},2:{n:"PtgElfRw",f:V4},3:{n:"PtgElfCol",f:M4},6:{n:"PtgElfRwV",f:q4},7:{n:"PtgElfColV",f:z4},10:{n:"PtgElfRadical",f:H4},11:{n:"PtgElfRadicalS",f:W4},13:{n:"PtgElfColS",f:B4},15:{n:"PtgElfColSV",f:U4},16:{n:"PtgElfRadicalLel",f:j4},25:{n:"PtgList",f:$4},29:{n:"PtgSxName",f:Z4},255:{}},r3={0:{n:"PtgAttrNoop",f:Q4},1:{n:"PtgAttrSemi",f:l4},2:{n:"PtgAttrIf",f:a4},4:{n:"PtgAttrChoose",f:i4},8:{n:"PtgAttrGoto",f:s4},16:{n:"PtgAttrSum",f:v4},32:{n:"PtgAttrBaxcel",f:iv},33:{n:"PtgAttrBaxcel",f:iv},64:{n:"PtgAttrSpace",f:c4},65:{n:"PtgAttrSpaceSemi",f:h4},128:{n:"PtgAttrIfError",f:o4},255:{}};function n3(r,e,t,n){if(n.biff<8)return Eo(r,e);for(var i=r.l+e,s=[],a=0;a!==t.length;++a)switch(t[a][0]){case"PtgArray":t[a][1]=T4(r,0,n),s.push(t[a][1]);break;case"PtgMemArea":t[a][2]=A4(r,t[a][1],n),s.push(t[a][2]);break;case"PtgExp":n&&n.biff==12&&(t[a][1][1]=r.read_shift(4),s.push(t[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[a][0]}return e=i-r.l,e!==0&&s.push(Eo(r,e)),s}function i3(r,e,t){for(var n=r.l+e,i,s,a=[];n!=r.l;)e=n-r.l,s=r[r.l],i=sv[s]||sv[e3[s]],(s===24||s===25)&&(i=(s===24?t3:r3)[r[r.l+1]]),!i||!i.f?Eo(r,e):a.push([i.n,i.f(r,e,t)]);return a}function s3(r){for(var e=[],t=0;t<r.length;++t){for(var n=r[t],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var a3={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function o3(r,e){if(!r&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(r)?"'"+r+"'":r}function A_(r,e,t){if(!r)return"SH33TJSERR0";if(t.biff>8&&(!r.XTI||!r.XTI[e]))return r.SheetNames[e];if(!r.XTI)return"SH33TJSERR6";var n=r.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":r.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(t.biff>8)switch(r[n[0]][0]){case 357:return i=n[1]==-1?"#REF":r.SheetNames[n[1]],n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 358:return t.SID!=null?r.SheetNames[t.SID]:"SH33TJSSAME"+r[n[0]][0];case 355:default:return"SH33TJSSRC"+r[n[0]][0]}switch(r[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":r.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+r.SheetNames[n[2]];case 14849:return r[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return r[n[0]][0][3]?(i=n[1]==-1?"#REF":r[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+r[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function av(r,e,t){var n=A_(r,e,t);return n=="#REF"?n:o3(n,t)}function Fh(r,e,t,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],c,h,u,p=0,g=0,d,_="";if(!r[0]||!r[0][0])return"";for(var y=-1,b="",E=0,D=r[0].length;E<D;++E){var N=r[0][E];switch(N[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),h=o.pop(),y>=0){switch(r[0][y][1][0]){case 0:b=Fn(" ",r[0][y][1][1]);break;case 1:b=Fn("\r",r[0][y][1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][y][1][0])}h=h+b,y=-1}o.push(h+a3[N[0]]+c);break;case"PtgIsect":c=o.pop(),h=o.pop(),o.push(h+" "+c);break;case"PtgUnion":c=o.pop(),h=o.pop(),o.push(h+","+c);break;case"PtgRange":c=o.pop(),h=o.pop(),o.push(h+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=_u(N[1][1],a,i),o.push(bu(u,s));break;case"PtgRefN":u=t?_u(N[1][1],t,i):N[1][1],o.push(bu(u,s));break;case"PtgRef3d":p=N[1][1],u=_u(N[1][2],a,i),_=av(n,p,i),o.push(_+"!"+bu(u,s));break;case"PtgFunc":case"PtgFuncVar":var I=N[1][0],X=N[1][1];I||(I=0),I&=127;var he=I==0?[]:o.slice(-I);o.length-=I,X==="User"&&(X=he.shift()),o.push(X+"("+he.join(",")+")");break;case"PtgBool":o.push(N[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(N[1]);break;case"PtgNum":o.push(String(N[1]));break;case"PtgStr":o.push('"'+N[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(N[1]);break;case"PtgAreaN":d=V1(N[1][1],t?{s:t}:a,i),o.push(jp(d,i));break;case"PtgArea":d=V1(N[1][1],a,i),o.push(jp(d,i));break;case"PtgArea3d":p=N[1][1],d=N[1][2],_=av(n,p,i),o.push(_+"!"+jp(d,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=N[1][2];var G=(n.names||[])[g-1]||(n[0]||[])[g],q=G?G.Name:"SH33TJSNAME"+String(g);q&&q.slice(0,6)=="_xlfn."&&!i.xlfn&&(q=q.slice(6)),o.push(q);break;case"PtgNameX":var O=N[1][1];g=N[1][2];var ee;if(i.biff<=5)O<0&&(O=-O),n[O]&&(ee=n[O][g]);else{var P="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][g]&&n[O][g].itab>0&&(P=n.SheetNames[n[O][g].itab-1]+"!"):P=n.SheetNames[g-1]+"!"),n[O]&&n[O][g])P+=n[O][g].Name;else if(n[0]&&n[0][g])P+=n[0][g].Name;else{var z=(A_(n,O,i)||"").split(";;");z[g-1]?P=z[g-1]:P+="SH33TJSERRX"}o.push(P);break}ee||(ee={Name:"SH33TJSERRY"}),o.push(ee.Name);break;case"PtgParen":var te="(",ce=")";if(y>=0){switch(b="",r[0][y][1][0]){case 2:te=Fn(" ",r[0][y][1][1])+te;break;case 3:te=Fn("\r",r[0][y][1][1])+te;break;case 4:ce=Fn(" ",r[0][y][1][1])+ce;break;case 5:ce=Fn("\r",r[0][y][1][1])+ce;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+r[0][y][1][0])}y=-1}o.push(te+o.pop()+ce);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:N[1][1],r:N[1][0]};var be={c:t.c,r:t.r};if(n.sharedf[Xr(u)]){var Ce=n.sharedf[Xr(u)];o.push(Fh(Ce,a,be,n,i))}else{var Pe=!1;for(c=0;c!=n.arrayf.length;++c)if(h=n.arrayf[c],!(u.c<h[0].s.c||u.c>h[0].e.c)&&!(u.r<h[0].s.r||u.r>h[0].e.r)){o.push(Fh(h[1],a,be,n,i)),Pe=!0;break}Pe||o.push(N[1])}break;case"PtgArray":o.push("{"+s3(N[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+N[1].idx+"[#"+N[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(N));default:throw new Error("Unrecognized Formula Token: "+String(N))}var me=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&y>=0&&me.indexOf(r[0][E][0])==-1){N=r[0][y];var Fe=!0;switch(N[1][0]){case 4:Fe=!1;case 0:b=Fn(" ",N[1][1]);break;case 5:Fe=!1;case 1:b=Fn("\r",N[1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+N[1][0])}o.push((Fe?b:"")+o.pop()+(Fe?"":b)),y=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function l3(r){if(r==null){var e=Ve(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof r=="number")return Cc(r);return Cc(0)}function c3(r,e,t,n,i){var s=kc(e,t,i),a=l3(r.v),o=Ve(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var h=Ve(r.bf.length),u=0;u<r.bf.length;++u)h[u]=r.bf[u];var p=Ti([s,a,o,h]);return p}function np(r,e,t){var n=r.read_shift(4),i=i3(r,n,t),s=r.read_shift(4),a=s>0?n3(r,s,i,t):null;return[i,a]}var h3=np,ip=np,u3=np,f3=np,d3={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},T_={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},p3={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function m3(r){var e="of:="+r.replace(sg,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function g3(r){return r.replace(/\./,"!")}var xu=typeof Map<"u";function lg(r,e,t){var n=0,i=r.length;if(t){if(xu?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=xu?t.get(e):t[e];n<s.length;++n)if(r[s[n]].t===e)return r.Count++,s[n]}}else for(;n<i;++n)if(r[n].t===e)return r.Count++,n;return r[i]={t:e},r.Count++,r.Unique++,t&&(xu?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function sp(r,e){var t={min:r+1,max:r+1},n=-1;return e.MDW&&(Xo=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?n=_d(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(t.width=em(n),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function C_(r,e){if(r){var t=[.7,.7,.75,.75,.3,.3];r.left==null&&(r.left=t[0]),r.right==null&&(r.right=t[1]),r.top==null&&(r.top=t[2]),r.bottom==null&&(r.bottom=t[3]),r.header==null&&(r.header=t[4]),r.footer==null&&(r.footer=t[5])}}function Zl(r,e,t){var n=t.revssf[e.z!=null?e.z:"General"],i=60,s=r.length;if(n==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){x2(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(r[i].numFmtId===n)return i;return r[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function v3(r,e,t){if(r&&r["!ref"]){var n=gn(r["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+r["!ref"])}}function w3(r){if(r.length===0)return"";for(var e='<mergeCells count="'+r.length+'">',t=0;t!=r.length;++t)e+='<mergeCell ref="'+Jn(r[t])+'"/>';return e+"</mergeCells>"}function y3(r,e,t,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var c=e.SheetNames[t];try{e.Workbook&&(c=e.Workbook.Sheets[t].CodeName||c)}catch(u){}s=!0,a.codeName=Ou(Kr(c))}if(r&&r["!outline"]){var h={summaryBelow:1,summaryRight:1};r["!outline"].above&&(h.summaryBelow=0),r["!outline"].left&&(h.summaryRight=0),o=(o||"")+pt("outlinePr",null,h)}!s&&!o||(i[i.length]=pt("sheetPr",o,a))}var _3=["objects","scenarios","selectLockedCells","selectUnlockedCells"],b3=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function x3(r){var e={sheet:1};return _3.forEach(function(t){r[t]!=null&&r[t]&&(e[t]="1")}),b3.forEach(function(t){r[t]!=null&&!r[t]&&(e[t]="0")}),r.password&&(e.password=h_(r.password).toString(16).toUpperCase()),pt("sheetProtection",null,e)}function S3(r){return C_(r),pt("pageMargins",null,r)}function E3(r,e){for(var t=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(t[t.length]=pt("col",null,sp(i,n)));return t[t.length]="</cols>",t.join("")}function A3(r,e,t,n){var i=typeof r.ref=="string"?r.ref:Jn(r.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,a=ea(i);a.s.r==a.e.r&&(a.e.r=ea(e["!ref"]).e.r,i=Jn(a));for(var o=0;o<s.length;++o){var c=s[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+t.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+i}),pt("autoFilter",null,{ref:i})}function T3(r,e,t,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),pt("sheetViews",pt("sheetView",null,i),{})}function C3(r,e,t,n){if(r.c&&t["!comments"].push([e,r.c]),r.v===void 0&&typeof r.f!="string"||r.t==="z"&&!r.f)return"";var i="",s=r.t,a=r.v;if(r.t!=="z")switch(r.t){case"b":i=r.v?"1":"0";break;case"n":i=""+r.v;break;case"e":i=Ju[r.v];break;case"d":n&&n.cellDates?i=rs(r.v,-1).toISOString():(r=Ts(r),r.t="n",i=""+(r.v=As(rs(r.v)))),typeof r.z>"u"&&(r.z=Mn[14]);break;default:i=r.v;break}var o=Ci("v",Kr(i)),c={r:e},h=Zl(n.cellXfs,r,n);switch(h!==0&&(c.s=h),r.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(r.v==null){delete r.t;break}if(r.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Ci("v",""+lg(n.Strings,r.v,n.revStrings)),c.t="s";break}c.t="str";break}if(r.t!=s&&(r.t=s,r.v=a),typeof r.f=="string"&&r.f){var u=r.F&&r.F.slice(0,e.length)==e?{t:"array",ref:r.F}:null;o=pt("f",Kr(r.f),u)+(r.v!=null?o:"")}return r.l&&t["!links"].push([e,r.l]),r.D&&(c.cm=1),pt("c",o,c)}function k3(r,e,t,n){var i=[],s=[],a=gn(r["!ref"]),o="",c,h="",u=[],p=0,g=0,d=r["!rows"],_=Array.isArray(r),y={r:h},b,E=-1;for(g=a.s.c;g<=a.e.c;++g)u[g]=Wi(g);for(p=a.s.r;p<=a.e.r;++p){for(s=[],h=ki(p),g=a.s.c;g<=a.e.c;++g){c=u[g]+h;var D=_?(r[p]||[])[g]:r[c];D!==void 0&&(o=C3(D,c,r,e))!=null&&s.push(o)}(s.length>0||d&&d[p])&&(y={r:h},d&&d[p]&&(b=d[p],b.hidden&&(y.hidden=1),E=-1,b.hpx?E=bd(b.hpx):b.hpt&&(E=b.hpt),E>-1&&(y.ht=E,y.customHeight=1),b.level&&(y.outlineLevel=b.level)),i[i.length]=pt("row",s.join(""),y))}if(d)for(;p<d.length;++p)d&&d[p]&&(y={r:p+1},b=d[p],b.hidden&&(y.hidden=1),E=-1,b.hpx?E=bd(b.hpx):b.hpt&&(E=b.hpt),E>-1&&(y.ht=E,y.customHeight=1),b.level&&(y.outlineLevel=b.level),i[i.length]=pt("row","",y));return i.join("")}function k_(r,e,t,n){var i=[Qn,pt("worksheet",null,{xmlns:jh[0],"xmlns:r":hi.r})],s=t.SheetNames[r],a=0,o="",c=t.Sheets[s];c==null&&(c={});var h=c["!ref"]||"A1",u=gn(h);if(u.e.c>16383||u.e.r>1048575){if(e.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),h=Jn(u)}n||(n={}),c["!comments"]=[];var p=[];y3(c,t,r,e,i),i[i.length]=pt("dimension",null,{ref:h}),i[i.length]=T3(c,e,r,t),e.sheetFormat&&(i[i.length]=pt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=E3(c,c["!cols"])),i[a=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=k3(c,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),c["!protect"]&&(i[i.length]=x3(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=A3(c["!autofilter"],c,t,r)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=w3(c["!merges"]));var g=-1,d,_=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(y){y[1].Target&&(d={ref:y[0]},y[1].Target.charAt(0)!="#"&&(_=Zr(n,-1,Kr(y[1].Target).replace(/#.*$/,""),Ir.HLINK),d["r:id"]="rId"+_),(g=y[1].Target.indexOf("#"))>-1&&(d.location=Kr(y[1].Target.slice(g+1))),y[1].Tooltip&&(d.tooltip=Kr(y[1].Tooltip)),i[i.length]=pt("hyperlink",null,d))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=S3(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Ci("ignoredErrors",pt("ignoredError",null,{numberStoredAsText:1,sqref:h}))),p.length>0&&(_=Zr(n,-1,"../drawings/drawing"+(r+1)+".xml",Ir.DRAW),i[i.length]=pt("drawing",null,{"r:id":"rId"+_}),c["!drawing"]=p),c["!comments"].length>0&&(_=Zr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ir.VML),i[i.length]=pt("legacyDrawing",null,{"r:id":"rId"+_}),c["!legacy"]=_),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function D3(r,e){var t={},n=r.l+e;t.r=r.read_shift(4),r.l+=4;var i=r.read_shift(2);r.l+=1;var s=r.read_shift(1);return r.l=n,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function N3(r,e,t){var n=Ve(145),i=(t["!rows"]||[])[r]||{};n.write_shift(4,r),n.write_shift(4,0);var s=320;i.hpx?s=bd(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var h={r,c:0},u=0;u<16;++u)if(!(e.s.c>u+1<<10||e.e.c<u<<10)){for(var p=-1,g=-1,d=u<<10;d<u+1<<10;++d){h.c=d;var _=Array.isArray(t)?(t[h.r]||[])[h.c]:t[Xr(h)];_&&(p<0&&(p=d),g=d)}p<0||(++o,n.write_shift(4,p),n.write_shift(4,g))}var y=n.l;return n.l=c,n.write_shift(4,o),n.l=y,n.length>n.l?n.slice(0,n.l):n}function I3(r,e,t,n){var i=N3(n,t,e);(i.length>17||(e["!rows"]||[])[n])&&nt(r,0,i)}var L3=Wc,P3=Vh;function R3(){}function O3(r,e){var t={},n=r[r.l];return++r.l,t.above=!(n&64),t.left=!(n&128),r.l+=18,t.name=qA(r),t}function F3(r,e,t){t==null&&(t=Ve(84+4*r.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),t.write_shift(1,n);for(var i=1;i<3;++i)t.write_shift(1,0);return vd({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),W2(r,t),t.slice(0,t.l)}function M3(r){var e=xa(r);return[e]}function B3(r,e,t){return t==null&&(t=Ve(8)),zc(e,t)}function U3(r){var e=Hc(r);return[e]}function z3(r,e,t){return t==null&&(t=Ve(4)),jc(e,t)}function H3(r){var e=xa(r),t=r.read_shift(1);return[e,t,"b"]}function j3(r,e,t){return t==null&&(t=Ve(9)),zc(e,t),t.write_shift(1,r.v?1:0),t}function W3(r){var e=Hc(r),t=r.read_shift(1);return[e,t,"b"]}function V3(r,e,t){return t==null&&(t=Ve(5)),jc(e,t),t.write_shift(1,r.v?1:0),t}function q3(r){var e=xa(r),t=r.read_shift(1);return[e,t,"e"]}function G3(r,e,t){return t==null&&(t=Ve(9)),zc(e,t),t.write_shift(1,r.v),t}function $3(r){var e=Hc(r),t=r.read_shift(1);return[e,t,"e"]}function Z3(r,e,t){return t==null&&(t=Ve(8)),jc(e,t),t.write_shift(1,r.v),t.write_shift(2,0),t.write_shift(1,0),t}function Y3(r){var e=xa(r),t=r.read_shift(4);return[e,t,"s"]}function K3(r,e,t){return t==null&&(t=Ve(12)),zc(e,t),t.write_shift(4,e.v),t}function X3(r){var e=Hc(r),t=r.read_shift(4);return[e,t,"s"]}function J3(r,e,t){return t==null&&(t=Ve(8)),jc(e,t),t.write_shift(4,e.v),t}function Q3(r){var e=xa(r),t=qh(r);return[e,t,"n"]}function ek(r,e,t){return t==null&&(t=Ve(16)),zc(e,t),Cc(r.v,t),t}function tk(r){var e=Hc(r),t=qh(r);return[e,t,"n"]}function rk(r,e,t){return t==null&&(t=Ve(12)),jc(e,t),Cc(r.v,t),t}function nk(r){var e=xa(r),t=V2(r);return[e,t,"n"]}function ik(r,e,t){return t==null&&(t=Ve(12)),zc(e,t),q2(r.v,t),t}function sk(r){var e=Hc(r),t=V2(r);return[e,t,"n"]}function ak(r,e,t){return t==null&&(t=Ve(8)),jc(e,t),q2(r.v,t),t}function ok(r){var e=xa(r),t=eg(r);return[e,t,"is"]}function lk(r){var e=xa(r),t=Vi(r);return[e,t,"str"]}function ck(r,e,t){return t==null&&(t=Ve(12+4*r.v.length)),zc(e,t),di(r.v,t),t.length>t.l?t.slice(0,t.l):t}function hk(r){var e=Hc(r),t=Vi(r);return[e,t,"str"]}function uk(r,e,t){return t==null&&(t=Ve(8+4*r.v.length)),jc(e,t),di(r.v,t),t.length>t.l?t.slice(0,t.l):t}function fk(r,e,t){var n=r.l+e,i=xa(r);i.r=t["!row"];var s=r.read_shift(1),a=[i,s,"b"];if(t.cellFormula){r.l+=2;var o=ip(r,n-r.l,t);a[3]=Fh(o,null,i,t.supbooks,t)}else r.l=n;return a}function dk(r,e,t){var n=r.l+e,i=xa(r);i.r=t["!row"];var s=r.read_shift(1),a=[i,s,"e"];if(t.cellFormula){r.l+=2;var o=ip(r,n-r.l,t);a[3]=Fh(o,null,i,t.supbooks,t)}else r.l=n;return a}function pk(r,e,t){var n=r.l+e,i=xa(r);i.r=t["!row"];var s=qh(r),a=[i,s,"n"];if(t.cellFormula){r.l+=2;var o=ip(r,n-r.l,t);a[3]=Fh(o,null,i,t.supbooks,t)}else r.l=n;return a}function mk(r,e,t){var n=r.l+e,i=xa(r);i.r=t["!row"];var s=Vi(r),a=[i,s,"str"];if(t.cellFormula){r.l+=2;var o=ip(r,n-r.l,t);a[3]=Fh(o,null,i,t.supbooks,t)}else r.l=n;return a}var gk=Wc,vk=Vh;function wk(r,e){return e==null&&(e=Ve(4)),e.write_shift(4,r),e}function yk(r,e){var t=r.l+e,n=Wc(r),i=tg(r),s=Vi(r),a=Vi(r),o=Vi(r);r.l=t;var c={rfx:n,relId:i,loc:s,display:o};return a&&(c.Tooltip=a),c}function _k(r,e){var t=Ve(50+4*(r[1].Target.length+(r[1].Tooltip||"").length));Vh({s:fi(r[0]),e:fi(r[0])},t),rg("rId"+e,t);var n=r[1].Target.indexOf("#"),i=n==-1?"":r[1].Target.slice(n+1);return di(i||"",t),di(r[1].Tooltip||"",t),di("",t),t.slice(0,t.l)}function bk(){}function xk(r,e,t){var n=r.l+e,i=G2(r),s=r.read_shift(1),a=[i];if(a[2]=s,t.cellFormula){var o=h3(r,n-r.l,t);a[1]=o}else r.l=n;return a}function Sk(r,e,t){var n=r.l+e,i=Wc(r),s=[i];if(t.cellFormula){var a=f3(r,n-r.l,t);s[1]=a,r.l=n}else r.l=n;return s}function Ek(r,e,t){t==null&&(t=Ve(18));var n=sp(r,e);t.write_shift(-4,r),t.write_shift(-4,r),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var D_=["left","right","top","bottom","header","footer"];function Ak(r){var e={};return D_.forEach(function(t){e[t]=qh(r)}),e}function Tk(r,e){return e==null&&(e=Ve(6*8)),C_(r),D_.forEach(function(t){Cc(r[t],e)}),e}function Ck(r){var e=r.read_shift(2);return r.l+=28,{RTL:e&32}}function kk(r,e,t){t==null&&(t=Ve(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function Dk(r){var e=Ve(24);return e.write_shift(4,4),e.write_shift(4,1),Vh(r,e),e}function Nk(r,e){return e==null&&(e=Ve(16*4+2)),e.write_shift(2,r.password?h_(r.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,r[t[0]]!=null&&!r[t[0]]?1:0):e.write_shift(4,r[t[0]]!=null&&r[t[0]]?0:1)}),e}function Ik(){}function Lk(){}function Pk(r,e,t,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Ts(e),e.z=e.z||Mn[14],e.v=As(rs(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var c={r:t,c:n};switch(c.s=Zl(i.cellXfs,e,i),e.l&&s["!links"].push([Xr(c),e.l]),e.c&&s["!comments"].push([Xr(c),e.c]),e.t){case"s":case"str":return i.bookSST?(o=lg(i.Strings,e.v,i.revStrings),c.t="s",c.v=o,a?nt(r,18,J3(e,c)):nt(r,7,K3(e,c))):(c.t="str",a?nt(r,17,uk(e,c)):nt(r,6,ck(e,c))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?nt(r,13,ak(e,c)):nt(r,2,ik(e,c)):a?nt(r,16,rk(e,c)):nt(r,5,ek(e,c)),!0;case"b":return c.t="b",a?nt(r,15,V3(e,c)):nt(r,4,j3(e,c)),!0;case"e":return c.t="e",a?nt(r,14,Z3(e,c)):nt(r,3,G3(e,c)),!0}return a?nt(r,12,z3(e,c)):nt(r,1,B3(e,c)),!0}function Rk(r,e,t,n){var i=gn(e["!ref"]||"A1"),s,a="",o=[];nt(r,145);var c=Array.isArray(e),h=i.e.r;e["!rows"]&&(h=Math.max(i.e.r,e["!rows"].length-1));for(var u=i.s.r;u<=h;++u){a=ki(u),I3(r,e,i,u);var p=!1;if(u<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){u===i.s.r&&(o[g]=Wi(g)),s=o[g]+a;var d=c?(e[u]||[])[g]:e[s];if(!d){p=!1;continue}p=Pk(r,d,u,g,n,e,p)}}nt(r,146)}function Ok(r,e){!e||!e["!merges"]||(nt(r,177,wk(e["!merges"].length)),e["!merges"].forEach(function(t){nt(r,176,vk(t))}),nt(r,178))}function Fk(r,e){!e||!e["!cols"]||(nt(r,390),e["!cols"].forEach(function(t,n){t&&nt(r,60,Ek(n,t))}),nt(r,391))}function Mk(r,e){!e||!e["!ref"]||(nt(r,648),nt(r,649,Dk(gn(e["!ref"]))),nt(r,650))}function Bk(r,e,t){e["!links"].forEach(function(n){if(n[1].Target){var i=Zr(t,-1,n[1].Target.replace(/#.*$/,""),Ir.HLINK);nt(r,494,_k(n,i))}}),delete e["!links"]}function Uk(r,e,t,n){if(e["!comments"].length>0){var i=Zr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Ir.VML);nt(r,551,rg("rId"+i)),e["!legacy"]=i}}function zk(r,e,t,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Jn(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var a=t.Workbook.Names,o=ea(s);o.s.r==o.e.r&&(o.e.r=ea(e["!ref"]).e.r,s=Jn(o));for(var c=0;c<a.length;++c){var h=a[c];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+t.SheetNames[n]+"'!"+s;break}}c==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+s}),nt(r,161,Vh(gn(s))),nt(r,162)}}function Hk(r,e,t){nt(r,133),nt(r,137,kk(e,t)),nt(r,138),nt(r,134)}function jk(r,e){e["!protect"]&&nt(r,535,Nk(e["!protect"]))}function Wk(r,e,t,n){var i=xs(),s=t.SheetNames[r],a=t.Sheets[s]||{},o=s;try{t&&t.Workbook&&(o=t.Workbook.Sheets[r].CodeName||o)}catch(h){}var c=gn(a["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],nt(i,129),(t.vbaraw||a["!outline"])&&nt(i,147,F3(o,a["!outline"])),nt(i,148,P3(c)),Hk(i,a,t.Workbook),Fk(i,a),Rk(i,a,r,e),jk(i,a),zk(i,a,t,r),Ok(i,a),Bk(i,a,n),a["!margins"]&&nt(i,476,Tk(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&Mk(i,a),Uk(i,a,r,n),nt(i,130),i.end()}function Vk(r,e){r.l+=10;var t=Vi(r);return{name:t}}var qk=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function Gk(r){return!r.Workbook||!r.Workbook.WBProps?"false":SA(r.Workbook.WBProps.date1904)?"true":"false"}var $k="][*?/\\".split("");function N_(r,e){if(r.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return $k.forEach(function(n){if(r.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function Zk(r,e,t){r.forEach(function(n,i){N_(n);for(var s=0;s<i;++s)if(n==r[s])throw new Error("Duplicate Sheet Name: "+n);if(t){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function Yk(r){if(!r||!r.SheetNames||!r.Sheets)throw new Error("Invalid Workbook");if(!r.SheetNames.length)throw new Error("Workbook is empty");var e=r.Workbook&&r.Workbook.Sheets||[];Zk(r.SheetNames,e,!!r.vbaraw);for(var t=0;t<r.SheetNames.length;++t)v3(r.Sheets[r.SheetNames[t]],r.SheetNames[t],t)}function I_(r){var e=[Qn];e[e.length]=pt("workbook",null,{xmlns:jh[0],"xmlns:r":hi.r});var t=r.Workbook&&(r.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};r.Workbook&&r.Workbook.WBProps&&(qk.forEach(function(o){r.Workbook.WBProps[o[0]]!=null&&r.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=r.Workbook.WBProps[o[0]])}),r.Workbook.WBProps.CodeName&&(n.codeName=r.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=pt("workbookPr",null,n);var i=r.Workbook&&r.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=r.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==r.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=r.SheetNames.length;++s){var a={name:Kr(r.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=pt("sheet",null,a)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",r.Workbook&&r.Workbook.Names&&r.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(e[e.length]=pt("definedName",Kr(o.Ref),c))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function Kk(r,e){var t={};return t.Hidden=r.read_shift(4),t.iTabID=r.read_shift(4),t.strRelID=Q0(r),t.name=Vi(r),t}function Xk(r,e){return e||(e=Ve(127)),e.write_shift(4,r.Hidden),e.write_shift(4,r.iTabID),rg(r.strRelID,e),di(r.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function Jk(r,e){var t={},n=r.read_shift(4);t.defaultThemeVersion=r.read_shift(4);var i=e>8?Vi(r):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function Qk(r,e){e||(e=Ve(72));var t=0;return r&&r.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),W2(r&&r.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function eD(r,e,t){var n=r.l+e;r.l+=4,r.l+=1;var i=r.read_shift(4),s=GA(r),a=u3(r,0,t),o=tg(r);r.l=n;var c={Name:s,Ptg:a};return i<268435455&&(c.Sheet=i),o&&(c.Comment=o),c}function tD(r,e){nt(r,143);for(var t=0;t!=e.SheetNames.length;++t){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};nt(r,156,Xk(i))}nt(r,144)}function rD(r,e){e||(e=Ve(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return di("SheetJS",e),di(cd.version,e),di(cd.version,e),di("7262",e),e.length>e.l?e.slice(0,e.l):e}function nD(r,e){e||(e=Ve(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,r),e.write_shift(4,r);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function iD(r,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,n=0,i=-1,s=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&i==-1?i=n:t[n].Hidden==1&&s==-1&&(s=n);s>i||(nt(r,135),nt(r,158,nD(i)),nt(r,136))}}function sD(r,e){var t=xs();return nt(t,131),nt(t,128,rD()),nt(t,153,Qk(r.Workbook&&r.Workbook.WBProps||null)),iD(t,r),tD(t,r),nt(t,132),t.end()}function aD(r,e,t){return(e.slice(-4)===".bin"?sD:I_)(r)}function oD(r,e,t,n,i){return(e.slice(-4)===".bin"?Wk:k_)(r,t,n,i)}function lD(r,e,t){return(e.slice(-4)===".bin"?TC:d_)(r,t)}function cD(r,e,t){return(e.slice(-4)===".bin"?QT:c_)(r,t)}function hD(r,e,t){return(e.slice(-4)===".bin"?jC:w_)(r)}function uD(r){return(r.slice(-4)===".bin"?RC:g_)()}function fD(r,e){var t=[];return r.Props&&t.push(lT(r.Props,e)),r.Custprops&&t.push(cT(r.Props,r.Custprops)),t.join("")}function dD(){return""}function pD(r,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(pt("NumberFormat",null,{"ss:Format":Kr(Mn[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};t.push(pt("Style",s.join(""),a))}),pt("Styles",t.join(""))}function L_(r){return pt("NamedRange",null,{"ss:Name":r.Name,"ss:RefersTo":"="+ag(r.Ref,{r:0,c:0})})}function mD(r){if(!((r||{}).Workbook||{}).Names)return"";for(var e=r.Workbook.Names,t=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(L_(i)))}return pt("Names",t.join(""))}function gD(r,e,t,n){if(!r||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==t&&(o.Name.match(/^_xlfn\./)||s.push(L_(o)))}return s.join("")}function vD(r,e,t,n){if(!r)return"";var i=[];if(r["!margins"]&&(i.push("<PageSetup>"),r["!margins"].header&&i.push(pt("Header",null,{"x:Margin":r["!margins"].header})),r["!margins"].footer&&i.push(pt("Footer",null,{"x:Margin":r["!margins"].footer})),i.push(pt("PageMargins",null,{"x:Bottom":r["!margins"].bottom||"0.75","x:Left":r["!margins"].left||"0.7","x:Right":r["!margins"].right||"0.7","x:Top":r["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)i.push(pt("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),r["!protect"]&&(i.push(Ci("ProtectContents","True")),r["!protect"].objects&&i.push(Ci("ProtectObjects","True")),r["!protect"].scenarios&&i.push(Ci("ProtectScenarios","True")),r["!protect"].selectLockedCells!=null&&!r["!protect"].selectLockedCells?i.push(Ci("EnableSelection","NoSelection")):r["!protect"].selectUnlockedCells!=null&&!r["!protect"].selectUnlockedCells&&i.push(Ci("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){r["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":pt("WorksheetOptions",i.join(""),{xmlns:Ys.x})}function wD(r){return r.map(function(e){var t=xA(e.t||""),n=pt("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return pt("Comment",n,{"ss:Author":e.a})}).join("")}function yD(r,e,t,n,i,s,a){if(!r||r.v==null&&r.f==null)return"";var o={};if(r.f&&(o["ss:Formula"]="="+Kr(ag(r.f,a))),r.F&&r.F.slice(0,e.length)==e){var c=fi(r.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==a.r?"":"["+(c.r-a.r)+"]")+"C"+(c.c==a.c?"":"["+(c.c-a.c)+"]")}if(r.l&&r.l.Target&&(o["ss:HRef"]=Kr(r.l.Target),r.l.Tooltip&&(o["x:HRefScreenTip"]=Kr(r.l.Tooltip))),t["!merges"])for(var h=t["!merges"],u=0;u!=h.length;++u)h[u].s.c!=a.c||h[u].s.r!=a.r||(h[u].e.c>h[u].s.c&&(o["ss:MergeAcross"]=h[u].e.c-h[u].s.c),h[u].e.r>h[u].s.r&&(o["ss:MergeDown"]=h[u].e.r-h[u].s.r));var p="",g="";switch(r.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(r.v);break;case"b":p="Boolean",g=r.v?"1":"0";break;case"e":p="Error",g=Ju[r.v];break;case"d":p="DateTime",g=new Date(r.v).toISOString(),r.z==null&&(r.z=r.z||Mn[14]);break;case"s":p="String",g=bA(r.v||"");break}var d=Zl(n.cellXfs,r,n);o["ss:StyleID"]="s"+(21+d),o["ss:Index"]=a.c+1;var _=r.v!=null?g:"",y=r.t=="z"?"":'<Data ss:Type="'+p+'">'+_+"</Data>";return(r.c||[]).length>0&&(y+=wD(r.c)),pt("Cell",y,o)}function _D(r,e){var t='<Row ss:Index="'+(r+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=f_(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function bD(r,e,t,n){if(!r["!ref"])return"";var i=gn(r["!ref"]),s=r["!merges"]||[],a=0,o=[];r["!cols"]&&r["!cols"].forEach(function(b,E){ig(b);var D=!!b.width,N=sp(E,b),I={"ss:Index":E+1};D&&(I["ss:Width"]=yd(N.width)),b.hidden&&(I["ss:Hidden"]="1"),o.push(pt("Column",null,I))});for(var c=Array.isArray(r),h=i.s.r;h<=i.e.r;++h){for(var u=[_D(h,(r["!rows"]||[])[h])],p=i.s.c;p<=i.e.c;++p){var g=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>p)&&!(s[a].s.r>h)&&!(s[a].e.c<p)&&!(s[a].e.r<h)){(s[a].s.c!=p||s[a].s.r!=h)&&(g=!0);break}if(!g){var d={r:h,c:p},_=Xr(d),y=c?(r[h]||[])[p]:r[_];u.push(yD(y,_,r,e,t,n,d))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function xD(r,e,t){var n=[],i=t.SheetNames[r],s=t.Sheets[i],a=s?gD(s,e,r,t):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?bD(s,e,r,t):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(vD(s,e,r,t)),n.join("")}function SD(r,e){e||(e={}),r.SSF||(r.SSF=Ts(Mn)),r.SSF&&(ep(),Qd(r.SSF),e.revssf=tp(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF,e.cellXfs=[],Zl(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(fD(r,e)),t.push(dD()),t.push(""),t.push("");for(var n=0;n<r.SheetNames.length;++n)t.push(pt("Worksheet",xD(n,e,r),{"ss:Name":Kr(r.SheetNames[n])}));return t[2]=pD(r,e),t[3]=mD(r),Qn+pt("Workbook",t.join(""),{xmlns:Ys.ss,"xmlns:o":Ys.o,"xmlns:x":Ys.x,"xmlns:ss":Ys.ss,"xmlns:dt":Ys.dt,"xmlns:html":Ys.html})}var qp={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function ED(r,e){var t=[],n=[],i=[],s=0,a,o=P1(G1,"n"),c=P1($1,"n");if(r.Props)for(a=Di(r.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?t:Object.prototype.hasOwnProperty.call(c,a[s])?n:i).push([a[s],r.Props[a[s]]]);if(r.Custprops)for(a=Di(r.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(r.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?t:Object.prototype.hasOwnProperty.call(c,a[s])?n:i).push([a[s],r.Custprops[a[s]]]);var h=[];for(s=0;s<i.length;++s)r_.indexOf(i[s][0])>-1||Q2.indexOf(i[s][0])>-1||i[s][1]!=null&&h.push(i[s]);n.length&&Jr.utils.cfb_add(e,"/SummaryInformation",J1(n,qp.SI,c,$1)),(t.length||h.length)&&Jr.utils.cfb_add(e,"/DocumentSummaryInformation",J1(t,qp.DSI,o,G1,h.length?h:null,qp.UDI))}function AD(r,e){var t=e||{},n=Jr.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Jr.utils.cfb_add(n,i,P_(r,t)),t.biff==8&&(r.Props||r.Custprops)&&ED(r,n),t.biff==8&&r.vbaraw&&WC(n,Jr.read(r.vbaraw,{type:typeof r.vbaraw=="string"?"binary":"buffer"})),n}var TD={0:{f:D3},1:{f:M3},2:{f:nk},3:{f:q3},4:{f:H3},5:{f:Q3},6:{f:lk},7:{f:Y3},8:{f:mk},9:{f:pk},10:{f:fk},11:{f:dk},12:{f:U3},13:{f:sk},14:{f:$3},15:{f:W3},16:{f:tk},17:{f:hk},18:{f:X3},19:{f:eg},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:eD},40:{},42:{},43:{f:lC},44:{f:aC},45:{f:uC},46:{f:dC},47:{f:fC},48:{},49:{f:UA},50:{},51:{f:DC},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:zT},62:{f:ok},63:{f:OC},64:{f:Ik},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Eo,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Ck},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:O3},148:{f:L3,p:16},151:{f:bk},152:{},153:{f:Jk},154:{},155:{},156:{f:Kk},157:{},158:{},159:{T:1,f:KT},160:{T:-1},161:{T:1,f:Wc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:gk},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:CC},336:{T:-1},337:{f:LC,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Q0},357:{},358:{},359:{},360:{T:1},361:{},362:{f:RT},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:xk},427:{f:Sk},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Ak},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:R3},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:yk},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Q0},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:zC},633:{T:1},634:{T:-1},635:{T:1,f:BC},636:{T:-1},637:{f:WA},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Vk},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Lk},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function gt(r,e,t,n){var i=e;if(!isNaN(i)){var s=n||(t||[]).length||0,a=r.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&Xm(t)&&r.push(t)}}function CD(r,e,t,n){var i=(t||[]).length||0;if(i<=8224)return gt(r,e,t,i);var s=e;if(!isNaN(s)){for(var a=t.parts||[],o=0,c=0,h=0;h+(a[o]||8224)<=8224;)h+=a[o]||8224,o++;var u=r.next(4);for(u.write_shift(2,s),u.write_shift(2,h),r.push(t.slice(c,c+h)),c+=h;c<i;){for(u=r.next(4),u.write_shift(2,60),h=0;h+(a[o]||8224)<=8224;)h+=a[o]||8224,o++;u.write_shift(2,h),r.push(t.slice(c,c+h)),c+=h}}}function ef(r,e,t){return r||(r=Ve(7)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,0),r.write_shift(1,0),r}function kD(r,e,t,n){var i=Ve(9);return ef(i,r,e),i_(t,n||"b",i),i}function DD(r,e,t){var n=Ve(8+2*t.length);return ef(n,r,e),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function ND(r,e,t,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?As(rs(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?gt(r,2,VT(t,n,i)):gt(r,3,WT(t,n,i));return;case"b":case"e":gt(r,5,kD(t,n,e.v,e.t));return;case"s":case"str":gt(r,4,DD(t,n,(e.v||"").slice(0,255)));return}gt(r,1,ef(null,t,n))}function ID(r,e,t,n){var i=Array.isArray(e),s=gn(e["!ref"]||"A1"),a,o="",c=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Jn(s)}for(var h=s.s.r;h<=s.e.r;++h){o=ki(h);for(var u=s.s.c;u<=s.e.c;++u){h===s.s.r&&(c[u]=Wi(u)),a=c[u]+o;var p=i?(e[h]||[])[u]:e[a];p&&ND(r,p,h,u)}}}function LD(r,e){for(var t=e||{},n=xs(),i=0,s=0;s<r.SheetNames.length;++s)r.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&r.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return gt(n,t.biff==4?1033:t.biff==3?521:9,ng(r,16,t)),ID(n,r.Sheets[r.SheetNames[i]],i,t),gt(n,10),n.end()}function PD(r,e,t){gt(r,49,TT({sz:12,name:"Arial"},t))}function RD(r,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&gt(r,1054,DT(i,e[i],t))})}function OD(r,e){var t=Ve(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),gt(r,2151,t),t=Ve(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),o_(gn(e["!ref"]||"A1"),t),t.write_shift(4,4),gt(r,2152,t)}function FD(r,e){for(var t=0;t<16;++t)gt(r,224,ev({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){gt(r,224,ev(n,0,e))})}function MD(r,e){for(var t=0;t<e["!links"].length;++t){var n=e["!links"][t];gt(r,440,MT(n)),n[1].Tooltip&&gt(r,2048,BT(n))}delete e["!links"]}function BD(r,e){if(e){var t=0;e.forEach(function(n,i){++t<=256&&n&&gt(r,125,HT(sp(i,n),i))})}}function UD(r,e,t,n,i){var s=16+Zl(i.cellXfs,e,i);if(e.v==null&&!e.bf){gt(r,513,kc(t,n,s));return}if(e.bf)gt(r,6,c3(e,t,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?As(rs(e.v)):e.v;gt(r,515,PT(t,n,a,s));break;case"b":case"e":gt(r,517,LT(t,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=lg(i.Strings,e.v,i.revStrings);gt(r,253,CT(t,n,o,s))}else gt(r,516,kT(t,n,(e.v||"").slice(0,255),s,i));break;default:gt(r,513,kc(t,n,s))}}function zD(r,e,t){var n=xs(),i=t.SheetNames[r],s=t.Sheets[i]||{},a=(t||{}).Workbook||{},o=(a.Sheets||[])[r]||{},c=Array.isArray(s),h=e.biff==8,u,p="",g=[],d=gn(s["!ref"]||"A1"),_=h?65536:16384;if(d.e.c>255||d.e.r>=_){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");d.e.c=Math.min(d.e.c,255),d.e.r=Math.min(d.e.c,_-1)}gt(n,2057,ng(t,16,e)),gt(n,13,wa(1)),gt(n,12,wa(100)),gt(n,15,es(!0)),gt(n,17,es(!1)),gt(n,16,Cc(.001)),gt(n,95,es(!0)),gt(n,42,es(!1)),gt(n,43,es(!1)),gt(n,130,wa(1)),gt(n,128,IT()),gt(n,131,es(!1)),gt(n,132,es(!1)),h&&BD(n,s["!cols"]),gt(n,512,NT(d,e)),h&&(s["!links"]=[]);for(var y=d.s.r;y<=d.e.r;++y){p=ki(y);for(var b=d.s.c;b<=d.e.c;++b){y===d.s.r&&(g[b]=Wi(b)),u=g[b]+p;var E=c?(s[y]||[])[b]:s[u];E&&(UD(n,E,y,b,e),h&&E.l&&s["!links"].push([u,E.l]))}}var D=o.CodeName||o.name||i;return h&&gt(n,574,AT((a.Views||[])[0])),h&&(s["!merges"]||[]).length&&gt(n,229,FT(s["!merges"])),h&&MD(n,s),gt(n,442,a_(D)),h&&OD(n,s),gt(n,10),n.end()}function HD(r,e,t){var n=xs(),i=(r||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=t.biff==8,c=t.biff==5;if(gt(n,2057,ng(r,5,t)),t.bookType=="xla"&&gt(n,135),gt(n,225,o?wa(1200):null),gt(n,193,fT(2)),c&&gt(n,191),c&&gt(n,192),gt(n,226),gt(n,92,bT("SheetJS",t)),gt(n,66,wa(o?1200:1252)),o&&gt(n,353,wa(0)),o&&gt(n,448),gt(n,317,jT(r.SheetNames.length)),o&&r.vbaraw&&gt(n,211),o&&r.vbaraw){var h=a.CodeName||"ThisWorkbook";gt(n,442,a_(h))}gt(n,156,wa(17)),gt(n,25,es(!1)),gt(n,18,es(!1)),gt(n,19,wa(0)),o&&gt(n,431,es(!1)),o&&gt(n,444,wa(0)),gt(n,61,ET()),gt(n,64,es(!1)),gt(n,141,wa(0)),gt(n,34,es(Gk(r)=="true")),gt(n,14,es(!0)),o&&gt(n,439,es(!1)),gt(n,218,wa(0)),PD(n,r,t),RD(n,r.SSF,t),FD(n,t),o&&gt(n,352,es(!1));var u=n.end(),p=xs();o&&gt(p,140,UT()),o&&t.Strings&&CD(p,252,ST(t.Strings)),gt(p,10);var g=p.end(),d=xs(),_=0,y=0;for(y=0;y<r.SheetNames.length;++y)_+=(o?12:11)+(o?2:1)*r.SheetNames[y].length;var b=u.length+_+g.length;for(y=0;y<r.SheetNames.length;++y){var E=s[y]||{};gt(d,133,xT({pos:b,hs:E.Hidden||0,dt:0,name:r.SheetNames[y]},t)),b+=e[y].length}var D=d.end();if(_!=D.length)throw new Error("BS8 "+_+" != "+D.length);var N=[];return u.length&&N.push(u),D.length&&N.push(D),g.length&&N.push(g),Ti(N)}function jD(r,e){var t=e||{},n=[];r&&!r.SSF&&(r.SSF=Ts(Mn)),r&&r.SSF&&(ep(),Qd(r.SSF),t.revssf=tp(r.SSF),t.revssf[r.SSF[65535]]=0,t.ssf=r.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,cg(t),t.cellXfs=[],Zl(t.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={});for(var i=0;i<r.SheetNames.length;++i)n[n.length]=zD(i,t,r);return n.unshift(HD(r,n,t)),Ti(n)}function P_(r,e){for(var t=0;t<=r.SheetNames.length;++t){var n=r.Sheets[r.SheetNames[t]];if(!(!n||!n["!ref"])){var i=ea(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+r.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return jD(r,e);case 4:case 3:case 2:return LD(r,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function WD(r,e,t,n){for(var i=r["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,c=0,h=0;h<i.length;++h)if(!(i[h].s.r>t||i[h].s.c>a)&&!(i[h].e.r<t||i[h].e.c<a)){if(i[h].s.r<t||i[h].s.c<a){o=-1;break}o=i[h].e.r-i[h].s.r+1,c=i[h].e.c-i[h].s.c+1;break}if(!(o<0)){var u=Xr({r:t,c:a}),p=n.dense?(r[t]||[])[a]:r[u],g=p&&p.v!=null&&(p.h||_A(p.w||(rl(p),p.w)||""))||"",d={};o>1&&(d.rowspan=o),c>1&&(d.colspan=c),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(d["data-t"]=p&&p.t||"z",p.v!=null&&(d["data-v"]=p.v),p.z!=null&&(d["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),d.id=(n.id||"sjs")+"-"+u,s.push(pt("td",g,d))}}var _="<tr>";return _+s.join("")+"</tr>"}var VD='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',qD="</body></html>";function GD(r,e,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function R_(r,e){var t=e||{},n=t.header!=null?t.header:VD,i=t.footer!=null?t.footer:qD,s=[n],a=ea(r["!ref"]);t.dense=Array.isArray(r),s.push(GD(r,a,t));for(var o=a.s.r;o<=a.e.r;++o)s.push(WD(r,a,o,t));return s.push("</table>"+i),s.join("")}function O_(r,e,t){var n=t||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?fi(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),h={s:{r:0,c:0},e:{r:i,c:s}};if(r["!ref"]){var u=ea(r["!ref"]);h.s.r=Math.min(h.s.r,u.s.r),h.s.c=Math.min(h.s.c,u.s.c),h.e.r=Math.max(h.e.r,u.e.r),h.e.c=Math.max(h.e.c,u.e.c),i==-1&&(h.e.r=i=u.e.r+1)}var p=[],g=0,d=r["!rows"]||(r["!rows"]=[]),_=0,y=0,b=0,E=0,D=0,N=0;for(r["!cols"]||(r["!cols"]=[]);_<o.length&&y<c;++_){var I=o[_];if(ov(I)){if(n.display)continue;d[y]={hidden:!0}}var X=I.children;for(b=E=0;b<X.length;++b){var he=X[b];if(!(n.display&&ov(he))){var G=he.hasAttribute("data-v")?he.getAttribute("data-v"):he.hasAttribute("v")?he.getAttribute("v"):EA(he.innerHTML),q=he.getAttribute("data-z")||he.getAttribute("z");for(g=0;g<p.length;++g){var O=p[g];O.s.c==E+s&&O.s.r<y+i&&y+i<=O.e.r&&(E=O.e.c+1-s,g=-1)}N=+he.getAttribute("colspan")||1,((D=+he.getAttribute("rowspan")||1)>1||N>1)&&p.push({s:{r:y+i,c:E+s},e:{r:y+i+(D||1)-1,c:E+s+(N||1)-1}});var ee={t:"s",v:G},P=he.getAttribute("data-t")||he.getAttribute("t")||"";G!=null&&(G.length==0?ee.t=P||"z":n.raw||G.trim().length==0||P=="s"||(G==="TRUE"?ee={t:"b",v:!0}:G==="FALSE"?ee={t:"b",v:!1}:isNaN(Ko(G))?isNaN(Ru(G).getDate())||(ee={t:"d",v:rs(G)},n.cellDates||(ee={t:"n",v:As(ee.v)}),ee.z=n.dateNF||Mn[14]):ee={t:"n",v:Ko(G)})),ee.z===void 0&&q!=null&&(ee.z=q);var z="",te=he.getElementsByTagName("A");if(te&&te.length)for(var ce=0;ce<te.length&&!(te[ce].hasAttribute("href")&&(z=te[ce].getAttribute("href"),z.charAt(0)!="#"));++ce);z&&z.charAt(0)!="#"&&(ee.l={Target:z}),n.dense?(r[y+i]||(r[y+i]=[]),r[y+i][E+s]=ee):r[Xr({c:E+s,r:y+i})]=ee,h.e.c<E+s&&(h.e.c=E+s),E+=N}}++y}return p.length&&(r["!merges"]=(r["!merges"]||[]).concat(p)),h.e.r=Math.max(h.e.r,y-1+i),r["!ref"]=Jn(h),y>=c&&(r["!fullref"]=Jn((h.e.r=o.length-_+y-1+i,h))),r}function F_(r,e){var t=e||{},n=t.dense?[]:{};return O_(n,r,e)}function $D(r,e){return Uc(F_(r,e),e)}function ov(r){var e="",t=ZD(r);return t&&(e=t(r).getPropertyValue("display")),e||(e=r.style&&r.style.display),e==="none"}function ZD(r){return r.ownerDocument.defaultView&&typeof r.ownerDocument.defaultView.getComputedStyle=="function"?r.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var YD=function(){var r=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Fu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+r+"</office:document-styles>";return function(){return Qn+e}}(),lv=function(){var r=function(s){return Kr(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e="          <table:table-cell />\n",t="          <table:covered-table-cell/>\n",n=function(s,a,o){var c=[];c.push('      <table:table table:name="'+Kr(a.SheetNames[o])+'" table:style-name="ta1">\n');var h=0,u=0,p=ea(s["!ref"]||"A1"),g=s["!merges"]||[],d=0,_=Array.isArray(s);if(s["!cols"])for(u=0;u<=p.e.c;++u)c.push("        <table:table-column"+(s["!cols"][u]?' table:style-name="co'+s["!cols"][u].ods+'"':"")+"></table:table-column>\n");var y="",b=s["!rows"]||[];for(h=0;h<p.s.r;++h)y=b[h]?' table:style-name="ro'+b[h].ods+'"':"",c.push("        <table:table-row"+y+"></table:table-row>\n");for(;h<=p.e.r;++h){for(y=b[h]?' table:style-name="ro'+b[h].ods+'"':"",c.push("        <table:table-row"+y+">\n"),u=0;u<p.s.c;++u)c.push(e);for(;u<=p.e.c;++u){var E=!1,D={},N="";for(d=0;d!=g.length;++d)if(!(g[d].s.c>u)&&!(g[d].s.r>h)&&!(g[d].e.c<u)&&!(g[d].e.r<h)){(g[d].s.c!=u||g[d].s.r!=h)&&(E=!0),D["table:number-columns-spanned"]=g[d].e.c-g[d].s.c+1,D["table:number-rows-spanned"]=g[d].e.r-g[d].s.r+1;break}if(E){c.push(t);continue}var I=Xr({r:h,c:u}),X=_?(s[h]||[])[u]:s[I];if(X&&X.f&&(D["table:formula"]=Kr(m3(X.f)),X.F&&X.F.slice(0,I.length)==I)){var he=ea(X.F);D["table:number-matrix-columns-spanned"]=he.e.c-he.s.c+1,D["table:number-matrix-rows-spanned"]=he.e.r-he.s.r+1}if(!X){c.push(e);continue}switch(X.t){case"b":N=X.v?"TRUE":"FALSE",D["office:value-type"]="boolean",D["office:boolean-value"]=X.v?"true":"false";break;case"n":N=X.w||String(X.v||0),D["office:value-type"]="float",D["office:value"]=X.v||0;break;case"s":case"str":N=X.v==null?"":X.v,D["office:value-type"]="string";break;case"d":N=X.w||rs(X.v).toISOString(),D["office:value-type"]="date",D["office:date-value"]=rs(X.v).toISOString(),D["table:style-name"]="ce1";break;default:c.push(e);continue}var G=r(N);if(X.l&&X.l.Target){var q=X.l.Target;q=q.charAt(0)=="#"?"#"+g3(q.slice(1)):q,q.charAt(0)!="#"&&!q.match(/^\w+:/)&&(q="../"+q),G=pt("text:a",G,{"xlink:href":q.replace(/&/g,"&amp;")})}c.push("          "+pt("table:table-cell",pt("text:p",G,{}),D)+"\n")}c.push("        </table:table-row>\n")}return c.push("      </table:table>\n"),c.join("")},i=function(s,a){s.push(" <office:automatic-styles>\n"),s.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),s.push('   <number:month number:style="long"/>\n'),s.push("   <number:text>/</number:text>\n"),s.push('   <number:day number:style="long"/>\n'),s.push("   <number:text>/</number:text>\n"),s.push("   <number:year/>\n"),s.push("  </number:date-style>\n");var o=0;a.SheetNames.map(function(h){return a.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var u=0;u<h["!cols"].length;++u)if(h["!cols"][u]){var p=h["!cols"][u];if(p.width==null&&p.wpx==null&&p.wch==null)continue;ig(p),p.ods=o;var g=h["!cols"][u].wpx+"px";s.push('  <style:style style:name="co'+o+'" style:family="table-column">\n'),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+'"/>\n'),s.push("  </style:style>\n"),++o}}});var c=0;a.SheetNames.map(function(h){return a.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var u=0;u<h["!rows"].length;++u)if(h["!rows"][u]){h["!rows"][u].ods=c;var p=h["!rows"][u].hpx+"px";s.push('  <style:style style:name="ro'+c+'" style:family="table-row">\n'),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+'"/>\n'),s.push("  </style:style>\n"),++c}}}),s.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),s.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),s.push("  </style:style>\n"),s.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),s.push(" </office:automatic-styles>\n")};return function(a,o){var c=[Qn],h=Fu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=Fu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+h+u+">\n"),c.push(X2().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+h+">\n"),i(c,a),c.push("  <office:body>\n"),c.push("    <office:spreadsheet>\n");for(var p=0;p!=a.SheetNames.length;++p)c.push(n(a.Sheets[a.SheetNames[p]],a,p));return c.push("    </office:spreadsheet>\n"),c.push("  </office:body>\n"),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function M_(r,e){if(e.bookType=="fods")return lv(r,e);var t=$m(),n="",i=[],s=[];return n="mimetype",gr(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",gr(t,n,lv(r,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",gr(t,n,YD(r,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",gr(t,n,Qn+X2()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",gr(t,n,oT(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",gr(t,n,sT(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function xd(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function KD(r){return typeof TextEncoder<"u"?new TextEncoder().encode(r):Ya(Ou(r))}function XD(r,e){e:for(var t=0;t<=r.length-e.length;++t){for(var n=0;n<e.length;++n)if(r[t+n]!=e[n])continue e;return!0}return!1}function Wl(r){var e=r.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),n=0;return r.forEach(function(i){t.set(i,n),n+=i.length}),t}function JD(r,e,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,n-6176);r[e+15]|=n>>7,r[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)r[e+s]=i&255;r[e+15]|=t>=0?0:128}function Mu(r,e){var t=e?e[0]:0,n=r[t]&127;e:if(r[t++]>=128&&(n|=(r[t]&127)<<7,r[t++]<128||(n|=(r[t]&127)<<14,r[t++]<128)||(n|=(r[t]&127)<<21,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,28),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,35),++t,r[t++]<128)||(n+=(r[t]&127)*Math.pow(2,42),++t,r[t++]<128)))break e;return e&&(e[0]=t),n}function $r(r){var e=new Uint8Array(7);e[0]=r&127;var t=1;e:if(r>127){if(e[t-1]|=128,e[t]=r>>7&127,++t,r<=16383||(e[t-1]|=128,e[t]=r>>14&127,++t,r<=2097151)||(e[t-1]|=128,e[t]=r>>21&127,++t,r<=268435455)||(e[t-1]|=128,e[t]=r/256>>>21&127,++t,r<=34359738367)||(e[t-1]|=128,e[t]=r/65536>>>21&127,++t,r<=4398046511103))break e;e[t-1]|=128,e[t]=r/16777216>>>21&127,++t}return e.slice(0,t)}function Th(r){var e=0,t=r[e]&127;e:if(r[e++]>=128){if(t|=(r[e]&127)<<7,r[e++]<128||(t|=(r[e]&127)<<14,r[e++]<128)||(t|=(r[e]&127)<<21,r[e++]<128))break e;t|=(r[e]&127)<<28}return t}function si(r){for(var e=[],t=[0];t[0]<r.length;){var n=t[0],i=Mu(r,t),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var c=t[0];r[t[0]++]>=128;);o=r.slice(c,t[0])}break;case 5:a=4,o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 1:a=8,o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 2:a=Mu(r,t),o=r.slice(t[0],t[0]+a),t[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var h={data:o,type:s};e[i]==null?e[i]=[h]:e[i].push(h)}return e}function Si(r){var e=[];return r.forEach(function(t,n){t.forEach(function(i){i.data&&(e.push($r(n*8+i.type)),i.type==2&&e.push($r(i.data.length)),e.push(i.data))})}),Wl(e)}function Ga(r){for(var e,t=[],n=[0];n[0]<r.length;){var i=Mu(r,n),s=si(r.slice(n[0],n[0]+i));n[0]+=i;var a={id:Th(s[1][0].data),messages:[]};s[2].forEach(function(o){var c=si(o.data),h=Th(c[3][0].data);a.messages.push({meta:c,data:r.slice(n[0],n[0]+h)}),n[0]+=h}),(e=s[3])!=null&&e[0]&&(a.merge=Th(s[3][0].data)>>>0>0),t.push(a)}return t}function ch(r){var e=[];return r.forEach(function(t){var n=[];n[1]=[{data:$r(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:$r(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:$r(a.data.length)}],n[2].push({data:Si(a.meta),type:2})});var s=Si(n);e.push($r(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Wl(e)}function QD(r,e){if(r!=0)throw new Error("Unexpected Snappy chunk type ".concat(r));for(var t=[0],n=Mu(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var a=e[t[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[t[0]],o>1&&(a|=e[t[0]+1]<<8),o>2&&(a|=e[t[0]+2]<<16),o>3&&(a|=e[t[0]+3]<<24),a>>>=0,a++,t[0]+=o}i.push(e.slice(t[0],t[0]+a)),t[0]+=a;continue}else{var c=0,h=0;if(s==1?(h=(e[t[0]]>>2&7)+4,c=(e[t[0]++]&224)<<3,c|=e[t[0]++]):(h=(e[t[0]++]>>2)+1,s==2?(c=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(c=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Wl(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(h>=c)for(i.push(i[0].slice(-c)),h-=c;h>=i[i.length-1].length;)i.push(i[i.length-1]),h-=i[i.length-1].length;i.push(i[0].slice(-c,-c+h))}}var u=Wl(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function $a(r){for(var e=[],t=0;t<r.length;){var n=r[t++],i=r[t]|r[t+1]<<8|r[t+2]<<16;t+=3,e.push(QD(n,r.slice(t,t+i))),t+=i}if(t!==r.length)throw new Error("data is not a valid framed stream!");return Wl(e)}function hh(r){for(var e=[],t=0;t<r.length;){var n=Math.min(r.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=$r(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(r.slice(t,t+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,t+=n}return Wl(e)}function Gp(r,e){var t=new Uint8Array(32),n=xd(t),i=12,s=0;switch(t[0]=5,r.t){case"n":t[1]=2,JD(t,i,r.v),s|=1,i+=16;break;case"b":t[1]=6,n.setFloat64(i,r.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[1]=3,n.setUint32(i,e.indexOf(r.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(8,s,!0),t.slice(0,i)}function $p(r,e){var t=new Uint8Array(32),n=xd(t),i=12,s=0;switch(t[0]=3,r.t){case"n":t[2]=2,n.setFloat64(i,r.v,!0),s|=32,i+=8;break;case"b":t[2]=6,n.setFloat64(i,r.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(r.v)==-1)throw new Error("Value ".concat(r.v," missing from SST!"));t[2]=3,n.setUint32(i,e.indexOf(r.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+r.t}return n.setUint32(4,s,!0),t.slice(0,i)}function El(r){var e=si(r);return Mu(e[1][0].data)}function eN(r,e,t){var n,i,s,a;if(!((n=r[6])!=null&&n[0])||!((i=r[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=r[8])==null?void 0:s[0])==null?void 0:a.data)&&Th(r[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,h=xd(r[7][0].data),u=0,p=[],g=xd(r[4][0].data),d=0,_=[],y=0;y<e.length;++y){if(e[y]==null){h.setUint16(y*2,65535,!0),g.setUint16(y*2,65535);continue}h.setUint16(y*2,u,!0),g.setUint16(y*2,d,!0);var b,E;switch(typeof e[y]){case"string":b=Gp({t:"s",v:e[y]},t),E=$p({t:"s",v:e[y]},t);break;case"number":b=Gp({t:"n",v:e[y]},t),E=$p({t:"n",v:e[y]},t);break;case"boolean":b=Gp({t:"b",v:e[y]},t),E=$p({t:"b",v:e[y]},t);break;default:throw new Error("Unsupported value "+e[y])}p.push(b),u+=b.length,_.push(E),d+=E.length,++c}for(r[2][0].data=$r(c);y<r[7][0].data.length/2;++y)h.setUint16(y*2,65535,!0),g.setUint16(y*2,65535,!0);return r[6][0].data=Wl(p),r[3][0].data=Wl(_),c}function tN(r,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=r.Sheets[r.SheetNames[0]];r.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ea(t["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Jn(n)));var s=Sd(t,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(F){return F.forEach(function(R){typeof R=="string"&&a.push(R)})});var o={},c=[],h=Jr.read(e.numbers,{type:"base64"});h.FileIndex.map(function(F,R){return[F,h.FullPaths[R]]}).forEach(function(F){var R=F[0],B=F[1];if(R.type==2&&R.name.match(/\.iwa/)){var Y=R.content,fe=$a(Y),we=Ga(fe);we.forEach(function(ve){c.push(ve.id),o[ve.id]={deps:[],location:B,type:Th(ve.messages[0].meta[1][0].data)}})}}),c.sort(function(F,R){return F-R});var u=c.filter(function(F){return F>1}).map(function(F){return[F,$r(F)]});h.FileIndex.map(function(F,R){return[F,h.FullPaths[R]]}).forEach(function(F){var R=F[0];if(F[1],!!R.name.match(/\.iwa/)){var B=Ga($a(R.content));B.forEach(function(Y){Y.messages.forEach(function(fe){u.forEach(function(we){Y.messages.some(function(ve){return Th(ve.meta[1][0].data)!=11006&&XD(ve.data,we[1])})&&o[we[0]].deps.push(Y.id)})})})}});for(var p=Jr.find(h,o[1].location),g=Ga($a(p.content)),d,_=0;_<g.length;++_){var y=g[_];y.id==1&&(d=y)}var b=El(si(d.messages[0].data)[1][0].data);for(p=Jr.find(h,o[b].location),g=Ga($a(p.content)),_=0;_<g.length;++_)y=g[_],y.id==b&&(d=y);for(b=El(si(d.messages[0].data)[2][0].data),p=Jr.find(h,o[b].location),g=Ga($a(p.content)),_=0;_<g.length;++_)y=g[_],y.id==b&&(d=y);for(b=El(si(d.messages[0].data)[2][0].data),p=Jr.find(h,o[b].location),g=Ga($a(p.content)),_=0;_<g.length;++_)y=g[_],y.id==b&&(d=y);var E=si(d.messages[0].data);{E[6][0].data=$r(n.e.r+1),E[7][0].data=$r(n.e.c+1);var D=El(E[46][0].data),N=Jr.find(h,o[D].location),I=Ga($a(N.content));{for(var X=0;X<I.length&&I[X].id!=D;++X);if(I[X].id!=D)throw"Bad ColumnRowUIDMapArchive";var he=si(I[X].messages[0].data);he[1]=[],he[2]=[],he[3]=[];for(var G=0;G<=n.e.c;++G){var q=[];q[1]=q[2]=[{type:0,data:$r(G+420690)}],he[1].push({type:2,data:Si(q)}),he[2].push({type:0,data:$r(G)}),he[3].push({type:0,data:$r(G)})}he[4]=[],he[5]=[],he[6]=[];for(var O=0;O<=n.e.r;++O)q=[],q[1]=q[2]=[{type:0,data:$r(O+726270)}],he[4].push({type:2,data:Si(q)}),he[5].push({type:0,data:$r(O)}),he[6].push({type:0,data:$r(O)});I[X].messages[0].data=Si(he)}N.content=hh(ch(I)),N.size=N.content.length,delete E[46];var ee=si(E[4][0].data);{ee[7][0].data=$r(n.e.r+1);var P=si(ee[1][0].data),z=El(P[2][0].data);N=Jr.find(h,o[z].location),I=Ga($a(N.content));{if(I[0].id!=z)throw"Bad HeaderStorageBucket";var te=si(I[0].messages[0].data);for(O=0;O<s.length;++O){var ce=si(te[2][0].data);ce[1][0].data=$r(O),ce[4][0].data=$r(s[O].length),te[2][O]={type:te[2][0].type,data:Si(ce)}}I[0].messages[0].data=Si(te)}N.content=hh(ch(I)),N.size=N.content.length;var be=El(ee[2][0].data);N=Jr.find(h,o[be].location),I=Ga($a(N.content));{if(I[0].id!=be)throw"Bad HeaderStorageBucket";for(te=si(I[0].messages[0].data),G=0;G<=n.e.c;++G)ce=si(te[2][0].data),ce[1][0].data=$r(G),ce[4][0].data=$r(n.e.r+1),te[2][G]={type:te[2][0].type,data:Si(ce)};I[0].messages[0].data=Si(te)}N.content=hh(ch(I)),N.size=N.content.length;var Ce=El(ee[4][0].data);(function(){for(var F=Jr.find(h,o[Ce].location),R=Ga($a(F.content)),B,Y=0;Y<R.length;++Y){var fe=R[Y];fe.id==Ce&&(B=fe)}var we=si(B.messages[0].data);{we[3]=[];var ve=[];a.forEach(function(Xe,ct){ve[1]=[{type:0,data:$r(ct)}],ve[2]=[{type:0,data:$r(1)}],ve[3]=[{type:2,data:KD(Xe)}],we[3].push({type:2,data:Si(ve)})})}B.messages[0].data=Si(we);var _e=ch(R),je=hh(_e);F.content=je,F.size=F.content.length})();var Pe=si(ee[3][0].data);{var me=Pe[1][0];delete Pe[2];var Fe=si(me.data);{var Oe=El(Fe[2][0].data);(function(){for(var F=Jr.find(h,o[Oe].location),R=Ga($a(F.content)),B,Y=0;Y<R.length;++Y){var fe=R[Y];fe.id==Oe&&(B=fe)}var we=si(B.messages[0].data);{delete we[6],delete Pe[7];var ve=new Uint8Array(we[5][0].data);we[5]=[];for(var _e=0,je=0;je<=n.e.r;++je){var Xe=si(ve);_e+=eN(Xe,s[je],a),Xe[1][0].data=$r(je),we[5].push({data:Si(Xe),type:2})}we[1]=[{type:0,data:$r(n.e.c+1)}],we[2]=[{type:0,data:$r(n.e.r+1)}],we[3]=[{type:0,data:$r(_e)}],we[4]=[{type:0,data:$r(n.e.r+1)}]}B.messages[0].data=Si(we);var ct=ch(R),Ne=hh(ct);F.content=Ne,F.size=F.content.length})()}me.data=Si(Fe)}ee[3][0].data=Si(Pe)}E[4][0].data=Si(ee)}d.messages[0].data=Si(E);var Me=ch(g),T=hh(Me);return p.content=T,p.size=p.content.length,h}function rN(r){return function(t){for(var n=0;n!=r.length;++n){var i=r[n];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function cg(r){rN([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(r)}function nN(r,e){return e.bookType=="ods"?M_(r,e):e.bookType=="numbers"?tN(r,e):e.bookType=="xlsb"?iN(r,e):sN(r,e)}function iN(r,e){yh=1024,r&&!r.SSF&&(r.SSF=Ts(Mn)),r&&r.SSF&&(ep(),Qd(r.SSF),e.revssf=tp(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,xu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",n=y_.indexOf(e.bookType)>-1,i=Z2();cg(e=e||{});var s=$m(),a="",o=0;if(e.cellXfs=[],Zl(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),a="docProps/core.xml",gr(s,a,J2(r.Props,e)),i.coreprops.push(a),Zr(e.rels,2,a,Ir.CORE_PROPS),a="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],h=0;h<r.SheetNames.length;++h)(r.Workbook.Sheets[h]||{}).Hidden!=2&&c.push(r.SheetNames[h]);r.Props.SheetNames=c}for(r.Props.Worksheets=r.Props.SheetNames.length,gr(s,a,e_(r.Props)),i.extprops.push(a),Zr(e.rels,3,a,Ir.EXT_PROPS),r.Custprops!==r.Props&&Di(r.Custprops||{}).length>0&&(a="docProps/custom.xml",gr(s,a,t_(r.Custprops)),i.custprops.push(a),Zr(e.rels,4,a,Ir.CUST_PROPS)),o=1;o<=r.SheetNames.length;++o){var u={"!id":{}},p=r.Sheets[r.SheetNames[o-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:a="xl/worksheets/sheet"+o+"."+t,gr(s,a,oD(o-1,a,e,r,u)),i.sheets.push(a),Zr(e.wbrels,-1,"worksheets/sheet"+o+"."+t,Ir.WS[0])}if(p){var d=p["!comments"],_=!1,y="";d&&d.length>0&&(y="xl/comments"+o+"."+t,gr(s,y,hD(d,y)),i.comments.push(y),Zr(u,-1,"../comments"+o+"."+t,Ir.CMNT),_=!0),p["!legacy"]&&_&&gr(s,"xl/drawings/vmlDrawing"+o+".vml",v_(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}u["!id"].rId1&&gr(s,K2(a),Eh(u))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,gr(s,a,cD(e.Strings,a,e)),i.strs.push(a),Zr(e.wbrels,-1,"sharedStrings."+t,Ir.SST)),a="xl/workbook."+t,gr(s,a,aD(r,a)),i.workbooks.push(a),Zr(e.rels,1,a,Ir.WB),a="xl/theme/theme1.xml",gr(s,a,m_(r.Themes,e)),i.themes.push(a),Zr(e.wbrels,-1,"theme/theme1.xml",Ir.THEME),a="xl/styles."+t,gr(s,a,lD(r,a,e)),i.styles.push(a),Zr(e.wbrels,-1,"styles."+t,Ir.STY),r.vbaraw&&n&&(a="xl/vbaProject.bin",gr(s,a,r.vbaraw),i.vba.push(a),Zr(e.wbrels,-1,"vbaProject.bin",Ir.VBA)),a="xl/metadata."+t,gr(s,a,uD(a)),i.metadata.push(a),Zr(e.wbrels,-1,"metadata."+t,Ir.XLMETA),gr(s,"[Content_Types].xml",Y2(i,e)),gr(s,"_rels/.rels",Eh(e.rels)),gr(s,"xl/_rels/workbook."+t+".rels",Eh(e.wbrels)),delete e.revssf,delete e.ssf,s}function sN(r,e){yh=1024,r&&!r.SSF&&(r.SSF=Ts(Mn)),r&&r.SSF&&(ep(),Qd(r.SSF),e.revssf=tp(r.SSF),e.revssf[r.SSF[65535]]=0,e.ssf=r.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,xu?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",n=y_.indexOf(e.bookType)>-1,i=Z2();cg(e=e||{});var s=$m(),a="",o=0;if(e.cellXfs=[],Zl(e.cellXfs,{},{revssf:{General:0}}),r.Props||(r.Props={}),a="docProps/core.xml",gr(s,a,J2(r.Props,e)),i.coreprops.push(a),Zr(e.rels,2,a,Ir.CORE_PROPS),a="docProps/app.xml",!(r.Props&&r.Props.SheetNames))if(!r.Workbook||!r.Workbook.Sheets)r.Props.SheetNames=r.SheetNames;else{for(var c=[],h=0;h<r.SheetNames.length;++h)(r.Workbook.Sheets[h]||{}).Hidden!=2&&c.push(r.SheetNames[h]);r.Props.SheetNames=c}r.Props.Worksheets=r.Props.SheetNames.length,gr(s,a,e_(r.Props)),i.extprops.push(a),Zr(e.rels,3,a,Ir.EXT_PROPS),r.Custprops!==r.Props&&Di(r.Custprops||{}).length>0&&(a="docProps/custom.xml",gr(s,a,t_(r.Custprops)),i.custprops.push(a),Zr(e.rels,4,a,Ir.CUST_PROPS));var u=["SheetJ5"];for(e.tcid=0,o=1;o<=r.SheetNames.length;++o){var p={"!id":{}},g=r.Sheets[r.SheetNames[o-1]],d=(g||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+o+"."+t,gr(s,a,k_(o-1,e,r,p)),i.sheets.push(a),Zr(e.wbrels,-1,"worksheets/sheet"+o+"."+t,Ir.WS[0])}if(g){var _=g["!comments"],y=!1,b="";if(_&&_.length>0){var E=!1;_.forEach(function(D){D[1].forEach(function(N){N.T==!0&&(E=!0)})}),E&&(b="xl/threadedComments/threadedComment"+o+"."+t,gr(s,b,FC(_,u,e)),i.threadedcomments.push(b),Zr(p,-1,"../threadedComments/threadedComment"+o+"."+t,Ir.TCMNT)),b="xl/comments"+o+"."+t,gr(s,b,w_(_)),i.comments.push(b),Zr(p,-1,"../comments"+o+"."+t,Ir.CMNT),y=!0}g["!legacy"]&&y&&gr(s,"xl/drawings/vmlDrawing"+o+".vml",v_(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&gr(s,K2(a),Eh(p))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,gr(s,a,c_(e.Strings,e)),i.strs.push(a),Zr(e.wbrels,-1,"sharedStrings."+t,Ir.SST)),a="xl/workbook."+t,gr(s,a,I_(r)),i.workbooks.push(a),Zr(e.rels,1,a,Ir.WB),a="xl/theme/theme1.xml",gr(s,a,m_(r.Themes,e)),i.themes.push(a),Zr(e.wbrels,-1,"theme/theme1.xml",Ir.THEME),a="xl/styles."+t,gr(s,a,d_(r,e)),i.styles.push(a),Zr(e.wbrels,-1,"styles."+t,Ir.STY),r.vbaraw&&n&&(a="xl/vbaProject.bin",gr(s,a,r.vbaraw),i.vba.push(a),Zr(e.wbrels,-1,"vbaProject.bin",Ir.VBA)),a="xl/metadata."+t,gr(s,a,g_()),i.metadata.push(a),Zr(e.wbrels,-1,"metadata."+t,Ir.XLMETA),u.length>1&&(a="xl/persons/person.xml",gr(s,a,MC(u)),i.people.push(a),Zr(e.wbrels,-1,"persons/person.xml",Ir.PEOPLE)),gr(s,"[Content_Types].xml",Y2(i,e)),gr(s,"_rels/.rels",Eh(e.rels)),gr(s,"xl/_rels/workbook."+t+".rels",Eh(e.wbrels)),delete e.revssf,delete e.ssf,s}function aN(r,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];case"base64":t=tl(r.slice(0,12));break;case"binary":t=r;break;case"array":return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function B_(r,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Ku(e.file,Jr.write(r,{type:Mr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Jr.write(r,e)}function oN(r,e){var t=Ts(e||{}),n=nN(r,t);return lN(n,t)}function lN(r,e){var t={},n=Mr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=n;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=r.FullPaths?Jr.write(r,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):r.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Jd(i))}return e.password&&typeof encrypt_agile<"u"?B_(encrypt_agile(i,e.password),e):e.type==="file"?Ku(e.file,i):e.type=="string"?wu(i):i}function cN(r,e){var t=e||{},n=AD(r,t);return B_(n,t)}function yo(r,e,t){t||(t="");var n=t+r;switch(e.type){case"base64":return Pu(Ou(n));case"binary":return Ou(n);case"string":return r;case"file":return Ku(e.file,n,"utf8");case"buffer":return Mr?al(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):yo(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function hN(r,e){switch(e.type){case"base64":return Pu(r);case"binary":return r;case"string":return r;case"file":return Ku(e.file,r,"binary");case"buffer":return Mr?al(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Pf(r,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",n=0;n<r.length;++n)t+=String.fromCharCode(r[n]);return e.type=="base64"?Pu(t):e.type=="string"?wu(t):t;case"file":return Ku(e.file,r);case"buffer":return r;default:throw new Error("Unrecognized type "+e.type)}}function U_(r,e){BE(),Yk(r);var t=Ts(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=U_(r,t);return t.type="array",Jd(n)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=r.SheetNames.indexOf(t.sheet),!r.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return yo(SD(r,t),t);case"slk":case"sylk":return yo(GT.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"htm":case"html":return yo(R_(r.Sheets[r.SheetNames[i]],t),t);case"txt":return hN(z_(r.Sheets[r.SheetNames[i]],t),t);case"csv":return yo(hg(r.Sheets[r.SheetNames[i]],t),t,"\uFEFF");case"dif":return yo($T.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"dbf":return Pf(qT.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"prn":return yo(ZT.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"rtf":return yo(tC.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"eth":return yo(l_.from_sheet(r.Sheets[r.SheetNames[i]],t),t);case"fods":return yo(M_(r,t),t);case"wk1":return Pf(tv.sheet_to_wk1(r.Sheets[r.SheetNames[i]],t),t);case"wk3":return Pf(tv.book_to_wk3(r,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Pf(P_(r,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),cN(r,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return oN(r,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function uN(r){if(!r.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=r.file.slice(r.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(r.bookType=t.slice(1)),r.bookType=e[r.bookType]||r.bookType}}function fN(r,e,t){var n={};return n.type="file",n.file=e,uN(n),U_(r,n)}function dN(r,e,t,n,i,s,a,o){var c=ki(t),h=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:t,enumerable:!1})}catch(b){g.__rowNum__=t}else g.__rowNum__=t;if(!a||r[t])for(var d=e.s.c;d<=e.e.c;++d){var _=a?r[t][d]:r[n[d]+c];if(_===void 0||_.t===void 0){if(h===void 0)continue;s[d]!=null&&(g[s[d]]=h);continue}var y=_.v;switch(_.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+_.t)}if(s[d]!=null){if(y==null)if(_.t=="e"&&y===null)g[s[d]]=null;else if(h!==void 0)g[s[d]]=h;else if(u&&y===null)g[s[d]]=null;else continue;else g[s[d]]=u&&(_.t!=="n"||_.t==="n"&&o.rawNumbers!==!1)?y:rl(_,y,o);y!=null&&(p=!1)}}return{row:g,isempty:p}}function Sd(r,e){if(r==null||r["!ref"]==null)return[];var t={t:"n",v:0},n=0,i=1,s=[],a=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},h=e||{},u=h.range!=null?h.range:r["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof u){case"string":c=gn(u);break;case"number":c=gn(r["!ref"]),c.s.r=u;break;default:c=u}n>0&&(i=0);var p=ki(c.s.r),g=[],d=[],_=0,y=0,b=Array.isArray(r),E=c.s.r,D=0,N={};b&&!r[E]&&(r[E]=[]);var I=h.skipHidden&&r["!cols"]||[],X=h.skipHidden&&r["!rows"]||[];for(D=c.s.c;D<=c.e.c;++D)if(!(I[D]||{}).hidden)switch(g[D]=Wi(D),t=b?r[E][D]:r[g[D]+p],n){case 1:s[D]=D-c.s.c;break;case 2:s[D]=g[D];break;case 3:s[D]=h.header[D-c.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),o=a=rl(t,null,h),y=N[a]||0,!y)N[a]=1;else{do o=a+"_"+y++;while(N[o]);N[a]=y,N[o]=1}s[D]=o}for(E=c.s.r+i;E<=c.e.r;++E)if(!(X[E]||{}).hidden){var he=dN(r,c,E,g,n,s,b,h);(he.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(d[_++]=he.row)}return d.length=_,d}var cv=/"/g;function pN(r,e,t,n,i,s,a,o){for(var c=!0,h=[],u="",p=ki(t),g=e.s.c;g<=e.e.c;++g)if(n[g]){var d=o.dense?(r[t]||[])[g]:r[n[g]+p];if(d==null)u="";else if(d.v!=null){c=!1,u=""+(o.rawNumbers&&d.t=="n"?d.v:rl(d,null,o));for(var _=0,y=0;_!==u.length;++_)if((y=u.charCodeAt(_))===i||y===s||y===34||o.forceQuotes){u='"'+u.replace(cv,'""')+'"';break}u=="ID"&&(u='"ID"')}else d.f!=null&&!d.F?(c=!1,u="="+d.f,u.indexOf(",")>=0&&(u='"'+u.replace(cv,'""')+'"')):u="";h.push(u)}return o.blankrows===!1&&c?null:h.join(a)}function hg(r,e){var t=[],n=e==null?{}:e;if(r==null||r["!ref"]==null)return"";var i=gn(r["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:"\n",c=o.charCodeAt(0),h=new RegExp((s=="|"?"\\|":s)+"+$"),u="",p=[];n.dense=Array.isArray(r);for(var g=n.skipHidden&&r["!cols"]||[],d=n.skipHidden&&r["!rows"]||[],_=i.s.c;_<=i.e.c;++_)(g[_]||{}).hidden||(p[_]=Wi(_));for(var y=0,b=i.s.r;b<=i.e.r;++b)(d[b]||{}).hidden||(u=pN(r,i,b,p,a,c,s,n),u!=null&&(n.strip&&(u=u.replace(h,"")),(u||n.blankrows!==!1)&&t.push((y++?o:"")+u)));return delete n.dense,t.join("")}function z_(r,e){e||(e={}),e.FS="	",e.RS="\n";var t=hg(r,e);return t}function mN(r){var e="",t,n="";if(r==null||r["!ref"]==null)return[];var i=gn(r["!ref"]),s="",a=[],o,c=[],h=Array.isArray(r);for(o=i.s.c;o<=i.e.c;++o)a[o]=Wi(o);for(var u=i.s.r;u<=i.e.r;++u)for(s=ki(u),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,t=h?(r[u]||[])[o]:r[e],n="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;n=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}c[c.length]=e+"="+n}return c}function H_(r,e,t){var n=t||{},i=+!n.skipHeader,s=r||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var c=typeof n.origin=="string"?fi(n.origin):n.origin;a=c.r,o=c.c}var h,u={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var p=gn(s["!ref"]);u.e.c=Math.max(u.e.c,p.e.c),u.e.r=Math.max(u.e.r,p.e.r),a==-1&&(a=p.e.r+1,u.e.r=a+e.length-1+i)}else a==-1&&(a=0,u.e.r=e.length-1+i);var g=n.header||[],d=0;e.forEach(function(y,b){Di(y).forEach(function(E){(d=g.indexOf(E))==-1&&(g[d=g.length]=E);var D=y[E],N="z",I="",X=Xr({c:o+d,r:a+b+i});h=Bu(s,X),D&&typeof D=="object"&&!(D instanceof Date)?s[X]=D:(typeof D=="number"?N="n":typeof D=="boolean"?N="b":typeof D=="string"?N="s":D instanceof Date?(N="d",n.cellDates||(N="n",D=As(D)),I=n.dateNF||Mn[14]):D===null&&n.nullError&&(N="e",D=0),h?(h.t=N,h.v=D,delete h.w,delete h.R,I&&(h.z=I)):s[X]=h={t:N,v:D},I&&(h.z=I))})}),u.e.c=Math.max(u.e.c,o+g.length-1);var _=ki(a);if(i)for(d=0;d<g.length;++d)s[Wi(d+o)+_]={t:"s",v:g[d]};return s["!ref"]=Jn(u),s}function gN(r,e){return H_(null,r,e)}function Bu(r,e,t){if(typeof e=="string"){if(Array.isArray(r)){var n=fi(e);return r[n.r]||(r[n.r]=[]),r[n.r][n.c]||(r[n.r][n.c]={t:"z"})}return r[e]||(r[e]={t:"z"})}return typeof e!="number"?Bu(r,Xr(e)):Bu(r,Xr({r:e,c:t||0}))}function vN(r,e){if(typeof e=="number"){if(e>=0&&r.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=r.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function wN(){return{SheetNames:[],Sheets:{}}}function yN(r,e,t,n){var i=1;if(!t)for(;i<=65535&&r.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||r.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&r.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||t;for(++i;i<=65535&&r.SheetNames.indexOf(t=a+i)!=-1;++i);}if(N_(t),r.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return r.SheetNames.push(t),r.Sheets[t]=e,t}function _N(r,e,t){r.Workbook||(r.Workbook={}),r.Workbook.Sheets||(r.Workbook.Sheets=[]);var n=vN(r,e);switch(r.Workbook.Sheets[n]||(r.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}r.Workbook.Sheets[n].Hidden=t}function bN(r,e){return r.z=e,r}function j_(r,e,t){return e?(r.l={Target:e},t&&(r.l.Tooltip=t)):delete r.l,r}function xN(r,e,t){return j_(r,"#"+e,t)}function SN(r,e,t){r.c||(r.c=[]),r.c.push({t:e,a:t||"SheetJS"})}function EN(r,e,t,n){for(var i=typeof e!="string"?e:gn(e),s=typeof e=="string"?e:Jn(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var c=Bu(r,a,o);c.t="n",c.F=s,delete c.v,a==i.s.r&&o==i.s.c&&(c.f=t,n&&(c.D=!0))}return r}var Zp={encode_col:Wi,encode_row:ki,encode_cell:Xr,encode_range:Jn,decode_col:Qm,decode_row:Jm,split_cell:BA,decode_cell:fi,decode_range:ea,format_cell:rl,sheet_add_aoa:j2,sheet_add_json:H_,sheet_add_dom:O_,aoa_to_sheet:Wh,json_to_sheet:gN,table_to_sheet:F_,table_to_book:$D,sheet_to_csv:hg,sheet_to_txt:z_,sheet_to_json:Sd,sheet_to_html:R_,sheet_to_formulae:mN,sheet_to_row_object_array:Sd,sheet_get_cell:Bu,book_new:wN,book_append_sheet:yN,book_set_sheet_visibility:_N,cell_set_number_format:bN,cell_set_hyperlink:j_,cell_set_internal_link:xN,cell_add_comment:SN,sheet_set_array_formula:EN,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const AN="modulepreload",TN=function(r){return"/"+r},hv={},Yp=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(c=>{if(c=TN(c),c in hv)return;hv[c]=!0;const h=c.endsWith(".css"),u=h?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(c,'"]').concat(u)))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":AN,h||(p.as="script"),p.crossOrigin="",p.href=c,o&&p.setAttribute("nonce",o),document.head.appendChild(p),h)return new Promise((g,d)=>{p.addEventListener("load",g),p.addEventListener("error",()=>d(new Error("Unable to preload CSS for ".concat(c))))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Yr(r){"@babel/helpers - typeof";return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(r)}var Qa=Uint8Array,Xs=Uint16Array,ug=Int32Array,fg=new Qa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dg=new Qa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),uv=new Qa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),W_=function(r,e){for(var t=new Xs(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new ug(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return{b:t,r:i}},V_=W_(fg,2),CN=V_.b,tm=V_.r;CN[28]=258,tm[258]=28;var kN=W_(dg,0),fv=kN.r,rm=new Xs(32768);for(var mn=0;mn<32768;++mn){var Al=(mn&43690)>>1|(mn&21845)<<1;Al=(Al&52428)>>2|(Al&13107)<<2,Al=(Al&61680)>>4|(Al&3855)<<4,rm[mn]=((Al&65280)>>8|(Al&255)<<8)>>1}var Su=function(r,e,t){for(var n=r.length,i=0,s=new Xs(e);i<n;++i)r[i]&&++s[r[i]-1];var a=new Xs(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new Xs(1<<e);var c=15-e;for(i=0;i<n;++i)if(r[i])for(var h=i<<4|r[i],u=e-r[i],p=a[r[i]-1]++<<u,g=p|(1<<u)-1;p<=g;++p)o[rm[p]>>c]=h}else for(o=new Xs(n),i=0;i<n;++i)r[i]&&(o[i]=rm[a[r[i]-1]++]>>15-r[i]);return o},Dc=new Qa(288);for(var mn=0;mn<144;++mn)Dc[mn]=8;for(var mn=144;mn<256;++mn)Dc[mn]=9;for(var mn=256;mn<280;++mn)Dc[mn]=7;for(var mn=280;mn<288;++mn)Dc[mn]=8;var Ed=new Qa(32);for(var mn=0;mn<32;++mn)Ed[mn]=5;var DN=Su(Dc,9,0),NN=Su(Ed,5,0),q_=function(r){return(r+7)/8|0},IN=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new Qa(r.subarray(e,t))},Ho=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},fu=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},Kp=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,s=t.slice();if(!i)return{t:$_,l:0};if(i==1){var a=new Qa(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(X,he){return X.f-he.f}),t.push({s:-1,f:25001});var o=t[0],c=t[1],h=0,u=1,p=2;for(t[0]={s:-1,f:o.f+c.f,l:o,r:c};u!=i-1;)o=t[t[h].f<t[p].f?h++:p++],c=t[h!=u&&t[h].f<t[p].f?h++:p++],t[u++]={s:-1,f:o.f+c.f,l:o,r:c};for(var g=s[0].s,n=1;n<i;++n)s[n].s>g&&(g=s[n].s);var d=new Xs(g+1),_=nm(t[u-1],d,0);if(_>e){var n=0,y=0,b=_-e,E=1<<b;for(s.sort(function(he,G){return d[G.s]-d[he.s]||he.f-G.f});n<i;++n){var D=s[n].s;if(d[D]>e)y+=E-(1<<_-d[D]),d[D]=e;else break}for(y>>=b;y>0;){var N=s[n].s;d[N]<e?y-=1<<e-d[N]++-1:++n}for(;n>=0&&y;--n){var I=s[n].s;d[I]==e&&(--d[I],++y)}_=e}return{t:new Qa(d),l:_}},nm=function(r,e,t){return r.s==-1?Math.max(nm(r.l,e,t+1),nm(r.r,e,t+1)):e[r.s]=t},dv=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Xs(++e),n=0,i=r[0],s=1,a=function(c){t[n++]=c},o=1;o<=e;++o)if(r[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=r[o]}return{c:t.subarray(0,n),n:e}},du=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},G_=function(r,e,t){var n=t.length,i=q_(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=t[s];return(i+4+n)*8},pv=function(r,e,t,n,i,s,a,o,c,h,u){Ho(e,u++,t),++i[256];for(var p=Kp(i,15),g=p.t,d=p.l,_=Kp(s,15),y=_.t,b=_.l,E=dv(g),D=E.c,N=E.n,I=dv(y),X=I.c,he=I.n,G=new Xs(19),q=0;q<D.length;++q)++G[D[q]&31];for(var q=0;q<X.length;++q)++G[X[q]&31];for(var O=Kp(G,7),ee=O.t,P=O.l,z=19;z>4&&!ee[uv[z-1]];--z);var te=h+5<<3,ce=du(i,Dc)+du(s,Ed)+a,be=du(i,g)+du(s,y)+a+14+3*z+du(G,ee)+2*G[16]+3*G[17]+7*G[18];if(c>=0&&te<=ce&&te<=be)return G_(e,u,r.subarray(c,c+h));var Ce,Pe,me,Fe;if(Ho(e,u,1+(be<ce)),u+=2,be<ce){Ce=Su(g,d,0),Pe=g,me=Su(y,b,0),Fe=y;var Oe=Su(ee,P,0);Ho(e,u,N-257),Ho(e,u+5,he-1),Ho(e,u+10,z-4),u+=14;for(var q=0;q<z;++q)Ho(e,u+3*q,ee[uv[q]]);u+=3*z;for(var Me=[D,X],T=0;T<2;++T)for(var F=Me[T],q=0;q<F.length;++q){var R=F[q]&31;Ho(e,u,Oe[R]),u+=ee[R],R>15&&(Ho(e,u,F[q]>>5&127),u+=F[q]>>12)}}else Ce=DN,Pe=Dc,me=NN,Fe=Ed;for(var q=0;q<o;++q){var B=n[q];if(B>255){var R=B>>18&31;fu(e,u,Ce[R+257]),u+=Pe[R+257],R>7&&(Ho(e,u,B>>23&31),u+=fg[R]);var Y=B&31;fu(e,u,me[Y]),u+=Fe[Y],Y>3&&(fu(e,u,B>>5&8191),u+=dg[Y])}else fu(e,u,Ce[B]),u+=Pe[B]}return fu(e,u,Ce[256]),u+Pe[256]},LN=new ug([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),$_=new Qa(0),PN=function(r,e,t,n,i,s){var a=s.z||r.length,o=new Qa(n+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(n,o.length-i),h=s.l,u=(s.r||0)&7;if(e){u&&(c[0]=s.r>>3);for(var p=LN[e-1],g=p>>13,d=p&8191,_=(1<<t)-1,y=s.p||new Xs(32768),b=s.h||new Xs(_+1),E=Math.ceil(t/3),D=2*E,N=function(Ne){return(r[Ne]^r[Ne+1]<<E^r[Ne+2]<<D)&_},I=new ug(25e3),X=new Xs(288),he=new Xs(32),G=0,q=0,O=s.i||0,ee=0,P=s.w||0,z=0;O+2<a;++O){var te=N(O),ce=O&32767,be=b[te];if(y[ce]=be,b[te]=ce,P<=O){var Ce=a-O;if((G>7e3||ee>24576)&&(Ce>423||!h)){u=pv(r,c,0,I,X,he,q,ee,z,O-z,u),ee=G=q=0,z=O;for(var Pe=0;Pe<286;++Pe)X[Pe]=0;for(var Pe=0;Pe<30;++Pe)he[Pe]=0}var me=2,Fe=0,Oe=d,Me=ce-be&32767;if(Ce>2&&te==N(O-Me))for(var T=Math.min(g,Ce)-1,F=Math.min(32767,O),R=Math.min(258,Ce);Me<=F&&--Oe&&ce!=be;){if(r[O+me]==r[O+me-Me]){for(var B=0;B<R&&r[O+B]==r[O+B-Me];++B);if(B>me){if(me=B,Fe=Me,B>T)break;for(var Y=Math.min(Me,B-2),fe=0,Pe=0;Pe<Y;++Pe){var we=O-Me+Pe&32767,ve=y[we],_e=we-ve&32767;_e>fe&&(fe=_e,be=we)}}}ce=be,be=y[ce],Me+=ce-be&32767}if(Fe){I[ee++]=268435456|tm[me]<<18|fv[Fe];var je=tm[me]&31,Xe=fv[Fe]&31;q+=fg[je]+dg[Xe],++X[257+je],++he[Xe],P=O+me,++G}else I[ee++]=r[O],++X[r[O]]}}for(O=Math.max(O,P);O<a;++O)I[ee++]=r[O],++X[r[O]];u=pv(r,c,h,I,X,he,q,ee,z,O-z,u),h||(s.r=u&7|c[u/8|0]<<3,u-=7,s.h=b,s.p=y,s.i=O,s.w=P)}else{for(var O=s.w||0;O<a+h;O+=65535){var ct=O+65535;ct>=a&&(c[u/8|0]=h,ct=a),u=G_(c,u+1,r.subarray(O,ct))}s.i=a}return IN(o,0,n+q_(u)+i)},Z_=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=t[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},RN=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Qa(s.length+r.length);a.set(s),a.set(r,s.length),r=a,i.w=s.length}return PN(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},Y_=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},ON=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=Z_();i.p(e.dictionary),Y_(r,2,i.d())}};function im(r,e){e||(e={});var t=Z_();t.p(r);var n=RN(r,e,e.dictionary?6:2,4);return ON(n,e),Y_(n,n.length-4,t.d()),n}var FN=typeof TextDecoder<"u"&&new TextDecoder,MN=0;try{FN.decode($_,{stream:!0}),MN=1}catch(r){}function BN(r){if(Array.isArray(r))return r}function UN(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],c=!0,h=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(c=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(u){h=!0,i=u}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(h)throw i}}return o}}function mv(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function zN(r,e){if(r){if(typeof r=="string")return mv(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?mv(r,e):void 0}}function HN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gv(r,e){return BN(r)||UN(r,e)||zN(r,e)||HN()}function vv(r,e="utf8"){return new TextDecoder(e).decode(r)}const jN=new TextEncoder;function WN(r){return jN.encode(r)}const VN=1024*8,qN=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),Xp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class pg{constructor(e=VN,t={}){dt(this,"buffer");dt(this,"byteLength");dt(this,"byteOffset");dt(this,"length");dt(this,"offset");dt(this,"lastWrittenByte");dt(this,"littleEndian");dt(this,"_data");dt(this,"_mark");dt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let a=i;(ArrayBuffer.isView(e)||e instanceof pg)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=Xp[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+n);if(this.littleEndian===qN&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const c=new Xp[t](o.buffer);return this.offset+=n,c.reverse(),c}const a=new Xp[t](s);return this.offset+=n,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return vv(this.readBytes(e))}decodeText(e=1,t="utf8"){return vv(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(WN(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Gh(r){let e=r.length;for(;--e>=0;)r[e]=0}const GN=3,$N=258,K_=29,ZN=256,YN=ZN+1+K_,X_=30,KN=512,XN=new Array((YN+2)*2);Gh(XN);const JN=new Array(X_*2);Gh(JN);const QN=new Array(KN);Gh(QN);const eI=new Array($N-GN+1);Gh(eI);const tI=new Array(K_);Gh(tI);const rI=new Array(X_);Gh(rI);const nI=(r,e,t,n)=>{let i=r&65535|0,s=r>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do i=i+e[n++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var sm=nI;const iI=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},sI=new Uint32Array(iI()),aI=(r,e,t,n)=>{const i=sI,s=n+t;r^=-1;for(let a=n;a<s;a++)r=r>>>8^i[(r^e[a])&255];return r^-1};var vo=aI,am={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},J_={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const oI=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var lI=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)oI(t,n)&&(r[n]=t[n])}}return r},cI=r=>{let e=0;for(let n=0,i=r.length;n<i;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,i=0,s=r.length;n<s;n++){let a=r[n];t.set(a,i),i+=a.length}return t},Q_={assign:lI,flattenChunks:cI};let eb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){eb=!1}const Uu=new Uint8Array(256);for(let r=0;r<256;r++)Uu[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Uu[254]=Uu[254]=1;var hI=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,i,s,a=r.length,o=0;for(i=0;i<a;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)t=r.charCodeAt(i),(t&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const uI=(r,e)=>{if(e<65534&&r.subarray&&eb)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var fI=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,i;const s=new Array(t*2);for(i=0,n=0;n<t;){let a=r[n++];if(a<128){s[i++]=a;continue}let o=Uu[a];if(o>4){s[i++]=65533,n+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&n<t;)a=a<<6|r[n++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return uI(s,i)},dI=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Uu[r[t]]>e?t:e},om={string2buf:hI,buf2string:fI,utf8border:dI};function pI(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var mI=pI;const Rf=16209,gI=16191;var vI=function(e,t){let n,i,s,a,o,c,h,u,p,g,d,_,y,b,E,D,N,I,X,he,G,q,O,ee;const P=e.state;n=e.next_in,O=e.input,i=n+(e.avail_in-5),s=e.next_out,ee=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),c=P.dmax,h=P.wsize,u=P.whave,p=P.wnext,g=P.window,d=P.hold,_=P.bits,y=P.lencode,b=P.distcode,E=(1<<P.lenbits)-1,D=(1<<P.distbits)-1;e:do{_<15&&(d+=O[n++]<<_,_+=8,d+=O[n++]<<_,_+=8),N=y[d&E];t:for(;;){if(I=N>>>24,d>>>=I,_-=I,I=N>>>16&255,I===0)ee[s++]=N&65535;else if(I&16){X=N&65535,I&=15,I&&(_<I&&(d+=O[n++]<<_,_+=8),X+=d&(1<<I)-1,d>>>=I,_-=I),_<15&&(d+=O[n++]<<_,_+=8,d+=O[n++]<<_,_+=8),N=b[d&D];r:for(;;){if(I=N>>>24,d>>>=I,_-=I,I=N>>>16&255,I&16){if(he=N&65535,I&=15,_<I&&(d+=O[n++]<<_,_+=8,_<I&&(d+=O[n++]<<_,_+=8)),he+=d&(1<<I)-1,he>c){e.msg="invalid distance too far back",P.mode=Rf;break e}if(d>>>=I,_-=I,I=s-a,he>I){if(I=he-I,I>u&&P.sane){e.msg="invalid distance too far back",P.mode=Rf;break e}if(G=0,q=g,p===0){if(G+=h-I,I<X){X-=I;do ee[s++]=g[G++];while(--I);G=s-he,q=ee}}else if(p<I){if(G+=h+p-I,I-=p,I<X){X-=I;do ee[s++]=g[G++];while(--I);if(G=0,p<X){I=p,X-=I;do ee[s++]=g[G++];while(--I);G=s-he,q=ee}}}else if(G+=p-I,I<X){X-=I;do ee[s++]=g[G++];while(--I);G=s-he,q=ee}for(;X>2;)ee[s++]=q[G++],ee[s++]=q[G++],ee[s++]=q[G++],X-=3;X&&(ee[s++]=q[G++],X>1&&(ee[s++]=q[G++]))}else{G=s-he;do ee[s++]=ee[G++],ee[s++]=ee[G++],ee[s++]=ee[G++],X-=3;while(X>2);X&&(ee[s++]=ee[G++],X>1&&(ee[s++]=ee[G++]))}}else if(I&64){e.msg="invalid distance code",P.mode=Rf;break e}else{N=b[(N&65535)+(d&(1<<I)-1)];continue r}break}}else if(I&64)if(I&32){P.mode=gI;break e}else{e.msg="invalid literal/length code",P.mode=Rf;break e}else{N=y[(N&65535)+(d&(1<<I)-1)];continue t}break}}while(n<i&&s<o);X=_>>3,n-=X,_-=X<<3,d&=(1<<_)-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=s<o?257+(o-s):257-(s-o),P.hold=d,P.bits=_};const uh=15,wv=852,yv=592,_v=0,Jp=1,bv=2,wI=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yI=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_I=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),bI=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),xI=(r,e,t,n,i,s,a,o)=>{const c=o.bits;let h=0,u=0,p=0,g=0,d=0,_=0,y=0,b=0,E=0,D=0,N,I,X,he,G,q=null,O;const ee=new Uint16Array(uh+1),P=new Uint16Array(uh+1);let z=null,te,ce,be;for(h=0;h<=uh;h++)ee[h]=0;for(u=0;u<n;u++)ee[e[t+u]]++;for(d=c,g=uh;g>=1&&ee[g]===0;g--);if(d>g&&(d=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&ee[p]===0;p++);for(d<p&&(d=p),b=1,h=1;h<=uh;h++)if(b<<=1,b-=ee[h],b<0)return-1;if(b>0&&(r===_v||g!==1))return-1;for(P[1]=0,h=1;h<uh;h++)P[h+1]=P[h]+ee[h];for(u=0;u<n;u++)e[t+u]!==0&&(a[P[e[t+u]]++]=u);if(r===_v?(q=z=a,O=20):r===Jp?(q=wI,z=yI,O=257):(q=_I,z=bI,O=0),D=0,u=0,h=p,G=s,_=d,y=0,X=-1,E=1<<d,he=E-1,r===Jp&&E>wv||r===bv&&E>yv)return 1;for(;;){te=h-y,a[u]+1<O?(ce=0,be=a[u]):a[u]>=O?(ce=z[a[u]-O],be=q[a[u]-O]):(ce=96,be=0),N=1<<h-y,I=1<<_,p=I;do I-=N,i[G+(D>>y)+I]=te<<24|ce<<16|be|0;while(I!==0);for(N=1<<h-1;D&N;)N>>=1;if(N!==0?(D&=N-1,D+=N):D=0,u++,--ee[h]===0){if(h===g)break;h=e[t+a[u]]}if(h>d&&(D&he)!==X){for(y===0&&(y=d),G+=p,_=h-y,b=1<<_;_+y<g&&(b-=ee[_+y],!(b<=0));)_++,b<<=1;if(E+=1<<_,r===Jp&&E>wv||r===bv&&E>yv)return 1;X=D&he,i[X]=d<<24|_<<16|G-s|0}}return D!==0&&(i[G+D]=h-y<<24|64<<16|0),o.bits=d,0};var Eu=xI;const SI=0,tb=1,rb=2,{Z_FINISH:xv,Z_BLOCK:EI,Z_TREES:Of,Z_OK:Nc,Z_STREAM_END:AI,Z_NEED_DICT:TI,Z_STREAM_ERROR:_a,Z_DATA_ERROR:nb,Z_MEM_ERROR:ib,Z_BUF_ERROR:CI,Z_DEFLATED:Sv}=J_,ap=16180,Ev=16181,Av=16182,Tv=16183,Cv=16184,kv=16185,Dv=16186,Nv=16187,Iv=16188,Lv=16189,Ad=16190,jo=16191,Qp=16192,Pv=16193,e0=16194,Rv=16195,Ov=16196,Fv=16197,Mv=16198,Ff=16199,Mf=16200,Bv=16201,Uv=16202,zv=16203,Hv=16204,jv=16205,t0=16206,Wv=16207,Vv=16208,yn=16209,sb=16210,ab=16211,kI=852,DI=592,NI=15,II=NI,qv=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function LI(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vc=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<ap||e.mode>ab?1:0},ob=r=>{if(Vc(r))return _a;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=ap,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(kI),e.distcode=e.distdyn=new Int32Array(DI),e.sane=1,e.back=-1,Nc},lb=r=>{if(Vc(r))return _a;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,ob(r)},cb=(r,e)=>{let t;if(Vc(r))return _a;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?_a:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,lb(r))},hb=(r,e)=>{if(!r)return _a;const t=new LI;r.state=t,t.strm=r,t.window=null,t.mode=ap;const n=cb(r,e);return n!==Nc&&(r.state=null),n},PI=r=>hb(r,II);let Gv=!0,r0,n0;const RI=r=>{if(Gv){r0=new Int32Array(512),n0=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(Eu(tb,r.lens,0,288,r0,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;Eu(rb,r.lens,0,32,n0,0,r.work,{bits:5}),Gv=!1}r.lencode=r0,r.lenbits=9,r.distcode=n0,r.distbits=5},ub=(r,e,t,n)=>{let i;const s=r.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(e.subarray(t-n,t-n+i),s.wnext),n-=i,n?(s.window.set(e.subarray(t-n,t),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},OI=(r,e)=>{let t,n,i,s,a,o,c,h,u,p,g,d,_,y,b=0,E,D,N,I,X,he,G,q;const O=new Uint8Array(4);let ee,P;const z=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vc(r)||!r.output||!r.input&&r.avail_in!==0)return _a;t=r.state,t.mode===jo&&(t.mode=Qp),a=r.next_out,i=r.output,c=r.avail_out,s=r.next_in,n=r.input,o=r.avail_in,h=t.hold,u=t.bits,p=o,g=c,q=Nc;e:for(;;)switch(t.mode){case ap:if(t.wrap===0){t.mode=Qp;break}for(;u<16;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,O[0]=h&255,O[1]=h>>>8&255,t.check=vo(t.check,O,2,0),h=0,u=0,t.mode=Ev;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){r.msg="incorrect header check",t.mode=yn;break}if((h&15)!==Sv){r.msg="unknown compression method",t.mode=yn;break}if(h>>>=4,u-=4,G=(h&15)+8,t.wbits===0&&(t.wbits=G),G>15||G>t.wbits){r.msg="invalid window size",t.mode=yn;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=h&512?Lv:jo,h=0,u=0;break;case Ev:for(;u<16;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}if(t.flags=h,(t.flags&255)!==Sv){r.msg="unknown compression method",t.mode=yn;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=yn;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(O[0]=h&255,O[1]=h>>>8&255,t.check=vo(t.check,O,2,0)),h=0,u=0,t.mode=Av;case Av:for(;u<32;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(O[0]=h&255,O[1]=h>>>8&255,O[2]=h>>>16&255,O[3]=h>>>24&255,t.check=vo(t.check,O,4,0)),h=0,u=0,t.mode=Tv;case Tv:for(;u<16;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(O[0]=h&255,O[1]=h>>>8&255,t.check=vo(t.check,O,2,0)),h=0,u=0,t.mode=Cv;case Cv:if(t.flags&1024){for(;u<16;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(O[0]=h&255,O[1]=h>>>8&255,t.check=vo(t.check,O,2,0)),h=0,u=0}else t.head&&(t.head.extra=null);t.mode=kv;case kv:if(t.flags&1024&&(d=t.length,d>o&&(d=o),d&&(t.head&&(G=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(s,s+d),G)),t.flags&512&&t.wrap&4&&(t.check=vo(t.check,n,d,s)),o-=d,s+=d,t.length-=d),t.length))break e;t.length=0,t.mode=Dv;case Dv:if(t.flags&2048){if(o===0)break e;d=0;do G=n[s+d++],t.head&&G&&t.length<65536&&(t.head.name+=String.fromCharCode(G));while(G&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=vo(t.check,n,d,s)),o-=d,s+=d,G)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=Nv;case Nv:if(t.flags&4096){if(o===0)break e;d=0;do G=n[s+d++],t.head&&G&&t.length<65536&&(t.head.comment+=String.fromCharCode(G));while(G&&d<o);if(t.flags&512&&t.wrap&4&&(t.check=vo(t.check,n,d,s)),o-=d,s+=d,G)break e}else t.head&&(t.head.comment=null);t.mode=Iv;case Iv:if(t.flags&512){for(;u<16;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}if(t.wrap&4&&h!==(t.check&65535)){r.msg="header crc mismatch",t.mode=yn;break}h=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=jo;break;case Lv:for(;u<32;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}r.adler=t.check=qv(h),h=0,u=0,t.mode=Ad;case Ad:if(t.havedict===0)return r.next_out=a,r.avail_out=c,r.next_in=s,r.avail_in=o,t.hold=h,t.bits=u,TI;r.adler=t.check=1,t.mode=jo;case jo:if(e===EI||e===Of)break e;case Qp:if(t.last){h>>>=u&7,u-=u&7,t.mode=t0;break}for(;u<3;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}switch(t.last=h&1,h>>>=1,u-=1,h&3){case 0:t.mode=Pv;break;case 1:if(RI(t),t.mode=Ff,e===Of){h>>>=2,u-=2;break e}break;case 2:t.mode=Ov;break;case 3:r.msg="invalid block type",t.mode=yn}h>>>=2,u-=2;break;case Pv:for(h>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}if((h&65535)!==(h>>>16^65535)){r.msg="invalid stored block lengths",t.mode=yn;break}if(t.length=h&65535,h=0,u=0,t.mode=e0,e===Of)break e;case e0:t.mode=Rv;case Rv:if(d=t.length,d){if(d>o&&(d=o),d>c&&(d=c),d===0)break e;i.set(n.subarray(s,s+d),a),o-=d,s+=d,c-=d,a+=d,t.length-=d;break}t.mode=jo;break;case Ov:for(;u<14;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}if(t.nlen=(h&31)+257,h>>>=5,u-=5,t.ndist=(h&31)+1,h>>>=5,u-=5,t.ncode=(h&15)+4,h>>>=4,u-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=yn;break}t.have=0,t.mode=Fv;case Fv:for(;t.have<t.ncode;){for(;u<3;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}t.lens[z[t.have++]]=h&7,h>>>=3,u-=3}for(;t.have<19;)t.lens[z[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,ee={bits:t.lenbits},q=Eu(SI,t.lens,0,19,t.lencode,0,t.work,ee),t.lenbits=ee.bits,q){r.msg="invalid code lengths set",t.mode=yn;break}t.have=0,t.mode=Mv;case Mv:for(;t.have<t.nlen+t.ndist;){for(;b=t.lencode[h&(1<<t.lenbits)-1],E=b>>>24,D=b>>>16&255,N=b&65535,!(E<=u);){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}if(N<16)h>>>=E,u-=E,t.lens[t.have++]=N;else{if(N===16){for(P=E+2;u<P;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}if(h>>>=E,u-=E,t.have===0){r.msg="invalid bit length repeat",t.mode=yn;break}G=t.lens[t.have-1],d=3+(h&3),h>>>=2,u-=2}else if(N===17){for(P=E+3;u<P;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}h>>>=E,u-=E,G=0,d=3+(h&7),h>>>=3,u-=3}else{for(P=E+7;u<P;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}h>>>=E,u-=E,G=0,d=11+(h&127),h>>>=7,u-=7}if(t.have+d>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=yn;break}for(;d--;)t.lens[t.have++]=G}}if(t.mode===yn)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=yn;break}if(t.lenbits=9,ee={bits:t.lenbits},q=Eu(tb,t.lens,0,t.nlen,t.lencode,0,t.work,ee),t.lenbits=ee.bits,q){r.msg="invalid literal/lengths set",t.mode=yn;break}if(t.distbits=6,t.distcode=t.distdyn,ee={bits:t.distbits},q=Eu(rb,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,ee),t.distbits=ee.bits,q){r.msg="invalid distances set",t.mode=yn;break}if(t.mode=Ff,e===Of)break e;case Ff:t.mode=Mf;case Mf:if(o>=6&&c>=258){r.next_out=a,r.avail_out=c,r.next_in=s,r.avail_in=o,t.hold=h,t.bits=u,vI(r,g),a=r.next_out,i=r.output,c=r.avail_out,s=r.next_in,n=r.input,o=r.avail_in,h=t.hold,u=t.bits,t.mode===jo&&(t.back=-1);break}for(t.back=0;b=t.lencode[h&(1<<t.lenbits)-1],E=b>>>24,D=b>>>16&255,N=b&65535,!(E<=u);){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}if(D&&!(D&240)){for(I=E,X=D,he=N;b=t.lencode[he+((h&(1<<I+X)-1)>>I)],E=b>>>24,D=b>>>16&255,N=b&65535,!(I+E<=u);){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}h>>>=I,u-=I,t.back+=I}if(h>>>=E,u-=E,t.back+=E,t.length=N,D===0){t.mode=jv;break}if(D&32){t.back=-1,t.mode=jo;break}if(D&64){r.msg="invalid literal/length code",t.mode=yn;break}t.extra=D&15,t.mode=Bv;case Bv:if(t.extra){for(P=t.extra;u<P;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Uv;case Uv:for(;b=t.distcode[h&(1<<t.distbits)-1],E=b>>>24,D=b>>>16&255,N=b&65535,!(E<=u);){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}if(!(D&240)){for(I=E,X=D,he=N;b=t.distcode[he+((h&(1<<I+X)-1)>>I)],E=b>>>24,D=b>>>16&255,N=b&65535,!(I+E<=u);){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}h>>>=I,u-=I,t.back+=I}if(h>>>=E,u-=E,t.back+=E,D&64){r.msg="invalid distance code",t.mode=yn;break}t.offset=N,t.extra=D&15,t.mode=zv;case zv:if(t.extra){for(P=t.extra;u<P;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=yn;break}t.mode=Hv;case Hv:if(c===0)break e;if(d=g-c,t.offset>d){if(d=t.offset-d,d>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=yn;break}d>t.wnext?(d-=t.wnext,_=t.wsize-d):_=t.wnext-d,d>t.length&&(d=t.length),y=t.window}else y=i,_=a-t.offset,d=t.length;d>c&&(d=c),c-=d,t.length-=d;do i[a++]=y[_++];while(--d);t.length===0&&(t.mode=Mf);break;case jv:if(c===0)break e;i[a++]=t.length,c--,t.mode=Mf;break;case t0:if(t.wrap){for(;u<32;){if(o===0)break e;o--,h|=n[s++]<<u,u+=8}if(g-=c,r.total_out+=g,t.total+=g,t.wrap&4&&g&&(r.adler=t.check=t.flags?vo(t.check,i,g,a-g):sm(t.check,i,g,a-g)),g=c,t.wrap&4&&(t.flags?h:qv(h))!==t.check){r.msg="incorrect data check",t.mode=yn;break}h=0,u=0}t.mode=Wv;case Wv:if(t.wrap&&t.flags){for(;u<32;){if(o===0)break e;o--,h+=n[s++]<<u,u+=8}if(t.wrap&4&&h!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=yn;break}h=0,u=0}t.mode=Vv;case Vv:q=AI;break e;case yn:q=nb;break e;case sb:return ib;case ab:default:return _a}return r.next_out=a,r.avail_out=c,r.next_in=s,r.avail_in=o,t.hold=h,t.bits=u,(t.wsize||g!==r.avail_out&&t.mode<yn&&(t.mode<t0||e!==xv))&&ub(r,r.output,r.next_out,g-r.avail_out),p-=r.avail_in,g-=r.avail_out,r.total_in+=p,r.total_out+=g,t.total+=g,t.wrap&4&&g&&(r.adler=t.check=t.flags?vo(t.check,i,g,r.next_out-g):sm(t.check,i,g,r.next_out-g)),r.data_type=t.bits+(t.last?64:0)+(t.mode===jo?128:0)+(t.mode===Ff||t.mode===e0?256:0),(p===0&&g===0||e===xv)&&q===Nc&&(q=CI),q},FI=r=>{if(Vc(r))return _a;let e=r.state;return e.window&&(e.window=null),r.state=null,Nc},MI=(r,e)=>{if(Vc(r))return _a;const t=r.state;return t.wrap&2?(t.head=e,e.done=!1,Nc):_a},BI=(r,e)=>{const t=e.length;let n,i,s;return Vc(r)||(n=r.state,n.wrap!==0&&n.mode!==Ad)?_a:n.mode===Ad&&(i=1,i=sm(i,e,t,0),i!==n.check)?nb:(s=ub(r,e,t,t),s?(n.mode=sb,ib):(n.havedict=1,Nc))};var UI=lb,zI=cb,HI=ob,jI=PI,WI=hb,VI=OI,qI=FI,GI=MI,$I=BI,ZI="pako inflate (from Nodeca project)",Vo={inflateReset:UI,inflateReset2:zI,inflateResetKeep:HI,inflateInit:jI,inflateInit2:WI,inflate:VI,inflateEnd:qI,inflateGetHeader:GI,inflateSetDictionary:$I,inflateInfo:ZI};function YI(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var KI=YI;const fb=Object.prototype.toString,{Z_NO_FLUSH:XI,Z_FINISH:JI,Z_OK:zu,Z_STREAM_END:i0,Z_NEED_DICT:s0,Z_STREAM_ERROR:QI,Z_DATA_ERROR:$v,Z_MEM_ERROR:eL}=J_;function tf(r){this.options=Q_.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new mI,this.strm.avail_out=0;let t=Vo.inflateInit2(this.strm,e.windowBits);if(t!==zu)throw new Error(am[t]);if(this.header=new KI,Vo.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=om.string2buf(e.dictionary):fb.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Vo.inflateSetDictionary(this.strm,e.dictionary),t!==zu)))throw new Error(am[t])}tf.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?JI:XI,fb.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),s=Vo.inflate(t,a),s===s0&&i&&(s=Vo.inflateSetDictionary(t,i),s===zu?s=Vo.inflate(t,a):s===$v&&(s=s0));t.avail_in>0&&s===i0&&t.state.wrap>0&&r[t.next_in]!==0;)Vo.inflateReset(t),s=Vo.inflate(t,a);switch(s){case QI:case $v:case s0:case eL:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===i0))if(this.options.to==="string"){let c=om.utf8border(t.output,t.next_out),h=t.next_out-c,u=om.buf2string(t.output,c);t.next_out=h,t.avail_out=n-h,h&&t.output.set(t.output.subarray(c,c+h),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===zu&&o===0)){if(s===i0)return s=Vo.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};tf.prototype.onData=function(r){this.chunks.push(r)};tf.prototype.onEnd=function(r){r===zu&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Q_.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function tL(r,e){const t=new tf(e);if(t.push(r),t.err)throw t.msg||am[t.err];return t.result}var rL=tf,nL=tL,iL={Inflate:rL,inflate:nL};const{Inflate:sL,inflate:aL}=iL;var Zv=sL,oL=aL;const db=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;db[r]=e}const Yv=4294967295;function lL(r,e,t){let n=r;for(let i=0;i<t;i++)n=db[(n^e[i])&255]^n>>>8;return n}function cL(r,e){return(lL(Yv,r,e)^Yv)>>>0}function Kv(r,e,t){const n=r.readUint32(),i=cL(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(i!==n)throw new Error("CRC mismatch for chunk ".concat(t,". Expected ").concat(n,", found ").concat(i))}function pb(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function mb(r,e,t,n){let i=0;for(;i<n;i++)e[i]=r[i];for(;i<t;i++)e[i]=r[i]+e[i-n]&255}function gb(r,e,t,n){let i=0;if(t.length===0)for(;i<n;i++)e[i]=r[i];else for(;i<n;i++)e[i]=r[i]+t[i]&255}function vb(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=r[s]+(t[s]>>1)&255;for(;s<n;s++)e[s]=r[s]+(e[s-i]+t[s]>>1)&255}}function wb(r,e,t,n,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=r[s];for(;s<n;s++)e[s]=r[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=r[s]+t[s]&255;for(;s<n;s++)e[s]=r[s]+hL(e[s-i],t[s],t[s-i])&255}}function hL(r,e,t){const n=r+e-t,i=Math.abs(n-r),s=Math.abs(n-e),a=Math.abs(n-t);return i<=s&&i<=a?r:s<=a?e:t}function uL(r,e,t,n,i,s){switch(r){case 0:pb(e,t,i);break;case 1:mb(e,t,i,s);break;case 2:gb(e,t,n,i);break;case 3:vb(e,t,n,i,s);break;case 4:wb(e,t,n,i,s);break;default:throw new Error("Unsupported filter: ".concat(r))}}const fL=new Uint16Array([255]),dL=new Uint8Array(fL.buffer),pL=dL[0]===255;function mL(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,c=new Uint8Array(n*t*o);let h=0;for(let u=0;u<7;u++){const p=a[u],g=Math.ceil((t-p.x)/p.xStep),d=Math.ceil((n-p.y)/p.yStep);if(g<=0||d<=0)continue;const _=g*o,y=new Uint8Array(_);for(let b=0;b<d;b++){const E=e[h++],D=e.subarray(h,h+_);h+=_;const N=new Uint8Array(_);uL(E,D,N,y,_,o),y.set(N);for(let I=0;I<g;I++){const X=p.x+I*p.xStep,he=p.y+b*p.yStep;if(!(X>=t||he>=n))for(let G=0;G<o;G++)c[(he*t+X)*o+G]=N[I*o+G]}}}if(s===16){const u=new Uint16Array(c.buffer);if(pL)for(let p=0;p<u.length;p++)u[p]=gL(u[p]);return u}else return c}function gL(r){return(r&255)<<8|r>>8&255}const vL=new Uint16Array([255]),wL=new Uint8Array(vL.buffer),yL=wL[0]===255,_L=new Uint8Array(0);function Xv(r){const{data:e,width:t,height:n,channels:i,depth:s}=r,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*t),c=new Uint8Array(n*o);let h=_L,u=0,p,g;for(let d=0;d<n;d++){switch(p=e.subarray(u+1,u+1+o),g=c.subarray(d*o,(d+1)*o),e[u]){case 0:pb(p,g,o);break;case 1:mb(p,g,o,a);break;case 2:gb(p,g,h,o);break;case 3:vb(p,g,h,o,a);break;case 4:wb(p,g,h,o,a);break;default:throw new Error("Unsupported filter: ".concat(e[u]))}h=g,u+=o+1}if(s===16){const d=new Uint16Array(c.buffer);if(yL)for(let _=0;_<d.length;_++)d[_]=bL(d[_]);return d}else return c}function bL(r){return(r&255)<<8|r>>8&255}const Kf=Uint8Array.of(137,80,78,71,13,10,26,10);function Jv(r){if(!xL(r.readBytes(Kf.length)))throw new Error("wrong PNG signature")}function xL(r){if(r.length<Kf.length)return!1;for(let e=0;e<Kf.length;e++)if(r[e]!==Kf[e])return!1;return!0}const SL="tEXt",EL=0,yb=new TextDecoder("latin1");function AL(r){if(CL(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const TL=/^[\u0000-\u00FF]*$/;function CL(r){if(!TL.test(r))throw new Error("invalid latin1 text")}function kL(r,e,t){const n=_b(e);r[n]=DL(e,t-n.length-1)}function _b(r){for(r.mark();r.readByte()!==EL;);const e=r.offset;r.reset();const t=yb.decode(r.readBytes(e-r.offset-1));return r.skip(1),AL(t),t}function DL(r,e){return yb.decode(r.readBytes(e))}const qs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},a0={UNKNOWN:-1,DEFLATE:0},Qv={UNKNOWN:-1,ADAPTIVE:0},o0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Bf={NONE:0,BACKGROUND:1,PREVIOUS:2},l0={SOURCE:0,OVER:1};class NL extends pg{constructor(t,n={}){super(t);dt(this,"_checkCrc");dt(this,"_inflator");dt(this,"_png");dt(this,"_apng");dt(this,"_end");dt(this,"_hasPalette");dt(this,"_palette");dt(this,"_hasTransparency");dt(this,"_transparency");dt(this,"_compressionMethod");dt(this,"_filterMethod");dt(this,"_interlaceMethod");dt(this,"_colorType");dt(this,"_isAnimated");dt(this,"_numberOfFrames");dt(this,"_numberOfPlays");dt(this,"_frames");dt(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new Zv,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=a0.UNKNOWN,this._filterMethod=Qv.UNKNOWN,this._interlaceMethod=o0.UNKNOWN,this._colorType=qs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Jv(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(Jv(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case SL:kL(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-i!==t)throw new Error("Length mismatch while decoding chunk ".concat(n));this._checkCrc?Kv(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=i+t;break}if(this.offset-i!==t)throw new Error("Length mismatch while decoding chunk ".concat(n));this._checkCrc?Kv(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=IL(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case qs.GREYSCALE:i=1;break;case qs.TRUECOLOUR:i=3;break;case qs.INDEXED_COLOUR:i=1;break;case qs.GREYSCALE_ALPHA:i=2;break;case qs.TRUECOLOUR_ALPHA:i=4;break;case qs.UNKNOWN:default:throw new Error("Unknown color type: ".concat(n))}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==a0.DEFLATE)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(t));const n=t/3;this._hasPalette=!0;const i=[];this._palette=i;for(let s=0;s<n;s++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(t)}decodetRNS(t){switch(this._colorType){case qs.GREYSCALE:case qs.TRUECOLOUR:{if(t%2!==0)throw new RangeError("tRNS chunk length must be a multiple of 2. Got ".concat(t));if(t/2>this._png.width*this._png.height)throw new Error("tRNS chunk contains more alpha values than there are pixels (".concat(t/2," vs ").concat(this._png.width*this._png.height,")"));this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case qs.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(t," vs ").concat(this._palette.length,")"));let n=0;for(;n<t;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case qs.UNKNOWN:case qs.GREYSCALE_ALPHA:case qs.TRUECOLOUR_ALPHA:default:throw new Error("tRNS chunk is not supported for color type ".concat(this._colorType))}}decodeiCCP(t){const n=_b(this),i=this.readUint8();if(i!==a0.DEFLATE)throw new Error("Unsupported iCCP compression method: ".concat(i));const s=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:oL(s)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:t,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(t);if(i){if(i.data=Xv({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(i,s,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,i){switch(t.disposeOp){case Bf.NONE:break;case Bf.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*t.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[o+c]=0}break;case Bf.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const i=1<<this._png.depth,s=(a,o)=>{const c=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,h=(a*n.width+o)*this._png.channels;return{index:c,frameIndex:h}};switch(n.blendOp){case l0.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:h}=s(a,o);for(let u=0;u<this._png.channels;u++)t.data[c+u]=n.data[h+u]}break;case l0.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:h}=s(a,o);for(let u=0;u<this._png.channels;u++){const p=n.data[h+this._png.channels-1]/i,g=u%(this._png.channels-1)===0?1:n.data[h+u],d=Math.floor(p*g+(1-p)*t.data[c+u]);t.data[c+u]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Qv.ADAPTIVE)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod===o0.NO_INTERLACE)this._png.data=Xv({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===o0.ADAM7)this._png.data=mL({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Bf.NONE,blendOp:l0.SOURCE,data:t}),this._inflator=new Zv,this._writingDataChunks=!1}}function IL(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error("invalid bit depth: ".concat(r));return r}var ew;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(ew||(ew={}));function LL(r,e){return new NL(r,e).decode()}var ir=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function c0(){ir.console&&typeof ir.console.log=="function"&&ir.console.log.apply(ir.console,arguments)}var nn={log:c0,warn:function(r){ir.console&&(typeof ir.console.warn=="function"?ir.console.warn.apply(ir.console,arguments):c0.call(null,arguments))},error:function(r){ir.console&&(typeof ir.console.error=="function"?ir.console.error.apply(ir.console,arguments):c0(r))}};function h0(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){fc(n.response,e,t)},n.onerror=function(){nn.error("could not download file")},n.send()}function tw(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch(t){}return e.status>=200&&e.status<=299}function Uf(r){try{r.dispatchEvent(new MouseEvent("click"))}catch(t){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var fc=ir.saveAs||((typeof window>"u"?"undefined":Yr(window))!=="object"||window!==ir?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=ir.URL||ir.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?tw(i.href)?h0(r,e,t):Uf(i,i.target="_blank"):Uf(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Uf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(tw(r))h0(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){Uf(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Yr(s)!=="object"&&(nn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return h0(r,e,t);var i=r.type==="application/octet-stream",s=/constructor/i.test(ir.HTMLElement)||ir.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Yr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(r)}else{var c=ir.URL||ir.webkitURL,h=c.createObjectURL(r);n?n.location=h:location.href=h,n=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function bb(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,s=t[n].process,a=i.exec(r);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+o+c+h}}var Xf=ir.atob.bind(ir),rw=ir.btoa.bind(ir);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function u0(r,e){var t=r[0],n=r[1],i=r[2],s=r[3];t=Mi(t,n,i,s,e[0],7,-680876936),s=Mi(s,t,n,i,e[1],12,-389564586),i=Mi(i,s,t,n,e[2],17,606105819),n=Mi(n,i,s,t,e[3],22,-1044525330),t=Mi(t,n,i,s,e[4],7,-176418897),s=Mi(s,t,n,i,e[5],12,1200080426),i=Mi(i,s,t,n,e[6],17,-1473231341),n=Mi(n,i,s,t,e[7],22,-45705983),t=Mi(t,n,i,s,e[8],7,1770035416),s=Mi(s,t,n,i,e[9],12,-1958414417),i=Mi(i,s,t,n,e[10],17,-42063),n=Mi(n,i,s,t,e[11],22,-1990404162),t=Mi(t,n,i,s,e[12],7,1804603682),s=Mi(s,t,n,i,e[13],12,-40341101),i=Mi(i,s,t,n,e[14],17,-1502002290),t=Bi(t,n=Mi(n,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Bi(s,t,n,i,e[6],9,-1069501632),i=Bi(i,s,t,n,e[11],14,643717713),n=Bi(n,i,s,t,e[0],20,-373897302),t=Bi(t,n,i,s,e[5],5,-701558691),s=Bi(s,t,n,i,e[10],9,38016083),i=Bi(i,s,t,n,e[15],14,-660478335),n=Bi(n,i,s,t,e[4],20,-405537848),t=Bi(t,n,i,s,e[9],5,568446438),s=Bi(s,t,n,i,e[14],9,-1019803690),i=Bi(i,s,t,n,e[3],14,-187363961),n=Bi(n,i,s,t,e[8],20,1163531501),t=Bi(t,n,i,s,e[13],5,-1444681467),s=Bi(s,t,n,i,e[2],9,-51403784),i=Bi(i,s,t,n,e[7],14,1735328473),t=Ui(t,n=Bi(n,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ui(s,t,n,i,e[8],11,-2022574463),i=Ui(i,s,t,n,e[11],16,1839030562),n=Ui(n,i,s,t,e[14],23,-35309556),t=Ui(t,n,i,s,e[1],4,-1530992060),s=Ui(s,t,n,i,e[4],11,1272893353),i=Ui(i,s,t,n,e[7],16,-155497632),n=Ui(n,i,s,t,e[10],23,-1094730640),t=Ui(t,n,i,s,e[13],4,681279174),s=Ui(s,t,n,i,e[0],11,-358537222),i=Ui(i,s,t,n,e[3],16,-722521979),n=Ui(n,i,s,t,e[6],23,76029189),t=Ui(t,n,i,s,e[9],4,-640364487),s=Ui(s,t,n,i,e[12],11,-421815835),i=Ui(i,s,t,n,e[15],16,530742520),t=zi(t,n=Ui(n,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=zi(s,t,n,i,e[7],10,1126891415),i=zi(i,s,t,n,e[14],15,-1416354905),n=zi(n,i,s,t,e[5],21,-57434055),t=zi(t,n,i,s,e[12],6,1700485571),s=zi(s,t,n,i,e[3],10,-1894986606),i=zi(i,s,t,n,e[10],15,-1051523),n=zi(n,i,s,t,e[1],21,-2054922799),t=zi(t,n,i,s,e[8],6,1873313359),s=zi(s,t,n,i,e[15],10,-30611744),i=zi(i,s,t,n,e[6],15,-1560198380),n=zi(n,i,s,t,e[13],21,1309151649),t=zi(t,n,i,s,e[4],6,-145523070),s=zi(s,t,n,i,e[11],10,-1120210379),i=zi(i,s,t,n,e[2],15,718787259),n=zi(n,i,s,t,e[9],21,-343485551),r[0]=Il(t,r[0]),r[1]=Il(n,r[1]),r[2]=Il(i,r[2]),r[3]=Il(s,r[3])}function op(r,e,t,n,i,s){return e=Il(Il(e,r),Il(n,s)),Il(e<<i|e>>>32-i,t)}function Mi(r,e,t,n,i,s,a){return op(e&t|~e&n,r,e,i,s,a)}function Bi(r,e,t,n,i,s,a){return op(e&n|t&~n,r,e,i,s,a)}function Ui(r,e,t,n,i,s,a){return op(e^t^n,r,e,i,s,a)}function zi(r,e,t,n,i,s,a){return op(t^(e|~n),r,e,i,s,a)}function xb(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)u0(n,PL(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(u0(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,u0(n,i),n}function PL(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var nw="0123456789abcdef".split("");function RL(r){for(var e="",t=0;t<4;t++)e+=nw[r>>8*t+4&15]+nw[r>>8*t&15];return e}function OL(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function lm(r){return xb(r).map(OL).join("")}var FL=function(r){for(var e=0;e<r.length;e++)r[e]=RL(r[e]);return r.join("")}(xb("hello"))!="5d41402abc4b2a76b9719d911017c592";function Il(r,e){if(FL){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function cm(r,e){var t,n,i,s;if(r!==t){for(var a=(i=r,s=1+(256/r.length|0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var h=0;for(c=0;c<256;c++){var u=o[c];h=(h+u+a.charCodeAt(c))%256,o[c]=o[h],o[h]=u}t=r,n=o}else o=n;var p=e.length,g=0,d=0,_="";for(c=0;c<p;c++)d=(d+(u=o[g=(g+1)%256]))%256,o[g]=o[d],o[d]=u,a=o[(o[g]+o[d])%256],_+=String.fromCharCode(e.charCodeAt(c)^a);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var iw={print:4,modify:8,copy:16,"annot-forms":32};function gh(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(o){if(iw.perm!==void 0)throw new Error("Invalid permission: "+o);i+=iw[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=lm(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=cm(this.encryptionKey,this.padding)}function vh(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):r[n]}return e}function sw(r){if(Yr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!i],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(r,n)}catch(o){ir.console&&nn.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Td(r){if(!(this instanceof Td))return new Td(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function Sb(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function vc(r,e,t,n,i){if(!(this instanceof vc))return new vc(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,Sb.call(this,n,i)}function _h(r,e,t,n,i){if(!(this instanceof _h))return new _h(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Sb.call(this,n,i)}function Bt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,c=16,h="S",u=null;Yr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(u=r.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(c=r.floatPrecision),h=r.defaultPathOperation||"S"),a=r.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var p=r.putOnlyUsedFonts||!1,g={},d={internal:{},__private__:{}};d.__private__.PubSub=sw;var _="1.3",y=d.__private__.getPdfVersion=function(){return _};d.__private__.setPdfVersion=function(x){_=x};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return b};var E=d.__private__.getPageFormat=function(x){return b[x]};i=i||"a4";var D="compat",N="advanced",I=D;function X(){this.saveGraphicsState(),le(new zt(Wt,0,0,-Wt,0,Po()*Wt).toString()+" cm"),this.setFontSize(this.getFontSize()/Wt),h="n",I=N}function he(){this.restoreGraphicsState(),h="S",I=D}var G=d.__private__.combineFontStyleAndFontWeight=function(x,M){if(x=="bold"&&M=="normal"||x=="bold"&&M==400||x=="normal"&&M=="italic"||x=="bold"&&M=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return M&&(x=M==400||M==="normal"?x==="italic"?"italic":"normal":M!=700&&M!=="bold"||x!=="normal"?(M==700?"bold":M)+""+x:"bold"),x};d.advancedAPI=function(x){var M=I===D;return M&&X.call(this),typeof x!="function"||(x(this),M&&he.call(this)),this},d.compatAPI=function(x){var M=I===N;return M&&he.call(this),typeof x!="function"||(x(this),M&&X.call(this)),this},d.isAdvancedAPI=function(){return I===N};var q,O=function(x){if(I!==N)throw new Error(x+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=d.roundToPrecision=d.__private__.roundToPrecision=function(x,M){var re=e||M;if(isNaN(x)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return x.toFixed(re).replace(/0+$/,"")};q=d.hpf=d.__private__.hpf=typeof c=="number"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(x,c)}:c==="smart"?function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(x,x>-1&&x<1?16:5)}:function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(x,16)};var P=d.f2=d.__private__.f2=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f2");return ee(x,2)},z=d.__private__.f3=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.f3");return ee(x,3)},te=d.scale=d.__private__.scale=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.scale");return I===D?x*Wt:I===N?x:void 0},ce=function(x){return te(function(M){return I===D?Po()-M:I===N?M:void 0}(x))};d.__private__.setPrecision=d.setPrecision=function(x){typeof parseInt(x,10)=="number"&&(e=parseInt(x,10))};var be,Ce="00000000000000000000000000000000",Pe=d.__private__.getFileId=function(){return Ce},me=d.__private__.setFileId=function(x){return Ce=x!==void 0&&/^[a-fA-F0-9]{32}$/.test(x)?x.toUpperCase():Ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(an=new gh(u.userPermissions,u.userPassword,u.ownerPassword,Ce)),Ce};d.setFileId=function(x){return me(x),this},d.getFileId=function(){return Pe()};var Fe=d.__private__.convertDateToPDFDate=function(x){var M=x.getTimezoneOffset(),re=M<0?"+":"-",pe=Math.floor(Math.abs(M/60)),Se=Math.abs(M%60),We=[re,R(pe),"'",R(Se),"'"].join("");return["D:",x.getFullYear(),R(x.getMonth()+1),R(x.getDate()),R(x.getHours()),R(x.getMinutes()),R(x.getSeconds()),We].join("")},Oe=d.__private__.convertPDFDateToDate=function(x){var M=parseInt(x.substr(2,4),10),re=parseInt(x.substr(6,2),10)-1,pe=parseInt(x.substr(8,2),10),Se=parseInt(x.substr(10,2),10),We=parseInt(x.substr(12,2),10),tt=parseInt(x.substr(14,2),10);return new Date(M,re,pe,Se,We,tt,0)},Me=d.__private__.setCreationDate=function(x){var M;if(x===void 0&&(x=new Date),x instanceof Date)M=Fe(x);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(x))throw new Error("Invalid argument passed to jsPDF.setCreationDate");M=x}return be=M},T=d.__private__.getCreationDate=function(x){var M=be;return x==="jsDate"&&(M=Oe(be)),M};d.setCreationDate=function(x){return Me(x),this},d.getCreationDate=function(x){return T(x)};var F,R=d.__private__.padd2=function(x){return("0"+parseInt(x)).slice(-2)},B=d.__private__.padd2Hex=function(x){return("00"+(x=x.toString())).substr(x.length)},Y=0,fe=[],we=[],ve=0,_e=[],je=[],Xe=!1,ct=we;d.__private__.setCustomOutputDestination=function(x){Xe=!0,ct=x};var Ne=function(x){Xe||(ct=x)};d.__private__.resetCustomOutputDestination=function(){Xe=!1,ct=we};var le=d.__private__.out=function(x){return x=x.toString(),ve+=x.length+1,ct.push(x),ct},Nt=d.__private__.write=function(x){return le(arguments.length===1?x.toString():Array.prototype.join.call(arguments," "))},Qe=d.__private__.getArrayBuffer=function(x){for(var M=x.length,re=new ArrayBuffer(M),pe=new Uint8Array(re);M--;)pe[M]=x.charCodeAt(M);return re},St=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return St};var st=r.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(x){return st=I===N?x/Wt:x,this};var Et,mt=d.__private__.getFontSize=d.getFontSize=function(){return I===D?st:st*Wt},Jt=r.R2L||!1;d.__private__.setR2L=d.setR2L=function(x){return Jt=x,this},d.__private__.getR2L=d.getR2L=function(){return Jt};var It,lr=d.__private__.setZoomMode=function(x){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(x))Et=x;else if(isNaN(x)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(x)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+x+'" is not recognized.');Et=x}else Et=parseInt(x,10)};d.__private__.getZoomMode=function(){return Et};var Zt,Gt=d.__private__.setPageMode=function(x){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(x)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+x+'" is not recognized.');It=x};d.__private__.getPageMode=function(){return It};var yr=d.__private__.setLayoutMode=function(x){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(x)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+x+'" is not recognized.');Zt=x};d.__private__.getLayoutMode=function(){return Zt},d.__private__.setDisplayMode=d.setDisplayMode=function(x,M,re){return lr(x),yr(M),Gt(re),this};var jt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(x){if(Object.keys(jt).indexOf(x)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return jt[x]},d.__private__.getDocumentProperties=function(){return jt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(x){for(var M in jt)jt.hasOwnProperty(M)&&x[M]&&(jt[M]=x[M]);return this},d.__private__.setDocumentProperty=function(x,M){if(Object.keys(jt).indexOf(x)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return jt[x]=M};var Ot,Wt,Lt,Lr,wr,Tt={},Kt={},Pr=[],Ft={},pr={},Qt={},en={},vn=null,Dr=0,Vt=[],Sr=new sw(d),Aa=r.hotfixes||[],Gn={},Ds={},as=[],zt=function x(M,re,pe,Se,We,tt){if(!(this instanceof x))return new x(M,re,pe,Se,We,tt);isNaN(M)&&(M=1),isNaN(re)&&(re=0),isNaN(pe)&&(pe=0),isNaN(Se)&&(Se=1),isNaN(We)&&(We=0),isNaN(tt)&&(tt=0),this._matrix=[M,re,pe,Se,We,tt]};Object.defineProperty(zt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(zt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(zt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(zt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(zt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(zt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(zt.prototype,"a",{get:function(){return this._matrix[0]},set:function(x){this._matrix[0]=x}}),Object.defineProperty(zt.prototype,"b",{get:function(){return this._matrix[1]},set:function(x){this._matrix[1]=x}}),Object.defineProperty(zt.prototype,"c",{get:function(){return this._matrix[2]},set:function(x){this._matrix[2]=x}}),Object.defineProperty(zt.prototype,"d",{get:function(){return this._matrix[3]},set:function(x){this._matrix[3]=x}}),Object.defineProperty(zt.prototype,"e",{get:function(){return this._matrix[4]},set:function(x){this._matrix[4]=x}}),Object.defineProperty(zt.prototype,"f",{get:function(){return this._matrix[5]},set:function(x){this._matrix[5]=x}}),Object.defineProperty(zt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(zt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(zt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(zt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),zt.prototype.join=function(x){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(x)},zt.prototype.multiply=function(x){var M=x.sx*this.sx+x.shy*this.shx,re=x.sx*this.shy+x.shy*this.sy,pe=x.shx*this.sx+x.sy*this.shx,Se=x.shx*this.shy+x.sy*this.sy,We=x.tx*this.sx+x.ty*this.shx+this.tx,tt=x.tx*this.shy+x.ty*this.sy+this.ty;return new zt(M,re,pe,Se,We,tt)},zt.prototype.decompose=function(){var x=this.sx,M=this.shy,re=this.shx,pe=this.sy,Se=this.tx,We=this.ty,tt=Math.sqrt(x*x+M*M),At=(x/=tt)*re+(M/=tt)*pe;re-=x*At,pe-=M*At;var Dt=Math.sqrt(re*re+pe*pe);return At/=Dt,x*(pe/=Dt)<M*(re/=Dt)&&(x=-x,M=-M,At=-At,tt=-tt),{scale:new zt(tt,0,0,Dt,0,0),translate:new zt(1,0,0,1,Se,We),rotate:new zt(x,M,-M,x,0,0),skew:new zt(1,0,At,1,0,0)}},zt.prototype.toString=function(x){return this.join(" ")},zt.prototype.inversed=function(){var x=this.sx,M=this.shy,re=this.shx,pe=this.sy,Se=this.tx,We=this.ty,tt=1/(x*pe-M*re),At=pe*tt,Dt=-M*tt,tr=-re*tt,nr=x*tt;return new zt(At,Dt,tr,nr,-At*Se-tr*We,-Dt*Se-nr*We)},zt.prototype.applyToPoint=function(x){var M=x.x*this.sx+x.y*this.shx+this.tx,re=x.x*this.shy+x.y*this.sy+this.ty;return new Lo(M,re)},zt.prototype.applyToRectangle=function(x){var M=this.applyToPoint(x),re=this.applyToPoint(new Lo(x.x+x.w,x.y+x.h));return new fl(M.x,M.y,re.x-M.x,re.y-M.y)},zt.prototype.clone=function(){var x=this.sx,M=this.shy,re=this.shx,pe=this.sy,Se=this.tx,We=this.ty;return new zt(x,M,re,pe,Se,We)},d.Matrix=zt;var Ns=d.matrixMult=function(x,M){return M.multiply(x)},Is=new zt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Is;var ai=function(x,M){if(!pr[x]){var re=(M instanceof vc?"Sh":"P")+(Object.keys(Ft).length+1).toString(10);M.id=re,pr[x]=re,Ft[re]=M,Sr.publish("addPattern",M)}};d.ShadingPattern=vc,d.TilingPattern=_h,d.addShadingPattern=function(x,M){return O("addShadingPattern()"),ai(x,M),this},d.beginTilingPattern=function(x){O("beginTilingPattern()"),ec(x.boundingBox[0],x.boundingBox[1],x.boundingBox[2]-x.boundingBox[0],x.boundingBox[3]-x.boundingBox[1],x.matrix)},d.endTilingPattern=function(x,M){O("endTilingPattern()"),M.stream=je[F].join("\n"),ai(x,M),Sr.publish("endTilingPattern",M),as.pop().restore()};var Ni,_r=d.__private__.newObject=function(){var x=_t();return H(x,!0),x},_t=d.__private__.newObjectDeferred=function(){return Y++,fe[Y]=function(){return ve},Y},H=function(x,M){return M=typeof M=="boolean"&&M,fe[x]=ve,M&&le(x+" 0 obj"),x},ie=d.__private__.newAdditionalObject=function(){var x={objId:_t(),content:""};return _e.push(x),x},K=_t(),Q=_t(),ne=d.__private__.decodeColorString=function(x){var M=x.split(" ");if(M.length!==2||M[1]!=="g"&&M[1]!=="G")M.length!==5||M[4]!=="k"&&M[4]!=="K"||(M=[(1-M[0])*(1-M[3]),(1-M[1])*(1-M[3]),(1-M[2])*(1-M[3]),"r"]);else{var re=parseFloat(M[0]);M=[re,re,re,"r"]}for(var pe="#",Se=0;Se<3;Se++)pe+=("0"+Math.floor(255*parseFloat(M[Se])).toString(16)).slice(-2);return pe},oe=d.__private__.encodeColorString=function(x){var M;typeof x=="string"&&(x={ch1:x});var re=x.ch1,pe=x.ch2,Se=x.ch3,We=x.ch4,tt=x.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var At=new bb(re);if(At.ok)re=At.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var Dt=parseInt(re.substr(1),16);re=Dt>>16&255,pe=Dt>>8&255,Se=255&Dt}if(pe===void 0||We===void 0&&re===pe&&pe===Se)M=typeof re=="string"?re+" "+tt[0]:x.precision===2?P(re/255)+" "+tt[0]:z(re/255)+" "+tt[0];else if(We===void 0||Yr(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return["1.","1.","1.",tt[1]].join(" ");M=typeof re=="string"?[re,pe,Se,tt[1]].join(" "):x.precision===2?[P(re/255),P(pe/255),P(Se/255),tt[1]].join(" "):[z(re/255),z(pe/255),z(Se/255),tt[1]].join(" ")}else M=typeof re=="string"?[re,pe,Se,We,tt[2]].join(" "):x.precision===2?[P(re),P(pe),P(Se),P(We),tt[2]].join(" "):[z(re),z(pe),z(Se),z(We),tt[2]].join(" ");return M},Ee=d.__private__.getFilters=function(){return a},He=d.__private__.putStream=function(x){var M=(x=x||{}).data||"",re=x.filters||Ee(),pe=x.alreadyAppliedFilters||[],Se=x.addLength1||!1,We=M.length,tt=x.objectId,At=function(Bn){return Bn};if(u!==null&&tt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(At=an.encryptor(tt,0));var Dt={};re===!0&&(re=["FlateEncode"]);var tr=x.additionalKeyValues||[],nr=(Dt=Bt.API.processDataByFilters!==void 0?Bt.API.processDataByFilters(M,re):{data:M,reverseChain:[]}).reverseChain+(Array.isArray(pe)?pe.join(" "):pe.toString());if(Dt.data.length!==0&&(tr.push({key:"Length",value:Dt.data.length}),Se===!0&&tr.push({key:"Length1",value:We})),nr.length!=0)if(nr.split("/").length-1==1)tr.push({key:"Filter",value:nr});else{tr.push({key:"Filter",value:"["+nr+"]"});for(var Er=0;Er<tr.length;Er+=1)if(tr[Er].key==="DecodeParms"){for(var fn=[],Dn=0;Dn<Dt.reverseChain.split("/").length-1;Dn+=1)fn.push("null");fn.push(tr[Er].value),tr[Er].value="["+fn.join(" ")+"]"}}le("<<");for(var zr=0;zr<tr.length;zr++)le("/"+tr[zr].key+" "+tr[zr].value);le(">>"),Dt.data.length!==0&&(le("stream"),le(At(Dt.data)),le("endstream"))},ke=d.__private__.putPage=function(x){var M=x.number,re=x.data,pe=x.objId,Se=x.contentsObjId;H(pe,!0),le("<</Type /Page"),le("/Parent "+x.rootDictionaryObjId+" 0 R"),le("/Resources "+x.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(q(x.mediaBox.bottomLeftX))+" "+parseFloat(q(x.mediaBox.bottomLeftY))+" "+q(x.mediaBox.topRightX)+" "+q(x.mediaBox.topRightY)+"]"),x.cropBox!==null&&le("/CropBox ["+q(x.cropBox.bottomLeftX)+" "+q(x.cropBox.bottomLeftY)+" "+q(x.cropBox.topRightX)+" "+q(x.cropBox.topRightY)+"]"),x.bleedBox!==null&&le("/BleedBox ["+q(x.bleedBox.bottomLeftX)+" "+q(x.bleedBox.bottomLeftY)+" "+q(x.bleedBox.topRightX)+" "+q(x.bleedBox.topRightY)+"]"),x.trimBox!==null&&le("/TrimBox ["+q(x.trimBox.bottomLeftX)+" "+q(x.trimBox.bottomLeftY)+" "+q(x.trimBox.topRightX)+" "+q(x.trimBox.topRightY)+"]"),x.artBox!==null&&le("/ArtBox ["+q(x.artBox.bottomLeftX)+" "+q(x.artBox.bottomLeftY)+" "+q(x.artBox.topRightX)+" "+q(x.artBox.topRightY)+"]"),typeof x.userUnit=="number"&&x.userUnit!==1&&le("/UserUnit "+x.userUnit),Sr.publish("putPage",{objId:pe,pageContext:Vt[M],pageNumber:M,page:re}),le("/Contents "+Se+" 0 R"),le(">>"),le("endobj");var We=re.join("\n");return I===N&&(We+="\nQ"),H(Se,!0),He({data:We,filters:Ee(),objectId:Se}),le("endobj"),pe},De=d.__private__.putPages=function(){var x,M,re=[];for(x=1;x<=Dr;x++)Vt[x].objId=_t(),Vt[x].contentsObjId=_t();for(x=1;x<=Dr;x++)re.push(ke({number:x,data:je[x],objId:Vt[x].objId,contentsObjId:Vt[x].contentsObjId,mediaBox:Vt[x].mediaBox,cropBox:Vt[x].cropBox,bleedBox:Vt[x].bleedBox,trimBox:Vt[x].trimBox,artBox:Vt[x].artBox,userUnit:Vt[x].userUnit,rootDictionaryObjId:K,resourceDictionaryObjId:Q}));H(K,!0),le("<</Type /Pages");var pe="/Kids [";for(M=0;M<Dr;M++)pe+=re[M]+" 0 R ";le(pe+"]"),le("/Count "+Dr),le(">>"),le("endobj"),Sr.publish("postPutPages")},Re=function(x){Sr.publish("putFont",{font:x,out:le,newObject:_r,putStream:He}),x.isAlreadyPutted!==!0&&(x.objectNumber=_r(),le("<<"),le("/Type /Font"),le("/BaseFont /"+vh(x.postScriptName)),le("/Subtype /Type1"),typeof x.encoding=="string"&&le("/Encoding /"+x.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},at=function(x){x.objectNumber=_r();var M=[];M.push({key:"Type",value:"/XObject"}),M.push({key:"Subtype",value:"/Form"}),M.push({key:"BBox",value:"["+[q(x.x),q(x.y),q(x.x+x.width),q(x.y+x.height)].join(" ")+"]"}),M.push({key:"Matrix",value:"["+x.matrix.toString()+"]"});var re=x.pages[1].join("\n");He({data:re,additionalKeyValues:M,objectId:x.objectNumber}),le("endobj")},ut=function(x,M){M||(M=21);var re=_r(),pe=function(tt,At){var Dt,tr=[],nr=1/(At-1);for(Dt=0;Dt<1;Dt+=nr)tr.push(Dt);if(tr.push(1),tt[0].offset!=0){var Er={offset:0,color:tt[0].color};tt.unshift(Er)}if(tt[tt.length-1].offset!=1){var fn={offset:1,color:tt[tt.length-1].color};tt.push(fn)}for(var Dn="",zr=0,Bn=0;Bn<tr.length;Bn++){for(Dt=tr[Bn];Dt>tt[zr+1].offset;)zr++;var Sn=tt[zr].offset,$n=(Dt-Sn)/(tt[zr+1].offset-Sn),vi=tt[zr].color,Nn=tt[zr+1].color;Dn+=B(Math.round((1-$n)*vi[0]+$n*Nn[0]).toString(16))+B(Math.round((1-$n)*vi[1]+$n*Nn[1]).toString(16))+B(Math.round((1-$n)*vi[2]+$n*Nn[2]).toString(16))}return Dn.trim()}(x.colors,M),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+M+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He({data:pe,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),le("endobj"),x.objectNumber=_r(),le("<< /ShadingType "+x.type),le("/ColorSpace /DeviceRGB");var We="/Coords ["+q(parseFloat(x.coords[0]))+" "+q(parseFloat(x.coords[1]))+" ";x.type===2?We+=q(parseFloat(x.coords[2]))+" "+q(parseFloat(x.coords[3])):We+=q(parseFloat(x.coords[2]))+" "+q(parseFloat(x.coords[3]))+" "+q(parseFloat(x.coords[4]))+" "+q(parseFloat(x.coords[5])),le(We+="]"),x.matrix&&le("/Matrix ["+x.matrix.toString()+"]"),le("/Function "+re+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},bt=function(x,M){var re=_t(),pe=_r();M.push({resourcesOid:re,objectOid:pe}),x.objectNumber=pe;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+x.boundingBox.map(q).join(" ")+"]"}),Se.push({key:"XStep",value:q(x.xStep)}),Se.push({key:"YStep",value:q(x.yStep)}),Se.push({key:"Resources",value:re+" 0 R"}),x.matrix&&Se.push({key:"Matrix",value:"["+x.matrix.toString()+"]"}),He({data:x.stream,additionalKeyValues:Se,objectId:x.objectNumber}),le("endobj")},lt=function(x){for(var M in x.objectNumber=_r(),le("<<"),x)switch(M){case"opacity":le("/ca "+P(x[M]));break;case"stroke-opacity":le("/CA "+P(x[M]))}le(">>"),le("endobj")},vt=function(x){H(x.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var M in le("/Font <<"),Tt)Tt.hasOwnProperty(M)&&(p===!1||p===!0&&g.hasOwnProperty(M))&&le("/"+M+" "+Tt[M].objectNumber+" 0 R");le(">>")}(),function(){if(Object.keys(Ft).length>0){for(var M in le("/Shading <<"),Ft)Ft.hasOwnProperty(M)&&Ft[M]instanceof vc&&Ft[M].objectNumber>=0&&le("/"+M+" "+Ft[M].objectNumber+" 0 R");Sr.publish("putShadingPatternDict"),le(">>")}}(),function(M){if(Object.keys(Ft).length>0){for(var re in le("/Pattern <<"),Ft)Ft.hasOwnProperty(re)&&Ft[re]instanceof d.TilingPattern&&Ft[re].objectNumber>=0&&Ft[re].objectNumber<M&&le("/"+re+" "+Ft[re].objectNumber+" 0 R");Sr.publish("putTilingPatternDict"),le(">>")}}(x.objectOid),function(){if(Object.keys(Qt).length>0){var M;for(M in le("/ExtGState <<"),Qt)Qt.hasOwnProperty(M)&&Qt[M].objectNumber>=0&&le("/"+M+" "+Qt[M].objectNumber+" 0 R");Sr.publish("putGStateDict"),le(">>")}}(),function(){for(var M in le("/XObject <<"),Gn)Gn.hasOwnProperty(M)&&Gn[M].objectNumber>=0&&le("/"+M+" "+Gn[M].objectNumber+" 0 R");Sr.publish("putXobjectDict"),le(">>")}(),le(">>"),le("endobj")},Yt=function(x){Kt[x.fontName]=Kt[x.fontName]||{},Kt[x.fontName][x.fontStyle]=x.id},Br=function(x,M,re,pe,Se){var We={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:x,fontName:M,fontStyle:re,encoding:pe,isStandardFont:Se||!1,metadata:{}};return Sr.publish("addFont",{font:We,instance:this}),Tt[We.id]=We,Yt(We),We.id},vr=d.__private__.pdfEscape=d.pdfEscape=function(x,M){return function(re,pe){var Se,We,tt,At,Dt,tr,nr,Er,fn;if(tt=(pe=pe||{}).sourceEncoding||"Unicode",Dt=pe.outputEncoding,(pe.autoencode||Dt)&&Tt[Ot].metadata&&Tt[Ot].metadata[tt]&&Tt[Ot].metadata[tt].encoding&&(At=Tt[Ot].metadata[tt].encoding,!Dt&&Tt[Ot].encoding&&(Dt=Tt[Ot].encoding),!Dt&&At.codePages&&(Dt=At.codePages[0]),typeof Dt=="string"&&(Dt=At[Dt]),Dt)){for(nr=!1,tr=[],Se=0,We=re.length;Se<We;Se++)(Er=Dt[re.charCodeAt(Se)])?tr.push(String.fromCharCode(Er)):tr.push(re[Se]),tr[Se].charCodeAt(0)>>8&&(nr=!0);re=tr.join("")}for(Se=re.length;nr===void 0&&Se!==0;)re.charCodeAt(Se-1)>>8&&(nr=!0),Se--;if(!nr)return re;for(tr=pe.noBOM?[]:[254,255],Se=0,We=re.length;Se<We;Se++){if((fn=(Er=re.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tr.push(fn),tr.push(Er-(fn<<8))}return String.fromCharCode.apply(void 0,tr)}(x,M).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wn=d.__private__.beginPage=function(x){je[++Dr]=[],Vt[Dr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(x[0]),topRightY:Number(x[1])}},Ls(Dr),Ne(je[F])},os=function(x,M){var re,pe,Se;switch(t=M||t,typeof x=="string"&&(re=E(x.toLowerCase()),Array.isArray(re)&&(pe=re[0],Se=re[1])),Array.isArray(x)&&(pe=x[0]*Wt,Se=x[1]*Wt),isNaN(pe)&&(pe=i[0],Se=i[1]),(pe>14400||Se>14400)&&(nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pe=Math.min(14400,pe),Se=Math.min(14400,Se)),i=[pe,Se],t.substr(0,1)){case"l":Se>pe&&(i=[Se,pe]);break;case"p":pe>Se&&(i=[Se,pe])}wn(i),ar(No),le(oo),Ql!==0&&le(Ql+" J"),ul!==0&&le(ul+" j"),Sr.publish("addPage",{pageNumber:Dr})},gi=function(x){x>0&&x<=Dr&&(je.splice(x,1),Vt.splice(x,1),Dr--,F>Dr&&(F=Dr),this.setPage(F))},Ls=function(x){x>0&&x<=Dr&&(F=x)},qi=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return je.length-1},ls=function(x,M,re){var pe,Se=void 0;return re=re||{},x=x!==void 0?x:Tt[Ot].fontName,M=M!==void 0?M:Tt[Ot].fontStyle,pe=x.toLowerCase(),Kt[pe]!==void 0&&Kt[pe][M]!==void 0?Se=Kt[pe][M]:Kt[x]!==void 0&&Kt[x][M]!==void 0?Se=Kt[x][M]:re.disableWarning===!1&&nn.warn("Unable to look up font label for font '"+x+"', '"+M+"'. Refer to getFontList() for available fonts."),Se||re.noFallback||(Se=Kt.times[M])==null&&(Se=Kt.times.normal),Se},Xt=d.__private__.putInfo=function(){var x=_r(),M=function(pe){return pe};for(var re in u!==null&&(M=an.encryptor(x,0)),le("<<"),le("/Producer ("+vr(M("jsPDF "+Bt.version))+")"),jt)jt.hasOwnProperty(re)&&jt[re]&&le("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+vr(M(jt[re]))+")");le("/CreationDate ("+vr(M(be))+")"),le(">>"),le("endobj")},tn=d.__private__.putCatalog=function(x){var M=(x=x||{}).rootDictionaryObjId||K;switch(_r(),le("<<"),le("/Type /Catalog"),le("/Pages "+M+" 0 R"),Et||(Et="fullwidth"),Et){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+Et;re.substr(re.length-1)==="%"&&(Et=parseInt(Et)/100),typeof Et=="number"&&le("/OpenAction [3 0 R /XYZ null null "+P(Et)+"]")}switch(Zt||(Zt="continuous"),Zt){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}It&&le("/PageMode /"+It),Sr.publish("putCatalog"),le(">>"),le("endobj")},hn=d.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(Y+1)),le("/Root "+Y+" 0 R"),le("/Info "+(Y-1)+" 0 R"),u!==null&&le("/Encrypt "+an.oid+" 0 R"),le("/ID [ <"+Ce+"> <"+Ce+"> ]"),le(">>")},Ta=d.__private__.putHeader=function(){le("%PDF-"+_),le("%")},Ca=d.__private__.putXRef=function(){var x="0000000000";le("xref"),le("0 "+(Y+1)),le("0000000000 65535 f ");for(var M=1;M<=Y;M++)typeof fe[M]=="function"?le((x+fe[M]()).slice(-10)+" 00000 n "):fe[M]!==void 0?le((x+fe[M]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},Ps=d.__private__.buildDocument=function(){var x;Y=0,ve=0,we=[],fe=[],_e=[],K=_t(),Q=_t(),Ne(we),Sr.publish("buildDocument"),Ta(),De(),function(){Sr.publish("putAdditionalObjects");for(var re=0;re<_e.length;re++){var pe=_e[re];H(pe.objId,!0),le(pe.content),le("endobj")}Sr.publish("postPutAdditionalObjects")}(),x=[],function(){for(var re in Tt)Tt.hasOwnProperty(re)&&(p===!1||p===!0&&g.hasOwnProperty(re))&&Re(Tt[re])}(),function(){var re;for(re in Qt)Qt.hasOwnProperty(re)&&lt(Qt[re])}(),function(){for(var re in Gn)Gn.hasOwnProperty(re)&&at(Gn[re])}(),function(re){var pe;for(pe in Ft)Ft.hasOwnProperty(pe)&&(Ft[pe]instanceof vc?ut(Ft[pe]):Ft[pe]instanceof _h&&bt(Ft[pe],re))}(x),Sr.publish("putResources"),x.forEach(vt),vt({resourcesOid:Q,objectOid:Number.MAX_SAFE_INTEGER}),Sr.publish("postPutResources"),u!==null&&(an.oid=_r(),le("<<"),le("/Filter /Standard"),le("/V "+an.v),le("/R "+an.r),le("/U <"+an.toHexString(an.U)+">"),le("/O <"+an.toHexString(an.O)+">"),le("/P "+an.P),le(">>"),le("endobj")),Xt(),tn();var M=ve;return Ca(),hn(),le("startxref"),le(""+M),le("%%EOF"),Ne(je[F]),we.join("\n")},er=d.__private__.getBlob=function(x){return new Blob([Qe(x)],{type:"application/pdf"})},Cr=d.output=d.__private__.output=(Ni=function(x,M){switch(typeof(M=M||{})=="string"?M={filename:M}:M.filename=M.filename||"generated.pdf",x){case void 0:return Ps();case"save":d.save(M.filename);break;case"arraybuffer":return Qe(Ps());case"blob":return er(Ps());case"bloburi":case"bloburl":if(ir.URL!==void 0&&typeof ir.URL.createObjectURL=="function")return ir.URL&&ir.URL.createObjectURL(er(Ps()))||void 0;nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",pe=Ps();try{re=rw(pe)}catch(Dn){re=rw(unescape(encodeURIComponent(pe)))}return"data:application/pdf;filename="+M.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ir)==="[object Window]"){var Se="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';M.pdfObjectUrl&&(Se=M.pdfObjectUrl,We="");var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Se+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(M)+");<\/script></body></html>",At=ir.open();return At!==null&&At.document.write(tt),At}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ir)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(M.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+M.filename+'" width="500px" height="400px" /></body></html>',tr=ir.open();if(tr!==null){tr.document.write(Dt);var nr=this;tr.document.documentElement.querySelector("#pdfViewer").onload=function(){tr.document.title=M.filename,tr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nr.output("bloburl"))}}return tr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ir)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",M)+'"></iframe></body></html>',fn=ir.open();if(fn!==null&&(fn.document.write(Er),fn.document.title=M.filename),fn||typeof safari>"u")return fn;break;case"datauri":case"dataurl":return ir.document.location.href=this.output("datauristring",M);default:return null}},Ni.foo=function(){try{return Ni.apply(this,arguments)}catch(re){var x=re.stack||"";~x.indexOf(" at ")&&(x=x.split(" at ")[1]);var M="Error in function "+x.split("\n")[0].split("<")[0]+": "+re.message;if(!ir.console)throw new Error(M);ir.console.error(M,re),ir.alert&&alert(M)}},Ni.foo.bar=Ni,Ni.foo),ka=function(x){return Array.isArray(Aa)===!0&&Aa.indexOf(x)>-1};switch(n){case"pt":Wt=1;break;case"mm":Wt=72/25.4;break;case"cm":Wt=72/2.54;break;case"in":Wt=72;break;case"px":Wt=ka("px_scaling")==1?.75:96/72;break;case"pc":case"em":Wt=12;break;case"ex":Wt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Wt=n}var an=null;Me(),me();var oi=d.__private__.getPageInfo=d.getPageInfo=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[x].objId,pageNumber:x,pageContext:Vt[x]}},Xh=d.__private__.getPageInfoByObjId=function(x){if(isNaN(x)||x%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var M in Vt)if(Vt[M].objId===x)break;return oi(M)},cl=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Vt[F].objId,pageNumber:F,pageContext:Vt[F]}};d.addPage=function(){return os.apply(this,arguments),this},d.setPage=function(){return Ls.apply(this,arguments),Ne.call(this,je[F]),this},d.insertPage=function(x){return this.addPage(),this.movePage(F,x),this},d.movePage=function(x,M){var re,pe;if(x>M){re=je[x],pe=Vt[x];for(var Se=x;Se>M;Se--)je[Se]=je[Se-1],Vt[Se]=Vt[Se-1];je[M]=re,Vt[M]=pe,this.setPage(M)}else if(x<M){re=je[x],pe=Vt[x];for(var We=x;We<M;We++)je[We]=je[We+1],Vt[We]=Vt[We+1];je[M]=re,Vt[M]=pe,this.setPage(M)}return this},d.deletePage=function(){return gi.apply(this,arguments),this},d.__private__.text=d.text=function(x,M,re,pe,Se){var We,tt,At,Dt,tr,nr,Er,fn,Dn,zr=(pe=pe||{}).scope||this;if(typeof x=="number"&&typeof M=="number"&&(typeof re=="string"||Array.isArray(re))){var Bn=re;re=M,M=x,x=Bn}if(arguments[3]instanceof zt==0?(At=arguments[4],Dt=arguments[5],Yr(Er=arguments[3])==="object"&&Er!==null||(typeof At=="string"&&(Dt=At,At=null),typeof Er=="string"&&(Dt=Er,Er=null),typeof Er=="number"&&(At=Er,Er=null),pe={flags:Er,angle:At,align:Dt})):(O("The transform parameter of text() with a Matrix value"),Dn=Se),isNaN(M)||isNaN(re)||x==null)throw new Error("Invalid arguments passed to jsPDF.text");if(x.length===0)return zr;var Sn,$n="",vi=typeof pe.lineHeightFactor=="number"?pe.lineHeightFactor:ao,Nn=zr.internal.scaleFactor;function Qc(Nr){return Nr=Nr.split("	").join(Array(pe.TabLen||9).join(" ")),vr(Nr,Er)}function sa(Nr){for(var Hr,An=Nr.concat(),Ln=[],Ha=An.length;Ha--;)typeof(Hr=An.shift())=="string"?Ln.push(Hr):Array.isArray(Nr)&&(Hr.length===1||Hr[1]===void 0&&Hr[2]===void 0)?Ln.push(Hr[0]):Ln.push([Hr[0],Hr[1],Hr[2]]);return Ln}function Zn(Nr,Hr){var An;if(typeof Nr=="string")An=Hr(Nr)[0];else if(Array.isArray(Nr)){for(var Ln,Ha,Pi=Nr.concat(),ja=[],eh=Pi.length;eh--;)typeof(Ln=Pi.shift())=="string"?ja.push(Hr(Ln)[0]):Array.isArray(Ln)&&typeof Ln[0]=="string"&&(Ha=Hr(Ln[0],Ln[1],Ln[2]),ja.push([Ha[0],Ha[1],Ha[2]]));An=ja}return An}var Oa=!1,co=!0;if(typeof x=="string")Oa=!0;else if(Array.isArray(x)){var Ro=x.concat();tt=[];for(var Fa,Yn=Ro.length;Yn--;)(typeof(Fa=Ro.shift())!="string"||Array.isArray(Fa)&&typeof Fa[0]!="string")&&(co=!1);Oa=co}if(Oa===!1)throw new Error('Type of text must be string or Array. "'+x+'" is not recognized.');typeof x=="string"&&(x=x.match(/[\r?\n]/)?x.split(/\r\n|\r|\n/g):[x]);var Oo=st/zr.internal.scaleFactor,Fo=Oo*(vi-1);switch(pe.baseline){case"bottom":re-=Fo;break;case"top":re+=Oo-Fo;break;case"hanging":re+=Oo-2*Fo;break;case"middle":re+=Oo/2-Fo}if((nr=pe.maxWidth||0)>0&&(typeof x=="string"?x=zr.splitTextToSize(x,nr):Object.prototype.toString.call(x)==="[object Array]"&&(x=x.reduce(function(Nr,Hr){return Nr.concat(zr.splitTextToSize(Hr,nr))},[]))),We={text:x,x:M,y:re,options:pe,mutex:{pdfEscape:vr,activeFontKey:Ot,fonts:Tt,activeFontSize:st}},Sr.publish("preProcessText",We),x=We.text,At=(pe=We.options).angle,Dn instanceof zt==0&&At&&typeof At=="number"){At*=Math.PI/180,pe.rotationDirection===0&&(At=-At),I===N&&(At=-At);var dl=Math.cos(At),nc=Math.sin(At);Dn=new zt(dl,nc,-nc,dl,0,0)}else At&&At instanceof zt&&(Dn=At);I!==N||Dn||(Dn=Is),(tr=pe.charSpace||Io)!==void 0&&($n+=q(te(tr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),(fn=pe.horizontalScale)!==void 0&&($n+=q(100*fn)+" Tz\n"),pe.lang;var Ar=-1,Ii=pe.renderingMode!==void 0?pe.renderingMode:pe.stroke,pl=zr.internal.getCurrentPageInfo().pageContext;switch(Ii){case 0:case!1:case"fill":Ar=0;break;case 1:case!0:case"stroke":Ar=1;break;case 2:case"fillThenStroke":Ar=2;break;case 3:case"invisible":Ar=3;break;case 4:case"fillAndAddForClipping":Ar=4;break;case 5:case"strokeAndAddPathForClipping":Ar=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ar=6;break;case 7:case"addToPathForClipping":Ar=7}var fs=pl.usedRenderingMode!==void 0?pl.usedRenderingMode:-1;Ar!==-1?$n+=Ar+" Tr\n":fs!==-1&&($n+="0 Tr\n"),Ar!==-1&&(pl.usedRenderingMode=Ar),Dt=pe.align||"left";var ds,ps=st*vi,ic=zr.internal.pageSize.getWidth(),Ma=Tt[Ot];tr=pe.charSpace||Io,nr=pe.maxWidth||0,Er=Object.assign({autoencode:!0,noBOM:!0},pe.flags);var Ba=[],aa=function(Nr){return zr.getStringUnitWidth(Nr,{font:Ma,charSpace:tr,fontSize:st,doKerning:!1})*st/Nn};if(Object.prototype.toString.call(x)==="[object Array]"){var Gi;tt=sa(x),Dt!=="left"&&(ds=tt.map(aa));var In,Ms=0;if(Dt==="right"){M-=ds[0],x=[],Yn=tt.length;for(var Ua=0;Ua<Yn;Ua++)Ua===0?(In=Rs(M),Gi=Os(re)):(In=te(Ms-ds[Ua]),Gi=-ps),x.push([tt[Ua],In,Gi]),Ms=ds[Ua]}else if(Dt==="center"){M-=ds[0]/2,x=[],Yn=tt.length;for(var oa=0;oa<Yn;oa++)oa===0?(In=Rs(M),Gi=Os(re)):(In=te((Ms-ds[oa])/2),Gi=-ps),x.push([tt[oa],In,Gi]),Ms=ds[oa]}else if(Dt==="left"){x=[],Yn=tt.length;for(var sc=0;sc<Yn;sc++)x.push(tt[sc])}else if(Dt==="justify"&&Ma.encoding==="Identity-H"){x=[],Yn=tt.length,nr=nr!==0?nr:ic;for(var Li=0,En=0;En<Yn;En++)if(Gi=En===0?Os(re):-ps,In=En===0?Rs(M):Li,En<Yn-1){var za=te((nr-ds[En])/(tt[En].split(" ").length-1)),la=tt[En].split(" ");x.push([la[0]+" ",In,Gi]),Li=0;for(var Kn=1;Kn<la.length;Kn++){var ho=(aa(la[Kn-1]+" "+la[Kn])-aa(la[Kn]))*Nn+za;Kn==la.length-1?x.push([la[Kn],ho,0]):x.push([la[Kn]+" ",ho,0]),Li-=ho}}else x.push([tt[En],In,Gi]);x.push(["",Li,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(x=[],Yn=tt.length,nr=nr!==0?nr:ic,En=0;En<Yn;En++){Gi=En===0?Os(re):-ps,In=En===0?Rs(M):0;var ml=tt[En].split(" ").length-1,Mo=ml>0?(nr-ds[En])/ml:0;En<Yn-1?Ba.push(q(te(Mo))):Ba.push(0),x.push([tt[En],In,Gi])}}}(typeof pe.R2L=="boolean"?pe.R2L:Jt)===!0&&(x=Zn(x,function(Nr,Hr,An){return[Nr.split("").reverse().join(""),Hr,An]})),We={text:x,x:M,y:re,options:pe,mutex:{pdfEscape:vr,activeFontKey:Ot,fonts:Tt,activeFontSize:st}},Sr.publish("postProcessText",We),x=We.text,Sn=We.mutex.isHex||!1;var uo=Tt[Ot].encoding;uo!=="WinAnsiEncoding"&&uo!=="StandardEncoding"||(x=Zn(x,function(Nr,Hr,An){return[Qc(Nr),Hr,An]})),tt=sa(x),x=[];for(var ca,Bs,$i,ha=Array.isArray(tt[0])?1:0,ua="",fo=function(Nr,Hr,An){var Ln="";return An instanceof zt?(An=typeof pe.angle=="number"?Ns(An,new zt(1,0,0,1,Nr,Hr)):Ns(new zt(1,0,0,1,Nr,Hr),An),I===N&&(An=Ns(new zt(1,0,0,-1,0,0),An)),Ln=An.join(" ")+" Tm\n"):Ln=q(Nr)+" "+q(Hr)+" Td\n",Ln},ms=0;ms<tt.length;ms++){switch(ua="",ha){case 1:$i=(Sn?"<":"(")+tt[ms][0]+(Sn?">":")"),ca=parseFloat(tt[ms][1]),Bs=parseFloat(tt[ms][2]);break;case 0:$i=(Sn?"<":"(")+tt[ms]+(Sn?">":")"),ca=Rs(M),Bs=Os(re)}Ba!==void 0&&Ba[ms]!==void 0&&(ua=Ba[ms]+" Tw\n"),ms===0?x.push(ua+fo(ca,Bs,Dn)+$i):ha===0?x.push(ua+$i):ha===1&&x.push(ua+fo(ca,Bs,Dn)+$i)}x=ha===0?x.join(" Tj\nT* "):x.join(" Tj\n"),x+=" Tj\n";var Zi="BT\n/";return Zi+=Ot+" "+st+" Tf\n",Zi+=q(st*vi)+" TL\n",Zi+=un+"\n",Zi+=$n,Zi+=x,le(Zi+="ET"),g[Ot]=!0,zr};var Da=d.__private__.clip=d.clip=function(x){return le(x==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Da("evenodd")},d.__private__.discardPath=d.discardPath=function(){return le("n"),this};var Rr=d.__private__.isValidStyle=function(x){var M=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(x)!==-1&&(M=!0),M};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(x){return Rr(x)&&(h=x),this};var na=d.__private__.getStyle=d.getStyle=function(x){var M=h;switch(x){case"D":case"S":M="S";break;case"F":M="f";break;case"FD":case"DF":M="B";break;case"f":case"f*":case"B":case"B*":M=x}return M},io=d.close=function(){return le("h"),this};d.stroke=function(){return le("S"),this},d.fill=function(x){return cs("f",x),this},d.fillEvenOdd=function(x){return cs("f*",x),this},d.fillStroke=function(x){return cs("B",x),this},d.fillStrokeEvenOdd=function(x){return cs("B*",x),this};var cs=function(x,M){Yr(M)==="object"?Kl(M,x):le(x)},ko=function(x){x===null||I===N&&x===void 0||(x=na(x),le(x))};function Do(x,M,re,pe,Se){var We=new _h(M||this.boundingBox,re||this.xStep,pe||this.yStep,this.gState,Se||this.matrix);We.stream=this.stream;var tt=x+"$$"+this.cloneIndex+++"$$";return ai(tt,We),We}var Kl=function(x,M){var re=pr[x.key],pe=Ft[re];if(pe instanceof vc)le("q"),le(Xl(M)),pe.gState&&d.setGState(pe.gState),le(x.matrix.toString()+" cm"),le("/"+re+" sh"),le("Q");else if(pe instanceof _h){var Se=new zt(1,0,0,-1,0,Po());x.matrix&&(Se=Se.multiply(x.matrix||Is),re=Do.call(pe,x.key,x.boundingBox,x.xStep,x.yStep,Se).id),le("q"),le("/Pattern cs"),le("/"+re+" scn"),pe.gState&&d.setGState(pe.gState),le(M),le("Q")}},Xl=function(x){switch(x){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},so=d.moveTo=function(x,M){return le(q(te(x))+" "+q(ce(M))+" m"),this},Na=d.lineTo=function(x,M){return le(q(te(x))+" "+q(ce(M))+" l"),this},ia=d.curveTo=function(x,M,re,pe,Se,We){return le([q(te(x)),q(ce(M)),q(te(re)),q(ce(pe)),q(te(Se)),q(ce(We)),"c"].join(" ")),this};d.__private__.line=d.line=function(x,M,re,pe,Se){if(isNaN(x)||isNaN(M)||isNaN(re)||isNaN(pe)||!Rr(Se))throw new Error("Invalid arguments passed to jsPDF.line");return I===D?this.lines([[re-x,pe-M]],x,M,[1,1],Se||"S"):this.lines([[re-x,pe-M]],x,M,[1,1]).stroke()},d.__private__.lines=d.lines=function(x,M,re,pe,Se,We){var tt,At,Dt,tr,nr,Er,fn,Dn,zr,Bn,Sn,$n;if(typeof x=="number"&&($n=re,re=M,M=x,x=$n),pe=pe||[1,1],We=We||!1,isNaN(M)||isNaN(re)||!Array.isArray(x)||!Array.isArray(pe)||!Rr(Se)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(so(M,re),tt=pe[0],At=pe[1],tr=x.length,Bn=M,Sn=re,Dt=0;Dt<tr;Dt++)(nr=x[Dt]).length===2?(Bn=nr[0]*tt+Bn,Sn=nr[1]*At+Sn,Na(Bn,Sn)):(Er=nr[0]*tt+Bn,fn=nr[1]*At+Sn,Dn=nr[2]*tt+Bn,zr=nr[3]*At+Sn,Bn=nr[4]*tt+Bn,Sn=nr[5]*At+Sn,ia(Er,fn,Dn,zr,Bn,Sn));return We&&io(),ko(Se),this},d.path=function(x){for(var M=0;M<x.length;M++){var re=x[M],pe=re.c;switch(re.op){case"m":so(pe[0],pe[1]);break;case"l":Na(pe[0],pe[1]);break;case"c":ia.apply(this,pe);break;case"h":io()}}return this},d.__private__.rect=d.rect=function(x,M,re,pe,Se){if(isNaN(x)||isNaN(M)||isNaN(re)||isNaN(pe)||!Rr(Se))throw new Error("Invalid arguments passed to jsPDF.rect");return I===D&&(pe=-pe),le([q(te(x)),q(ce(M)),q(te(re)),q(te(pe)),"re"].join(" ")),ko(Se),this},d.__private__.triangle=d.triangle=function(x,M,re,pe,Se,We,tt){if(isNaN(x)||isNaN(M)||isNaN(re)||isNaN(pe)||isNaN(Se)||isNaN(We)||!Rr(tt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-x,pe-M],[Se-re,We-pe],[x-Se,M-We]],x,M,[1,1],tt,!0),this},d.__private__.roundedRect=d.roundedRect=function(x,M,re,pe,Se,We,tt){if(isNaN(x)||isNaN(M)||isNaN(re)||isNaN(pe)||isNaN(Se)||isNaN(We)||!Rr(tt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var At=4/3*(Math.SQRT2-1);return Se=Math.min(Se,.5*re),We=Math.min(We,.5*pe),this.lines([[re-2*Se,0],[Se*At,0,Se,We-We*At,Se,We],[0,pe-2*We],[0,We*At,-Se*At,We,-Se,We],[2*Se-re,0],[-Se*At,0,-Se,-We*At,-Se,-We],[0,2*We-pe],[0,-We*At,Se*At,-We,Se,-We]],x+Se,M,[1,1],tt,!0),this},d.__private__.ellipse=d.ellipse=function(x,M,re,pe,Se){if(isNaN(x)||isNaN(M)||isNaN(re)||isNaN(pe)||!Rr(Se))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*re,tt=4/3*(Math.SQRT2-1)*pe;return so(x+re,M),ia(x+re,M-tt,x+We,M-pe,x,M-pe),ia(x-We,M-pe,x-re,M-tt,x-re,M),ia(x-re,M+tt,x-We,M+pe,x,M+pe),ia(x+We,M+pe,x+re,M+tt,x+re,M),ko(Se),this},d.__private__.circle=d.circle=function(x,M,re,pe){if(isNaN(x)||isNaN(M)||isNaN(re)||!Rr(pe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(x,M,re,re,pe)},d.setFont=function(x,M,re){return re&&(M=G(M,re)),Ot=ls(x,M,{disableWarning:!1}),this};var hl=d.__private__.getFont=d.getFont=function(){return Tt[ls.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var x,M,re={};for(x in Kt)if(Kt.hasOwnProperty(x))for(M in re[x]=[],Kt[x])Kt[x].hasOwnProperty(M)&&re[x].push(M);return re},d.addFont=function(x,M,re,pe,Se){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?Se=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(re=G(re,pe)),Br.call(this,x,M,re,Se=Se||"Identity-H")};var ao,No=r.lineWidth||.200025,rr=d.__private__.getLineWidth=d.getLineWidth=function(){return No},ar=d.__private__.setLineWidth=d.setLineWidth=function(x){return No=x,le(q(te(x))+" w"),this};d.__private__.setLineDash=Bt.API.setLineDash=Bt.API.setLineDashPattern=function(x,M){if(x=x||[],M=M||0,isNaN(M)||!Array.isArray(x))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return x=x.map(function(re){return q(te(re))}).join(" "),M=q(te(M)),le("["+x+"] "+M+" d"),this};var hs=d.__private__.getLineHeight=d.getLineHeight=function(){return st*ao};d.__private__.getLineHeight=d.getLineHeight=function(){return st*ao};var Ur=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(x){return typeof(x=x||1.15)=="number"&&(ao=x),this},Yc=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return ao};Ur(r.lineHeight);var Rs=d.__private__.getHorizontalCoordinate=function(x){return te(x)},Os=d.__private__.getVerticalCoordinate=function(x){return I===N?x:Vt[F].mediaBox.topRightY-Vt[F].mediaBox.bottomLeftY-te(x)},Jl=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(x){return q(Rs(x))},Ia=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(x){return q(Os(x))},oo=r.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return ne(oo)},d.__private__.setStrokeColor=d.setDrawColor=function(x,M,re,pe){return oo=oe({ch1:x,ch2:M,ch3:re,ch4:pe,pdfColorType:"draw",precision:2}),le(oo),this};var La=r.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return ne(La)},d.__private__.setFillColor=d.setFillColor=function(x,M,re,pe){return La=oe({ch1:x,ch2:M,ch3:re,ch4:pe,pdfColorType:"fill",precision:2}),le(La),this};var un=r.textColor||"0 g",us=d.__private__.getTextColor=d.getTextColor=function(){return ne(un)};d.__private__.setTextColor=d.setTextColor=function(x,M,re,pe){return un=oe({ch1:x,ch2:M,ch3:re,ch4:pe,pdfColorType:"text",precision:3}),this};var Io=r.charSpace,Kc=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Io||0)};d.__private__.setCharSpace=d.setCharSpace=function(x){if(isNaN(x))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Io=x,this};var Ql=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(x){var M=d.CapJoinStyles[x];if(M===void 0)throw new Error("Line cap style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ql=M,le(M+" J"),this};var ul=0;d.__private__.setLineJoin=d.setLineJoin=function(x){var M=d.CapJoinStyles[x];if(M===void 0)throw new Error("Line join style of '"+x+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ul=M,le(M+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(x){if(x=x||0,isNaN(x))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(q(te(x))+" M"),this},d.GState=Td,d.setGState=function(x){(x=typeof x=="string"?Qt[en[x]]:Pa(null,x)).equals(vn)||(le("/"+x.id+" gs"),vn=x)};var Pa=function(x,M){if(!x||!en[x]){var re=!1;for(var pe in Qt)if(Qt.hasOwnProperty(pe)&&Qt[pe].equals(M)){re=!0;break}if(re)M=Qt[pe];else{var Se="GS"+(Object.keys(Qt).length+1).toString(10);Qt[Se]=M,M.id=Se}return x&&(en[x]=M.id),Sr.publish("addGState",M),M}};d.addGState=function(x,M){return Pa(x,M),this},d.saveGraphicsState=function(){return le("q"),Pr.push({key:Ot,size:st,color:un}),this},d.restoreGraphicsState=function(){le("Q");var x=Pr.pop();return Ot=x.key,st=x.size,un=x.color,vn=null,this},d.setCurrentTransformationMatrix=function(x){return le(x.toString()+" cm"),this},d.comment=function(x){return le("#"+x),this};var Lo=function(x,M){var re=x||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(We){isNaN(We)||(re=parseFloat(We))}});var pe=M||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pe},set:function(We){isNaN(We)||(pe=parseFloat(We))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(We){Se=We.toString()}}),this},fl=function(x,M,re,pe){Lo.call(this,x,M),this.type="rect";var Se=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(tt){isNaN(tt)||(Se=parseFloat(tt))}});var We=pe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(tt){isNaN(tt)||(We=parseFloat(tt))}}),this},ur=function(){this.page=Dr,this.currentPage=F,this.pages=je.slice(0),this.pagesContext=Vt.slice(0),this.x=Lt,this.y=Lr,this.matrix=wr,this.width=lo(F),this.height=Ra(F),this.outputDestination=ct,this.id="",this.objectNumber=-1};ur.prototype.restore=function(){Dr=this.page,F=this.currentPage,Vt=this.pagesContext,je=this.pages,Lt=this.x,Lr=this.y,wr=this.matrix,tc(F,this.width),Fs(F,this.height),ct=this.outputDestination};var ec=function(x,M,re,pe,Se){as.push(new ur),Dr=F=0,je=[],Lt=x,Lr=M,wr=Se,wn([re,pe])};for(var ei in d.beginFormObject=function(x,M,re,pe,Se){return ec(x,M,re,pe,Se),this},d.endFormObject=function(x){return function(M){if(Ds[M])as.pop().restore();else{var re=new ur,pe="Xo"+(Object.keys(Gn).length+1).toString(10);re.id=pe,Ds[M]=pe,Gn[pe]=re,Sr.publish("addFormObject",re),as.pop().restore()}}(x),this},d.doFormObject=function(x,M){var re=Gn[Ds[x]];return le("q"),le(M.toString()+" cm"),le("/"+re.id+" Do"),le("Q"),this},d.getFormObject=function(x){var M=Gn[Ds[x]];return{x:M.x,y:M.y,width:M.width,height:M.height,matrix:M.matrix}},d.save=function(x,M){return x=x||"generated.pdf",(M=M||{}).returnPromise=M.returnPromise||!1,M.returnPromise===!1?(fc(er(Ps()),x),typeof fc.unload=="function"&&ir.setTimeout&&setTimeout(fc.unload,911),this):new Promise(function(re,pe){try{var Se=fc(er(Ps()),x);typeof fc.unload=="function"&&ir.setTimeout&&setTimeout(fc.unload,911),re(Se)}catch(We){pe(We.message)}})},Bt.API)Bt.API.hasOwnProperty(ei)&&(ei==="events"&&Bt.API.events.length?function(x,M){var re,pe,Se;for(Se=M.length-1;Se!==-1;Se--)re=M[Se][0],pe=M[Se][1],x.subscribe.apply(x,[re].concat(typeof pe=="function"?[pe]:pe))}(Sr,Bt.API.events):d[ei]=Bt.API[ei]);function lo(x){return Vt[x].mediaBox.topRightX-Vt[x].mediaBox.bottomLeftX}function tc(x,M){Vt[x].mediaBox.topRightX=M+Vt[x].mediaBox.bottomLeftX}function Ra(x){return Vt[x].mediaBox.topRightY-Vt[x].mediaBox.bottomLeftY}function Fs(x,M){Vt[x].mediaBox.topRightY=M+Vt[x].mediaBox.bottomLeftY}var Xc=d.getPageWidth=function(x){return lo(x=x||F)/Wt},rc=d.setPageWidth=function(x,M){tc(x,M*Wt)},Po=d.getPageHeight=function(x){return Ra(x=x||F)/Wt},Jc=d.setPageHeight=function(x,M){Fs(x,M*Wt)};return d.internal={pdfEscape:vr,getStyle:na,getFont:hl,getFontSize:mt,getCharSpace:Kc,getTextColor:us,getLineHeight:hs,getLineHeightFactor:Yc,getLineWidth:rr,write:Nt,getHorizontalCoordinate:Rs,getVerticalCoordinate:Os,getCoordinateString:Jl,getVerticalCoordinateString:Ia,collections:{},newObject:_r,newAdditionalObject:ie,newObjectDeferred:_t,newObjectDeferredBegin:H,getFilters:Ee,putStream:He,events:Sr,scaleFactor:Wt,pageSize:{getWidth:function(){return Xc(F)},setWidth:function(x){rc(F,x)},getHeight:function(){return Po(F)},setHeight:function(x){Jc(F,x)}},encryptionOptions:u,encryption:an,getEncryptor:function(x){return u!==null?an.encryptor(x,0):function(M){return M}},output:Cr,getNumberOfPages:qi,pages:je,out:le,f2:P,f3:z,getPageInfo:oi,getPageInfoByObjId:Xh,getCurrentPageInfo:cl,getPDFVersion:y,Point:Lo,Rectangle:fl,Matrix:zt,hasHotfix:ka},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Xc(F)},set:function(x){rc(F,x)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Po(F)},set:function(x){Jc(F,x)},enumerable:!0,configurable:!0}),(function(x){for(var M=0,re=St.length;M<re;M++){var pe=Br.call(this,x[M][0],x[M][1],x[M][2],St[M][3],!0);p===!1&&(g[pe]=!0);var Se=x[M][0].split("-");Yt({id:pe,fontName:Se[0],fontStyle:Se[1]||""})}Sr.publish("addFonts",{fonts:Tt,dictionary:Kt})}).call(d,St),Ot="F1",os(i,t),Sr.publish("initialized"),d}gh.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},gh.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gh.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},gh.prototype.processOwnerPassword=function(r,e){return cm(lm(e).substr(0,5),r)},gh.prototype.encryptor=function(r,e){var t=lm(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return cm(t,n)}},Td.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||Yr(r)!==Yr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Bt.API={events:[]},Bt.version="3.0.3";var On=Bt.API,mg=1,qc=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fh=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},cr=function(r){return r.toFixed(2)},Tl=function(r){return r.toFixed(5)};On.__acroform__={};var Cs=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},aw=function(r){return r*mg},_o=function(r){var e=new Ab,t=kt.internal.getHeight(r)||0,n=kt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(cr(n)),Number(cr(t))],e},ML=On.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},BL=On.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},UL=On.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},jn=On.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return UL(r,e-1)},Wn=On.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ML(r,e-1)},Vn=On.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return BL(r,e-1)},zL=On.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],s=r[1],a=r[2],o=r[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=n(s+o)||0,c.upperRight_X=t(i+a)||0,c.upperRight_Y=n(s)||0,[Number(cr(c.lowerLeft_X)),Number(cr(c.lowerLeft_Y)),Number(cr(c.upperRight_X)),Number(cr(c.upperRight_Y))]},HL=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=hm(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+cr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=_o(r);return s.scope=r.scope,s.stream=e.join("\n"),s}},hm=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(P){return P.split("\n")}):i.map(function(P){return[P]});var s=t,a=kt.internal.getHeight(r)||0;a=a<0?-a:a;var o=kt.internal.getWidth(r)||0;o=o<0?-o:o;var c=function(P,z,te){if(P+1<i.length){var ce=z+" "+i[P+1][0];return zf(ce,r,te).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var h,u,p=zf("3",r,s).height,g=r.multiline?a-s:(a-p)/2,d=g+=2,_=0,y=0,b=0;if(s<=0){e="(...) Tj\n",e+="% Width of Text: "+zf(e,r,s=12).width+", FieldWidth:"+o+"\n";break}for(var E="",D=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var I=!1;if(i[N].length!==1&&b!==i[N].length-1){if((p+2)*(D+2)+2>a)continue e;E+=i[N][b],I=!0,y=N,N--}else{E=(E+=i[N][b]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var X=parseInt(N),he=c(X,E,s),G=N>=i.length-1;if(he&&!G){E+=" ",b=0;continue}if(he||G){if(G)y=X;else if(r.multiline&&(p+2)*(D+2)+2>a)continue e}else{if(!r.multiline||(p+2)*(D+2)+2>a)continue e;y=X}}for(var q="",O=_;O<=y;O++){var ee=i[O];if(r.multiline){if(O===y){q+=ee[b]+" ",b=(b+1)%ee.length;continue}if(O===_){q+=ee[ee.length-1]+" ";continue}}q+=ee[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,u=zf(q,r,s).width,r.textAlign){case"right":h=o-u-2;break;case"center":h=(o-u)/2;break;default:h=2}e+=cr(h)+" "+cr(d)+" Td\n",e+="("+qc(q)+") Tj\n",e+=-cr(h)+" 0 Td\n",d=-(s+2),u=0,_=I?y:y+1,D++,E=""}break}return n.text=e,n.fontSize=s,n},zf=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},jL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},WL=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},VL=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ro.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(jL)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");mg=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new Tb,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&WL(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],c=[],h=o.Rect;if(o.Rect&&(o.Rect=zL(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=kt.createDefaultAppearanceStream(o),Yr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=h,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=HL(o);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var d=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var a in d)if(d.hasOwnProperty(a)){var _=d[a];typeof _=="function"&&(_=_.call(i,o)),p+="/"+a+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=d)=="function"&&(_=_.call(i,o)),p+="/"+a+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);p+=">>"}c.push({key:"AP",value:"<<\n"+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&function(y,b){for(var E in y)if(y.hasOwnProperty(E)){var D=E,N=y[E];b.internal.newObjectDeferredBegin(N.objId,!0),Yr(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete y[D]}}(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},Eb=On.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),Yr(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+qc(n(r[s].toString()))+")"):i+=r[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},f0=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+qc(n(r))+")"},So=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};So.prototype.toString=function(){return this.objId+" 0 R"},So.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},So.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:Eb(i,this.objId,this.scope)}):i instanceof So?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var Ab=function(){So.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};Cs(Ab,So);var Tb=function(){So.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+qc(t(r))+")"}},set:function(t){r=t}})};Cs(Tb,So);var ro=function r(){So.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!jn(e,3)},set:function(E){E?this.F=Wn(e,3):this.F=Vn(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');t=E}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(E){n=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(E){n[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(E){n[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(E){n[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(E){n[3]=E}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Cd)return;s="FieldObject"+r.FieldNum++}var E=function(D){return D};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+qc(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(E){a=E}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(E){o=E}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/mg:h},set:function(E){h=E}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Cd||this instanceof xc))return f0(p,this.objId,this.scope)},set:function(E){E=E.toString(),p=E}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof li==0?f0(g,this.objId,this.scope):g},set:function(E){E=E.toString(),g=this instanceof li==0?E.substr(0,1)==="("?fh(E.substr(1,E.length-2)):fh(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof li==1?fh(g.substr(1,g.length-1)):g},set:function(E){E=E.toString(),g=this instanceof li==1?"/"+E:E}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof li==0?f0(d,this.objId,this.scope):d},set:function(E){E=E.toString(),d=this instanceof li==0?E.substr(0,1)==="("?fh(E.substr(1,E.length-2)):fh(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof li==1?fh(d.substr(1,d.length-1)):d},set:function(E){E=E.toString(),d=this instanceof li==1?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(E){E=!!E,y=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(E){_=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,1)},set:function(E){E?this.Ff=Wn(this.Ff,1):this.Ff=Vn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,2)},set:function(E){E?this.Ff=Wn(this.Ff,2):this.Ff=Vn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,3)},set:function(E){E?this.Ff=Wn(this.Ff,3):this.Ff=Vn(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');b=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(b){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};Cs(ro,So);var Ch=function(){ro.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Eb(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=function(s,a,o){o||(o=1);for(var c,h=[];c=a.exec(s);)h.push(c[o]);return h}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,18)},set:function(t){t?this.Ff=Wn(this.Ff,18):this.Ff=Vn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Wn(this.Ff,19):this.Ff=Vn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,20)},set:function(t){t?(this.Ff=Wn(this.Ff,20),e.sort()):this.Ff=Vn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,22)},set:function(t){t?this.Ff=Wn(this.Ff,22):this.Ff=Vn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,23)},set:function(t){t?this.Ff=Wn(this.Ff,23):this.Ff=Vn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,27)},set:function(t){t?this.Ff=Wn(this.Ff,27):this.Ff=Vn(this.Ff,27)}}),this.hasAppearanceStream=!1};Cs(Ch,ro);var kh=function(){Ch.call(this),this.fontName="helvetica",this.combo=!1};Cs(kh,Ch);var Dh=function(){kh.call(this),this.combo=!0};Cs(Dh,kh);var Jf=function(){Dh.call(this),this.edit=!0};Cs(Jf,Dh);var li=function(){ro.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,15)},set:function(t){t?this.Ff=Wn(this.Ff,15):this.Ff=Vn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,16)},set:function(t){t?this.Ff=Wn(this.Ff,16):this.Ff=Vn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,17)},set:function(t){t?this.Ff=Wn(this.Ff,17):this.Ff=Vn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,26)},set:function(t){t?this.Ff=Wn(this.Ff,26):this.Ff=Vn(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+qc(t(e[n]))+")");return i.push(">>"),i.join("\n")}},set:function(t){Yr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};Cs(li,ro);var Qf=function(){li.call(this),this.pushButton=!0};Cs(Qf,li);var Nh=function(){li.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};Cs(Nh,li);var Cd=function(){var r,e;ro.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+qc(i(n[s]))+")");return a.push(">>"),a.join("\n")},set:function(i){Yr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Cs(Cd,ro),Nh.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},Nh.prototype.createOption=function(r){var e=new Cd;return e.Parent=this,e.optionName=r,this.Kids.push(e),qL.call(this.scope,e),e};var ed=function(){li.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=kt.CheckBox.createAppearanceStream()};Cs(ed,li);var xc=function(){ro.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,13)},set:function(e){e?this.Ff=Wn(this.Ff,13):this.Ff=Vn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,21)},set:function(e){e?this.Ff=Wn(this.Ff,21):this.Ff=Vn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,23)},set:function(e){e?this.Ff=Wn(this.Ff,23):this.Ff=Vn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,24)},set:function(e){e?this.Ff=Wn(this.Ff,24):this.Ff=Vn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,25)},set:function(e){e?this.Ff=Wn(this.Ff,25):this.Ff=Vn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,26)},set:function(e){e?this.Ff=Wn(this.Ff,26):this.Ff=Vn(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Cs(xc,ro);var td=function(){xc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!jn(this.Ff,14)},set:function(r){r?this.Ff=Wn(this.Ff,14):this.Ff=Vn(this.Ff,14)}}),this.password=!0};Cs(td,xc);var kt={CheckBox:{createAppearanceStream:function(){return{N:{On:kt.CheckBox.YesNormal},D:{On:kt.CheckBox.YesPushDown,Off:kt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=_o(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=hm(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+cr(kt.internal.getWidth(r))+" "+cr(kt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+cr(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join("\n"),e},YesNormal:function(r){var e=_o(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=kt.internal.getHeight(r),a=kt.internal.getWidth(r),o=hm(r,r.caption);return i.push("1 g"),i.push("0 0 "+cr(a)+" "+cr(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+cr(a-1)+" "+cr(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+cr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join("\n"),e},OffPushDown:function(r){var e=_o(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+cr(kt.internal.getWidth(r))+" "+cr(kt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join("\n"),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:kt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=kt.RadioButton.Circle.YesNormal,e.D[r]=kt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=_o(r);e.scope=r.scope;var t=[],n=kt.internal.getWidth(r)<=kt.internal.getHeight(r)?kt.internal.getWidth(r)/4:kt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=kt.internal.Bezier_C,s=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Tl(kt.internal.getWidth(r)/2)+" "+Tl(kt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(r){var e=_o(r);e.scope=r.scope;var t=[],n=kt.internal.getWidth(r)<=kt.internal.getHeight(r)?kt.internal.getWidth(r)/4:kt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*kt.internal.Bezier_C).toFixed(5)),a=Number((n*kt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Tl(kt.internal.getWidth(r)/2)+" "+Tl(kt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Tl(kt.internal.getWidth(r)/2)+" "+Tl(kt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e},OffPushDown:function(r){var e=_o(r);e.scope=r.scope;var t=[],n=kt.internal.getWidth(r)<=kt.internal.getHeight(r)?kt.internal.getWidth(r)/4:kt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*kt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Tl(kt.internal.getWidth(r)/2)+" "+Tl(kt.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join("\n"),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:kt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=kt.RadioButton.Cross.YesNormal,e.D[r]=kt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=_o(r);e.scope=r.scope;var t=[],n=kt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+cr(kt.internal.getWidth(r)-2)+" "+cr(kt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(cr(n.x1.x)+" "+cr(n.x1.y)+" m"),t.push(cr(n.x2.x)+" "+cr(n.x2.y)+" l"),t.push(cr(n.x4.x)+" "+cr(n.x4.y)+" m"),t.push(cr(n.x3.x)+" "+cr(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join("\n"),e},YesPushDown:function(r){var e=_o(r);e.scope=r.scope;var t=kt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+cr(kt.internal.getWidth(r))+" "+cr(kt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+cr(kt.internal.getWidth(r)-2)+" "+cr(kt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(cr(t.x1.x)+" "+cr(t.x1.y)+" m"),n.push(cr(t.x2.x)+" "+cr(t.x2.y)+" l"),n.push(cr(t.x4.x)+" "+cr(t.x4.y)+" m"),n.push(cr(t.x3.x)+" "+cr(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join("\n"),e},OffPushDown:function(r){var e=_o(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+cr(kt.internal.getWidth(r))+" "+cr(kt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join("\n"),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};kt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=kt.internal.getWidth(r),t=kt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},kt.internal.getWidth=function(r){var e=0;return Yr(r)==="object"&&(e=aw(r.Rect[2])),e},kt.internal.getHeight=function(r){var e=0;return Yr(r)==="object"&&(e=aw(r.Rect[3])),e};var qL=On.addField=function(r){if(VL(this,r),!(r instanceof ro))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};On.AcroFormChoiceField=Ch,On.AcroFormListBox=kh,On.AcroFormComboBox=Dh,On.AcroFormEditBox=Jf,On.AcroFormButton=li,On.AcroFormPushButton=Qf,On.AcroFormRadioButton=Nh,On.AcroFormCheckBox=ed,On.AcroFormTextField=xc,On.AcroFormPasswordField=td,On.AcroFormAppearance=kt,On.AcroForm={ChoiceField:Ch,ListBox:kh,ComboBox:Dh,EditBox:Jf,Button:li,PushButton:Qf,RadioButton:Nh,CheckBox:ed,TextField:xc,PasswordField:td,Appearance:kt},Bt.AcroForm={ChoiceField:Ch,ListBox:kh,ComboBox:Dh,EditBox:Jf,Button:li,PushButton:Qf,RadioButton:Nh,CheckBox:ed,TextField:xc,PasswordField:td,Appearance:kt};Bt.AcroForm;function Cb(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=r.__addimage__.getImageFileTypeByImageData=function(P,z){var te,ce,be,Ce,Pe,me=t;if((z=z||t)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(he(P))for(Pe in n)for(be=n[Pe],te=0;te<be.length;te+=1){for(Ce=!0,ce=0;ce<be[te].length;ce+=1)if(be[te][ce]!==void 0&&be[te][ce]!==P[ce]){Ce=!1;break}if(Ce===!0){me=Pe;break}}else for(Pe in n)for(be=n[Pe],te=0;te<be.length;te+=1){for(Ce=!0,ce=0;ce<be[te].length;ce+=1)if(be[te][ce]!==void 0&&be[te][ce]!==P.charCodeAt(ce)){Ce=!1;break}if(Ce===!0){me=Pe;break}}return me===t&&z!==t&&(me=z),me},s=function P(z){for(var te=this.internal.write,ce=this.internal.putStream,be=(0,this.internal.getFilters)();be.indexOf("FlateEncode")!==-1;)be.splice(be.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var Ce=[];if(Ce.push({key:"Type",value:"/XObject"}),Ce.push({key:"Subtype",value:"/Image"}),Ce.push({key:"Width",value:z.width}),Ce.push({key:"Height",value:z.height}),z.colorSpace===E.INDEXED?Ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(Ce.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===E.DEVICE_CMYK&&Ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ce.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&Ce.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)&&z.transparency.length>0){for(var Pe="",me=0,Fe=z.transparency.length;me<Fe;me++)Pe+=z.transparency[me]+" "+z.transparency[me]+" ";Ce.push({key:"Mask",value:"["+Pe+"]"})}z.sMask!==void 0&&Ce.push({key:"SMask",value:z.objectId+1+" 0 R"});var Oe=z.filter!==void 0?["/"+z.filter]:void 0;if(ce({data:z.data,additionalKeyValues:Ce,alreadyAppliedFilters:Oe,objectId:z.objectId}),te("endobj"),"sMask"in z&&z.sMask!==void 0){var Me,T=(Me=z.sMaskBitsPerComponent)!==null&&Me!==void 0?Me:z.bitsPerComponent,F={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:z.sMask};"filter"in z&&(F.decodeParameters="/Predictor ".concat(z.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(z.width),F.filter=z.filter),P.call(this,F)}if(z.colorSpace===E.INDEXED){var R=this.internal.newObject();ce({data:q(new Uint8Array(z.palette)),objectId:R}),te("endobj")}},a=function(){var P=this.internal.collections[e+"images"];for(var z in P)s.call(this,P[z])},o=function(){var P,z=this.internal.collections[e+"images"],te=this.internal.write;for(var ce in z)te("/I"+(P=z[ce]).index,P.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},h=function(){var P=this.internal.collections[e+"images"];return c.call(this),P},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(P){return typeof r["process"+P.toUpperCase()]=="function"},g=function(P){return Yr(P)==="object"&&P.nodeType===1},d=function(P,z){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var te=""+P.getAttribute("src");if(te.indexOf("data:image/")===0)return Xf(unescape(te).split("base64,").pop());var ce=r.loadFile(te,!0);if(ce!==void 0)return ce}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var be;switch(z){case"PNG":be="image/png";break;case"WEBP":be="image/webp";break;default:be="image/jpeg"}return Xf(P.toDataURL(be,1).split("base64,").pop())}},_=function(P){var z=this.internal.collections[e+"images"];if(z){for(var te in z)if(P===z[te].alias)return z[te]}},y=function(P,z,te){return P||z||(P=-96,z=-96),P<0&&(P=-1*te.width*72/P/this.internal.scaleFactor),z<0&&(z=-1*te.height*72/z/this.internal.scaleFactor),P===0&&(P=z*te.width/te.height),z===0&&(z=P*te.height/te.width),[P,z]},b=function(P,z,te,ce,be,Ce){var Pe=y.call(this,te,ce,be),me=this.internal.getCoordinateString,Fe=this.internal.getVerticalCoordinateString,Oe=h.call(this);if(te=Pe[0],ce=Pe[1],Oe[be.index]=be,Ce){Ce*=Math.PI/180;var Me=Math.cos(Ce),T=Math.sin(Ce),F=function(B){return B.toFixed(4)},R=[F(Me),F(T),F(-1*T),F(Me),0,0,"cm"]}this.internal.write("q"),Ce?(this.internal.write([1,"0","0",1,me(P),Fe(z+ce),"cm"].join(" ")),this.internal.write(R.join(" ")),this.internal.write([me(te),"0","0",me(ce),"0","0","cm"].join(" "))):this.internal.write([me(te),"0","0",me(ce),me(P),Fe(z+ce),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+be.index+" Do"),this.internal.write("Q")},E=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var D=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=r.__addimage__.sHashCode=function(P){var z,te,ce=0;if(typeof P=="string")for(te=P.length,z=0;z<te;z++)ce=(ce<<5)-ce+P.charCodeAt(z),ce|=0;else if(he(P))for(te=P.byteLength/2,z=0;z<te;z++)ce=(ce<<5)-ce+P[z],ce|=0;return ce},I=r.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var z=!0;return P.length===0&&(z=!1),P.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(z=!1),z},X=r.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var z=P.indexOf(",");return z<0?null:P.substring(0,z).trim().endsWith("base64")?P.substring(z+1):null};r.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var he=r.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},G=r.__addimage__.binaryStringToUint8Array=function(P){for(var z=P.length,te=new Uint8Array(z),ce=0;ce<z;ce++)te[ce]=P.charCodeAt(ce);return te},q=r.__addimage__.arrayBufferToBinaryString=function(P){for(var z="",te=he(P)?P:new Uint8Array(P),ce=0;ce<te.length;ce+=8192)z+=String.fromCharCode.apply(null,te.subarray(ce,ce+8192));return z};r.addImage=function(){var P,z,te,ce,be,Ce,Pe,me,Fe;if(typeof arguments[1]=="number"?(z=t,te=arguments[1],ce=arguments[2],be=arguments[3],Ce=arguments[4],Pe=arguments[5],me=arguments[6],Fe=arguments[7]):(z=arguments[1],te=arguments[2],ce=arguments[3],be=arguments[4],Ce=arguments[5],Pe=arguments[6],me=arguments[7],Fe=arguments[8]),Yr(P=arguments[0])==="object"&&!g(P)&&"imageData"in P){var Oe=P;P=Oe.imageData,z=Oe.format||z||t,te=Oe.x||te||0,ce=Oe.y||ce||0,be=Oe.w||Oe.width||be,Ce=Oe.h||Oe.height||Ce,Pe=Oe.alias||Pe,me=Oe.compression||me,Fe=Oe.rotation||Oe.angle||Fe}var Me=this.internal.getFilters();if(me===void 0&&Me.indexOf("FlateEncode")!==-1&&(me="SLOW"),isNaN(te)||isNaN(ce))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var T=O.call(this,P,z,Pe,me);return b.call(this,te,ce,be,Ce,T,Fe),this};var O=function(P,z,te,ce){var be,Ce,Pe;if(typeof P=="string"&&i(P)===t){P=unescape(P);var me=ee(P,!1);(me!==""||(me=r.loadFile(P,!0))!==void 0)&&(P=me)}if(g(P)&&(P=d(P,z)),z=i(P,z),!p(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((Pe=te)==null||Pe.length===0)&&(te=function(Fe){return typeof Fe=="string"||he(Fe)?N(Fe):he(Fe.data)?N(Fe.data):null}(P)),(be=_.call(this,te))||(P instanceof Uint8Array||z==="RGBA"||(Ce=P,P=G(P)),be=this["process"+z.toUpperCase()](P,u.call(this),te,function(Fe){return Fe&&typeof Fe=="string"&&(Fe=Fe.toUpperCase()),Fe in r.image_compression?Fe:D.NONE}(ce),Ce)),!be)throw new Error("An unknown error occurred whilst processing the image.");return be},ee=r.__addimage__.convertBase64ToBinaryString=function(P,z){z=typeof z!="boolean"||z;var te,ce="";if(typeof P=="string"){var be;te=(be=X(P))!==null&&be!==void 0?be:P;try{ce=Xf(te)}catch(Ce){if(z)throw I(te)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};r.getImageProperties=function(P){var z,te,ce="";if(g(P)&&(P=d(P)),typeof P=="string"&&i(P)===t&&((ce=ee(P,!1))===""&&(ce=r.loadFile(P)||""),P=ce),te=i(P),!p(te))throw new Error("addImage does not support files of type '"+te+"', please ensure that a plugin for '"+te+"' support is added.");if(P instanceof Uint8Array||(P=G(P)),!(z=this["process"+te.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=te,z}})(Bt.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Bt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,u=!1,p=0;p<h.length&&!u;p++)switch((n=h[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var g=0;g<h.length;g++){n=h[g];var d=this.internal.pdfEscape,_=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(y.objId),D=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(E(n.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+d(E(D))+") >>",y.content=s;var N=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(y.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(_(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var X=this.annotations._nameMap[n.options.name];n.options.pageNumber=X.page,n.options.top=X.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(_(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var he=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+he+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(t),y:h(n),w:c(t+i),h:h(n+s)},options:a,type:"link"})},r.textWithLink=function(t,n,i,s){var a,o,c=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(t,o).length;a=Math.ceil(h*u)}else o=c,a=h;return this.text(t,n,i,s),i+=.2*h,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-h,o,a,s),c},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(Bt.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=r.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},c=r.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&i.indexOf(y.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var h=r.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var u=r.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length==4},p=r.__arabicParser__.resolveLigatures=function(y){var b=0,E=t,D="",N=0;for(b=0;b<y.length;b+=1)E[y.charCodeAt(b)]!==void 0?(N++,typeof(E=E[y.charCodeAt(b)])=="number"&&(D+=String.fromCharCode(E),E=t,N=0),b===y.length-1&&(E=t,D+=y.charAt(b-(N-1)),b-=N-1,N=0)):(E=t,D+=y.charAt(b-N),b-=N,N=0);return D};r.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var g=r.__arabicParser__.getCorrectForm=function(y,b,E){return a(y)?s(y)===!1?-1:!h(y)||!a(b)&&!a(E)||!a(E)&&o(b)||o(y)&&!a(b)||o(y)&&c(b)||o(y)&&o(b)?0:u(y)&&a(b)&&!o(b)&&a(E)&&h(E)?3:o(y)||!a(E)?1:2:-1},d=function(y){var b=0,E=0,D=0,N="",I="",X="",he=(y=y||"").split("\\s+"),G=[];for(b=0;b<he.length;b+=1){for(G.push(""),E=0;E<he[b].length;E+=1)N=he[b][E],I=he[b][E-1],X=he[b][E+1],a(N)?(D=g(N,I,X),G[b]+=D!==-1?String.fromCharCode(e[N.charCodeAt(0)][D]):N):G[b]+=N;G[b]=p(G[b])}return G.join(" ")},_=r.__arabicParser__.processArabic=r.processArabic=function(){var y,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(b)){var D=0;for(E=[],D=0;D<b.length;D+=1)Array.isArray(b[D])?E.push([d(b[D][0]),b[D][1],b[D][2]]):E.push([d(b[D])]);y=E}else y=d(b);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};r.events.push(["preProcessText",_])}(Bt.API),Bt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Bt.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(y){_=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},r.getTextDimensions=function(c,h){n.call(this);var u=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),g=h.scaleFactor||this.internal.scaleFactor,d=0,_=0,y=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var E=h.maxWidth;E>0?typeof c=="string"?c=this.splitTextToSize(c,E):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,I){return N.concat(b.splitTextToSize(I,E))},[])):c=Array.isArray(c)?c:[c];for(var D=0;D<c.length;D++)d<(y=this.getStringUnitWidth(c[D],{font:p})*u)&&(d=y);return d!==0&&(_=c.length),{w:d/=g,h:Math.max((_*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/g,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,d&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};r.table=function(c,h,u,p,g){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,_,y,b,E=[],D=[],N=[],I={},X={},he=[],G=[],q=(g=g||{}).autoSize||!1,O=g.printHeaders!==!1,ee=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,P=g.margins||Object.assign({width:this.getPageWidth()},e),z=typeof g.padding=="number"?g.padding:3,te=g.headerBackgroundColor||"#c8c8c8",ce=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=O,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=te,this.internal.__cell__.headerTextColor=ce,this.setFontSize(ee),p==null)D=E=Object.keys(u[0]),N=E.map(function(){return"left"});else if(Array.isArray(p)&&Yr(p[0])==="object")for(E=p.map(function(Oe){return Oe.name}),D=p.map(function(Oe){return Oe.prompt||Oe.name||""}),N=p.map(function(Oe){return Oe.align||"left"}),d=0;d<p.length;d+=1)X[p[d].name]=.7499990551181103*p[d].width;else Array.isArray(p)&&typeof p[0]=="string"&&(D=E=p,N=E.map(function(){return"left"}));if(q||Array.isArray(p)&&typeof p[0]=="string")for(d=0;d<E.length;d+=1){for(I[b=E[d]]=u.map(function(Oe){return Oe[b]}),this.setFont(void 0,"bold"),he.push(this.getTextDimensions(D[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=I[b],this.setFont(void 0,"normal"),y=0;y<_.length;y+=1)he.push(this.getTextDimensions(_[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);X[b]=Math.max.apply(null,he)+z+z,he=[]}if(O){var be={};for(d=0;d<E.length;d+=1)be[E[d]]={},be[E[d]].text=D[d],be[E[d]].align=N[d];var Ce=o.call(this,be,X);G=E.map(function(Oe){return new s(c,h,X[Oe],Ce,be[Oe].text,void 0,be[Oe].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var Pe=p.reduce(function(Oe,Me){return Oe[Me.name]=Me.align,Oe},{});for(d=0;d<u.length;d+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:d,data:u[d]},this);var me=o.call(this,u[d],X);for(y=0;y<E.length;y+=1){var Fe=u[d][E[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:d,col:y,data:Fe},this),a.call(this,new s(c,h,X[E[y]],me,Fe,d+2,Pe[E[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var o=function(c,h){var u=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(d){var _=c[d];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,h[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*p/g+u+u},this).reduce(function(d,_){return Math.max(d,_)},0)};r.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},r.printHeaderRow=function(c,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),h&&(u.y=this.internal.__cell__.margins.top||0,g.push(u)),u.lineNumber=c;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(_)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),t=!1}}(Bt.API);var kb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Db=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],um=Cb(Db),Nb=[100,200,300,400,500,600,700,800,900],GL=Cb(Nb);function d0(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return kb[s=s||"normal"]?s:"normal"}(r.style),n=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(r.weight),i=function(s){return typeof um[s=s||"normal"]=="number"?s:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function ow(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var $L={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lw={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cw(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function hw(r){return r.trimLeft()}function ZL(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function YL(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var Hf,uw,fw,dh,jf,dw,pw,mw,p0=["times"];function gw(r,e,t,n,i){var s=4,a=ww;switch(i){case Bt.API.image_compression.FAST:s=1,a=vw;break;case Bt.API.image_compression.MEDIUM:s=6,a=yw;break;case Bt.API.image_compression.SLOW:s=9,a=_w}r=function(c,h,u,p){for(var g,d=c.length/h,_=new Uint8Array(c.length+d),y=[KL,vw,ww,yw,_w],b=0;b<d;b+=1){var E=b*h,D=c.subarray(E,E+h);if(p)_.set(p(D,u,g),E+b);else{for(var N=y.length,I=[],X=0;X<N;X+=1)I[X]=y[X](D,u,g);var he=JL(I.concat());_.set(I[he],E+b)}g=D}return _}(r,e,Math.ceil(t*n/8),a);var o=im(r,{level:s});return Bt.API.__addimage__.arrayBufferToBinaryString(o)}function KL(r){var e=Array.apply([],r);return e.unshift(0),e}function vw(r,e){var t=r.length,n=[];n[0]=1;for(var i=0;i<t;i+=1){var s=r[i-e]||0;n[i+1]=r[i]-s+256&255}return n}function ww(r,e,t){var n=r.length,i=[];i[0]=2;for(var s=0;s<n;s+=1){var a=t&&t[s]||0;i[s+1]=r[s]-a+256&255}return i}function yw(r,e,t){var n=r.length,i=[];i[0]=3;for(var s=0;s<n;s+=1){var a=r[s-e]||0,o=t&&t[s]||0;i[s+1]=r[s]+256-(a+o>>>1)&255}return i}function _w(r,e,t){var n=r.length,i=[];i[0]=4;for(var s=0;s<n;s+=1){var a=XL(r[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=r[s]-a+256&255}return i}function XL(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),i=Math.abs(r-t),s=Math.abs(r+e-t-t);return n<=i&&n<=s?r:i<=s?e:t}function JL(r){var e=r.map(function(t){return t.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function m0(r,e,t){var n=e*t,i=Math.floor(n/8),s=16-(n-8*i+t),a=(1<<t)-1;return Ib(r,i)>>s&a}function bw(r,e,t,n){var i=t*n,s=Math.floor(i/8),a=16-(i-8*s+n),o=(1<<n)-1,c=(e&o)<<a;(function(h,u,p){if(u+1<h.byteLength)h.setUint16(u,p,!1);else{var g=p>>8&255;h.setUint8(u,g)}})(r,s,Ib(r,s)&~(o<<a)&65535|c)}function Ib(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function QL(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],s=i>>7,a=1<<1+(7&i);r[e++],r[e++];var o=null,c=null;s&&(o=e,c=a,e+=3*a);var h=!0,u=[],p=0,g=null,d=0,_=null;for(this.width=t,this.height=n;h&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,_=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((P=r[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=r[e++];p=r[e++]|r[e++]<<8,g=r[e++],1&y||(g=null),d=y>>2&7,e++;break;case 254:for(;;){if(!((P=r[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var b=r[e++]|r[e++]<<8,E=r[e++]|r[e++]<<8,D=r[e++]|r[e++]<<8,N=r[e++]|r[e++]<<8,I=r[e++],X=I>>6&1,he=1<<1+(7&I),G=o,q=c,O=!1;I>>7&&(O=!0,G=e,q=he,e+=3*he);var ee=e;for(e++;;){var P;if(!((P=r[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}u.push({x:b,y:E,width:D,height:N,has_local_palette:O,palette_offset:G,palette_size:q,data_offset:ee,data_length:e-ee,transparent_index:g,interlaced:!!X,delay:p,disposal:d});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return _},this.frameInfo=function(z){if(z<0||z>=u.length)throw new Error("Frame index out of range.");return u[z]},this.decodeAndBlitFrameBGRA=function(z,te){var ce=this.frameInfo(z),be=ce.width*ce.height,Ce=new Uint8Array(be);xw(r,ce.data_offset,Ce,be);var Pe=ce.palette_offset,me=ce.transparent_index;me===null&&(me=256);var Fe=ce.width,Oe=t-Fe,Me=Fe,T=4*(ce.y*t+ce.x),F=4*((ce.y+ce.height)*t+ce.x),R=T,B=4*Oe;ce.interlaced===!0&&(B+=4*t*7);for(var Y=8,fe=0,we=Ce.length;fe<we;++fe){var ve=Ce[fe];if(Me===0&&(Me=Fe,(R+=B)>=F&&(B=4*Oe+4*t*(Y-1),R=T+(Fe+Oe)*(Y<<1),Y>>=1)),ve===me)R+=4;else{var _e=r[Pe+3*ve],je=r[Pe+3*ve+1],Xe=r[Pe+3*ve+2];te[R++]=Xe,te[R++]=je,te[R++]=_e,te[R++]=255}--Me}},this.decodeAndBlitFrameRGBA=function(z,te){var ce=this.frameInfo(z),be=ce.width*ce.height,Ce=new Uint8Array(be);xw(r,ce.data_offset,Ce,be);var Pe=ce.palette_offset,me=ce.transparent_index;me===null&&(me=256);var Fe=ce.width,Oe=t-Fe,Me=Fe,T=4*(ce.y*t+ce.x),F=4*((ce.y+ce.height)*t+ce.x),R=T,B=4*Oe;ce.interlaced===!0&&(B+=4*t*7);for(var Y=8,fe=0,we=Ce.length;fe<we;++fe){var ve=Ce[fe];if(Me===0&&(Me=Fe,(R+=B)>=F&&(B=4*Oe+4*t*(Y-1),R=T+(Fe+Oe)*(Y<<1),Y>>=1)),ve===me)R+=4;else{var _e=r[Pe+3*ve],je=r[Pe+3*ve+1],Xe=r[Pe+3*ve+2];te[R++]=_e,te[R++]=je,te[R++]=Xe,te[R++]=255}--Me}}}function xw(r,e,t,n){for(var i=r[e++],s=1<<i,a=s+1,o=a+1,c=i+1,h=(1<<c)-1,u=0,p=0,g=0,d=r[e++],_=new Int32Array(4096),y=null;;){for(;u<16&&d!==0;)p|=r[e++]<<u,u+=8,d===1?d=r[e++]:--d;if(u<c)break;var b=p&h;if(p>>=c,u-=c,b!==s){if(b===a)break;for(var E=b<o?b:y,D=0,N=E;N>s;)N=_[N]>>8,++D;var I=N;if(g+D+(E!==b?1:0)>n)return void nn.log("Warning, gif stream longer than expected.");t[g++]=I;var X=g+=D;for(E!==b&&(t[g++]=I),N=E;D--;)N=_[N],t[--X]=255&N,N>>=8;y!==null&&o<4096&&(_[o++]=y<<8|I,o>=h+1&&c<12&&(++c,h=h<<1|1)),y=b}else o=a+1,h=(1<<(c=i+1))-1,y=null}return g!==n&&nn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function g0(r){var e,t,n,i,s,a=Math.floor,o=new Array(64),c=new Array(64),h=new Array(64),u=new Array(64),p=new Array(65535),g=new Array(65535),d=new Array(64),_=new Array(64),y=[],b=0,E=7,D=new Array(64),N=new Array(64),I=new Array(64),X=new Array(256),he=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],O=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],te=[0,1,2,3,4,5,6,7,8,9,10,11],ce=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],be=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ce(T,F){for(var R=0,B=0,Y=new Array,fe=1;fe<=16;fe++){for(var we=1;we<=T[fe];we++)Y[F[B]]=[],Y[F[B]][0]=R,Y[F[B]][1]=fe,B++,R++;R*=2}return Y}function Pe(T){for(var F=T[0],R=T[1]-1;R>=0;)F&1<<R&&(b|=1<<E),R--,--E<0&&(b==255?(me(255),me(0)):me(b),E=7,b=0)}function me(T){y.push(T)}function Fe(T){me(T>>8&255),me(255&T)}function Oe(T,F,R,B,Y){for(var fe,we=Y[0],ve=Y[240],_e=function(st,Et){var mt,Jt,It,lr,Zt,Gt,yr,jt,Ot,Wt,Lt=0;for(Ot=0;Ot<8;++Ot){mt=st[Lt],Jt=st[Lt+1],It=st[Lt+2],lr=st[Lt+3],Zt=st[Lt+4],Gt=st[Lt+5],yr=st[Lt+6];var Lr=mt+(jt=st[Lt+7]),wr=mt-jt,Tt=Jt+yr,Kt=Jt-yr,Pr=It+Gt,Ft=It-Gt,pr=lr+Zt,Qt=lr-Zt,en=Lr+pr,vn=Lr-pr,Dr=Tt+Pr,Vt=Tt-Pr;st[Lt]=en+Dr,st[Lt+4]=en-Dr;var Sr=.707106781*(Vt+vn);st[Lt+2]=vn+Sr,st[Lt+6]=vn-Sr;var Aa=.382683433*((en=Qt+Ft)-(Vt=Kt+wr)),Gn=.5411961*en+Aa,Ds=1.306562965*Vt+Aa,as=.707106781*(Dr=Ft+Kt),zt=wr+as,Ns=wr-as;st[Lt+5]=Ns+Gn,st[Lt+3]=Ns-Gn,st[Lt+1]=zt+Ds,st[Lt+7]=zt-Ds,Lt+=8}for(Lt=0,Ot=0;Ot<8;++Ot){mt=st[Lt],Jt=st[Lt+8],It=st[Lt+16],lr=st[Lt+24],Zt=st[Lt+32],Gt=st[Lt+40],yr=st[Lt+48];var Is=mt+(jt=st[Lt+56]),ai=mt-jt,Ni=Jt+yr,_r=Jt-yr,_t=It+Gt,H=It-Gt,ie=lr+Zt,K=lr-Zt,Q=Is+ie,ne=Is-ie,oe=Ni+_t,Ee=Ni-_t;st[Lt]=Q+oe,st[Lt+32]=Q-oe;var He=.707106781*(Ee+ne);st[Lt+16]=ne+He,st[Lt+48]=ne-He;var ke=.382683433*((Q=K+H)-(Ee=_r+ai)),De=.5411961*Q+ke,Re=1.306562965*Ee+ke,at=.707106781*(oe=H+_r),ut=ai+at,bt=ai-at;st[Lt+40]=bt+De,st[Lt+24]=bt-De,st[Lt+8]=ut+Re,st[Lt+56]=ut-Re,Lt++}for(Ot=0;Ot<64;++Ot)Wt=st[Ot]*Et[Ot],d[Ot]=Wt>0?Wt+.5|0:Wt-.5|0;return d}(T,F),je=0;je<64;++je)_[G[je]]=_e[je];var Xe=_[0]-R;R=_[0],Xe==0?Pe(B[0]):(Pe(B[g[fe=32767+Xe]]),Pe(p[fe]));for(var ct=63;ct>0&&_[ct]==0;)ct--;if(ct==0)return Pe(we),R;for(var Ne,le=1;le<=ct;){for(var Nt=le;_[le]==0&&le<=ct;)++le;var Qe=le-Nt;if(Qe>=16){Ne=Qe>>4;for(var St=1;St<=Ne;++St)Pe(ve);Qe&=15}fe=32767+_[le],Pe(Y[(Qe<<4)+g[fe]]),Pe(p[fe]),le++}return ct!=63&&Pe(we),R}function Me(T){T=Math.min(Math.max(T,1),100),s!=T&&(function(F){for(var R=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],B=0;B<64;B++){var Y=a((R[B]*F+50)/100);Y=Math.min(Math.max(Y,1),255),o[G[B]]=Y}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],we=0;we<64;we++){var ve=a((fe[we]*F+50)/100);ve=Math.min(Math.max(ve,1),255),c[G[we]]=ve}for(var _e=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,Xe=0;Xe<8;Xe++)for(var ct=0;ct<8;ct++)h[je]=1/(o[G[je]]*_e[Xe]*_e[ct]*8),u[je]=1/(c[G[je]]*_e[Xe]*_e[ct]*8),je++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),s=T)}this.encode=function(T,F){F&&Me(F),y=new Array,b=0,E=7,Fe(65496),Fe(65504),Fe(16),me(74),me(70),me(73),me(70),me(0),me(1),me(1),me(0),Fe(1),Fe(1),me(0),me(0),function(){Fe(65499),Fe(132),me(0);for(var Jt=0;Jt<64;Jt++)me(o[Jt]);me(1);for(var It=0;It<64;It++)me(c[It])}(),function(Jt,It){Fe(65472),Fe(17),me(8),Fe(It),Fe(Jt),me(3),me(1),me(17),me(0),me(2),me(17),me(1),me(3),me(17),me(1)}(T.width,T.height),function(){Fe(65476),Fe(418),me(0);for(var Jt=0;Jt<16;Jt++)me(q[Jt+1]);for(var It=0;It<=11;It++)me(O[It]);me(16);for(var lr=0;lr<16;lr++)me(ee[lr+1]);for(var Zt=0;Zt<=161;Zt++)me(P[Zt]);me(1);for(var Gt=0;Gt<16;Gt++)me(z[Gt+1]);for(var yr=0;yr<=11;yr++)me(te[yr]);me(17);for(var jt=0;jt<16;jt++)me(ce[jt+1]);for(var Ot=0;Ot<=161;Ot++)me(be[Ot])}(),Fe(65498),Fe(12),me(3),me(1),me(0),me(2),me(17),me(3),me(17),me(0),me(63),me(0);var R=0,B=0,Y=0;b=0,E=7,this.encode.displayName="_encode_";for(var fe,we,ve,_e,je,Xe,ct,Ne,le,Nt=T.data,Qe=T.width,St=T.height,st=4*Qe,Et=0;Et<St;){for(fe=0;fe<st;){for(je=st*Et+fe,ct=-1,Ne=0,le=0;le<64;le++)Xe=je+(Ne=le>>3)*st+(ct=4*(7&le)),Et+Ne>=St&&(Xe-=st*(Et+1+Ne-St)),fe+ct>=st&&(Xe-=fe+ct-st+4),we=Nt[Xe++],ve=Nt[Xe++],_e=Nt[Xe++],D[le]=(he[we]+he[ve+256|0]+he[_e+512|0]>>16)-128,N[le]=(he[we+768|0]+he[ve+1024|0]+he[_e+1280|0]>>16)-128,I[le]=(he[we+1280|0]+he[ve+1536|0]+he[_e+1792|0]>>16)-128;R=Oe(D,h,R,e,n),B=Oe(N,u,B,t,i),Y=Oe(I,u,Y,t,i),fe+=32}Et+=8}if(E>=0){var mt=[];mt[1]=E+1,mt[0]=(1<<E+1)-1,Pe(mt)}return Fe(65497),new Uint8Array(y)},r=r||50,function(){for(var T=String.fromCharCode,F=0;F<256;F++)X[F]=T(F)}(),e=Ce(q,O),t=Ce(z,te),n=Ce(ee,P),i=Ce(ce,be),function(){for(var T=1,F=2,R=1;R<=15;R++){for(var B=T;B<F;B++)g[32767+B]=R,p[32767+B]=[],p[32767+B][1]=R,p[32767+B][0]=B;for(var Y=-(F-1);Y<=-T;Y++)g[32767+Y]=R,p[32767+Y]=[],p[32767+Y][1]=R,p[32767+Y][0]=F-1+Y;T<<=1,F<<=1}}(),function(){for(var T=0;T<256;T++)he[T]=19595*T,he[T+256|0]=38470*T,he[T+512|0]=7471*T+32768,he[T+768|0]=-11059*T,he[T+1024|0]=-21709*T,he[T+1280|0]=32768*T+8421375,he[T+1536|0]=-27439*T,he[T+1792|0]=-5329*T}(),Me(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Za(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Sw(r){function e(O){if(!O)throw Error("assert :P")}function t(O,ee,P){for(var z=0;4>z;z++)if(O[ee+z]!=P.charCodeAt(z))return!0;return!1}function n(O,ee,P,z,te){for(var ce=0;ce<te;ce++)O[ee+ce]=P[z+ce]}function i(O,ee,P,z){for(var te=0;te<z;te++)O[ee+te]=P}function s(O){return new Int32Array(O)}function a(O,ee){for(var P=[],z=0;z<O;z++)P.push(new ee);return P}function o(O,ee){var P=[];return function z(te,ce,be){for(var Ce=be[ce],Pe=0;Pe<Ce&&(te.push(be.length>ce+1?[]:new ee),!(be.length<ce+1));Pe++)z(te[Pe],ce+1,be)}(P,0,O),P}var c=function(){var O=this;function ee(m,w){for(var A=1<<w-1>>>0;m&A;)A>>>=1;return A?(m&A-1)+A:m}function P(m,w,A,C,U){e(!(C%A));do m[w+(C-=A)]=U;while(0<C)}function z(m,w,A,C,U){if(e(2328>=U),512>=U)var j=s(512);else if((j=s(U))==null)return 0;return function(V,Z,J,se,ye,Le){var ae,xe,Ae=Z,qe=1<<J,Ie=s(16),Ze=s(16);for(e(ye!=0),e(se!=null),e(V!=null),e(0<J),xe=0;xe<ye;++xe){if(15<se[xe])return 0;++Ie[se[xe]]}if(Ie[0]==ye)return 0;for(Ze[1]=0,ae=1;15>ae;++ae){if(Ie[ae]>1<<ae)return 0;Ze[ae+1]=Ze[ae]+Ie[ae]}for(xe=0;xe<ye;++xe)ae=se[xe],0<se[xe]&&(Le[Ze[ae]++]=xe);if(Ze[15]==1)return(se=new te).g=0,se.value=Le[0],P(V,Ae,1,qe,se),qe;var Ke,ot=-1,it=qe-1,Mt=0,Ct=1,fr=1,Pt=1<<J;for(xe=0,ae=1,ye=2;ae<=J;++ae,ye<<=1){if(Ct+=fr<<=1,0>(fr-=Ie[ae]))return 0;for(;0<Ie[ae];--Ie[ae])(se=new te).g=ae,se.value=Le[xe++],P(V,Ae+Mt,ye,Pt,se),Mt=ee(Mt,ae)}for(ae=J+1,ye=2;15>=ae;++ae,ye<<=1){if(Ct+=fr<<=1,0>(fr-=Ie[ae]))return 0;for(;0<Ie[ae];--Ie[ae]){if(se=new te,(Mt&it)!=ot){for(Ae+=Pt,Ke=1<<(ot=ae)-J;15>ot&&!(0>=(Ke-=Ie[ot]));)++ot,Ke<<=1;qe+=Pt=1<<(Ke=ot-J),V[Z+(ot=Mt&it)].g=Ke+J,V[Z+ot].value=Ae-Z-ot}se.g=ae-J,se.value=Le[xe++],P(V,Ae+(Mt>>J),ye,Pt,se),Mt=ee(Mt,ae)}}return Ct!=2*Ze[15]-1?0:qe}(m,w,A,C,U,j)}function te(){this.value=this.g=0}function ce(){this.value=this.g=0}function be(){this.G=a(5,te),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(aa,ce)}function Ce(m,w,A,C){e(m!=null),e(w!=null),e(2147483648>C),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=w,m.pa=A,m.Jd=w,m.Yc=A+C,m.Zc=4<=C?A+C-4+1:A,we(m)}function Pe(m,w){for(var A=0;0<w--;)A|=_e(m,128)<<w;return A}function me(m,w){var A=Pe(m,w);return ve(m)?-A:A}function Fe(m,w,A,C){var U,j=0;for(e(m!=null),e(w!=null),e(4294967288>C),m.Sb=C,m.Ra=0,m.u=0,m.h=0,4<C&&(C=4),U=0;U<C;++U)j+=w[A+U]<<8*U;m.Ra=j,m.bb=C,m.oa=w,m.pa=A}function Oe(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<Ms-8>>>0,++m.bb,m.u-=8;B(m)&&(m.h=1,m.u=0)}function Me(m,w){if(e(0<=w),!m.h&&w<=In){var A=R(m)&Gi[w];return m.u+=w,Oe(m),A}return m.h=1,m.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(m){return m.Ra>>>(m.u&Ms-1)>>>0}function B(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>Ms}function Y(m,w){m.u=w,m.h=B(m)}function fe(m){m.u>=Ua&&(e(m.u>=Ua),Oe(m))}function we(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ve(m){return Pe(m,1)}function _e(m,w){var A=m.Ca;0>m.b&&we(m);var C=m.b,U=A*w>>>8,j=(m.I>>>C>U)+0;for(j?(A-=U,m.I-=U+1<<C>>>0):A=U+1,C=A,U=0;256<=C;)U+=8,C>>=8;return C=7^U+oa[C],m.b-=C,m.Ca=(A<<C)-1,j}function je(m,w,A){m[w+0]=A>>24&255,m[w+1]=A>>16&255,m[w+2]=A>>8&255,m[w+3]=255&A}function Xe(m,w){return m[w+0]|m[w+1]<<8}function ct(m,w){return Xe(m,w)|m[w+2]<<16}function Ne(m,w){return Xe(m,w)|Xe(m,w+2)<<16}function le(m,w){var A=1<<w;return e(m!=null),e(0<w),m.X=s(A),m.X==null?0:(m.Mb=32-w,m.Xa=w,1)}function Nt(m,w){e(m!=null),e(w!=null),e(m.Xa==w.Xa),n(w.X,0,m.X,0,1<<w.Xa)}function Qe(){this.X=[],this.Xa=this.Mb=0}function St(m,w,A,C){e(A!=null),e(C!=null);var U=A[0],j=C[0];return U==0&&(U=(m*j+w/2)/w),j==0&&(j=(w*U+m/2)/m),0>=U||0>=j?0:(A[0]=U,C[0]=j,1)}function st(m,w){return m+(1<<w)-1>>>w}function Et(m,w){return((4278255360&m)+(4278255360&w)>>>0&4278255360)+((16711935&m)+(16711935&w)>>>0&16711935)>>>0}function mt(m,w){O[w]=function(A,C,U,j,V,Z,J){var se;for(se=0;se<V;++se){var ye=O[m](Z[J+se-1],U,j+se);Z[J+se]=Et(A[C+se],ye)}}}function Jt(){this.ud=this.hd=this.jd=0}function It(m,w){return((4278124286&(m^w))>>>1)+(m&w)>>>0}function lr(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function Zt(m,w){return lr(m+(m-w+.5>>1))}function Gt(m,w,A){return Math.abs(w-A)-Math.abs(m-A)}function yr(m,w,A,C,U,j,V){for(C=j[V-1],A=0;A<U;++A)j[V+A]=C=Et(m[w+A],C)}function jt(m,w,A,C,U){var j;for(j=0;j<A;++j){var V=m[w+j],Z=V>>8&255,J=16711935&(J=(J=16711935&V)+((Z<<16)+Z));C[U+j]=(4278255360&V)+J>>>0}}function Ot(m,w){w.jd=255&m,w.hd=m>>8&255,w.ud=m>>16&255}function Wt(m,w,A,C,U,j){var V;for(V=0;V<C;++V){var Z=w[A+V],J=Z>>>8,se=Z,ye=255&(ye=(ye=Z>>>16)+((m.jd<<24>>24)*(J<<24>>24)>>>5));se=255&(se=(se+=(m.hd<<24>>24)*(J<<24>>24)>>>5)+((m.ud<<24>>24)*(ye<<24>>24)>>>5)),U[j+V]=(4278255360&Z)+(ye<<16)+se}}function Lt(m,w,A,C,U){O[w]=function(j,V,Z,J,se,ye,Le,ae,xe){for(J=Le;J<ae;++J)for(Le=0;Le<xe;++Le)se[ye++]=U(Z[C(j[V++])])},O[m]=function(j,V,Z,J,se,ye,Le){var ae=8>>j.b,xe=j.Ea,Ae=j.K[0],qe=j.w;if(8>ae)for(j=(1<<j.b)-1,qe=(1<<ae)-1;V<Z;++V){var Ie,Ze=0;for(Ie=0;Ie<xe;++Ie)Ie&j||(Ze=C(J[se++])),ye[Le++]=U(Ae[Ze&qe]),Ze>>=ae}else O["VP8LMapColor"+A](J,se,Ae,qe,ye,Le,V,Z,xe)}}function Lr(m,w,A,C,U){for(A=w+A;w<A;){var j=m[w++];C[U++]=j>>16&255,C[U++]=j>>8&255,C[U++]=255&j}}function wr(m,w,A,C,U){for(A=w+A;w<A;){var j=m[w++];C[U++]=j>>16&255,C[U++]=j>>8&255,C[U++]=255&j,C[U++]=j>>24&255}}function Tt(m,w,A,C,U){for(A=w+A;w<A;){var j=(V=m[w++])>>16&240|V>>12&15,V=240&V|V>>28&15;C[U++]=j,C[U++]=V}}function Kt(m,w,A,C,U){for(A=w+A;w<A;){var j=(V=m[w++])>>16&248|V>>13&7,V=V>>5&224|V>>3&31;C[U++]=j,C[U++]=V}}function Pr(m,w,A,C,U){for(A=w+A;w<A;){var j=m[w++];C[U++]=255&j,C[U++]=j>>8&255,C[U++]=j>>16&255}}function Ft(m,w,A,C,U,j){if(j==0)for(A=w+A;w<A;)je(C,((j=m[w++])[0]>>24|j[1]>>8&65280|j[2]<<8&16711680|j[3]<<24)>>>0),U+=32;else n(C,U,m,w,A)}function pr(m,w){O[w][0]=O[m+"0"],O[w][1]=O[m+"1"],O[w][2]=O[m+"2"],O[w][3]=O[m+"3"],O[w][4]=O[m+"4"],O[w][5]=O[m+"5"],O[w][6]=O[m+"6"],O[w][7]=O[m+"7"],O[w][8]=O[m+"8"],O[w][9]=O[m+"9"],O[w][10]=O[m+"10"],O[w][11]=O[m+"11"],O[w][12]=O[m+"12"],O[w][13]=O[m+"13"],O[w][14]=O[m+"0"],O[w][15]=O[m+"0"]}function Qt(m){return m==nh||m==ih||m==sh||m==l}function en(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new en,this.f.kb=new vn,this.sd=null}function Vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Sr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Aa(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Gn(m,w){var A=m.T,C=w.ba.f.RGBA,U=C.eb,j=C.fb+m.ka*C.A,V=yi[w.ba.S],Z=m.y,J=m.O,se=m.f,ye=m.N,Le=m.ea,ae=m.W,xe=w.cc,Ae=w.dc,qe=w.Mc,Ie=w.Nc,Ze=m.ka,Ke=m.ka+m.T,ot=m.U,it=ot+1>>1;for(Ze==0?V(Z,J,null,null,se,ye,Le,ae,se,ye,Le,ae,U,j,null,null,ot):(V(w.ec,w.fc,Z,J,xe,Ae,qe,Ie,se,ye,Le,ae,U,j-C.A,U,j,ot),++A);Ze+2<Ke;Ze+=2)xe=se,Ae=ye,qe=Le,Ie=ae,ye+=m.Rc,ae+=m.Rc,j+=2*C.A,V(Z,(J+=2*m.fa)-m.fa,Z,J,xe,Ae,qe,Ie,se,ye,Le,ae,U,j-C.A,U,j,ot);return J+=m.fa,m.j+Ke<m.o?(n(w.ec,w.fc,Z,J,ot),n(w.cc,w.dc,se,ye,it),n(w.Mc,w.Nc,Le,ae,it),A--):1&Ke||V(Z,J,null,null,se,ye,Le,ae,se,ye,Le,ae,U,j+C.A,null,null,ot),A}function Ds(m,w,A){var C=m.F,U=[m.J];if(C!=null){var j=m.U,V=w.ba.S,Z=V==cc||V==sh;w=w.ba.f.RGBA;var J=[0],se=m.ka;J[0]=m.T,m.Kb&&(se==0?--J[0]:(--se,U[0]-=m.width),m.j+m.ka+m.T==m.o&&(J[0]=m.o-m.j-se));var ye=w.eb;se=w.fb+se*w.A,m=eu(C,U[0],m.width,j,J,ye,se+(Z?0:3),w.A),e(A==J),m&&Qt(V)&&fa(ye,se,Z,j,J,w.A)}return 0}function as(m){var w=m.ma,A=w.ba.S,C=11>A,U=A==oc||A==lc||A==cc||A==rh||A==12||Qt(A);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!ic(w.Oa,m,U?11:12))return 0;if(U&&Qt(A)&&Qc(),m.da)alert("todo:use_scaling");else{if(C){if(w.Ib=Aa,m.Kb){if(A=m.U+1>>1,w.memory=s(m.U+2*A),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+m.U,w.Mc=w.cc,w.Nc=w.dc+A,w.Ib=Gn,Qc()}}else alert("todo:EmitYUV");U&&(w.Jb=Ds,C&&vi())}if(C&&!h1){for(m=0;256>m;++m)eE[m]=89858*(m-128)+gf>>mf,nE[m]=-22014*(m-128)+gf,rE[m]=-45773*(m-128),tE[m]=113618*(m-128)+gf>>mf;for(m=au;m<Np;++m)w=76283*(m-16)+gf>>mf,iE[m-au]=Ar(w,255),sE[m-au]=Ar(w+8>>4,15);h1=1}return 1}function zt(m){var w=m.ma,A=m.U,C=m.T;return e(!(1&m.ka)),0>=A||0>=C?0:(A=w.Ib(m,w),w.Jb!=null&&w.Jb(m,w,A),w.Dc+=A,1)}function Ns(m){m.ma.memory=null}function Is(m,w,A,C){return Me(m,8)!=47?0:(w[0]=Me(m,14)+1,A[0]=Me(m,14)+1,C[0]=Me(m,1),Me(m,3)!=0?0:!m.h)}function ai(m,w){if(4>m)return m+1;var A=m-2>>1;return(2+(1&m)<<A)+Me(w,A)+1}function Ni(m,w){return 120<w?w-120:1<=(A=((A=ue[w-1])>>4)*m+(8-(15&A)))?A:1;var A}function _r(m,w,A){var C=R(A),U=m[w+=255&C].g-8;return 0<U&&(Y(A,A.u+8),C=R(A),w+=m[w].value,w+=C&(1<<U)-1),Y(A,A.u+m[w].g),m[w].value}function _t(m,w,A){return A.g+=m.g,A.value+=m.value<<w>>>0,e(8>=A.g),m.g}function H(m,w,A){var C=m.xc;return e((w=C==0?0:m.vc[m.md*(A>>C)+(w>>C)])<m.Wb),m.Ya[w]}function ie(m,w,A,C){var U=m.ab,j=m.c*w,V=m.C;w=V+w;var Z=A,J=C;for(C=m.Ta,A=m.Ua;0<U--;){var se=m.gc[U],ye=V,Le=w,ae=Z,xe=J,Ae=(J=C,Z=A,se.Ea);switch(e(ye<Le),e(Le<=se.nc),se.hc){case 2:En(ae,xe,(Le-ye)*Ae,J,Z);break;case 0:var qe=ye,Ie=Le,Ze=J,Ke=Z,ot=(Pt=se).Ea;qe==0&&(sc(ae,xe,null,null,1,Ze,Ke),yr(ae,xe+1,0,0,ot-1,Ze,Ke+1),xe+=ot,Ke+=ot,++qe);for(var it=1<<Pt.b,Mt=it-1,Ct=st(ot,Pt.b),fr=Pt.K,Pt=Pt.w+(qe>>Pt.b)*Ct;qe<Ie;){var br=fr,ti=Pt,dr=1;for(Li(ae,xe,Ze,Ke-ot,1,Ze,Ke);dr<ot;){var Rt=(dr&~Mt)+it;Rt>ot&&(Rt=ot),(0,ml[br[ti++]>>8&15])(ae,xe+ +dr,Ze,Ke+dr-ot,Rt-dr,Ze,Ke+dr),dr=Rt}xe+=ot,Ke+=ot,++qe&Mt||(Pt+=Ct)}Le!=se.nc&&n(J,Z-Ae,J,Z+(Le-ye-1)*Ae,Ae);break;case 1:for(Ae=ae,Ie=xe,ot=(ae=se.Ea)-(Ke=ae&~(Ze=(xe=1<<se.b)-1)),qe=st(ae,se.b),it=se.K,se=se.w+(ye>>se.b)*qe;ye<Le;){for(Mt=it,Ct=se,fr=new Jt,Pt=Ie+Ke,br=Ie+ae;Ie<Pt;)Ot(Mt[Ct++],fr),Mo(fr,Ae,Ie,xe,J,Z),Ie+=xe,Z+=xe;Ie<br&&(Ot(Mt[Ct++],fr),Mo(fr,Ae,Ie,ot,J,Z),Ie+=ot,Z+=ot),++ye&Ze||(se+=qe)}break;case 3:if(ae==J&&xe==Z&&0<se.b){for(Ie=J,ae=Ae=Z+(Le-ye)*Ae-(Ke=(Le-ye)*st(se.Ea,se.b)),xe=J,Ze=Z,qe=[],Ke=(ot=Ke)-1;0<=Ke;--Ke)qe[Ke]=xe[Ze+Ke];for(Ke=ot-1;0<=Ke;--Ke)Ie[ae+Ke]=qe[Ke];za(se,ye,Le,J,Ae,J,Z)}else za(se,ye,Le,ae,xe,J,Z)}Z=C,J=A}J!=A&&n(C,A,Z,J,j)}function K(m,w){var A=m.V,C=m.Ba+m.c*m.C,U=w-m.C;if(e(w<=m.l.o),e(16>=U),0<U){var j=m.l,V=m.Ta,Z=m.Ua,J=j.width;if(ie(m,U,A,C),U=Z=[Z],e((A=m.C)<(C=w)),e(j.v<j.va),C>j.o&&(C=j.o),A<j.j){var se=j.j-A;A=j.j,U[0]+=se*J}if(A>=C?A=0:(U[0]+=4*j.v,j.ka=A-j.j,j.U=j.va-j.v,j.T=C-A,A=1),A){if(Z=Z[0],11>(A=m.ca).S){var ye=A.f.RGBA,Le=(C=A.S,U=j.U,j=j.T,se=ye.eb,ye.A),ae=j;for(ye=ye.fb+m.Ma*ye.A;0<ae--;){var xe=V,Ae=Z,qe=U,Ie=se,Ze=ye;switch(C){case th:uo(xe,Ae,qe,Ie,Ze);break;case oc:ca(xe,Ae,qe,Ie,Ze);break;case nh:ca(xe,Ae,qe,Ie,Ze),fa(Ie,Ze,0,qe,1,0);break;case nu:ha(xe,Ae,qe,Ie,Ze);break;case lc:Ft(xe,Ae,qe,Ie,Ze,1);break;case ih:Ft(xe,Ae,qe,Ie,Ze,1),fa(Ie,Ze,0,qe,1,0);break;case cc:Ft(xe,Ae,qe,Ie,Ze,0);break;case sh:Ft(xe,Ae,qe,Ie,Ze,0),fa(Ie,Ze,1,qe,1,0);break;case rh:Bs(xe,Ae,qe,Ie,Ze);break;case l:Bs(xe,Ae,qe,Ie,Ze),Qh(Ie,Ze,qe,1,0);break;case ff:$i(xe,Ae,qe,Ie,Ze);break;default:e(0)}Z+=J,ye+=Le}m.Ma+=j}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=A.height)}}m.C=w,e(m.C<=m.i)}function Q(m){var w;if(0<m.ua)return 0;for(w=0;w<m.Wb;++w){var A=m.Ya[w].G,C=m.Ya[w].H;if(0<A[1][C[1]+0].g||0<A[2][C[2]+0].g||0<A[3][C[3]+0].g)return 0}return 1}function ne(m,w,A,C,U,j){if(m.Z!=0){var V=m.qd,Z=m.rd;for(e(Vr[m.Z]!=null);w<A;++w)Vr[m.Z](V,Z,C,U,C,U,j),V=C,Z=U,U+=j;m.qd=V,m.rd=Z}}function oe(m,w){var A=m.l.ma,C=A.Z==0||A.Z==1?m.l.j:m.C;if(C=m.C<C?C:m.C,e(w<=m.l.o),w>C){var U=m.l.width,j=A.ca,V=A.tb+U*C,Z=m.V,J=m.Ba+m.c*C,se=m.gc;e(m.ab==1),e(se[0].hc==3),Kn(se[0],C,w,Z,J,j,V),ne(A,C,w,j,V,U)}m.C=m.Ma=w}function Ee(m,w,A,C,U,j,V){var Z=m.$/C,J=m.$%C,se=m.m,ye=m.s,Le=A+m.$,ae=Le;U=A+C*U;var xe=A+C*j,Ae=280+ye.ua,qe=m.Pb?Z:16777216,Ie=0<ye.ua?ye.Wa:null,Ze=ye.wc,Ke=Le<xe?H(ye,J,Z):null;e(m.C<j),e(xe<=U);var ot=!1;e:for(;;){for(;ot||Le<xe;){var it=0;if(Z>=qe){var Mt=Le-A;e((qe=m).Pb),qe.wd=qe.m,qe.xd=Mt,0<qe.s.ua&&Nt(qe.s.Wa,qe.s.vb),qe=Z+Be}if(J&Ze||(Ke=H(ye,J,Z)),e(Ke!=null),Ke.Qb&&(w[Le]=Ke.qb,ot=!0),!ot)if(fe(se),Ke.jc){it=se,Mt=w;var Ct=Le,fr=Ke.pd[R(it)&aa-1];e(Ke.jc),256>fr.g?(Y(it,it.u+fr.g),Mt[Ct]=fr.value,it=0):(Y(it,it.u+fr.g-256),e(256<=fr.value),it=fr.value),it==0&&(ot=!0)}else it=_r(Ke.G[0],Ke.H[0],se);if(se.h)break;if(ot||256>it){if(!ot)if(Ke.nd)w[Le]=(Ke.qb|it<<8)>>>0;else{if(fe(se),ot=_r(Ke.G[1],Ke.H[1],se),fe(se),Mt=_r(Ke.G[2],Ke.H[2],se),Ct=_r(Ke.G[3],Ke.H[3],se),se.h)break;w[Le]=(Ct<<24|ot<<16|it<<8|Mt)>>>0}if(ot=!1,++Le,++J>=C&&(J=0,++Z,V!=null&&Z<=j&&!(Z%16)&&V(m,Z),Ie!=null))for(;ae<Le;)it=w[ae++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it}else if(280>it){if(it=ai(it-256,se),Mt=_r(Ke.G[4],Ke.H[4],se),fe(se),Mt=Ni(C,Mt=ai(Mt,se)),se.h)break;if(Le-A<Mt||U-Le<it)break e;for(Ct=0;Ct<it;++Ct)w[Le+Ct]=w[Le+Ct-Mt];for(Le+=it,J+=it;J>=C;)J-=C,++Z,V!=null&&Z<=j&&!(Z%16)&&V(m,Z);if(e(Le<=U),J&Ze&&(Ke=H(ye,J,Z)),Ie!=null)for(;ae<Le;)it=w[ae++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it}else{if(!(it<Ae))break e;for(ot=it-280,e(Ie!=null);ae<Le;)it=w[ae++],Ie.X[(506832829*it&4294967295)>>>Ie.Mb]=it;it=Le,e(!(ot>>>(Mt=Ie).Xa)),w[it]=Mt.X[ot],ot=!0}ot||e(se.h==B(se))}if(m.Pb&&se.h&&Le<U)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Nt(m.s.vb,m.s.Wa);else{if(se.h)break e;V!=null&&V(m,Z>j?j:Z),m.a=0,m.$=Le-A}return 1}return m.a=3,0}function He(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var w=m.Wa;w!=null&&(w.X=null),m.vb=null,e(m!=null)}function ke(){var m=new Dt;return m==null?null:(m.a=0,m.xb=iu,pr("Predictor","VP8LPredictors"),pr("Predictor","VP8LPredictors_C"),pr("PredictorAdd","VP8LPredictorsAdd"),pr("PredictorAdd","VP8LPredictorsAdd_C"),En=jt,Mo=Wt,uo=Lr,ca=wr,Bs=Tt,$i=Kt,ha=Pr,O.VP8LMapColor32b=la,O.VP8LMapColor8b=ho,m)}function De(m,w,A,C,U){var j=1,V=[m],Z=[w],J=C.m,se=C.s,ye=null,Le=0;e:for(;;){if(A)for(;j&&Me(J,1);){var ae=V,xe=Z,Ae=C,qe=1,Ie=Ae.m,Ze=Ae.gc[Ae.ab],Ke=Me(Ie,2);if(Ae.Oc&1<<Ke)j=0;else{switch(Ae.Oc|=1<<Ke,Ze.hc=Ke,Ze.Ea=ae[0],Ze.nc=xe[0],Ze.K=[null],++Ae.ab,e(4>=Ae.ab),Ke){case 0:case 1:Ze.b=Me(Ie,3)+2,qe=De(st(Ze.Ea,Ze.b),st(Ze.nc,Ze.b),0,Ae,Ze.K),Ze.K=Ze.K[0];break;case 3:var ot,it=Me(Ie,8)+1,Mt=16<it?0:4<it?1:2<it?2:3;if(ae[0]=st(Ze.Ea,Mt),Ze.b=Mt,ot=qe=De(it,1,0,Ae,Ze.K)){var Ct,fr=it,Pt=Ze,br=1<<(8>>Pt.b),ti=s(br);if(ti==null)ot=0;else{var dr=Pt.K[0],Rt=Pt.w;for(ti[0]=Pt.K[0][0],Ct=1;Ct<1*fr;++Ct)ti[Ct]=Et(dr[Rt+Ct],ti[Ct-1]);for(;Ct<4*br;++Ct)ti[Ct]=0;Pt.K[0]=null,Pt.K[0]=ti,ot=1}}qe=ot;break;case 2:break;default:e(0)}j=qe}}if(V=V[0],Z=Z[0],j&&Me(J,1)&&!(j=1<=(Le=Me(J,4))&&11>=Le)){C.a=3;break e}var wt;if(wt=j)t:{var zn,hr,Tr,dn=C,_i=V,Ki=Z,Pn=Le,Fi=A,Xi=dn.m,ri=dn.s,kr=[null],qr=1,Rn=0,Gr=Te[Pn];r:for(;;){if(Fi&&Me(Xi,1)){var bi=Me(Xi,3)+2,Wa=st(_i,bi),Hn=st(Ki,bi),vs=Wa*Hn;if(!De(Wa,Hn,0,dn,kr))break r;for(kr=kr[0],ri.xc=bi,zn=0;zn<vs;++zn){var rn=kr[zn]>>8&65535;kr[zn]=rn,rn>=qr&&(qr=rn+1)}}if(Xi.h)break r;for(hr=0;5>hr;++hr){var ni=S[hr];!hr&&0<Pn&&(ni+=1<<Pn),Rn<ni&&(Rn=ni)}var zs=a(qr*Gr,te),Ji=qr,Hs=a(Ji,be);if(Hs==null)var js=null;else e(65536>=Ji),js=Hs;var ws=s(Rn);if(js==null||ws==null||zs==null){dn.a=1;break r}var Ws=zs;for(zn=Tr=0;zn<qr;++zn){var on=js[zn],Vs=on.G,Va=on.H,hc=0,Bo=1,xi=0;for(hr=0;5>hr;++hr){ni=S[hr],Vs[hr]=Ws,Va[hr]=Tr,!hr&&0<Pn&&(ni+=1<<Pn);i:{var wf,Ip=ni,yf=dn,ou=ws,lE=Ws,cE=Tr,Lp=0,_l=yf.m,hE=Me(_l,1);if(i(ou,0,0,Ip),hE){var uE=Me(_l,1)+1,fE=Me(_l,1),d1=Me(_l,fE==0?1:8);ou[d1]=1,uE==2&&(ou[d1=Me(_l,8)]=1);var _f=1}else{var p1=s(19),m1=Me(_l,4)+4;if(19<m1){yf.a=3;var bf=0;break i}for(wf=0;wf<m1;++wf)p1[W[wf]]=Me(_l,3);var Pp=void 0,lu=void 0,g1=yf,dE=p1,xf=Ip,v1=ou,Rp=0,bl=g1.m,w1=8,y1=a(128,te);n:for(;z(y1,0,7,dE,19);){if(Me(bl,1)){var pE=2+2*Me(bl,3);if((Pp=2+Me(bl,pE))>xf)break n}else Pp=xf;for(lu=0;lu<xf&&Pp--;){fe(bl);var _1=y1[0+(127&R(bl))];Y(bl,bl.u+_1.g);var oh=_1.value;if(16>oh)v1[lu++]=oh,oh!=0&&(w1=oh);else{var mE=oh==16,b1=oh-16,gE=v[b1],x1=Me(bl,f[b1])+gE;if(lu+x1>xf)break n;for(var vE=mE?w1:0;0<x1--;)v1[lu++]=vE}}Rp=1;break n}Rp||(g1.a=3),_f=Rp}(_f=_f&&!_l.h)&&(Lp=z(lE,cE,8,ou,Ip)),_f&&Lp!=0?bf=Lp:(yf.a=3,bf=0)}if(bf==0)break r;if(Bo&&k[hr]==1&&(Bo=Ws[Tr].g==0),hc+=Ws[Tr].g,Tr+=bf,3>=hr){var cu,Op=ws[0];for(cu=1;cu<ni;++cu)ws[cu]>Op&&(Op=ws[cu]);xi+=Op}}if(on.nd=Bo,on.Qb=0,Bo&&(on.qb=(Vs[3][Va[3]+0].value<<24|Vs[1][Va[1]+0].value<<16|Vs[2][Va[2]+0].value)>>>0,hc==0&&256>Vs[0][Va[0]+0].value&&(on.Qb=1,on.qb+=Vs[0][Va[0]+0].value<<8)),on.jc=!on.Qb&&6>xi,on.jc){var Sf,Uo=on;for(Sf=0;Sf<aa;++Sf){var xl=Sf,Sl=Uo.pd[xl],Ef=Uo.G[0][Uo.H[0]+xl];256<=Ef.value?(Sl.g=Ef.g+256,Sl.value=Ef.value):(Sl.g=0,Sl.value=0,xl>>=_t(Ef,8,Sl),xl>>=_t(Uo.G[1][Uo.H[1]+xl],16,Sl),xl>>=_t(Uo.G[2][Uo.H[2]+xl],0,Sl),_t(Uo.G[3][Uo.H[3]+xl],24,Sl))}}}ri.vc=kr,ri.Wb=qr,ri.Ya=js,ri.yc=zs,wt=1;break t}wt=0}if(!(j=wt)){C.a=3;break e}if(0<Le){if(se.ua=1<<Le,!le(se.Wa,Le)){C.a=1,j=0;break e}}else se.ua=0;var Fp=C,S1=V,wE=Z,Mp=Fp.s,Bp=Mp.xc;if(Fp.c=S1,Fp.i=wE,Mp.md=st(S1,Bp),Mp.wc=Bp==0?-1:(1<<Bp)-1,A){C.xb=Cp;break e}if((ye=s(V*Z))==null){C.a=1,j=0;break e}j=(j=Ee(C,ye,0,V,Z,Z,null))&&!J.h;break e}return j?(U!=null?U[0]=ye:(e(ye==null),e(A)),C.$=0,A||He(se)):He(se),j}function Re(m,w){var A=m.c*m.i,C=A+w+16*w;return e(m.c<=w),m.V=s(C),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+A+w,1)}function at(m,w){var A=m.C,C=w-A,U=m.V,j=m.Ba+m.c*A;for(e(w<=m.l.o);0<C;){var V=16<C?16:C,Z=m.l.ma,J=m.l.width,se=J*V,ye=Z.ca,Le=Z.tb+J*A,ae=m.Ta,xe=m.Ua;ie(m,V,U,j),hf(ae,xe,ye,Le,se),ne(Z,A,A+V,ye,Le,J),C-=V,U+=V*m.c,A+=V}e(A==w),m.C=m.Ma=w}function ut(){this.ub=this.yd=this.td=this.Rb=0}function bt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function lt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function vt(){this.Yb=function(){var m=[];return function w(A,C,U){for(var j=U[C],V=0;V<j&&(A.push(U.length>C+1?[]:0),!(U.length<C+1));V++)w(A[V],C+1,U)}(m,0,[3,11]),m}()}function Yt(){this.jb=s(3),this.Wc=o([4,8],vt),this.Xc=o([4,17],vt)}function Br(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function vr(){this.ld=this.La=this.dd=this.tc=0}function wn(){this.Na=this.la=0}function os(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function gi(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ls(){this.uc=this.M=this.Nb=0,this.wa=Array(new vr),this.Y=0,this.ya=Array(new gi),this.aa=0,this.l=new Xt}function qi(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ls(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new ut,this.Kc=new bt,this.ed=new Br,this.Qa=new lt,this.Ic=this.$c=this.Aa=0,this.D=new Ls,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,T),this.ia=0,this.pb=a(4,os),this.Pa=new Yt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qi),this.Hd=0,this.rb=Array(new wn),this.sb=0,this.wa=Array(new vr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new gi),this.L=this.aa=0,this.gd=o([4,2],vr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function tn(){var m=new ls;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Ht||(Ht=Ps)),m}function hn(m,w,A){return m.a==0&&(m.a=w,m.sc=A,m.cb=0),0}function Ta(m,w,A){return 3<=A&&m[w+0]==157&&m[w+1]==1&&m[w+2]==42}function Ca(m,w){if(m==null)return 0;if(m.a=0,m.sc="OK",w==null)return hn(m,2,"null VP8Io passed to VP8GetHeaders()");var A=w.data,C=w.w,U=w.ha;if(4>U)return hn(m,7,"Truncated header.");var j=A[C+0]|A[C+1]<<8|A[C+2]<<16,V=m.Od;if(V.Rb=!(1&j),V.td=j>>1&7,V.yd=j>>4&1,V.ub=j>>5,3<V.td)return hn(m,3,"Incorrect keyframe parameters.");if(!V.yd)return hn(m,4,"Frame not displayable.");C+=3,U-=3;var Z=m.Kc;if(V.Rb){if(7>U)return hn(m,7,"cannot parse picture header");if(!Ta(A,C,U))return hn(m,3,"Bad code word");Z.c=16383&(A[C+4]<<8|A[C+3]),Z.Td=A[C+4]>>6,Z.i=16383&(A[C+6]<<8|A[C+5]),Z.Ud=A[C+6]>>6,C+=7,U-=7,m.za=Z.c+15>>4,m.Ub=Z.i+15>>4,w.width=Z.c,w.height=Z.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,i((j=m.Pa).jb,0,255,j.jb.length),e((j=m.Qa)!=null),j.Cb=0,j.Bb=0,j.Fb=1,i(j.Zb,0,0,j.Zb.length),i(j.Lb,0,0,j.Lb)}if(V.ub>U)return hn(m,7,"bad partition length");Ce(j=m.m,A,C,V.ub),C+=V.ub,U-=V.ub,V.Rb&&(Z.Ld=ve(j),Z.Kd=ve(j)),Z=m.Qa;var J,se=m.Pa;if(e(j!=null),e(Z!=null),Z.Cb=ve(j),Z.Cb){if(Z.Bb=ve(j),ve(j)){for(Z.Fb=ve(j),J=0;4>J;++J)Z.Zb[J]=ve(j)?me(j,7):0;for(J=0;4>J;++J)Z.Lb[J]=ve(j)?me(j,6):0}if(Z.Bb)for(J=0;3>J;++J)se.jb[J]=ve(j)?Pe(j,8):255}else Z.Bb=0;if(j.Ka)return hn(m,3,"cannot parse segment header");if((Z=m.ed).zd=ve(j),Z.Tb=Pe(j,6),Z.wb=Pe(j,3),Z.Pc=ve(j),Z.Pc&&ve(j)){for(se=0;4>se;++se)ve(j)&&(Z.vd[se]=me(j,6));for(se=0;4>se;++se)ve(j)&&(Z.od[se]=me(j,6))}if(m.L=Z.Tb==0?0:Z.zd?1:2,j.Ka)return hn(m,3,"cannot parse filter header");var ye=U;if(U=J=C,C=J+ye,Z=ye,m.Xb=(1<<Pe(m.m,2))-1,ye<3*(se=m.Xb))A=7;else{for(J+=3*se,Z-=3*se,ye=0;ye<se;++ye){var Le=A[U+0]|A[U+1]<<8|A[U+2]<<16;Le>Z&&(Le=Z),Ce(m.Jc[+ye],A,J,Le),J+=Le,Z-=Le,U+=3}Ce(m.Jc[+se],A,J,Z),A=J<C?0:5}if(A!=0)return hn(m,A,"cannot parse partitions");for(A=Pe(J=m.m,7),U=ve(J)?me(J,4):0,C=ve(J)?me(J,4):0,Z=ve(J)?me(J,4):0,se=ve(J)?me(J,4):0,J=ve(J)?me(J,4):0,ye=m.Qa,Le=0;4>Le;++Le){if(ye.Cb){var ae=ye.Zb[Le];ye.Fb||(ae+=A)}else{if(0<Le){m.pb[Le]=m.pb[0];continue}ae=A}var xe=m.pb[Le];xe.Sc[0]=rt[Ar(ae+U,127)],xe.Sc[1]=xt[Ar(ae+0,127)],xe.Eb[0]=2*rt[Ar(ae+C,127)],xe.Eb[1]=101581*xt[Ar(ae+Z,127)]>>16,8>xe.Eb[1]&&(xe.Eb[1]=8),xe.Qc[0]=rt[Ar(ae+se,117)],xe.Qc[1]=xt[Ar(ae+J,127)],xe.lc=ae+J}if(!V.Rb)return hn(m,4,"Not a key frame.");for(ve(j),V=m.Pa,A=0;4>A;++A){for(U=0;8>U;++U)for(C=0;3>C;++C)for(Z=0;11>Z;++Z)se=_e(j,yl[A][U][C][Z])?Pe(j,8):gs[A][U][C][Z],V.Wc[A][U].Yb[C][Z]=se;for(U=0;17>U;++U)V.Xc[A][U]=V.Wc[A][Tp[U]]}return m.kc=ve(j),m.kc&&(m.Bd=Pe(j,8)),m.cb=1}function Ps(m,w,A,C,U,j,V){var Z=w[U].Yb[A];for(A=0;16>U;++U){if(!_e(m,Z[A+0]))return U;for(;!_e(m,Z[A+1]);)if(Z=w[++U].Yb[0],A=0,U==16)return 16;var J=w[U+1].Yb;if(_e(m,Z[A+2])){var se=m,ye=0;if(_e(se,(ae=Z)[(Le=A)+3]))if(_e(se,ae[Le+6])){for(Z=0,Le=2*(ye=_e(se,ae[Le+8]))+(ae=_e(se,ae[Le+9+ye])),ye=0,ae=mr[Le];ae[Z];++Z)ye+=ye+_e(se,ae[Z]);ye+=3+(8<<Le)}else _e(se,ae[Le+7])?(ye=7+2*_e(se,165),ye+=_e(se,145)):ye=5+_e(se,159);else ye=_e(se,ae[Le+4])?3+_e(se,ae[Le+5]):2;Z=J[2]}else ye=1,Z=J[1];J=V+wi[U],0>(se=m).b&&we(se);var Le,ae=se.b,xe=(Le=se.Ca>>1)-(se.I>>ae)>>31;--se.b,se.Ca+=xe,se.Ca|=1,se.I-=(Le+1&xe)<<ae,j[J]=((ye^xe)-xe)*C[(0<U)+0]}return 16}function er(m){var w=m.rb[m.sb-1];w.la=0,w.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function Cr(m,w,A,C,U){U=m[w+A+32*C]+(U>>3),m[w+A+32*C]=-256&U?0>U?0:255:U}function ka(m,w,A,C,U,j){Cr(m,w,0,A,C+U),Cr(m,w,1,A,C+j),Cr(m,w,2,A,C-j),Cr(m,w,3,A,C-U)}function an(m){return(20091*m>>16)+m}function oi(m,w,A,C){var U,j=0,V=s(16);for(U=0;4>U;++U){var Z=m[w+0]+m[w+8],J=m[w+0]-m[w+8],se=(35468*m[w+4]>>16)-an(m[w+12]),ye=an(m[w+4])+(35468*m[w+12]>>16);V[j+0]=Z+ye,V[j+1]=J+se,V[j+2]=J-se,V[j+3]=Z-ye,j+=4,w++}for(U=j=0;4>U;++U)Z=(m=V[j+0]+4)+V[j+8],J=m-V[j+8],se=(35468*V[j+4]>>16)-an(V[j+12]),Cr(A,C,0,0,Z+(ye=an(V[j+4])+(35468*V[j+12]>>16))),Cr(A,C,1,0,J+se),Cr(A,C,2,0,J-se),Cr(A,C,3,0,Z-ye),j++,C+=32}function Xh(m,w,A,C){var U=m[w+0]+4,j=35468*m[w+4]>>16,V=an(m[w+4]),Z=35468*m[w+1]>>16;ka(A,C,0,U+V,m=an(m[w+1]),Z),ka(A,C,1,U+j,m,Z),ka(A,C,2,U-j,m,Z),ka(A,C,3,U-V,m,Z)}function cl(m,w,A,C,U){oi(m,w,A,C),U&&oi(m,w+16,A,C+4)}function Da(m,w,A,C){fo(m,w+0,A,C,1),fo(m,w+32,A,C+128,1)}function Rr(m,w,A,C){var U;for(m=m[w+0]+4,U=0;4>U;++U)for(w=0;4>w;++w)Cr(A,C,w,U,m)}function na(m,w,A,C){m[w+0]&&Nr(m,w+0,A,C),m[w+16]&&Nr(m,w+16,A,C+4),m[w+32]&&Nr(m,w+32,A,C+128),m[w+48]&&Nr(m,w+48,A,C+128+4)}function io(m,w,A,C){var U,j=s(16);for(U=0;4>U;++U){var V=m[w+0+U]+m[w+12+U],Z=m[w+4+U]+m[w+8+U],J=m[w+4+U]-m[w+8+U],se=m[w+0+U]-m[w+12+U];j[0+U]=V+Z,j[8+U]=V-Z,j[4+U]=se+J,j[12+U]=se-J}for(U=0;4>U;++U)V=(m=j[0+4*U]+3)+j[3+4*U],Z=j[1+4*U]+j[2+4*U],J=j[1+4*U]-j[2+4*U],se=m-j[3+4*U],A[C+0]=V+Z>>3,A[C+16]=se+J>>3,A[C+32]=V-Z>>3,A[C+48]=se-J>>3,C+=64}function cs(m,w,A){var C,U=w-32,j=Ri,V=255-m[U-1];for(C=0;C<A;++C){var Z,J=j,se=V+m[w-1];for(Z=0;Z<A;++Z)m[w+Z]=J[se+m[U+Z]];w+=32}}function ko(m,w){cs(m,w,4)}function Do(m,w){cs(m,w,8)}function Kl(m,w){cs(m,w,16)}function Xl(m,w){var A;for(A=0;16>A;++A)n(m,w+32*A,m,w-32,16)}function so(m,w){var A;for(A=16;0<A;--A)i(m,w,m[w-1],16),w+=32}function Na(m,w,A){var C;for(C=0;16>C;++C)i(w,A+32*C,m,16)}function ia(m,w){var A,C=16;for(A=0;16>A;++A)C+=m[w-1+32*A]+m[w+A-32];Na(C>>5,m,w)}function hl(m,w){var A,C=8;for(A=0;16>A;++A)C+=m[w-1+32*A];Na(C>>4,m,w)}function ao(m,w){var A,C=8;for(A=0;16>A;++A)C+=m[w+A-32];Na(C>>4,m,w)}function No(m,w){Na(128,m,w)}function rr(m,w,A){return m+2*w+A+2>>2}function ar(m,w){var A,C=w-32;for(C=new Uint8Array([rr(m[C-1],m[C+0],m[C+1]),rr(m[C+0],m[C+1],m[C+2]),rr(m[C+1],m[C+2],m[C+3]),rr(m[C+2],m[C+3],m[C+4])]),A=0;4>A;++A)n(m,w+32*A,C,0,C.length)}function hs(m,w){var A=m[w-1],C=m[w-1+32],U=m[w-1+64],j=m[w-1+96];je(m,w+0,16843009*rr(m[w-1-32],A,C)),je(m,w+32,16843009*rr(A,C,U)),je(m,w+64,16843009*rr(C,U,j)),je(m,w+96,16843009*rr(U,j,j))}function Ur(m,w){var A,C=4;for(A=0;4>A;++A)C+=m[w+A-32]+m[w-1+32*A];for(C>>=3,A=0;4>A;++A)i(m,w+32*A,C,4)}function Yc(m,w){var A=m[w-1+0],C=m[w-1+32],U=m[w-1+64],j=m[w-1-32],V=m[w+0-32],Z=m[w+1-32],J=m[w+2-32],se=m[w+3-32];m[w+0+96]=rr(C,U,m[w-1+96]),m[w+1+96]=m[w+0+64]=rr(A,C,U),m[w+2+96]=m[w+1+64]=m[w+0+32]=rr(j,A,C),m[w+3+96]=m[w+2+64]=m[w+1+32]=m[w+0+0]=rr(V,j,A),m[w+3+64]=m[w+2+32]=m[w+1+0]=rr(Z,V,j),m[w+3+32]=m[w+2+0]=rr(J,Z,V),m[w+3+0]=rr(se,J,Z)}function Rs(m,w){var A=m[w+1-32],C=m[w+2-32],U=m[w+3-32],j=m[w+4-32],V=m[w+5-32],Z=m[w+6-32],J=m[w+7-32];m[w+0+0]=rr(m[w+0-32],A,C),m[w+1+0]=m[w+0+32]=rr(A,C,U),m[w+2+0]=m[w+1+32]=m[w+0+64]=rr(C,U,j),m[w+3+0]=m[w+2+32]=m[w+1+64]=m[w+0+96]=rr(U,j,V),m[w+3+32]=m[w+2+64]=m[w+1+96]=rr(j,V,Z),m[w+3+64]=m[w+2+96]=rr(V,Z,J),m[w+3+96]=rr(Z,J,J)}function Os(m,w){var A=m[w-1+0],C=m[w-1+32],U=m[w-1+64],j=m[w-1-32],V=m[w+0-32],Z=m[w+1-32],J=m[w+2-32],se=m[w+3-32];m[w+0+0]=m[w+1+64]=j+V+1>>1,m[w+1+0]=m[w+2+64]=V+Z+1>>1,m[w+2+0]=m[w+3+64]=Z+J+1>>1,m[w+3+0]=J+se+1>>1,m[w+0+96]=rr(U,C,A),m[w+0+64]=rr(C,A,j),m[w+0+32]=m[w+1+96]=rr(A,j,V),m[w+1+32]=m[w+2+96]=rr(j,V,Z),m[w+2+32]=m[w+3+96]=rr(V,Z,J),m[w+3+32]=rr(Z,J,se)}function Jl(m,w){var A=m[w+0-32],C=m[w+1-32],U=m[w+2-32],j=m[w+3-32],V=m[w+4-32],Z=m[w+5-32],J=m[w+6-32],se=m[w+7-32];m[w+0+0]=A+C+1>>1,m[w+1+0]=m[w+0+64]=C+U+1>>1,m[w+2+0]=m[w+1+64]=U+j+1>>1,m[w+3+0]=m[w+2+64]=j+V+1>>1,m[w+0+32]=rr(A,C,U),m[w+1+32]=m[w+0+96]=rr(C,U,j),m[w+2+32]=m[w+1+96]=rr(U,j,V),m[w+3+32]=m[w+2+96]=rr(j,V,Z),m[w+3+64]=rr(V,Z,J),m[w+3+96]=rr(Z,J,se)}function Ia(m,w){var A=m[w-1+0],C=m[w-1+32],U=m[w-1+64],j=m[w-1+96];m[w+0+0]=A+C+1>>1,m[w+2+0]=m[w+0+32]=C+U+1>>1,m[w+2+32]=m[w+0+64]=U+j+1>>1,m[w+1+0]=rr(A,C,U),m[w+3+0]=m[w+1+32]=rr(C,U,j),m[w+3+32]=m[w+1+64]=rr(U,j,j),m[w+3+64]=m[w+2+64]=m[w+0+96]=m[w+1+96]=m[w+2+96]=m[w+3+96]=j}function oo(m,w){var A=m[w-1+0],C=m[w-1+32],U=m[w-1+64],j=m[w-1+96],V=m[w-1-32],Z=m[w+0-32],J=m[w+1-32],se=m[w+2-32];m[w+0+0]=m[w+2+32]=A+V+1>>1,m[w+0+32]=m[w+2+64]=C+A+1>>1,m[w+0+64]=m[w+2+96]=U+C+1>>1,m[w+0+96]=j+U+1>>1,m[w+3+0]=rr(Z,J,se),m[w+2+0]=rr(V,Z,J),m[w+1+0]=m[w+3+32]=rr(A,V,Z),m[w+1+32]=m[w+3+64]=rr(C,A,V),m[w+1+64]=m[w+3+96]=rr(U,C,A),m[w+1+96]=rr(j,U,C)}function La(m,w){var A;for(A=0;8>A;++A)n(m,w+32*A,m,w-32,8)}function un(m,w){var A;for(A=0;8>A;++A)i(m,w,m[w-1],8),w+=32}function us(m,w,A){var C;for(C=0;8>C;++C)i(w,A+32*C,m,8)}function Io(m,w){var A,C=8;for(A=0;8>A;++A)C+=m[w+A-32]+m[w-1+32*A];us(C>>4,m,w)}function Kc(m,w){var A,C=4;for(A=0;8>A;++A)C+=m[w+A-32];us(C>>3,m,w)}function Ql(m,w){var A,C=4;for(A=0;8>A;++A)C+=m[w-1+32*A];us(C>>3,m,w)}function ul(m,w){us(128,m,w)}function Pa(m,w,A){var C=m[w-A],U=m[w+0],j=3*(U-C)+wl[1020+m[w-2*A]-m[w+A]],V=po[112+(j+4>>3)];m[w-A]=Ri[255+C+po[112+(j+3>>3)]],m[w+0]=Ri[255+U-V]}function Lo(m,w,A,C){var U=m[w+0],j=m[w+A];return Yi[255+m[w-2*A]-m[w-A]]>C||Yi[255+j-U]>C}function fl(m,w,A,C){return 4*Yi[255+m[w-A]-m[w+0]]+Yi[255+m[w-2*A]-m[w+A]]<=C}function ur(m,w,A,C,U){var j=m[w-3*A],V=m[w-2*A],Z=m[w-A],J=m[w+0],se=m[w+A],ye=m[w+2*A],Le=m[w+3*A];return 4*Yi[255+Z-J]+Yi[255+V-se]>C?0:Yi[255+m[w-4*A]-j]<=U&&Yi[255+j-V]<=U&&Yi[255+V-Z]<=U&&Yi[255+Le-ye]<=U&&Yi[255+ye-se]<=U&&Yi[255+se-J]<=U}function ec(m,w,A,C){var U=2*C+1;for(C=0;16>C;++C)fl(m,w+C,A,U)&&Pa(m,w+C,A)}function ei(m,w,A,C){var U=2*C+1;for(C=0;16>C;++C)fl(m,w+C*A,1,U)&&Pa(m,w+C*A,1)}function lo(m,w,A,C){var U;for(U=3;0<U;--U)ec(m,w+=4*A,A,C)}function tc(m,w,A,C){var U;for(U=3;0<U;--U)ei(m,w+=4,A,C)}function Ra(m,w,A,C,U,j,V,Z){for(j=2*j+1;0<U--;){if(ur(m,w,A,j,V))if(Lo(m,w,A,Z))Pa(m,w,A);else{var J=m,se=w,ye=A,Le=J[se-2*ye],ae=J[se-ye],xe=J[se+0],Ae=J[se+ye],qe=J[se+2*ye],Ie=27*(Ke=wl[1020+3*(xe-ae)+wl[1020+Le-Ae]])+63>>7,Ze=18*Ke+63>>7,Ke=9*Ke+63>>7;J[se-3*ye]=Ri[255+J[se-3*ye]+Ke],J[se-2*ye]=Ri[255+Le+Ze],J[se-ye]=Ri[255+ae+Ie],J[se+0]=Ri[255+xe-Ie],J[se+ye]=Ri[255+Ae-Ze],J[se+2*ye]=Ri[255+qe-Ke]}w+=C}}function Fs(m,w,A,C,U,j,V,Z){for(j=2*j+1;0<U--;){if(ur(m,w,A,j,V))if(Lo(m,w,A,Z))Pa(m,w,A);else{var J=m,se=w,ye=A,Le=J[se-ye],ae=J[se+0],xe=J[se+ye],Ae=po[112+(4+(qe=3*(ae-Le))>>3)],qe=po[112+(qe+3>>3)],Ie=Ae+1>>1;J[se-2*ye]=Ri[255+J[se-2*ye]+Ie],J[se-ye]=Ri[255+Le+qe],J[se+0]=Ri[255+ae-Ae],J[se+ye]=Ri[255+xe-Ie]}w+=C}}function Xc(m,w,A,C,U,j){Ra(m,w,A,1,16,C,U,j)}function rc(m,w,A,C,U,j){Ra(m,w,1,A,16,C,U,j)}function Po(m,w,A,C,U,j){var V;for(V=3;0<V;--V)Fs(m,w+=4*A,A,1,16,C,U,j)}function Jc(m,w,A,C,U,j){var V;for(V=3;0<V;--V)Fs(m,w+=4,1,A,16,C,U,j)}function x(m,w,A,C,U,j,V,Z){Ra(m,w,U,1,8,j,V,Z),Ra(A,C,U,1,8,j,V,Z)}function M(m,w,A,C,U,j,V,Z){Ra(m,w,1,U,8,j,V,Z),Ra(A,C,1,U,8,j,V,Z)}function re(m,w,A,C,U,j,V,Z){Fs(m,w+4*U,U,1,8,j,V,Z),Fs(A,C+4*U,U,1,8,j,V,Z)}function pe(m,w,A,C,U,j,V,Z){Fs(m,w+4,1,U,8,j,V,Z),Fs(A,C+4,1,U,8,j,V,Z)}function Se(){this.ba=new Dr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Sr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function We(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function tt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function At(){this.ua=0,this.Wa=new Qe,this.vb=new Qe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new be,this.yc=new te}function Dt(){this.xb=this.a=0,this.l=new Xt,this.ca=new Dr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new At,this.ab=0,this.gc=a(4,tt),this.Oc=0}function tr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function nr(m,w,A,C,U,j,V){for(m=m==null?0:m[w+0],w=0;w<V;++w)U[j+w]=m+A[C+w]&255,m=U[j+w]}function Er(m,w,A,C,U,j,V){var Z;if(m==null)nr(null,null,A,C,U,j,V);else for(Z=0;Z<V;++Z)U[j+Z]=m[w+Z]+A[C+Z]&255}function fn(m,w,A,C,U,j,V){if(m==null)nr(null,null,A,C,U,j,V);else{var Z,J=m[w+0],se=J,ye=J;for(Z=0;Z<V;++Z)se=ye+(J=m[w+Z])-se,ye=A[C+Z]+(-256&se?0>se?0:255:se)&255,se=J,U[j+Z]=ye}}function Dn(m,w,A,C){var U=w.width,j=w.o;if(e(m!=null&&w!=null),0>A||0>=C||A+C>j)return null;if(!m.Cc){if(m.ga==null){var V;if(m.ga=new tr,(V=m.ga==null)||(V=w.width*w.o,e(m.Gb.length==0),m.Gb=s(V),m.Uc=0,m.Gb==null?V=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,V=1),V=!V),!V){V=m.ga;var Z=m.Fa,J=m.P,se=m.qc,ye=m.mb,Le=m.nb,ae=J+1,xe=se-1,Ae=V.l;if(e(Z!=null&&ye!=null&&w!=null),Vr[0]=null,Vr[1]=nr,Vr[2]=Er,Vr[3]=fn,V.ca=ye,V.tb=Le,V.c=w.width,V.i=w.height,e(0<V.c&&0<V.i),1>=se)w=0;else if(V.$a=3&Z[J+0],V.Z=Z[J+0]>>2&3,V.Lc=Z[J+0]>>4&3,J=Z[J+0]>>6&3,0>V.$a||1<V.$a||4<=V.Z||1<V.Lc||J)w=0;else if(Ae.put=zt,Ae.ac=as,Ae.bc=Ns,Ae.ma=V,Ae.width=w.width,Ae.height=w.height,Ae.Da=w.Da,Ae.v=w.v,Ae.va=w.va,Ae.j=w.j,Ae.o=w.o,V.$a)e:{e(V.$a==1),w=ke();t:for(;;){if(w==null){w=0;break e}if(e(V!=null),V.mc=w,w.c=V.c,w.i=V.i,w.l=V.l,w.l.ma=V,w.l.width=V.c,w.l.height=V.i,w.a=0,Fe(w.m,Z,ae,xe),!De(V.c,V.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&Q(w.s)?(V.ic=1,Z=w.c*w.i,w.Ta=null,w.Ua=0,w.V=s(Z),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(V.ic=0,w=Re(w,V.c)),!w))break t;w=1;break e}V.mc=null,w=0}else w=xe>=V.c*V.i;V=!w}if(V)return null;m.ga.Lc!=1?m.Ga=0:C=j-A}e(m.ga!=null),e(A+C<=j);e:{if(w=(Z=m.ga).c,j=Z.l.o,Z.$a==0){if(ae=m.rc,xe=m.Vc,Ae=m.Fa,J=m.P+1+A*w,se=m.mb,ye=m.nb+A*w,e(J<=m.P+m.qc),Z.Z!=0)for(e(Vr[Z.Z]!=null),V=0;V<C;++V)Vr[Z.Z](ae,xe,Ae,J,se,ye,w),ae=se,xe=ye,ye+=w,J+=w;else for(V=0;V<C;++V)n(se,ye,Ae,J,w),ae=se,xe=ye,ye+=w,J+=w;m.rc=ae,m.Vc=xe}else{if(e(Z.mc!=null),w=A+C,e((V=Z.mc)!=null),e(w<=V.i),V.C>=w)w=1;else if(Z.ic||vi(),Z.ic){Z=V.V,ae=V.Ba,xe=V.c;var qe=V.i,Ie=(Ae=1,J=V.$/xe,se=V.$%xe,ye=V.m,Le=V.s,V.$),Ze=xe*qe,Ke=xe*w,ot=Le.wc,it=Ie<Ke?H(Le,se,J):null;e(Ie<=Ze),e(w<=qe),e(Q(Le));t:for(;;){for(;!ye.h&&Ie<Ke;){if(se&ot||(it=H(Le,se,J)),e(it!=null),fe(ye),256>(qe=_r(it.G[0],it.H[0],ye)))Z[ae+Ie]=qe,++Ie,++se>=xe&&(se=0,++J<=w&&!(J%16)&&oe(V,J));else{if(!(280>qe)){Ae=0;break t}qe=ai(qe-256,ye);var Mt,Ct=_r(it.G[4],it.H[4],ye);if(fe(ye),!(Ie>=(Ct=Ni(xe,Ct=ai(Ct,ye)))&&Ze-Ie>=qe)){Ae=0;break t}for(Mt=0;Mt<qe;++Mt)Z[ae+Ie+Mt]=Z[ae+Ie+Mt-Ct];for(Ie+=qe,se+=qe;se>=xe;)se-=xe,++J<=w&&!(J%16)&&oe(V,J);Ie<Ke&&se&ot&&(it=H(Le,se,J))}e(ye.h==B(ye))}oe(V,J>w?w:J);break t}!Ae||ye.h&&Ie<Ze?(Ae=0,V.a=ye.h?5:3):V.$=Ie,w=Ae}else w=Ee(V,V.V,V.Ba,V.c,V.i,w,at);if(!w){C=0;break e}}A+C>=j&&(m.Cc=1),C=1}if(!C)return null;if(m.Cc&&((C=m.ga)!=null&&(C.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+A*U}function zr(m,w,A,C,U,j){for(;0<U--;){var V,Z=m,J=w+(A?1:0),se=m,ye=w+(A?0:3);for(V=0;V<C;++V){var Le=se[ye+4*V];Le!=255&&(Le*=32897,Z[J+4*V+0]=Z[J+4*V+0]*Le>>23,Z[J+4*V+1]=Z[J+4*V+1]*Le>>23,Z[J+4*V+2]=Z[J+4*V+2]*Le>>23)}w+=j}}function Bn(m,w,A,C,U){for(;0<C--;){var j;for(j=0;j<A;++j){var V=m[w+2*j+0],Z=15&(se=m[w+2*j+1]),J=4369*Z,se=(240&se|se>>4)*J>>16;m[w+2*j+0]=(240&V|V>>4)*J>>16&240|(15&V|V<<4)*J>>16>>4&15,m[w+2*j+1]=240&se|Z}w+=U}}function Sn(m,w,A,C,U,j,V,Z){var J,se,ye=255;for(se=0;se<U;++se){for(J=0;J<C;++J){var Le=m[w+J];j[V+4*J]=Le,ye&=Le}w+=A,V+=Z}return ye!=255}function $n(m,w,A,C,U){var j;for(j=0;j<U;++j)A[C+j]=m[w+j]>>8}function vi(){fa=zr,Qh=Bn,eu=Sn,hf=$n}function Nn(m,w,A){O[m]=function(C,U,j,V,Z,J,se,ye,Le,ae,xe,Ae,qe,Ie,Ze,Ke,ot){var it,Mt=ot-1>>1,Ct=Z[J+0]|se[ye+0]<<16,fr=Le[ae+0]|xe[Ae+0]<<16;e(C!=null);var Pt=3*Ct+fr+131074>>2;for(w(C[U+0],255&Pt,Pt>>16,qe,Ie),j!=null&&(Pt=3*fr+Ct+131074>>2,w(j[V+0],255&Pt,Pt>>16,Ze,Ke)),it=1;it<=Mt;++it){var br=Z[J+it]|se[ye+it]<<16,ti=Le[ae+it]|xe[Ae+it]<<16,dr=Ct+br+fr+ti+524296,Rt=dr+2*(br+fr)>>3;Pt=Rt+Ct>>1,Ct=(dr=dr+2*(Ct+ti)>>3)+br>>1,w(C[U+2*it-1],255&Pt,Pt>>16,qe,Ie+(2*it-1)*A),w(C[U+2*it-0],255&Ct,Ct>>16,qe,Ie+(2*it-0)*A),j!=null&&(Pt=dr+fr>>1,Ct=Rt+ti>>1,w(j[V+2*it-1],255&Pt,Pt>>16,Ze,Ke+(2*it-1)*A),w(j[V+2*it+0],255&Ct,Ct>>16,Ze,Ke+(2*it+0)*A)),Ct=br,fr=ti}1&ot||(Pt=3*Ct+fr+131074>>2,w(C[U+ot-1],255&Pt,Pt>>16,qe,Ie+(ot-1)*A),j!=null&&(Pt=3*fr+Ct+131074>>2,w(j[V+ot-1],255&Pt,Pt>>16,Ze,Ke+(ot-1)*A)))}}function Qc(){yi[th]=kp,yi[oc]=df,yi[nu]=Dp,yi[lc]=ah,yi[cc]=su,yi[rh]=pf,yi[ff]=JS,yi[nh]=df,yi[ih]=ah,yi[sh]=su,yi[l]=pf}function sa(m){return m&-16384?0>m?0:255:m>>QS}function Zn(m,w){return sa((19077*m>>8)+(26149*w>>8)-14234)}function Oa(m,w,A){return sa((19077*m>>8)-(6419*w>>8)-(13320*A>>8)+8708)}function co(m,w){return sa((19077*m>>8)+(33050*w>>8)-17685)}function Ro(m,w,A,C,U){C[U+0]=Zn(m,A),C[U+1]=Oa(m,w,A),C[U+2]=co(m,w)}function Fa(m,w,A,C,U){C[U+0]=co(m,w),C[U+1]=Oa(m,w,A),C[U+2]=Zn(m,A)}function Yn(m,w,A,C,U){var j=Oa(m,w,A);w=j<<3&224|co(m,w)>>3,C[U+0]=248&Zn(m,A)|j>>5,C[U+1]=w}function Oo(m,w,A,C,U){var j=240&co(m,w)|15;C[U+0]=240&Zn(m,A)|Oa(m,w,A)>>4,C[U+1]=j}function Fo(m,w,A,C,U){C[U+0]=255,Ro(m,w,A,C,U+1)}function dl(m,w,A,C,U){Fa(m,w,A,C,U),C[U+3]=255}function nc(m,w,A,C,U){Ro(m,w,A,C,U),C[U+3]=255}function Ar(m,w){return 0>m?0:m>w?w:m}function Ii(m,w,A){O[m]=function(C,U,j,V,Z,J,se,ye,Le){for(var ae=ye+(-2&Le)*A;ye!=ae;)w(C[U+0],j[V+0],Z[J+0],se,ye),w(C[U+1],j[V+0],Z[J+0],se,ye+A),U+=2,++V,++J,ye+=2*A;1&Le&&w(C[U+0],j[V+0],Z[J+0],se,ye)}}function pl(m,w,A){return A==0?m==0?w==0?6:5:w==0?4:0:A}function fs(m,w,A,C,U){switch(m>>>30){case 3:fo(w,A,C,U,0);break;case 2:ms(w,A,C,U);break;case 1:Nr(w,A,C,U)}}function ds(m,w){var A,C,U=w.M,j=w.Nb,V=m.oc,Z=m.pc+40,J=m.oc,se=m.pc+584,ye=m.oc,Le=m.pc+600;for(A=0;16>A;++A)V[Z+32*A-1]=129;for(A=0;8>A;++A)J[se+32*A-1]=129,ye[Le+32*A-1]=129;for(0<U?V[Z-1-32]=J[se-1-32]=ye[Le-1-32]=129:(i(V,Z-32-1,127,21),i(J,se-32-1,127,9),i(ye,Le-32-1,127,9)),C=0;C<m.za;++C){var ae=w.ya[w.aa+C];if(0<C){for(A=-1;16>A;++A)n(V,Z+32*A-4,V,Z+32*A+12,4);for(A=-1;8>A;++A)n(J,se+32*A-4,J,se+32*A+4,4),n(ye,Le+32*A-4,ye,Le+32*A+4,4)}var xe=m.Gd,Ae=m.Hd+C,qe=ae.ad,Ie=ae.Hc;if(0<U&&(n(V,Z-32,xe[Ae].y,0,16),n(J,se-32,xe[Ae].f,0,8),n(ye,Le-32,xe[Ae].ea,0,8)),ae.Za){var Ze=V,Ke=Z-32+16;for(0<U&&(C>=m.za-1?i(Ze,Ke,xe[Ae].y[15],4):n(Ze,Ke,xe[Ae+1].y,0,4)),A=0;4>A;A++)Ze[Ke+128+A]=Ze[Ke+256+A]=Ze[Ke+384+A]=Ze[Ke+0+A];for(A=0;16>A;++A,Ie<<=2)Ze=V,Ke=Z+u1[A],Us[ae.Ob[A]](Ze,Ke),fs(Ie,qe,16*+A,Ze,Ke)}else if(Ze=pl(C,U,ae.Ob[0]),mo[Ze](V,Z),Ie!=0)for(A=0;16>A;++A,Ie<<=2)fs(Ie,qe,16*+A,V,Z+u1[A]);for(A=ae.Gc,Ze=pl(C,U,ae.Dd),pa[Ze](J,se),pa[Ze](ye,Le),Ie=qe,Ze=J,Ke=se,255&(ae=0|A)&&(170&ae?Zi(Ie,256,Ze,Ke):Hr(Ie,256,Ze,Ke)),ae=ye,Ie=Le,255&(A>>=8)&&(170&A?Zi(qe,320,ae,Ie):Hr(qe,320,ae,Ie)),U<m.Ub-1&&(n(xe[Ae].y,0,V,Z+480,16),n(xe[Ae].f,0,J,se+224,8),n(xe[Ae].ea,0,ye,Le+224,8)),A=8*j*m.B,xe=m.sa,Ae=m.ta+16*C+16*j*m.R,qe=m.qa,ae=m.ra+8*C+A,Ie=m.Ha,Ze=m.Ia+8*C+A,A=0;16>A;++A)n(xe,Ae+A*m.R,V,Z+32*A,16);for(A=0;8>A;++A)n(qe,ae+A*m.B,J,se+32*A,8),n(Ie,Ze+A*m.B,ye,Le+32*A,8)}}function ps(m,w,A,C,U,j,V,Z,J){var se=[0],ye=[0],Le=0,ae=J!=null?J.kd:0,xe=J!=null?J:new We;if(m==null||12>A)return 7;xe.data=m,xe.w=w,xe.ha=A,w=[w],A=[A],xe.gb=[xe.gb];e:{var Ae=w,qe=A,Ie=xe.gb;if(e(m!=null),e(qe!=null),e(Ie!=null),Ie[0]=0,12<=qe[0]&&!t(m,Ae[0],"RIFF")){if(t(m,Ae[0]+8,"WEBP")){Ie=3;break e}var Ze=Ne(m,Ae[0]+4);if(12>Ze||4294967286<Ze){Ie=3;break e}if(ae&&Ze>qe[0]-8){Ie=7;break e}Ie[0]=Ze,Ae[0]+=12,qe[0]-=12}Ie=0}if(Ie!=0)return Ie;for(Ze=0<xe.gb[0],A=A[0];;){e:{var Ke=m;qe=w,Ie=A;var ot=se,it=ye,Mt=Ae=[0];if((Pt=Le=[Le])[0]=0,8>Ie[0])Ie=7;else{if(!t(Ke,qe[0],"VP8X")){if(Ne(Ke,qe[0]+4)!=10){Ie=3;break e}if(18>Ie[0]){Ie=7;break e}var Ct=Ne(Ke,qe[0]+8),fr=1+ct(Ke,qe[0]+12);if(2147483648<=fr*(Ke=1+ct(Ke,qe[0]+15))){Ie=3;break e}Mt!=null&&(Mt[0]=Ct),ot!=null&&(ot[0]=fr),it!=null&&(it[0]=Ke),qe[0]+=18,Ie[0]-=18,Pt[0]=1}Ie=0}}if(Le=Le[0],Ae=Ae[0],Ie!=0)return Ie;if(qe=!!(2&Ae),!Ze&&Le)return 3;if(j!=null&&(j[0]=!!(16&Ae)),V!=null&&(V[0]=qe),Z!=null&&(Z[0]=0),V=se[0],Ae=ye[0],Le&&qe&&J==null){Ie=0;break}if(4>A){Ie=7;break}if(Ze&&Le||!Ze&&!Le&&!t(m,w[0],"ALPH")){A=[A],xe.na=[xe.na],xe.P=[xe.P],xe.Sa=[xe.Sa];e:{Ct=m,Ie=w,Ze=A;var Pt=xe.gb;ot=xe.na,it=xe.P,Mt=xe.Sa,fr=22,e(Ct!=null),e(Ze!=null),Ke=Ie[0];var br=Ze[0];for(e(ot!=null),e(Mt!=null),ot[0]=null,it[0]=null,Mt[0]=0;;){if(Ie[0]=Ke,Ze[0]=br,8>br){Ie=7;break e}var ti=Ne(Ct,Ke+4);if(4294967286<ti){Ie=3;break e}var dr=8+ti+1&-2;if(fr+=dr,0<Pt&&fr>Pt){Ie=3;break e}if(!t(Ct,Ke,"VP8 ")||!t(Ct,Ke,"VP8L")){Ie=0;break e}if(br[0]<dr){Ie=7;break e}t(Ct,Ke,"ALPH")||(ot[0]=Ct,it[0]=Ke+8,Mt[0]=ti),Ke+=dr,br-=dr}}if(A=A[0],xe.na=xe.na[0],xe.P=xe.P[0],xe.Sa=xe.Sa[0],Ie!=0)break}A=[A],xe.Ja=[xe.Ja],xe.xa=[xe.xa];e:if(Pt=m,Ie=w,Ze=A,ot=xe.gb[0],it=xe.Ja,Mt=xe.xa,Ct=Ie[0],Ke=!t(Pt,Ct,"VP8 "),fr=!t(Pt,Ct,"VP8L"),e(Pt!=null),e(Ze!=null),e(it!=null),e(Mt!=null),8>Ze[0])Ie=7;else{if(Ke||fr){if(Pt=Ne(Pt,Ct+4),12<=ot&&Pt>ot-12){Ie=3;break e}if(ae&&Pt>Ze[0]-8){Ie=7;break e}it[0]=Pt,Ie[0]+=8,Ze[0]-=8,Mt[0]=fr}else Mt[0]=5<=Ze[0]&&Pt[Ct+0]==47&&!(Pt[Ct+4]>>5),it[0]=Ze[0];Ie=0}if(A=A[0],xe.Ja=xe.Ja[0],xe.xa=xe.xa[0],w=w[0],Ie!=0)break;if(4294967286<xe.Ja)return 3;if(Z==null||qe||(Z[0]=xe.xa?2:1),V=[V],Ae=[Ae],xe.xa){if(5>A){Ie=7;break}Z=V,ae=Ae,qe=j,m==null||5>A?m=0:5<=A&&m[w+0]==47&&!(m[w+4]>>5)?(Ze=[0],Pt=[0],ot=[0],Fe(it=new F,m,w,A),Is(it,Ze,Pt,ot)?(Z!=null&&(Z[0]=Ze[0]),ae!=null&&(ae[0]=Pt[0]),qe!=null&&(qe[0]=ot[0]),m=1):m=0):m=0}else{if(10>A){Ie=7;break}Z=Ae,m==null||10>A||!Ta(m,w+3,A-3)?m=0:(ae=m[w+0]|m[w+1]<<8|m[w+2]<<16,qe=16383&(m[w+7]<<8|m[w+6]),m=16383&(m[w+9]<<8|m[w+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=xe.Ja||!qe||!m?m=0:(V&&(V[0]=qe),Z&&(Z[0]=m),m=1))}if(!m||(V=V[0],Ae=Ae[0],Le&&(se[0]!=V||ye[0]!=Ae)))return 3;J!=null&&(J[0]=xe,J.offset=w-J.w,e(4294967286>w-J.w),e(J.offset==J.ha-A));break}return Ie==0||Ie==7&&Le&&J==null?(j!=null&&(j[0]|=xe.na!=null&&0<xe.na.length),C!=null&&(C[0]=V),U!=null&&(U[0]=Ae),0):Ie}function ic(m,w,A){var C=w.width,U=w.height,j=0,V=0,Z=C,J=U;if(w.Da=m!=null&&0<m.Da,w.Da&&(Z=m.cd,J=m.bd,j=m.v,V=m.j,11>A||(j&=-2,V&=-2),0>j||0>V||0>=Z||0>=J||j+Z>C||V+J>U))return 0;if(w.v=j,w.j=V,w.va=j+Z,w.o=V+J,w.U=Z,w.T=J,w.da=m!=null&&0<m.da,w.da){if(!St(Z,J,A=[m.ib],j=[m.hb]))return 0;w.ib=A[0],w.hb=j[0]}return w.ob=m!=null&&m.ob,w.Kb=m==null||!m.Sd,w.da&&(w.ob=w.ib<3*C/4&&w.hb<3*U/4,w.Kb=0),1}function Ma(m){if(m==null)return 2;if(11>m.S){var w=m.f.RGBA;w.fb+=(m.height-1)*w.A,w.A=-w.A}else w=m.f.kb,m=m.height,w.O+=(m-1)*w.fa,w.fa=-w.fa,w.N+=(m-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(m-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(m-1)*w.lb,w.lb=-w.lb);return 0}function Ba(m,w,A,C){if(C==null||0>=m||0>=w)return 2;if(A!=null){if(A.Da){var U=A.cd,j=A.bd,V=-2&A.v,Z=-2&A.j;if(0>V||0>Z||0>=U||0>=j||V+U>m||Z+j>w)return 2;m=U,w=j}if(A.da){if(!St(m,w,U=[A.ib],j=[A.hb]))return 2;m=U[0],w=j[0]}}C.width=m,C.height=w;e:{var J=C.width,se=C.height;if(m=C.S,0>=J||0>=se||!(m>=th&&13>m))m=2;else{if(0>=C.Rd&&C.sd==null){V=j=U=w=0;var ye=(Z=J*f1[m])*se;if(11>m||(j=(se+1)/2*(w=(J+1)/2),m==12&&(V=(U=J)*se)),(se=s(ye+2*j+V))==null){m=1;break e}C.sd=se,11>m?((J=C.f.RGBA).eb=se,J.fb=0,J.A=Z,J.size=ye):((J=C.f.kb).y=se,J.O=0,J.fa=Z,J.Fd=ye,J.f=se,J.N=0+ye,J.Ab=w,J.Cd=j,J.ea=se,J.W=0+ye+j,J.Db=w,J.Ed=j,m==12&&(J.F=se,J.J=0+ye+2*j),J.Tc=V,J.lb=U)}if(w=1,U=C.S,j=C.width,V=C.height,U>=th&&13>U)if(11>U)m=C.f.RGBA,w&=(Z=Math.abs(m.A))*(V-1)+j<=m.size,w&=Z>=j*f1[U],w&=m.eb!=null;else{m=C.f.kb,Z=(j+1)/2,ye=(V+1)/2,J=Math.abs(m.fa),se=Math.abs(m.Ab);var Le=Math.abs(m.Db),ae=Math.abs(m.lb),xe=ae*(V-1)+j;w&=J*(V-1)+j<=m.Fd,w&=se*(ye-1)+Z<=m.Cd,w=(w&=Le*(ye-1)+Z<=m.Ed)&J>=j&se>=Z&Le>=Z,w&=m.y!=null,w&=m.f!=null,w&=m.ea!=null,U==12&&(w&=ae>=j,w&=xe<=m.Tc,w&=m.F!=null)}else w=0;m=w?0:2}}return m!=0||A!=null&&A.fd&&(m=Ma(C)),m}var aa=64,Gi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],In=24,Ms=32,Ua=8,oa=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];mt("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(m){return m},O.Predictor2=function(m,w,A){return w[A+0]},O.Predictor3=function(m,w,A){return w[A+1]},O.Predictor4=function(m,w,A){return w[A-1]},O.Predictor5=function(m,w,A){return It(It(m,w[A+1]),w[A+0])},O.Predictor6=function(m,w,A){return It(m,w[A-1])},O.Predictor7=function(m,w,A){return It(m,w[A+0])},O.Predictor8=function(m,w,A){return It(w[A-1],w[A+0])},O.Predictor9=function(m,w,A){return It(w[A+0],w[A+1])},O.Predictor10=function(m,w,A){return It(It(m,w[A-1]),It(w[A+0],w[A+1]))},O.Predictor11=function(m,w,A){var C=w[A+0];return 0>=Gt(C>>24&255,m>>24&255,(w=w[A-1])>>24&255)+Gt(C>>16&255,m>>16&255,w>>16&255)+Gt(C>>8&255,m>>8&255,w>>8&255)+Gt(255&C,255&m,255&w)?C:m},O.Predictor12=function(m,w,A){var C=w[A+0];return(lr((m>>24&255)+(C>>24&255)-((w=w[A-1])>>24&255))<<24|lr((m>>16&255)+(C>>16&255)-(w>>16&255))<<16|lr((m>>8&255)+(C>>8&255)-(w>>8&255))<<8|lr((255&m)+(255&C)-(255&w)))>>>0},O.Predictor13=function(m,w,A){var C=w[A-1];return(Zt((m=It(m,w[A+0]))>>24&255,C>>24&255)<<24|Zt(m>>16&255,C>>16&255)<<16|Zt(m>>8&255,C>>8&255)<<8|Zt(255&m,255&C))>>>0};var sc=O.PredictorAdd0;O.PredictorAdd1=yr,mt("Predictor2","PredictorAdd2"),mt("Predictor3","PredictorAdd3"),mt("Predictor4","PredictorAdd4"),mt("Predictor5","PredictorAdd5"),mt("Predictor6","PredictorAdd6"),mt("Predictor7","PredictorAdd7"),mt("Predictor8","PredictorAdd8"),mt("Predictor9","PredictorAdd9"),mt("Predictor10","PredictorAdd10"),mt("Predictor11","PredictorAdd11"),mt("Predictor12","PredictorAdd12"),mt("Predictor13","PredictorAdd13");var Li=O.PredictorAdd2;Lt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var En,za=O.ColorIndexInverseTransform,la=O.MapARGB,Kn=O.VP8LColorIndexInverseTransformAlpha,ho=O.MapAlpha,ml=O.VP8LPredictorsAdd=[];ml.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Mo,uo,ca,Bs,$i,ha,ua,fo,ms,Zi,Nr,Hr,An,Ln,Ha,Pi,ja,eh,ac,of,Jh,lf,gl,cf,fa,Qh,eu,hf,da=s(511),tu=s(2041),ru=s(225),vl=s(767),uf=0,wl=tu,po=ru,Ri=vl,Yi=da,th=0,oc=1,nu=2,lc=3,cc=4,rh=5,ff=6,nh=7,ih=8,sh=9,l=10,f=[2,3,7],v=[3,3,11],S=[280,256,256,256,40],k=[0,1,1,1,0],W=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ue=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Te=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Be=8,rt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],xt=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ht=null,mr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wi=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Un=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],gs=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Oi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],yl=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Tp=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],mo=[],Us=[],pa=[],Cp=1,iu=2,Vr=[],yi=[];Nn("UpsampleRgbLinePair",Ro,3),Nn("UpsampleBgrLinePair",Fa,3),Nn("UpsampleRgbaLinePair",nc,4),Nn("UpsampleBgraLinePair",dl,4),Nn("UpsampleArgbLinePair",Fo,4),Nn("UpsampleRgba4444LinePair",Oo,2),Nn("UpsampleRgb565LinePair",Yn,2);var kp=O.UpsampleRgbLinePair,Dp=O.UpsampleBgrLinePair,df=O.UpsampleRgbaLinePair,ah=O.UpsampleBgraLinePair,su=O.UpsampleArgbLinePair,pf=O.UpsampleRgba4444LinePair,JS=O.UpsampleRgb565LinePair,mf=16,gf=1<<mf-1,au=-227,Np=482,QS=6,h1=0,eE=s(256),tE=s(256),rE=s(256),nE=s(256),iE=s(Np-au),sE=s(Np-au);Ii("YuvToRgbRow",Ro,3),Ii("YuvToBgrRow",Fa,3),Ii("YuvToRgbaRow",nc,4),Ii("YuvToBgraRow",dl,4),Ii("YuvToArgbRow",Fo,4),Ii("YuvToRgba4444Row",Oo,2),Ii("YuvToRgb565Row",Yn,2);var u1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vf=[0,2,8],aE=[8,7,6,4,4,2,2,2,1,1,1,1],oE=1;this.WebPDecodeRGBA=function(m,w,A,C,U){var j=oc,V=new Se,Z=new Dr;V.ba=Z,Z.S=j,Z.width=[Z.width],Z.height=[Z.height];var J=Z.width,se=Z.height,ye=new Vt;if(ye==null||m==null)var Le=2;else e(ye!=null),Le=ps(m,w,A,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Le!=0?J=0:(J!=null&&(J[0]=ye.width[0]),se!=null&&(se[0]=ye.height[0]),J=1),J){Z.width=Z.width[0],Z.height=Z.height[0],C!=null&&(C[0]=Z.width),U!=null&&(U[0]=Z.height);e:{if(C=new Xt,(U=new We).data=m,U.w=w,U.ha=A,U.kd=1,w=[0],e(U!=null),((m=ps(U.data,U.w,U.ha,null,null,null,w,null,U))==0||m==7)&&w[0]&&(m=4),(w=m)==0){if(e(V!=null),C.data=U.data,C.w=U.w+U.offset,C.ha=U.ha-U.offset,C.put=zt,C.ac=as,C.bc=Ns,C.ma=V,U.xa){if((m=ke())==null){V=1;break e}if(function(ae,xe){var Ae=[0],qe=[0],Ie=[0];t:for(;;){if(ae==null)return 0;if(xe==null)return ae.a=2,0;if(ae.l=xe,ae.a=0,Fe(ae.m,xe.data,xe.w,xe.ha),!Is(ae.m,Ae,qe,Ie)){ae.a=3;break t}if(ae.xb=iu,xe.width=Ae[0],xe.height=qe[0],!De(Ae[0],qe[0],1,ae,null))break t;return 1}return e(ae.a!=0),0}(m,C)){if(C=(w=Ba(C.width,C.height,V.Oa,V.ba))==0){t:{C=m;r:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((A=C.l)!=null),e((U=A.ma)!=null),C.xb!=0){if(C.ca=U.ba,C.tb=U.tb,e(C.ca!=null),!ic(U.Oa,A,lc)){C.a=2;break r}if(!Re(C,A.width)||A.da)break r;if((A.da||Qt(C.ca.S))&&vi(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&vi()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!le(C.s.vb,C.s.Wa.Xa)){C.a=1;break r}C.xb=0}if(!Ee(C,C.V,C.Ba,C.c,C.i,A.o,K))break r;U.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(w=m.a)}else w=m.a}else{if((m=new tn)==null){V=1;break e}if(m.Fa=U.na,m.P=U.P,m.qc=U.Sa,Ca(m,C)){if((w=Ba(C.width,C.height,V.Oa,V.ba))==0){if(m.Aa=0,A=V.Oa,e((U=m)!=null),A!=null){if(0<(J=0>(J=A.Md)?0:100<J?255:255*J/100)){for(se=ye=0;4>se;++se)12>(Le=U.pb[se]).lc&&(Le.ia=J*aE[0>Le.lc?0:Le.lc]>>3),ye|=Le.ia;ye&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=A.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}(function(ae,xe){if(ae==null)return 0;if(xe==null)return hn(ae,2,"NULL VP8Io parameter in VP8Decode().");if(!ae.cb&&!Ca(ae,xe))return 0;if(e(ae.cb),xe.ac==null||xe.ac(xe)){xe.ob&&(ae.L=0);var Ae=vf[ae.L];if(ae.L==2?(ae.yb=0,ae.zb=0):(ae.yb=xe.v-Ae>>4,ae.zb=xe.j-Ae>>4,0>ae.yb&&(ae.yb=0),0>ae.zb&&(ae.zb=0)),ae.Va=xe.o+15+Ae>>4,ae.Hb=xe.va+15+Ae>>4,ae.Hb>ae.za&&(ae.Hb=ae.za),ae.Va>ae.Ub&&(ae.Va=ae.Ub),0<ae.L){var qe=ae.ed;for(Ae=0;4>Ae;++Ae){var Ie;if(ae.Qa.Cb){var Ze=ae.Qa.Lb[Ae];ae.Qa.Fb||(Ze+=qe.Tb)}else Ze=qe.Tb;for(Ie=0;1>=Ie;++Ie){var Ke=ae.gd[Ae][Ie],ot=Ze;if(qe.Pc&&(ot+=qe.vd[0],Ie&&(ot+=qe.od[0])),0<(ot=0>ot?0:63<ot?63:ot)){var it=ot;0<qe.wb&&(it=4<qe.wb?it>>2:it>>1)>9-qe.wb&&(it=9-qe.wb),1>it&&(it=1),Ke.dd=it,Ke.tc=2*ot+it,Ke.ld=40<=ot?2:15<=ot?1:0}else Ke.tc=0;Ke.La=Ie}}}Ae=0}else hn(ae,6,"Frame setup failed"),Ae=ae.a;if(Ae=Ae==0){if(Ae){ae.$c=0,0<ae.Aa||(ae.Ic=oE);t:{Ae=ae.Ic,qe=4*(it=ae.za);var Mt=32*it,Ct=it+1,fr=0<ae.L?it*(0<ae.Aa?2:1):0,Pt=(ae.Aa==2?2:1)*it;if((Ke=qe+832+(Ie=3*(16*Ae+vf[ae.L])/2*Mt)+(Ze=ae.Fa!=null&&0<ae.Fa.length?ae.Kc.c*ae.Kc.i:0))!=Ke)Ae=0;else{if(Ke>ae.Vb){if(ae.Vb=0,ae.Ec=s(Ke),ae.Fc=0,ae.Ec==null){Ae=hn(ae,1,"no memory during frame initialization.");break t}ae.Vb=Ke}Ke=ae.Ec,ot=ae.Fc,ae.Ac=Ke,ae.Bc=ot,ot+=qe,ae.Gd=a(Mt,qi),ae.Hd=0,ae.rb=a(Ct+1,wn),ae.sb=1,ae.wa=fr?a(fr,vr):null,ae.Y=0,ae.D.Nb=0,ae.D.wa=ae.wa,ae.D.Y=ae.Y,0<ae.Aa&&(ae.D.Y+=it),e(!0),ae.oc=Ke,ae.pc=ot,ot+=832,ae.ya=a(Pt,gi),ae.aa=0,ae.D.ya=ae.ya,ae.D.aa=ae.aa,ae.Aa==2&&(ae.D.aa+=it),ae.R=16*it,ae.B=8*it,it=(Mt=vf[ae.L])*ae.R,Mt=Mt/2*ae.B,ae.sa=Ke,ae.ta=ot+it,ae.qa=ae.sa,ae.ra=ae.ta+16*Ae*ae.R+Mt,ae.Ha=ae.qa,ae.Ia=ae.ra+8*Ae*ae.B+Mt,ae.$c=0,ot+=Ie,ae.mb=Ze?Ke:null,ae.nb=Ze?ot:null,e(ot+Ze<=ae.Fc+ae.Vb),er(ae),i(ae.Ac,ae.Bc,0,qe),Ae=1}}if(Ae){if(xe.ka=0,xe.y=ae.sa,xe.O=ae.ta,xe.f=ae.qa,xe.N=ae.ra,xe.ea=ae.Ha,xe.Vd=ae.Ia,xe.fa=ae.R,xe.Rc=ae.B,xe.F=null,xe.J=0,!uf){for(Ae=-255;255>=Ae;++Ae)da[255+Ae]=0>Ae?-Ae:Ae;for(Ae=-1020;1020>=Ae;++Ae)tu[1020+Ae]=-128>Ae?-128:127<Ae?127:Ae;for(Ae=-112;112>=Ae;++Ae)ru[112+Ae]=-16>Ae?-16:15<Ae?15:Ae;for(Ae=-255;510>=Ae;++Ae)vl[255+Ae]=0>Ae?0:255<Ae?255:Ae;uf=1}ua=io,fo=cl,Zi=Da,Nr=Rr,Hr=na,ms=Xh,An=Xc,Ln=rc,Ha=x,Pi=M,ja=Po,eh=Jc,ac=re,of=pe,Jh=ec,lf=ei,gl=lo,cf=tc,Us[0]=Ur,Us[1]=ko,Us[2]=ar,Us[3]=hs,Us[4]=Yc,Us[5]=Os,Us[6]=Rs,Us[7]=Jl,Us[8]=oo,Us[9]=Ia,mo[0]=ia,mo[1]=Kl,mo[2]=Xl,mo[3]=so,mo[4]=hl,mo[5]=ao,mo[6]=No,pa[0]=Io,pa[1]=Do,pa[2]=La,pa[3]=un,pa[4]=Ql,pa[5]=Kc,pa[6]=ul,Ae=1}else Ae=0}Ae&&(Ae=function(br,ti){for(br.M=0;br.M<br.Va;++br.M){var dr,Rt=br.Jc[br.M&br.Xb],wt=br.m,zn=br;for(dr=0;dr<zn.za;++dr){var hr=wt,Tr=zn,dn=Tr.Ac,_i=Tr.Bc+4*dr,Ki=Tr.zc,Pn=Tr.ya[Tr.aa+dr];if(Tr.Qa.Bb?Pn.$b=_e(hr,Tr.Pa.jb[0])?2+_e(hr,Tr.Pa.jb[2]):_e(hr,Tr.Pa.jb[1]):Pn.$b=0,Tr.kc&&(Pn.Ad=_e(hr,Tr.Bd)),Pn.Za=!_e(hr,145)+0,Pn.Za){var Fi=Pn.Ob,Xi=0;for(Tr=0;4>Tr;++Tr){var ri,kr=Ki[0+Tr];for(ri=0;4>ri;++ri){kr=Oi[dn[_i+ri]][kr];for(var qr=Un[_e(hr,kr[0])];0<qr;)qr=Un[2*qr+_e(hr,kr[qr])];kr=-qr,dn[_i+ri]=kr}n(Fi,Xi,dn,_i,4),Xi+=4,Ki[0+Tr]=kr}}else kr=_e(hr,156)?_e(hr,128)?1:3:_e(hr,163)?2:0,Pn.Ob[0]=kr,i(dn,_i,kr,4),i(Ki,0,kr,4);Pn.Dd=_e(hr,142)?_e(hr,114)?_e(hr,183)?1:3:2:0}if(zn.m.Ka)return hn(br,7,"Premature end-of-partition0 encountered.");for(;br.ja<br.za;++br.ja){if(zn=Rt,hr=(wt=br).rb[wt.sb-1],dn=wt.rb[wt.sb+wt.ja],dr=wt.ya[wt.aa+wt.ja],_i=wt.kc?dr.Ad:0)hr.la=dn.la=0,dr.Za||(hr.Na=dn.Na=0),dr.Hc=0,dr.Gc=0,dr.ia=0;else{var Rn,Gr;if(hr=dn,dn=zn,_i=wt.Pa.Xc,Ki=wt.ya[wt.aa+wt.ja],Pn=wt.pb[Ki.$b],Tr=Ki.ad,Fi=0,Xi=wt.rb[wt.sb-1],kr=ri=0,i(Tr,Fi,0,384),Ki.Za)var bi=0,Wa=_i[3];else{qr=s(16);var Hn=hr.Na+Xi.Na;if(Hn=Ht(dn,_i[1],Hn,Pn.Eb,0,qr,0),hr.Na=Xi.Na=(0<Hn)+0,1<Hn)ua(qr,0,Tr,Fi);else{var vs=qr[0]+3>>3;for(qr=0;256>qr;qr+=16)Tr[Fi+qr]=vs}bi=1,Wa=_i[0]}var rn=15&hr.la,ni=15&Xi.la;for(qr=0;4>qr;++qr){var zs=1&ni;for(vs=Gr=0;4>vs;++vs)rn=rn>>1|(zs=(Hn=Ht(dn,Wa,Hn=zs+(1&rn),Pn.Sc,bi,Tr,Fi))>bi)<<7,Gr=Gr<<2|(3<Hn?3:1<Hn?2:Tr[Fi+0]!=0),Fi+=16;rn>>=4,ni=ni>>1|zs<<7,ri=(ri<<8|Gr)>>>0}for(Wa=rn,bi=ni>>4,Rn=0;4>Rn;Rn+=2){for(Gr=0,rn=hr.la>>4+Rn,ni=Xi.la>>4+Rn,qr=0;2>qr;++qr){for(zs=1&ni,vs=0;2>vs;++vs)Hn=zs+(1&rn),rn=rn>>1|(zs=0<(Hn=Ht(dn,_i[2],Hn,Pn.Qc,0,Tr,Fi)))<<3,Gr=Gr<<2|(3<Hn?3:1<Hn?2:Tr[Fi+0]!=0),Fi+=16;rn>>=2,ni=ni>>1|zs<<5}kr|=Gr<<4*Rn,Wa|=rn<<4<<Rn,bi|=(240&ni)<<Rn}hr.la=Wa,Xi.la=bi,Ki.Hc=ri,Ki.Gc=kr,Ki.ia=43690&kr?0:Pn.ia,_i=!(ri|kr)}if(0<wt.L&&(wt.wa[wt.Y+wt.ja]=wt.gd[dr.$b][dr.Za],wt.wa[wt.Y+wt.ja].La|=!_i),zn.Ka)return hn(br,7,"Premature end-of-file encountered.")}if(er(br),wt=ti,zn=1,dr=(Rt=br).D,hr=0<Rt.L&&Rt.M>=Rt.zb&&Rt.M<=Rt.Va,Rt.Aa==0)t:{if(dr.M=Rt.M,dr.uc=hr,ds(Rt,dr),zn=1,dr=(Gr=Rt.D).Nb,hr=(kr=vf[Rt.L])*Rt.R,dn=kr/2*Rt.B,qr=16*dr*Rt.R,vs=8*dr*Rt.B,_i=Rt.sa,Ki=Rt.ta-hr+qr,Pn=Rt.qa,Tr=Rt.ra-dn+vs,Fi=Rt.Ha,Xi=Rt.Ia-dn+vs,ni=(rn=Gr.M)==0,ri=rn>=Rt.Va-1,Rt.Aa==2&&ds(Rt,Gr),Gr.uc)for(zs=(Hn=Rt).D.M,e(Hn.D.uc),Gr=Hn.yb;Gr<Hn.Hb;++Gr){bi=Gr,Wa=zs;var Ji=(Hs=(xi=Hn).D).Nb;Rn=xi.R;var Hs=Hs.wa[Hs.Y+bi],js=xi.sa,ws=xi.ta+16*Ji*Rn+16*bi,Ws=Hs.dd,on=Hs.tc;if(on!=0)if(e(3<=on),xi.L==1)0<bi&&lf(js,ws,Rn,on+4),Hs.La&&cf(js,ws,Rn,on),0<Wa&&Jh(js,ws,Rn,on+4),Hs.La&&gl(js,ws,Rn,on);else{var Vs=xi.B,Va=xi.qa,hc=xi.ra+8*Ji*Vs+8*bi,Bo=xi.Ha,xi=xi.Ia+8*Ji*Vs+8*bi;Ji=Hs.ld,0<bi&&(Ln(js,ws,Rn,on+4,Ws,Ji),Pi(Va,hc,Bo,xi,Vs,on+4,Ws,Ji)),Hs.La&&(eh(js,ws,Rn,on,Ws,Ji),of(Va,hc,Bo,xi,Vs,on,Ws,Ji)),0<Wa&&(An(js,ws,Rn,on+4,Ws,Ji),Ha(Va,hc,Bo,xi,Vs,on+4,Ws,Ji)),Hs.La&&(ja(js,ws,Rn,on,Ws,Ji),ac(Va,hc,Bo,xi,Vs,on,Ws,Ji))}}if(Rt.ia&&alert("todo:DitherRow"),wt.put!=null){if(Gr=16*rn,rn=16*(rn+1),ni?(wt.y=Rt.sa,wt.O=Rt.ta+qr,wt.f=Rt.qa,wt.N=Rt.ra+vs,wt.ea=Rt.Ha,wt.W=Rt.Ia+vs):(Gr-=kr,wt.y=_i,wt.O=Ki,wt.f=Pn,wt.N=Tr,wt.ea=Fi,wt.W=Xi),ri||(rn-=kr),rn>wt.o&&(rn=wt.o),wt.F=null,wt.J=null,Rt.Fa!=null&&0<Rt.Fa.length&&Gr<rn&&(wt.J=Dn(Rt,wt,Gr,rn-Gr),wt.F=Rt.mb,wt.F==null&&wt.F.length==0)){zn=hn(Rt,3,"Could not decode alpha data.");break t}Gr<wt.j&&(kr=wt.j-Gr,Gr=wt.j,e(!(1&kr)),wt.O+=Rt.R*kr,wt.N+=Rt.B*(kr>>1),wt.W+=Rt.B*(kr>>1),wt.F!=null&&(wt.J+=wt.width*kr)),Gr<rn&&(wt.O+=wt.v,wt.N+=wt.v>>1,wt.W+=wt.v>>1,wt.F!=null&&(wt.J+=wt.v),wt.ka=Gr-wt.j,wt.U=wt.va-wt.v,wt.T=rn-Gr,zn=wt.put(wt))}dr+1!=Rt.Ic||ri||(n(Rt.sa,Rt.ta-hr,_i,Ki+16*Rt.R,hr),n(Rt.qa,Rt.ra-dn,Pn,Tr+8*Rt.B,dn),n(Rt.Ha,Rt.Ia-dn,Fi,Xi+8*Rt.B,dn))}if(!zn)return hn(br,6,"Output aborted.")}return 1}(ae,xe)),xe.bc!=null&&xe.bc(xe),Ae&=1}return Ae?(ae.cb=0,Ae):0})(m,C)||(w=m.a)}}else w=m.a}w==0&&V.Oa!=null&&V.Oa.fd&&(w=Ma(V.ba))}V=w}j=V!=0?null:11>j?Z.f.RGBA.eb:Z.f.kb.y}else j=null;return j};var f1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(O,ee){for(var P="",z=0;z<4;z++)P+=String.fromCharCode(O[ee++]);return P}function u(O,ee){return O[ee+0]|O[ee+1]<<8}function p(O,ee){return(O[ee+0]|O[ee+1]<<8|O[ee+2]<<16)>>>0}function g(O,ee){return(O[ee+0]|O[ee+1]<<8|O[ee+2]<<16|O[ee+3]<<24)>>>0}new c;var d=[0],_=[0],y=[],b=new c,E=r,D=function(O,ee){var P={},z=0,te=!1,ce=0,be=0;if(P.frames=[],!function(T,F){for(var R=0;R<4;R++)if(T[F+R]!="RIFF".charCodeAt(R))return!0;return!1}(O,ee)){for(g(O,ee+=4),ee+=8;ee<O.length;){var Ce=h(O,ee),Pe=g(O,ee+=4);ee+=4;var me=Pe+(1&Pe);switch(Ce){case"VP8 ":case"VP8L":P.frames[z]===void 0&&(P.frames[z]={}),(Me=P.frames[z]).src_off=te?be:ee-8,Me.src_size=ce+Pe+8,z++,te&&(te=!1,ce=0,be=0);break;case"VP8X":(Me=P.header={}).feature_flags=O[ee];var Fe=ee+4;Me.canvas_width=1+p(O,Fe),Fe+=3,Me.canvas_height=1+p(O,Fe),Fe+=3;break;case"ALPH":te=!0,ce=me+8,be=ee-8;break;case"ANIM":(Me=P.header).bgcolor=g(O,ee),Fe=ee+4,Me.loop_count=u(O,Fe),Fe+=2;break;case"ANMF":var Oe,Me;(Me=P.frames[z]={}).offset_x=2*p(O,ee),ee+=3,Me.offset_y=2*p(O,ee),ee+=3,Me.width=1+p(O,ee),ee+=3,Me.height=1+p(O,ee),ee+=3,Me.duration=p(O,ee),ee+=3,Oe=O[ee++],Me.dispose=1&Oe,Me.blend=Oe>>1&1}Ce!="ANMF"&&(ee+=me)}return P}}(E,0);D.response=E,D.rgbaoutput=!0,D.dataurl=!1;var N=D.header?D.header:null,I=D.frames?D.frames:null;if(N){N.loop_counter=N.loop_count,d=[N.canvas_height],_=[N.canvas_width];for(var X=0;X<I.length&&I[X].blend!=0;X++);}var he=I[0],G=b.WebPDecodeRGBA(E,he.src_off,he.src_size,_,d);he.rgba=G,he.imgwidth=_[0],he.imgheight=d[0];for(var q=0;q<_[0]*d[0]*4;q++)y[q]=G[q];return this.width=_,this.height=d,this.data=y,this}(function(r){var e,t,n,i,s,a,o,c,h,u=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new c,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new a,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new a,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,h=new u}]);var p=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=T;Object.defineProperty(this,"pdf",{get:function(){return F}});var R=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return R},set:function(Ne){R=!!Ne}});var B=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return B},set:function(Ne){B=!!Ne}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(Ne){isNaN(Ne)||(Y=Ne)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(Ne){isNaN(Ne)||(fe=Ne)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(Ne){var le;typeof Ne=="number"?le=[Ne,Ne,Ne,Ne]:((le=new Array(4))[0]=Ne[0],le[1]=Ne.length>=2?Ne[1]:le[0],le[2]=Ne.length>=3?Ne[2]:le[0],le[3]=Ne.length>=4?Ne[3]:le[1]),h.margin=le}});var we=!1;Object.defineProperty(this,"autoPaging",{get:function(){return we},set:function(Ne){we=Ne}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(Ne){ve=Ne}});var _e=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _e},set:function(Ne){_e=Ne}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(Ne){Ne instanceof u&&(h=Ne)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(Ne){h.path=Ne}});var je=[];Object.defineProperty(this,"ctxStack",{get:function(){return je},set:function(Ne){je=Ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ne){var le;le=g(Ne),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ne){var le=g(Ne);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ne){["butt","round","square"].indexOf(Ne)!==-1&&(this.ctx.lineCap=Ne,this.pdf.setLineCap(Ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ne){isNaN(Ne)||(this.ctx.lineWidth=Ne,this.pdf.setLineWidth(Ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ne){["bevel","round","miter"].indexOf(Ne)!==-1&&(this.ctx.lineJoin=Ne,this.pdf.setLineJoin(Ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ne){isNaN(Ne)||(this.ctx.miterLimit=Ne,this.pdf.setMiterLimit(Ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ne){this.ctx.textBaseline=Ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ne){["right","end","center","left","start"].indexOf(Ne)!==-1&&(this.ctx.textAlign=Ne)}});var Xe=null,ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(Ne){Xe=null,ct=Ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ne){var le;if(this.ctx.font=Ne,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ne))!==null){var Nt=le[1];le[2];var Qe=le[3],St=le[4];le[5];var st=le[6],Et=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(St)[2];St=Math.floor(Et==="px"?parseFloat(St)*this.pdf.internal.scaleFactor:Et==="em"?parseFloat(St)*this.pdf.getFontSize():parseFloat(St)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(St);var mt=function(Wt){var Lt,Lr,wr=[],Tt=Wt.trim();if(Tt==="")return p0;if(Tt in lw)return[lw[Tt]];for(;Tt!=="";){switch(Lr=null,Lt=(Tt=hw(Tt)).charAt(0)){case'"':case"'":Lr=ZL(Tt.substring(1),Lt);break;default:Lr=YL(Tt)}if(Lr===null||(wr.push(Lr[0]),(Tt=hw(Lr[1]))!==""&&Tt.charAt(0)!==","))return p0;Tt=Tt.replace(/^,/,"")}return wr}(st);if(this.fontFaces){var Jt=function(Wt,Lt){if(Xe===null){var Lr=function(wr){var Tt=[];return Object.keys(wr).forEach(function(Kt){wr[Kt].forEach(function(Pr){var Ft=null;switch(Pr){case"bold":Ft={family:Kt,weight:"bold"};break;case"italic":Ft={family:Kt,style:"italic"};break;case"bolditalic":Ft={family:Kt,weight:"bold",style:"italic"};break;case"":case"normal":Ft={family:Kt}}Ft!==null&&(Ft.ref={name:Kt,style:Pr},Tt.push(Ft))})}),Tt}(Wt.getFontList());Xe=function(wr){for(var Tt={},Kt=0;Kt<wr.length;++Kt){var Pr=d0(wr[Kt]),Ft=Pr.family,pr=Pr.stretch,Qt=Pr.style,en=Pr.weight;Tt[Ft]=Tt[Ft]||{},Tt[Ft][pr]=Tt[Ft][pr]||{},Tt[Ft][pr][Qt]=Tt[Ft][pr][Qt]||{},Tt[Ft][pr][Qt][en]=Pr}return Tt}(Lr.concat(Lt))}return Xe}(this.pdf,this.fontFaces),It=mt.map(function(Wt){return{family:Wt,stretch:"normal",weight:Qe,style:Nt}}),lr=function(Wt,Lt,Lr){for(var wr=(Lr=Lr||{}).defaultFontFamily||"times",Tt=Object.assign({},$L,Lr.genericFontFamilies||{}),Kt=null,Pr=null,Ft=0;Ft<Lt.length;++Ft)if(Tt[(Kt=d0(Lt[Ft])).family]&&(Kt.family=Tt[Kt.family]),Wt.hasOwnProperty(Kt.family)){Pr=Wt[Kt.family];break}if(!(Pr=Pr||Wt[wr]))throw new Error("Could not find a font-family for the rule '"+cw(Kt)+"' and default family '"+wr+"'.");if(Pr=function(pr,Qt){if(Qt[pr])return Qt[pr];var en=um[pr],vn=en<=um.normal?-1:1,Dr=ow(Qt,Db,en,vn);if(!Dr)throw new Error("Could not find a matching font-stretch value for "+pr);return Dr}(Kt.stretch,Pr),Pr=function(pr,Qt){if(Qt[pr])return Qt[pr];for(var en=kb[pr],vn=0;vn<en.length;++vn)if(Qt[en[vn]])return Qt[en[vn]];throw new Error("Could not find a matching font-style for "+pr)}(Kt.style,Pr),!(Pr=function(pr,Qt){if(Qt[pr])return Qt[pr];if(pr===400&&Qt[500])return Qt[500];if(pr===500&&Qt[400])return Qt[400];var en=GL[pr],vn=ow(Qt,Nb,en,pr<400?-1:1);if(!vn)throw new Error("Could not find a matching font-weight for value "+pr);return vn}(Kt.weight,Pr)))throw new Error("Failed to resolve a font for the rule '"+cw(Kt)+"'.");return Pr}(Jt,It);this.pdf.setFont(lr.ref.name,lr.ref.style)}else{var Zt="";(Qe==="bold"||parseInt(Qe,10)>=700||Nt==="bold")&&(Zt="bold"),Nt==="italic"&&(Zt+="italic"),Zt.length===0&&(Zt="normal");for(var Gt="",yr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},jt=0;jt<mt.length;jt++){if(this.pdf.internal.getFont(mt[jt],Zt,{noFallback:!0,disableWarning:!0})!==void 0){Gt=mt[jt];break}if(Zt==="bolditalic"&&this.pdf.internal.getFont(mt[jt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Gt=mt[jt],Zt="bold";else if(this.pdf.internal.getFont(mt[jt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Gt=mt[jt],Zt="normal";break}}if(Gt===""){for(var Ot=0;Ot<mt.length;Ot++)if(yr[mt[Ot]]){Gt=yr[mt[Ot]];break}}Gt=Gt===""?"Times":Gt,this.pdf.setFont(Gt,Zt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ne){this.ctx.globalCompositeOperation=Ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ne){this.ctx.globalAlpha=Ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ne){this.ctx.lineDashOffset=Ne,Me.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ne){this.ctx.lineDash=Ne,Me.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ne){this.ctx.ignoreClearRect=!!Ne}})};p.prototype.setLineDash=function(T){this.lineDash=T},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){I.call(this,"fill",!1)},p.prototype.stroke=function(){I.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(T,F){if(isNaN(T)||isNaN(F))throw nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var R=this.ctx.transform.applyToPoint(new a(T,F));this.path.push({type:"mt",x:R.x,y:R.y}),this.ctx.lastPoint=new a(T,F)},p.prototype.closePath=function(){var T=new a(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&Yr(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){T=new a(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(T.x,T.y)},p.prototype.lineTo=function(T,F){if(isNaN(T)||isNaN(F))throw nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var R=this.ctx.transform.applyToPoint(new a(T,F));this.path.push({type:"lt",x:R.x,y:R.y}),this.ctx.lastPoint=new a(R.x,R.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},p.prototype.quadraticCurveTo=function(T,F,R,B){if(isNaN(R)||isNaN(B)||isNaN(T)||isNaN(F))throw nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new a(R,B)),fe=this.ctx.transform.applyToPoint(new a(T,F));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},p.prototype.bezierCurveTo=function(T,F,R,B,Y,fe){if(isNaN(Y)||isNaN(fe)||isNaN(T)||isNaN(F)||isNaN(R)||isNaN(B))throw nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var we=this.ctx.transform.applyToPoint(new a(Y,fe)),ve=this.ctx.transform.applyToPoint(new a(T,F)),_e=this.ctx.transform.applyToPoint(new a(R,B));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:_e.x,y2:_e.y,x:we.x,y:we.y}),this.ctx.lastPoint=new a(we.x,we.y)},p.prototype.arc=function(T,F,R,B,Y,fe){if(isNaN(T)||isNaN(F)||isNaN(R)||isNaN(B)||isNaN(Y))throw nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var we=this.ctx.transform.applyToPoint(new a(T,F));T=we.x,F=we.y;var ve=this.ctx.transform.applyToPoint(new a(0,R)),_e=this.ctx.transform.applyToPoint(new a(0,0));R=Math.sqrt(Math.pow(ve.x-_e.x,2)+Math.pow(ve.y-_e.y,2))}Math.abs(Y-B)>=2*Math.PI&&(B=0,Y=2*Math.PI),this.path.push({type:"arc",x:T,y:F,radius:R,startAngle:B,endAngle:Y,counterclockwise:fe})},p.prototype.arcTo=function(T,F,R,B,Y){throw new Error("arcTo not implemented.")},p.prototype.rect=function(T,F,R,B){if(isNaN(T)||isNaN(F)||isNaN(R)||isNaN(B))throw nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,F),this.lineTo(T+R,F),this.lineTo(T+R,F+B),this.lineTo(T,F+B),this.lineTo(T,F),this.lineTo(T+R,F),this.lineTo(T,F)},p.prototype.fillRect=function(T,F,R,B){if(isNaN(T)||isNaN(F)||isNaN(R)||isNaN(B))throw nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,F,R,B),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},p.prototype.strokeRect=function(T,F,R,B){if(isNaN(T)||isNaN(F)||isNaN(R)||isNaN(B))throw nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(T,F,R,B),this.stroke())},p.prototype.clearRect=function(T,F,R,B){if(isNaN(T)||isNaN(F)||isNaN(R)||isNaN(B))throw nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,F,R,B))},p.prototype.save=function(T){T=typeof T!="boolean"||T;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var B=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=B}},p.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,R=0;R<this.pdf.internal.getNumberOfPages();R++)this.pdf.setPage(R+1),this.pdf.internal.out("Q");this.pdf.setPage(F),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(T){var F,R,B,Y;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))F=0,R=0,B=0,Y=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(fe!==null)F=parseInt(fe[1]),R=parseInt(fe[2]),B=parseInt(fe[3]),Y=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)F=parseInt(fe[1]),R=parseInt(fe[2]),B=parseInt(fe[3]),Y=parseFloat(fe[4]);else{if(Y=1,typeof T=="string"&&T.charAt(0)!=="#"){var we=new bb(T);T=we.ok?we.toHex():"#000000"}T.length===4?(F=T.substring(1,2),F+=F,R=T.substring(2,3),R+=R,B=T.substring(3,4),B+=B):(F=T.substring(1,3),R=T.substring(3,5),B=T.substring(5,7)),F=parseInt(F,16),R=parseInt(R,16),B=parseInt(B,16)}}return{r:F,g:R,b:B,a:Y,style:T}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(T,F,R,B){if(isNaN(F)||isNaN(R)||typeof T!="string")throw nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(B=isNaN(B)?void 0:B,!d.call(this)){var Y=me(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;z.call(this,{text:T,x:F,y:R,scale:fe,angle:Y,align:this.textAlign,maxWidth:B})}},p.prototype.strokeText=function(T,F,R,B){if(isNaN(F)||isNaN(R)||typeof T!="string")throw nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){B=isNaN(B)?void 0:B;var Y=me(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;z.call(this,{text:T,x:F,y:R,scale:fe,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:B})}},p.prototype.measureText=function(T){if(typeof T!="string")throw nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,R=this.pdf.internal.scaleFactor,B=F.internal.getFontSize(),Y=F.getStringUnitWidth(T)*B/F.internal.scaleFactor;return new function(fe){var we=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this}({width:Y*=Math.round(96*R/72*1e4)/1e4})},p.prototype.scale=function(T,F){if(isNaN(T)||isNaN(F))throw nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var R=new c(T,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(R)},p.prototype.rotate=function(T){if(isNaN(T))throw nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new c(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},p.prototype.translate=function(T,F){if(isNaN(T)||isNaN(F))throw nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var R=new c(1,0,0,1,T,F);this.ctx.transform=this.ctx.transform.multiply(R)},p.prototype.transform=function(T,F,R,B,Y,fe){if(isNaN(T)||isNaN(F)||isNaN(R)||isNaN(B)||isNaN(Y)||isNaN(fe))throw nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var we=new c(T,F,R,B,Y,fe);this.ctx.transform=this.ctx.transform.multiply(we)},p.prototype.setTransform=function(T,F,R,B,Y,fe){T=isNaN(T)?1:T,F=isNaN(F)?0:F,R=isNaN(R)?0:R,B=isNaN(B)?1:B,Y=isNaN(Y)?0:Y,fe=isNaN(fe)?0:fe,this.ctx.transform=new c(T,F,R,B,Y,fe)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(T,F,R,B,Y,fe,we,ve,_e){var je=this.pdf.getImageProperties(T),Xe=1,ct=1,Ne=1,le=1;B!==void 0&&ve!==void 0&&(Ne=ve/B,le=_e/Y,Xe=je.width/B*ve/B,ct=je.height/Y*_e/Y),fe===void 0&&(fe=F,we=R,F=0,R=0),B!==void 0&&ve===void 0&&(ve=B,_e=Y),B===void 0&&ve===void 0&&(ve=je.width,_e=je.height);for(var Nt,Qe=this.ctx.transform.decompose(),St=me(Qe.rotate.shx),st=new c,Et=(st=(st=(st=st.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new o(fe-F*Ne,we-R*le,B*Xe,Y*ct)),mt=b.call(this,Et),Jt=[],It=0;It<mt.length;It+=1)Jt.indexOf(mt[It])===-1&&Jt.push(mt[It]);if(N(Jt),this.autoPaging)for(var lr=Jt[0],Zt=Jt[Jt.length-1],Gt=lr;Gt<Zt+1;Gt++){this.pdf.setPage(Gt);var yr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=Gt===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Lt=Gt===1?0:Ot+(Gt-2)*Wt;if(this.ctx.clip_path.length!==0){var Lr=this.path;Nt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(Nt,this.posX+this.margin[3],-Lt+jt+this.ctx.prevPageLastElemOffset),X.call(this,"fill",!0),this.path=Lr}var wr=JSON.parse(JSON.stringify(Et));wr=D([wr],this.posX+this.margin[3],-Lt+jt+this.ctx.prevPageLastElemOffset)[0];var Tt=(Gt>lr||Gt<Zt)&&y.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yr,Wt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",wr.x,wr.y,wr.w,wr.h,null,null,St),Tt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,St)};var b=function(T,F,R){var B=[];F=F||this.pdf.internal.pageSize.width,R=R||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":B.push(Math.floor((T.y+Y)/R)+1);break;case"arc":B.push(Math.floor((T.y+Y-T.radius)/R)+1),B.push(Math.floor((T.y+Y+T.radius)/R)+1);break;case"qct":var fe=Fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);B.push(Math.floor((fe.y+Y)/R)+1),B.push(Math.floor((fe.y+fe.h+Y)/R)+1);break;case"bct":var we=Oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);B.push(Math.floor((we.y+Y)/R)+1),B.push(Math.floor((we.y+we.h+Y)/R)+1);break;case"rect":B.push(Math.floor((T.y+Y)/R)+1),B.push(Math.floor((T.y+T.h+Y)/R)+1)}for(var ve=0;ve<B.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<B[ve];)E.call(this);return B},E=function(){var T=this.fillStyle,F=this.strokeStyle,R=this.font,B=this.lineCap,Y=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=F,this.font=R,this.lineCap=B,this.lineWidth=Y,this.lineJoin=fe},D=function(T,F,R){for(var B=0;B<T.length;B++)switch(T[B].type){case"bct":T[B].x2+=F,T[B].y2+=R;case"qct":T[B].x1+=F,T[B].y1+=R;default:T[B].x+=F,T[B].y+=R}return T},N=function(T){return T.sort(function(F,R){return F-R})},I=function(T,F){for(var R,B,Y=this.fillStyle,fe=this.strokeStyle,we=this.lineCap,ve=this.lineWidth,_e=Math.abs(ve*this.ctx.transform.scaleX),je=this.lineJoin,Xe=JSON.parse(JSON.stringify(this.path)),ct=JSON.parse(JSON.stringify(this.path)),Ne=[],le=0;le<ct.length;le++)if(ct[le].x!==void 0)for(var Nt=b.call(this,ct[le]),Qe=0;Qe<Nt.length;Qe+=1)Ne.indexOf(Nt[Qe])===-1&&Ne.push(Nt[Qe]);for(var St=0;St<Ne.length;St++)for(;this.pdf.internal.getNumberOfPages()<Ne[St];)E.call(this);if(N(Ne),this.autoPaging)for(var st=Ne[0],Et=Ne[Ne.length-1],mt=st;mt<Et+1;mt++){this.pdf.setPage(mt),this.fillStyle=Y,this.strokeStyle=fe,this.lineCap=we,this.lineWidth=_e,this.lineJoin=je;var Jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=mt===1?this.posY+this.margin[0]:this.margin[0],lr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gt=mt===1?0:lr+(mt-2)*Zt;if(this.ctx.clip_path.length!==0){var yr=this.path;R=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(R,this.posX+this.margin[3],-Gt+It+this.ctx.prevPageLastElemOffset),X.call(this,T,!0),this.path=yr}if(B=JSON.parse(JSON.stringify(Xe)),this.path=D(B,this.posX+this.margin[3],-Gt+It+this.ctx.prevPageLastElemOffset),F===!1||mt===0){var jt=(mt>st||mt<Et)&&y.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,Zt,null).clip().discardPath()),X.call(this,T,F),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=_e,X.call(this,T,F),this.lineWidth=ve;this.path=Xe},X=function(T,F){if((T!=="stroke"||F||!_.call(this))&&(T==="stroke"||F||!d.call(this))){for(var R,B,Y=[],fe=this.path,we=0;we<fe.length;we++){var ve=fe[we];switch(ve.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:ve,deltas:[],abs:[]});break;case"lt":var _e=Y.length;if(fe[we-1]&&!isNaN(fe[we-1].x)&&(R=[ve.x-fe[we-1].x,ve.y-fe[we-1].y],_e>0)){for(;_e>=0;_e--)if(Y[_e-1].close!==!0&&Y[_e-1].begin!==!0){Y[_e-1].deltas.push(R),Y[_e-1].abs.push(ve);break}}break;case"bct":R=[ve.x1-fe[we-1].x,ve.y1-fe[we-1].y,ve.x2-fe[we-1].x,ve.y2-fe[we-1].y,ve.x-fe[we-1].x,ve.y-fe[we-1].y],Y[Y.length-1].deltas.push(R);break;case"qct":var je=fe[we-1].x+2/3*(ve.x1-fe[we-1].x),Xe=fe[we-1].y+2/3*(ve.y1-fe[we-1].y),ct=ve.x+2/3*(ve.x1-ve.x),Ne=ve.y+2/3*(ve.y1-ve.y),le=ve.x,Nt=ve.y;R=[je-fe[we-1].x,Xe-fe[we-1].y,ct-fe[we-1].x,Ne-fe[we-1].y,le-fe[we-1].x,Nt-fe[we-1].y],Y[Y.length-1].deltas.push(R);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(ve)}}B=F?null:T==="stroke"?"stroke":"fill";for(var Qe=!1,St=0;St<Y.length;St++)if(Y[St].arc)for(var st=Y[St].abs,Et=0;Et<st.length;Et++){var mt=st[Et];mt.type==="arc"?q.call(this,mt.x,mt.y,mt.radius,mt.startAngle,mt.endAngle,mt.counterclockwise,void 0,F,!Qe):te.call(this,mt.x,mt.y),Qe=!0}else if(Y[St].close===!0)this.pdf.internal.out("h"),Qe=!1;else if(Y[St].begin!==!0){var Jt=Y[St].start.x,It=Y[St].start.y;ce.call(this,Y[St].deltas,Jt,It),Qe=!0}B&&O.call(this,B),F&&ee.call(this)}},he=function(T){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,R=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-R;case"top":return T+F-R;case"hanging":return T+F-2*R;case"middle":return T+F/2-R;default:return T}},G=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(F,R){this.colorStops.push([F,R])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(T,F,R,B,Y,fe,we,ve,_e){for(var je=Ce.call(this,R,B,Y,fe),Xe=0;Xe<je.length;Xe++){var ct=je[Xe];Xe===0&&(_e?P.call(this,ct.x1+T,ct.y1+F):te.call(this,ct.x1+T,ct.y1+F)),be.call(this,T,F,ct.x2,ct.y2,ct.x3,ct.y3,ct.x4,ct.y4)}ve?ee.call(this):O.call(this,we)},O=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(T,F){this.pdf.internal.out(t(T)+" "+n(F)+" m")},z=function(T){var F;switch(T.align){case"right":case"end":F="right";break;case"center":F="center";break;default:F="left"}var R=this.pdf.getTextDimensions(T.text),B=he.call(this,T.y),Y=G.call(this,B)-R.h,fe=this.ctx.transform.applyToPoint(new a(T.x,B)),we=this.ctx.transform.decompose(),ve=new c;ve=(ve=(ve=ve.multiply(we.translate)).multiply(we.skew)).multiply(we.scale);for(var _e,je,Xe,ct=this.ctx.transform.applyToRectangle(new o(T.x,B,R.w,R.h)),Ne=ve.applyToRectangle(new o(T.x,Y,R.w,R.h)),le=b.call(this,Ne),Nt=[],Qe=0;Qe<le.length;Qe+=1)Nt.indexOf(le[Qe])===-1&&Nt.push(le[Qe]);if(N(Nt),this.autoPaging)for(var St=Nt[0],st=Nt[Nt.length-1],Et=St;Et<st+1;Et++){this.pdf.setPage(Et);var mt=Et===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],It=this.pdf.internal.pageSize.height-this.margin[2],lr=It-this.margin[0],Zt=this.pdf.internal.pageSize.width-this.margin[1],Gt=Zt-this.margin[3],yr=Et===1?0:Jt+(Et-2)*lr;if(this.ctx.clip_path.length!==0){var jt=this.path;_e=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=D(_e,this.posX+this.margin[3],-1*yr+mt),X.call(this,"fill",!0),this.path=jt}var Ot=D([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-yr+mt+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*T.scale),Xe=this.lineWidth,this.lineWidth=Xe*T.scale);var Wt=this.autoPaging!=="text";if(Wt||Ot.y+Ot.h<=It){if(Wt||Ot.y>=mt&&Ot.x<=Zt){var Lt=Wt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Zt-Ot.x)[0],Lr=D([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-yr+mt+this.ctx.prevPageLastElemOffset)[0],wr=Wt&&(Et>St||Et<st)&&y.call(this);wr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,lr,null).clip().discardPath()),this.pdf.text(Lt,Lr.x,Lr.y,{angle:T.angle,align:F,renderingMode:T.renderingMode}),wr&&this.pdf.restoreGraphicsState()}}else Ot.y<It&&(this.ctx.prevPageLastElemOffset+=It-Ot.y);T.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Xe)}else T.scale>=.01&&(je=this.pdf.internal.getFontSize(),this.pdf.setFontSize(je*T.scale),Xe=this.lineWidth,this.lineWidth=Xe*T.scale),this.pdf.text(T.text,fe.x+this.posX,fe.y+this.posY,{angle:T.angle,align:F,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(je),this.lineWidth=Xe)},te=function(T,F,R,B){R=R||0,B=B||0,this.pdf.internal.out(t(T+R)+" "+n(F+B)+" l")},ce=function(T,F,R){return this.pdf.lines(T,F,R,null,null)},be=function(T,F,R,B,Y,fe,we,ve){this.pdf.internal.out([e(i(R+T)),e(s(B+F)),e(i(Y+T)),e(s(fe+F)),e(i(we+T)),e(s(ve+F)),"c"].join(" "))},Ce=function(T,F,R,B){for(var Y=2*Math.PI,fe=Math.PI/2;F>R;)F-=Y;var we=Math.abs(R-F);we<Y&&B&&(we=Y-we);for(var ve=[],_e=B?-1:1,je=F;we>1e-5;){var Xe=je+_e*Math.min(we,fe);ve.push(Pe.call(this,T,je,Xe)),we-=Math.abs(Xe-je),je=Xe}return ve},Pe=function(T,F,R){var B=(R-F)/2,Y=T*Math.cos(B),fe=T*Math.sin(B),we=Y,ve=-fe,_e=we*we+ve*ve,je=_e+we*Y+ve*fe,Xe=4/3*(Math.sqrt(2*_e*je)-je)/(we*fe-ve*Y),ct=we-Xe*ve,Ne=ve+Xe*we,le=ct,Nt=-Ne,Qe=B+F,St=Math.cos(Qe),st=Math.sin(Qe);return{x1:T*Math.cos(F),y1:T*Math.sin(F),x2:ct*St-Ne*st,y2:ct*st+Ne*St,x3:le*St-Nt*st,y3:le*st+Nt*St,x4:T*Math.cos(R),y4:T*Math.sin(R)}},me=function(T){return 180*T/Math.PI},Fe=function(T,F,R,B,Y,fe){var we=T+.5*(R-T),ve=F+.5*(B-F),_e=Y+.5*(R-Y),je=fe+.5*(B-fe),Xe=Math.min(T,Y,we,_e),ct=Math.max(T,Y,we,_e),Ne=Math.min(F,fe,ve,je),le=Math.max(F,fe,ve,je);return new o(Xe,Ne,ct-Xe,le-Ne)},Oe=function(T,F,R,B,Y,fe,we,ve){var _e,je,Xe,ct,Ne,le,Nt,Qe,St,st,Et,mt,Jt,It,lr=R-T,Zt=B-F,Gt=Y-R,yr=fe-B,jt=we-Y,Ot=ve-fe;for(je=0;je<41;je++)St=(Nt=(Xe=T+(_e=je/40)*lr)+_e*((Ne=R+_e*Gt)-Xe))+_e*(Ne+_e*(Y+_e*jt-Ne)-Nt),st=(Qe=(ct=F+_e*Zt)+_e*((le=B+_e*yr)-ct))+_e*(le+_e*(fe+_e*Ot-le)-Qe),je==0?(Et=St,mt=st,Jt=St,It=st):(Et=Math.min(Et,St),mt=Math.min(mt,st),Jt=Math.max(Jt,St),It=Math.max(It,st));return new o(Math.round(Et),Math.round(mt),Math.round(Jt-Et),Math.round(It-mt))},Me=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,F,R=(T=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:F}));this.prevLineDash!==R&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=R)}}})(Bt.API),function(r){var e=function(a){var o,c,h,u,p,g,d,_,y,b;for(c=[],h=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>h;h+=4)(p=(a.charCodeAt(h)<<24)+(a.charCodeAt(h+1)<<16)+(a.charCodeAt(h+2)<<8)+a.charCodeAt(h+3))!==0?(g=(p=((p=((p=((p=(p-(b=p%85))/85)-(y=p%85))/85)-(_=p%85))/85)-(d=p%85))/85)%85,c.push(g+33,d+33,_+33,y+33,b+33)):c.push(122);return function(E,D){for(var N=D;N>0;N--)E.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},t=function(a){var o,c,h,u,p,g=String,d="length",_=255,y="charCodeAt",b="slice",E="replace";for(a[b](-2),a=a[b](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),h=[],u=0,p=(a+=o="uuuuu"[b](a[d]%5||5))[d];p>u;u+=5)c=52200625*(a[y](u)-33)+614125*(a[y](u+1)-33)+7225*(a[y](u+2)-33)+85*(a[y](u+3)-33)+(a[y](u+4)-33),h.push(_&c>>24,_&c>>16,_&c>>8,_&c);return function(D,N){for(var I=N;I>0;I--)D.pop()}(h,o[d]),g.fromCharCode.apply(g,h)},n=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",h=0;h<a.length;h+=2)c+=String.fromCharCode("0x"+(a[h]+a[h+1]));return c},s=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=im(o)).reduce(function(h,u){return h+String.fromCharCode(u)},"")};r.processDataByFilters=function(a,o){var c=0,h=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=n(h),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=s(h),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:h,reverseChain:u.reverse().join(" ")}}}(Bt.API),function(r){r.loadFile=function(e,t,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,h,u){var p=new XMLHttpRequest,g=0,d=function(_){var y=_.length,b=[],E=String.fromCharCode;for(g=0;g<y;g+=1)b.push(E(255&_.charCodeAt(g)));return b.join("")};if(p.open("GET",c,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?u(d(this.responseText)):u(void 0)}),p.send(null),h&&p.status===200)return d(p.responseText)}(i,s,a)}catch(c){}return o}(e,t,n)},r.loadImageFile=r.loadFile}(Bt.API),function(r){function e(){return(ir.html2canvas?Promise.resolve(ir.html2canvas):Yp(()=>import("./html2canvas.esm.BJcB2cAV.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(ir.DOMPurify?Promise.resolve(ir.DOMPurify):Yp(()=>import("./purify.es.BT5iX8nJ.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=Yr(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var h=document.createElement(o);for(var u in c.className&&(h.className=c.className),c.innerHTML&&c.dompurify&&(h.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)h.style[u]=c.style[u];return h},s=function o(c,h){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),p=c.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||u.appendChild(o(p,h));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},a=function o(c){var h=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),h);return(u=u.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),c){case"string":return this.then(t).then(function(h){return this.set({src:i("div",{innerHTML:o,dompurify:h})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,c(this.prop.container,h)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var h=this.opt.jsPDF,u=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=u,u)for(var d=0;d<u.length;++d){var _=u[d],y=_.src.find(function(b){return b.format==="truetype"});y&&h.addFont(y.url,_.ref.name,_.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,h.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(h){if(h in a.template.prop)return function(){this.prop[h]=o[h]};switch(h){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[h]=o[h]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var h=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(h):h})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(h,u){return Math.floor(h*u/72*96)}return this.then(function(){(o=o||Bt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,h,u){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),h!=null&&(this.progress.n=h),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,h,u){return this.setProgress(o?this.progress.val+o:null,c||null,h?this.progress.n+h:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,c){var h=this;return this.thenCore(o,c,function(u,p){return h.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(g){return h.updateProgress(null,u),g}).then(u,p).then(function(g){return h.updateProgress(1),g})})},a.prototype.thenCore=function(o,c,h){h=h||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),c&&(c=c.bind(u));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),g=h.call(p,o,c);return a.convert(g,u.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(h){c=c.thenCore(h)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Bt.getPageSize=function(o,c,h){if(Yr(o)==="object"){var u=o;o=u.orientation,c=u.unit||c,h=u.format||h}c=c||"mm",h=h||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+h).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+c}var _,y=0,b=0;if(d.hasOwnProperty(g))y=d[g][1]/p,b=d[g][0]/p;else try{y=h[1],b=h[0]}catch(E){throw new Error("Invalid format: "+h)}if(o==="p"||o==="portrait")o="p",b>y&&(_=b,b=y,y=_);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>b&&(_=b,b=y,y=_)}return{width:b,height:y,unit:c,k:p,orientation:o}},r.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(d0):null;var h=new a(c);return c.worker?h:h.from(o).doCallback()}}(Bt.API),Bt.API.addJS=function(r){return fw=r,this.internal.events.subscribe("postPutResources",function(){Hf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Hf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),uw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+fw+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Hf!==void 0&&uw!==void 0&&this.internal.out("/Names <</JavaScript "+Hf+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var c=o[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,u=[];for(s=0;s<h;s++){var p=t.internal.newObject();u.push(p);var g=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var d=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+d+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},t.outline.line=function(n){this.ctx.val+=n+"\r\n"},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+="\r\n"+n.id+" 0 obj\r\n<<\r\n"},t.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Bt.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,s,a,o){var c,h=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=function(p){for(var g,d=256*p.charCodeAt(4)+p.charCodeAt(5),_=p.length,y={width:0,height:0,numcomponents:1},b=4;b<_;b+=2){if(b+=d,e.indexOf(p.charCodeAt(b+1))!==-1){g=256*p.charCodeAt(b+5)+p.charCodeAt(b+6),y={width:256*p.charCodeAt(b+7)+p.charCodeAt(b+8),height:g,numcomponents:p.charCodeAt(b+9)};break}d=256*p.charCodeAt(b+2)+p.charCodeAt(b+3)}return y}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:t,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:h,index:n,alias:i}}return u}}(Bt.API),Bt.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var i,s=LL(r,{checkCrc:!0}),a=s.width,o=s.height,c=s.channels,h=s.palette,u=s.depth;i=h&&c===1?function(q){for(var O=q.width,ee=q.height,P=q.data,z=q.palette,te=q.depth,ce=!1,be=[],Ce=[],Pe=void 0,me=!1,Fe=0,Oe=0;Oe<z.length;Oe++){var Me=gv(z[Oe],4),T=Me[0],F=Me[1],R=Me[2],B=Me[3];be.push(T,F,R),B!=null&&(B===0?(Fe++,Ce.length<1&&Ce.push(Oe)):B<255&&(me=!0))}if(me||Fe>1){ce=!0,Ce=void 0;var Y=O*ee;Pe=new Uint8Array(Y);for(var fe=new DataView(P.buffer),we=0;we<Y;we++){var ve=m0(fe,we,te),_e=gv(z[ve],4)[3];Pe[we]=_e}}else Fe===0&&(Ce=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ce?8:void 0,colorBytes:P,alphaBytes:Pe,needSMask:ce,palette:be,mask:Ce}}(s):c===2||c===4?function(q){for(var O=q.data,ee=q.width,P=q.height,z=q.channels,te=q.depth,ce=z===2?"DeviceGray":"DeviceRGB",be=z-1,Ce=ee*P,Pe=be,me=Ce*Pe,Fe=1*Ce,Oe=Math.ceil(me*te/8),Me=Math.ceil(Fe*te/8),T=new Uint8Array(Oe),F=new Uint8Array(Me),R=new DataView(O.buffer),B=new DataView(T.buffer),Y=new DataView(F.buffer),fe=!1,we=0;we<Ce;we++){for(var ve=we*z,_e=0;_e<Pe;_e++)bw(B,m0(R,ve+_e,te),we*Pe+_e,te);var je=m0(R,ve+Pe,te);je<(1<<te)-1&&(fe=!0),bw(Y,je,1*we,te)}return{colorSpace:ce,colorsPerPixel:be,sMaskBitsPerComponent:fe?te:void 0,colorBytes:T,alphaBytes:F,needSMask:fe}}(s):function(q){var O=q.data,ee=q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ee,colorsPerPixel:ee==="DeviceGray"?1:3,colorBytes:O instanceof Uint16Array?function(P){for(var z=P.length,te=new Uint8Array(2*z),ce=new DataView(te.buffer,te.byteOffset,te.byteLength),be=0;be<z;be++)ce.setUint16(2*be,P[be],!1);return te}(O):O,needSMask:!1}}(s);var p,g,d,_=i,y=_.colorSpace,b=_.colorsPerPixel,E=_.sMaskBitsPerComponent,D=_.colorBytes,N=_.alphaBytes,I=_.needSMask,X=_.palette,he=_.mask,G=null;return n!==Bt.API.image_compression.NONE&&typeof im=="function"?(G=function(q){var O;switch(q){case Bt.API.image_compression.FAST:O=11;break;case Bt.API.image_compression.MEDIUM:O=13;break;case Bt.API.image_compression.SLOW:O=14;break;default:O=12}return O}(n),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(G," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(a),r=gw(D,Math.ceil(a*b*u/8),b,u,n),I&&(d=gw(N,Math.ceil(a*E/8),1,E,n))):(p=void 0,g=void 0,r=D,I&&(d=N)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:t,data:r,index:e,filter:p,decodeParameters:g,transparency:he,palette:X,sMask:d,predictor:G,width:a,height:o,bitsPerComponent:u,sMaskBitsPerComponent:E,colorSpace:y}}},function(r){r.processGIF89A=function(e,t,n,i){var s=new QL(e),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:a,height:o},u=new g0(100).encode(h,100);return r.processJPEG.call(this,u,t,n,i)},r.processGIF87A=r.processGIF89A}(Bt.API),Za.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Za.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){nn.log("bit decode error:"+t)}},Za.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Za.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,c=15&s,h=this.palette[o];if(this.data[a]=h.blue,this.data[a+1]=h.green,this.data[a+2]=h.red,this.data[a+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[a+4]=h.blue,this.data[a+4+1]=h.green,this.data[a+4+2]=h.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Za.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},Za.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,h=s>>15?255:0,u=n*this.width*4+4*i;this.data[u]=c,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=h}this.pos+=r}},Za.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,h=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=h,this.data[u+1]=c,this.data[u+2]=o,this.data[u+3]=255}this.pos+=r}},Za.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Za.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Za.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,i){var s=new Za(e,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},h=new g0(100).encode(c,100);return r.processJPEG.call(this,h,t,n,i)}}(Bt.API),Sw.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,i){var s=new Sw(e),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},h=new g0(100).encode(c,100);return r.processJPEG.call(this,h,t,n,i)}}(Bt.API),Bt.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,c=0,h=0;h<i;h+=4){var u=n[h],p=n[h+1],g=n[h+2],d=n[h+3];s[o++]=u,s[o++]=p,s[o++]=g,a[c++]=d}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:_,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Bt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dh=Bt.API,jf=dh.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=h.fof?h.fof:1,p=e.doKerning!==!1,g=0,d=r.length,_=0,y=o[0]||c,b=[];for(t=0;t<d;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(g=p&&Yr(h[n])==="object"&&!isNaN(parseInt(h[n][_],10))?h[n][_]/u:0,b.push((o[n]||y)/c+g)),_=n;return b},dw=dh.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return dh.processArabic&&(r=dh.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:jf.apply(this,arguments).reduce(function(s,a){return s+a},0)},pw=function(r,e,t,n){for(var i=[],s=0,a=r.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;i.push(r.slice(0,s));var c=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(r.slice(c,s)),o=0,c=s),o+=e[s],s++;return c!==s&&i.push(r.slice(c,s)),i},mw=function(r,e,t){t||(t={});var n,i,s,a,o,c,h,u=[],p=[u],g=t.textIndent||0,d=0,_=0,y=r.split(" "),b=jf.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?y[0].length+2:t.lineIndent||0){var E=Array(c).join(" "),D=[];y.map(function(I){(I=I.split(/\s*\n/)).length>1?D=D.concat(I.map(function(X,he){return(he&&X.length?"\n":"")+X})):D.push(I[0])}),y=D,c=dw.apply(this,[E,t])}for(s=0,a=y.length;s<a;s++){var N=0;if(n=y[s],c&&n[0]=="\n"&&(n=n.substr(1),N=1),g+d+(_=(i=jf.apply(this,[n,t])).reduce(function(I,X){return I+X},0))>e||N){if(_>e){for(o=pw.apply(this,[n,i,e-(g+d),e]),u.push(o.shift()),u=[o.pop()];o.length;)p.push([o.shift()]);_=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(I,X){return I+X},0)}else u=[n];p.push(u),g=_+c,d=b}else u.push(n),g+=d+_,d=b}return h=c?function(I,X){return(X?E:"")+I.join(" ")}:function(I){return I.join(" ")},p.map(h)},dh.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var p=this.internal.getFont(u.fontName,u.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,c,h=[];for(o=0,c=n.length;o<c;o++)h=h.concat(mw.apply(this,[n[o],a,s]));return h},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},i={},s=0;s<16;s++)n[t[s]]=e[s],i[e[s]]=t[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=r.__fontmetrics__.compress=function(g){var d,_,y,b,E=["{"];for(var D in g){if(d=g[D],isNaN(parseInt(D,10))?_="'"+D+"'":(D=parseInt(D,10),_=(_=a(D).slice(2)).slice(0,-1)+i[_.slice(-1)]),typeof d=="number")d<0?(y=a(d).slice(3),b="-"):(y=a(d).slice(2),b=""),y=b+y.slice(0,-1)+i[y.slice(-1)];else{if(Yr(d)!=="object")throw new Error("Don't know what to do with value type "+Yr(d)+".");y=o(d)}E.push(_+y)}return E.push("}"),E.join("")},c=r.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,_,y,b,E={},D=1,N=E,I=[],X="",he="",G=g.length-1,q=1;q<G;q+=1)(b=g[q])=="'"?d?(y=d.join(""),d=void 0):d=[]:d?d.push(b):b=="{"?(I.push([N,y]),N={},y=void 0):b=="}"?((_=I.pop())[0][_[1]]=N,y=void 0,N=_[0]):b=="-"?D=-1:y===void 0?n.hasOwnProperty(b)?(X+=n[b],y=parseInt(X,16)*D,D=1,X=""):X+=b:n.hasOwnProperty(b)?(he+=n[b],N[y]=parseInt(he,16)*D,D=1,y=void 0,he=""):he+=b;return E},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},p={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(g){var d=g.font,_=p.Unicode[d.postScriptName];_&&(d.metadata.Unicode={},d.metadata.Unicode.widths=_.widths,d.metadata.Unicode.kerning=_.kerning);var y=u.Unicode[d.postScriptName];y&&(d.metadata.Unicode.encoding=y,d.encoding=y.codePages[0])}])}(Bt.API),function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=t.charCodeAt(s);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Xf(o)),a.metadata=r.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Bt),Bt.API.addSvgAsImage=function(r,e,t,n,i,s,a,o){if(isNaN(e)||isNaN(t))throw nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=i;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(ir.canvg?Promise.resolve(ir.canvg):Yp(()=>import("./index.es.Rnn9bCh0.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(h,r,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(u)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),e,t,n,i,a,o)})},Bt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},Bt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],h=0,u=0,p=0;function g(_,y){var b,E=!1;for(b=0;b<_.length;b+=1)_[b]===y&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var d=o.length;for(p=0;p<d;p+=1)t[o[p]].value=t[o[p]].defaultValue,t[o[p]].explicitSet=!1}if(Yr(r)==="object"){for(i in r)if(s=r[i],g(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&g(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(h=0;h<s.length;h+=1)if(n=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(u=0;u<s[h].length;u+=1)typeof s[h][u]!="number"&&(n=!1);n===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,y=[];for(_ in t)t[_].explicitSet===!0&&(t[_].type==="name"?y.push("/"+_+" /"+t[_].value):y.push("/"+_+" "+t[_].value));y.length!==0&&this.internal.write("/ViewerPreferences\n<<\n"+y.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+a.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Bt.API),function(r){var e=r.API,t=e.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,h=["","0","00","000","0000"],u=[""],p=0,g=s.length;p<g;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(h[4-o.length],o)}return u.join("")},n=function(s){var a,o,c,h,u,p,g;for(u="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",c=[],p=0,g=(o=Object.keys(s).sort(function(d,_){return d-_})).length;p<g;p++)a=o[p],c.length>=100&&(u+="\n"+c.length+" beginbfchar\n"+c.join("\n")+"\nendbfchar",c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(h=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+h+">"));return c.length&&(u+="\n"+c.length+" beginbfchar\n"+c.join("\n")+"\nendbfchar\n"),u+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,h=a.newObject,u=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",_=0;_<g.length;_++)d+=String.fromCharCode(g[_]);var y=h();u({data:d,addLength1:!0,objectId:y}),c("endobj");var b=h();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var E=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+vh(o.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var D=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+vh(o.fontName)),c("/FontDescriptor "+E+" 0 R"),c("/W "+r.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+vh(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+D+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,h=a.newObject,u=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",d=0;d<p.length;d++)g+=String.fromCharCode(p[d]);var _=h();u({data:g,addLength1:!0,objectId:_}),c("endobj");var y=h();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var b=h();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+_+" 0 R"),c("/Flags 96"),c("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+vh(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=h();for(var E=0;E<o.metadata.hmtx.widths.length;E++)o.metadata.hmtx.widths[E]=parseInt(o.metadata.hmtx.widths[E]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+vh(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",c=s.x,h=s.y,u=s.options||{},p=s.mutex||{},g=p.pdfEscape,d=p.activeFontKey,_=p.fonts,y=d,b="",E=0,D="",N=_[y].encoding;if(_[y].encoding!=="Identity-H")return{text:o,x:c,y:h,options:u,mutex:p};for(D=o,y=d,Array.isArray(o)&&(D=o[0]),E=0;E<D.length;E+=1)_[y].metadata.hasOwnProperty("cmap")&&(a=_[y].metadata.cmap.unicode.codeMap[D[E].charCodeAt(0)]),a||D[E].charCodeAt(0)<256&&_[y].metadata.hasOwnProperty("Unicode")?b+=D[E]:b+="";var I="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?I=g(b,y).split("").map(function(X){return X.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(I=t(b,_[y])),p.isHex=!0,{text:I,x:c,y:h,options:u,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var h=0;for(h=0;h<a.length;h+=1)Array.isArray(a[h])&&a[h].length===3?o.push([i(Object.assign({},c,{text:a[h][0]})).text,a[h][1],a[h][2]]):o.push(i(Object.assign({},c,{text:a[h]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:a})).text}])}(Bt),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Bt.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,a,o,c,h,u,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),D=!1,N=0;this.__bidiEngine__={};var I=function(P){var z=P.charCodeAt(),te=z>>8,ce=y[te];return ce!==void 0?p[256*ce+(255&z)]:te===252||te===253?"AL":E.test(te)?"L":te===8?"R":"N"},X=function(P){for(var z,te=0;te<P.length;te++){if((z=I(P.charAt(te)))==="L")return!1;if(z==="R")return!0}return!1},he=function(P,z,te,ce){var be,Ce,Pe,me,Fe=z[ce];switch(Fe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":D=!1;break;case"N":case"AN":break;case"EN":D&&(Fe="AN");break;case"AL":D=!0,Fe="R";break;case"WS":case"BN":Fe="N";break;case"CS":ce<1||ce+1>=z.length||(be=te[ce-1])!=="EN"&&be!=="AN"||(Ce=z[ce+1])!=="EN"&&Ce!=="AN"?Fe="N":D&&(Ce="AN"),Fe=Ce===be?Ce:"N";break;case"ES":Fe=(be=ce>0?te[ce-1]:"B")==="EN"&&ce+1<z.length&&z[ce+1]==="EN"?"EN":"N";break;case"ET":if(ce>0&&te[ce-1]==="EN"){Fe="EN";break}if(D){Fe="N";break}for(Pe=ce+1,me=z.length;Pe<me&&z[Pe]==="ET";)Pe++;Fe=Pe<me&&z[Pe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(me=z.length,Pe=ce+1;Pe<me&&z[Pe]==="NSM";)Pe++;if(Pe<me){var Oe=P[ce],Me=Oe>=1425&&Oe<=2303||Oe===64286;if(be=z[Pe],Me&&(be==="R"||be==="AL")){Fe="R";break}}}Fe=ce<1||(be=z[ce-1])==="B"?"N":te[ce-1];break;case"B":D=!1,i=!0,Fe=N;break;case"S":s=!0,Fe="N"}return Fe},G=function(P,z,te){var ce=P.split("");return te&&q(ce,te,{hiLevel:N}),ce.reverse(),z&&z.reverse(),ce.join("")},q=function(P,z,te){var ce,be,Ce,Pe,me,Fe=-1,Oe=P.length,Me=0,T=[],F=N?d:g,R=[];for(D=!1,i=!1,s=!1,be=0;be<Oe;be++)R[be]=I(P[be]);for(Ce=0;Ce<Oe;Ce++){if(me=Me,T[Ce]=he(P,R,T,Ce),ce=240&(Me=F[me][_[T[Ce]]]),Me&=15,z[Ce]=Pe=F[Me][5],ce>0)if(ce===16){for(be=Fe;be<Ce;be++)z[be]=1;Fe=-1}else Fe=-1;if(F[Me][6])Fe===-1&&(Fe=Ce);else if(Fe>-1){for(be=Fe;be<Ce;be++)z[be]=Pe;Fe=-1}R[Ce]==="B"&&(z[Ce]=0),te.hiLevel|=Pe}s&&function(B,Y,fe){for(var we=0;we<fe;we++)if(B[we]==="S"){Y[we]=N;for(var ve=we-1;ve>=0&&B[ve]==="WS";ve--)Y[ve]=N}}(R,z,Oe)},O=function(P,z,te,ce,be){if(!(be.hiLevel<P)){if(P===1&&N===1&&!i)return z.reverse(),void(te&&te.reverse());for(var Ce,Pe,me,Fe,Oe=z.length,Me=0;Me<Oe;){if(ce[Me]>=P){for(me=Me+1;me<Oe&&ce[me]>=P;)me++;for(Fe=Me,Pe=me-1;Fe<Pe;Fe++,Pe--)Ce=z[Fe],z[Fe]=z[Pe],z[Pe]=Ce,te&&(Ce=te[Fe],te[Fe]=te[Pe],te[Pe]=Ce);Me=me}Me++}}},ee=function(P,z,te){var ce=P.split(""),be={hiLevel:N};return te||(te=[]),q(ce,te,be),function(Ce,Pe,me){if(me.hiLevel!==0&&u)for(var Fe,Oe=0;Oe<Ce.length;Oe++)Pe[Oe]===1&&(Fe=b.indexOf(Ce[Oe]))>=0&&(Ce[Oe]=b[Fe+1])}(ce,te,be),O(2,ce,z,te,be),O(1,ce,z,te,be),ce.join("")};return this.__bidiEngine__.doBidiReorder=function(P,z,te){if(function(be,Ce){if(Ce)for(var Pe=0;Pe<be.length;Pe++)Ce[Pe]=Pe;o===void 0&&(o=X(be)),h===void 0&&(h=X(be))}(P,z),a||!c||h)if(a&&c&&o^h)N=o?1:0,P=G(P,z,te);else if(!a&&c&&h)N=o?1:0,P=ee(P,z,te),P=G(P,z);else if(!a||o||c||h){if(a&&!c&&o^h)P=G(P,z),o?(N=0,P=ee(P,z,te)):(N=1,P=ee(P,z,te),P=G(P,z));else if(a&&o&&!c&&h)N=1,P=ee(P,z,te),P=G(P,z);else if(!a&&!c&&o^h){var ce=u;o?(N=1,P=ee(P,z,te),N=0,u=!1,P=ee(P,z,te),u=ce):(N=0,P=ee(P,z,te),P=G(P,z),N=1,u=!1,P=ee(P,z,te),u=ce,P=G(P,z))}}else N=0,P=ee(P,z,te);else N=o?1:0,P=ee(P,z,te);return P},this.__bidiEngine__.setOptions=function(P){P&&(a=P.isInputVisual,c=P.isOutputVisual,o=P.isInputRtl,h=P.isOutputRtl,u=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([t.doBidiReorder(i[o])]);n.text=a}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Bt),Bt.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Vl(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new pP(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new eP(this.contents),this.head=new rP(this),this.name=new oP(this),this.cmap=new Lb(this),this.toUnicode={},this.hhea=new nP(this),this.maxp=new lP(this),this.hmtx=new cP(this),this.post=new sP(this),this.os2=new iP(this),this.loca=new dP(this),this.glyf=new hP(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,h;for(h=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var no,Vl=function(){function r(e){this.data=e!=null?e:[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,s,a,o,c;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+c},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)t=e[n],s.push(this.writeByte(t));return s},r}(),eP=function(){var r;function e(t){var n,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,s,a,o,c,h,u,p,g,d,_,y;for(y in d=Object.keys(t).length,c=Math.log(2),p=16*Math.floor(Math.log(d)/c),a=Math.floor(p/c),u=16*d-p,(i=new Vl).writeInt(this.scalarType),i.writeShort(d),i.writeShort(p),i.writeShort(a),i.writeShort(u),s=16*d,h=i.pos+s,o=null,_=[],t)for(g=t[y],i.writeString(y),i.writeInt(r(g)),i.writeInt(h),i.writeInt(g.length),_=_.concat(g),y==="head"&&(o=h),h+=g.length;h%4;)_.push(0),h++;return i.write(_),n=2981146554-r(i.data),i.pos=o+8,i.writeUInt32(n),i.data},r=function(t){var n,i,s,a;for(t=Pb.call(t);t.length%4;)t.push(0);for(s=new Vl(t),i=0,n=0,a=t.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),tP={}.hasOwnProperty,To=function(r,e){for(var t in e)tP.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};no=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var rP=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return To(r,no),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Vl).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r}(),Ew=function(){function r(e,t){var n,i,s,a,o,c,h,u,p,g,d,_,y,b,E,D,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(d=e.readUInt16(),g=d/2,e.pos+=6,s=function(){var I,X;for(X=[],c=I=0;0<=g?I<g:I>g;c=0<=g?++I:--I)X.push(e.readUInt16());return X}(),e.pos+=2,y=function(){var I,X;for(X=[],c=I=0;0<=g?I<g:I>g;c=0<=g?++I:--I)X.push(e.readUInt16());return X}(),h=function(){var I,X;for(X=[],c=I=0;0<=g?I<g:I>g;c=0<=g?++I:--I)X.push(e.readUInt16());return X}(),u=function(){var I,X;for(X=[],c=I=0;0<=g?I<g:I>g;c=0<=g?++I:--I)X.push(e.readUInt16());return X}(),i=(this.length-e.pos+this.offset)/2,o=function(){var I,X;for(X=[],c=I=0;0<=i?I<i:I>i;c=0<=i?++I:--I)X.push(e.readUInt16());return X}(),c=E=0,N=s.length;E<N;c=++E)for(b=s[c],n=D=_=y[c];_<=b?D<=b:D>=b;n=_<=b?++D:--D)u[c]===0?a=n+h[c]:(a=o[u[c]/2+(n-_)-(g-c)]||0)!==0&&(a+=h[c]),this.codeMap[n]=65535&a}e.pos=p}return r.encode=function(e,t){var n,i,s,a,o,c,h,u,p,g,d,_,y,b,E,D,N,I,X,he,G,q,O,ee,P,z,te,ce,be,Ce,Pe,me,Fe,Oe,Me,T,F,R,B,Y,fe,we,ve,_e,je,Xe;switch(ce=new Vl,a=Object.keys(e).sort(function(ct,Ne){return ct-Ne}),t){case"macroman":for(y=0,b=function(){var ct=[];for(_=0;_<256;++_)ct.push(0);return ct}(),D={0:0},s={},be=0,Fe=a.length;be<Fe;be++)D[ve=e[i=a[be]]]==null&&(D[ve]=++y),s[i]={old:e[i],new:D[e[i]]},b[i]=D[e[i]];return ce.writeUInt16(1),ce.writeUInt16(0),ce.writeUInt32(12),ce.writeUInt16(0),ce.writeUInt16(262),ce.writeUInt16(0),ce.write(b),{charMap:s,subtable:ce.data,maxGlyphID:y+1};case"unicode":for(z=[],p=[],N=0,D={},n={},E=h=null,Ce=0,Oe=a.length;Ce<Oe;Ce++)D[X=e[i=a[Ce]]]==null&&(D[X]=++N),n[i]={old:X,new:D[X]},o=D[X]-i,E!=null&&o===h||(E&&p.push(E),z.push(i),h=o),E=i;for(E&&p.push(E),p.push(65535),z.push(65535),ee=2*(O=z.length),q=2*Math.pow(Math.log(O)/Math.LN2,2),g=Math.log(q/2)/Math.LN2,G=2*O-q,c=[],he=[],d=[],_=Pe=0,Me=z.length;Pe<Me;_=++Pe){if(P=z[_],u=p[_],P===65535){c.push(0),he.push(0);break}if(P-(te=n[P].new)>=32768)for(c.push(0),he.push(2*(d.length+O-_)),i=me=P;P<=u?me<=u:me>=u;i=P<=u?++me:--me)d.push(n[i].new);else c.push(te-P),he.push(0)}for(ce.writeUInt16(3),ce.writeUInt16(1),ce.writeUInt32(12),ce.writeUInt16(4),ce.writeUInt16(16+8*O+2*d.length),ce.writeUInt16(0),ce.writeUInt16(ee),ce.writeUInt16(q),ce.writeUInt16(g),ce.writeUInt16(G),fe=0,T=p.length;fe<T;fe++)i=p[fe],ce.writeUInt16(i);for(ce.writeUInt16(0),we=0,F=z.length;we<F;we++)i=z[we],ce.writeUInt16(i);for(_e=0,R=c.length;_e<R;_e++)o=c[_e],ce.writeUInt16(o);for(je=0,B=he.length;je<B;je++)I=he[je],ce.writeUInt16(I);for(Xe=0,Y=d.length;Xe<Y;Xe++)y=d[Xe],ce.writeUInt16(y);return{charMap:n,subtable:ce.data,maxGlyphID:N+1}}},r}(),Lb=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return To(r,no),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new Ew(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,i;return t==null&&(t="macroman"),n=Ew.encode(e,t),(i=new Vl).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},r}(),nP=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return To(r,no),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r}(),iP=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return To(r,no),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r}(),sP=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return To(r,no),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var a,o,c;for(c=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)c.push(e.readUInt32());return c}).call(this)}},r}(),aP=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},oP=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return To(r,no),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,i,s,a,o,c,h,u,p,g;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},s=u=0,p=n.length;u<p;s=++u)i=n[s],e.pos=i.offset,h=e.readString(i.length),a=new aP(h,i),c[g=i.nameID]==null&&(c[g]=[]),c[i.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(d){this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},r}(),lP=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return To(r,no),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r}(),cP=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return To(r,no),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,i,s,a,o,c;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,u;for(u=[],t=h=0;0<=i?h<i:h>i;t=0<=i?++h:--h)u.push(e.readInt16());return u}(),this.widths=(function(){var h,u,p,g;for(g=[],h=0,u=(p=this.metrics).length;h<u;h++)s=p[h],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],c=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)c.push(this.widths.push(n));return c},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r}(),Pb=[].slice,hP=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return To(r,no),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,i,s,a,o,c,h,u,p;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,a=(o=new Vl(t.read(i))).readShort(),h=o.readShort(),p=o.readShort(),c=o.readShort(),u=o.readShort(),this.cache[e]=a===-1?new fP(o,h,p,c,u):new uP(o,a,h,p,c,u),this.cache[e]))},r.prototype.encode=function(e,t,n){var i,s,a,o,c;for(a=[],s=[],o=0,c=t.length;o<c;o++)i=e[t[o]],s.push(a.length),i&&(a=a.concat(i.encode(n)));return s.push(a.length),{table:a,offsets:s}},r}(),uP=function(){function r(e,t,n,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),fP=function(){function r(e,t,n,i,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Vl(Pb.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),dP=function(){function r(){return r.__super__.constructor.apply(this,arguments)}return To(r,no),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],n=0,i=this.length;n<i;n+=4)s.push(e.readUInt32());return s}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<n.length;++a)if(n[a]=i,s<t.length&&t[s]==a){++s,n[a]=i;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(i+=c)}for(var h=new Array(4*n.length),u=0;u<n.length;++u)h[4*u+3]=255&n[u],h[4*u+2]=(65280&n[u])>>8,h[4*u+1]=(16711680&n[u])>>16,h[4*u]=(4278190080&n[u])>>24;return h},r}(),pP=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,s,a,o,c;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(n=i[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))n=c[s],i[s]=n;return i},r.prototype.encode=function(e,t){var n,i,s,a,o,c,h,u,p,g,d,_,y,b,E;for(i in n=Lb.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),d={0:0},E=n.charMap)d[(c=E[i]).old]=c.new;for(_ in g=n.maxGlyphID,a)_ in d||(d[_]=g++);return u=function(D){var N,I;for(N in I={},D)I[D[N]]=N;return I}(d),p=Object.keys(u).sort(function(D,N){return D-N}),y=function(){var D,N,I;for(I=[],D=0,N=p.length;D<N;D++)o=p[D],I.push(u[o]);return I}(),s=this.font.glyf.encode(a,y,d),h=this.font.loca.encode(s.offsets,y),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},r}();Bt.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,s,a;if(Array.isArray(t))return"["+function(){var o,c,h;for(h=[],o=0,c=t.length;o<c;o++)n=t[o],h.push(e.convert(n));return h}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join("\n")}return""+t},e}();function Rb(r,e,t,n,i){n=n||{};var s=1.15,a=i.internal.scaleFactor,o=i.internal.getFontSize()/a,c=i.getLineHeightFactor?i.getLineHeightFactor():s,h=o*c,u=/\r\n|\r|\n/g,p="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof r=="string"?r.split(u):r,g=p.length||1),t+=o*(2-s),n.valign==="middle"?t-=g/2*h:n.valign==="bottom"&&(t-=g*h),n.halign==="center"||n.halign==="right"){var d=o;if(n.halign==="center"&&(d*=.5),p&&g>=1){for(var _=0;_<p.length;_++)i.text(p[_],e-i.getStringUnitWidth(p[_])*d,t),t+=h;return i}e-=i.getStringUnitWidth(r)*d}return n.halign==="justify"?i.text(r,e,t,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(r,e,t),i}var Aw={},Ih=function(){function r(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return r.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Aw=e},r.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},r.prototype.applyStyles=function(e,t){var n,i,s;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var a=this.jsPDFDocument.internal.getFont(),o=a.fontStyle,c=a.fontName;if(e.font&&(c=e.font),e.fontStyle){o=e.fontStyle;var h=this.getFontList()[c];h&&h.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),o=h[0])}if(this.jsPDFDocument.setFont(c,o),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var u=r.unifyColor(e.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=r.unifyColor(e.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=r.unifyColor(e.lineColor),u&&(s=this.jsPDFDocument).setDrawColor.apply(s,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},r.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},r.prototype.rect=function(e,t,n,i,s){return this.jsPDFDocument.rect(e,t,n,i,s)},r.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},r.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},r.prototype.getDocument=function(){return this.jsPDFDocument},r.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},r.prototype.addPage=function(){return this.jsPDFDocument.addPage()},r.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},r.prototype.getGlobalOptions=function(){return Aw||{}},r.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},r.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},r.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},r.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},r.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},r.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},r}(),fm=function(r,e){return fm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},fm(r,e)};function Ob(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");fm(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Fb=function(r){Ob(e,r);function e(t){var n=r.call(this)||this;return n._element=t,n}return e}(Array);function mP(r){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/r,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function gP(r){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[r]}function kd(r,e,t){t.applyStyles(e,!0);var n=Array.isArray(r)?r:[r],i=n.map(function(s){return t.getTextWidth(s)}).reduce(function(s,a){return Math.max(s,a)},0);return i}function Mb(r,e,t,n){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;r.applyStyles({lineWidth:i,lineColor:s});var a=Bb(i,!1);a&&r.rect(t.x,t.y,e.getWidth(r.pageSize().width),n.y-t.y,a)}function Bb(r,e){var t=r>0,n=e||e===0;return t&&n?"DF":t?"S":n?"F":null}function lp(r,e){var t,n,i,s;if(r=r||e,Array.isArray(r)){if(r.length>=4)return{top:r[0],right:r[1],bottom:r[2],left:r[3]};if(r.length===3)return{top:r[0],right:r[1],bottom:r[2],left:r[1]};if(r.length===2)return{top:r[0],right:r[1],bottom:r[0],left:r[1]};r.length===1?r=r[0]:r=e}return typeof r=="object"?(typeof r.vertical=="number"&&(r.top=r.vertical,r.bottom=r.vertical),typeof r.horizontal=="number"&&(r.right=r.horizontal,r.left=r.horizontal),{left:(t=r.left)!==null&&t!==void 0?t:e,top:(n=r.top)!==null&&n!==void 0?n:e,right:(i=r.right)!==null&&i!==void 0?i:e,bottom:(s=r.bottom)!==null&&s!==void 0?s:e}):(typeof r!="number"&&(r=e),{top:r,right:r,bottom:r,left:r})}function Ub(r,e){var t=lp(e.settings.margin,0);return r.pageSize().width-(t.left+t.right)}function vP(r,e,t,n,i){var s={},a=1.3333333333333333,o=v0(e,function(N){return i.getComputedStyle(N).backgroundColor});o!=null&&(s.fillColor=o);var c=v0(e,function(N){return i.getComputedStyle(N).color});c!=null&&(s.textColor=c);var h=yP(n,t);h&&(s.cellPadding=h);var u="borderTopColor",p=a*t,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var d=(parseFloat(g)||0)/p;d&&(s.lineWidth=d)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},s.lineWidth.top||(s.lineWidth.right?u="borderRightColor":s.lineWidth.bottom?u="borderBottomColor":s.lineWidth.left&&(u="borderLeftColor"));var _=v0(e,function(N){return i.getComputedStyle(N)[u]});_!=null&&(s.lineColor=_);var y=["left","right","center","justify"];y.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),y=["middle","bottom","top"],y.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var b=parseInt(n.fontSize||"");isNaN(b)||(s.fontSize=b/a);var E=wP(n);E&&(s.fontStyle=E);var D=(n.fontFamily||"").toLowerCase();return r.indexOf(D)!==-1&&(s.font=D),s}function wP(r){var e="";return(r.fontWeight==="bold"||r.fontWeight==="bolder"||parseInt(r.fontWeight)>=700)&&(e="bold"),(r.fontStyle==="italic"||r.fontStyle==="oblique")&&(e+="italic"),e}function v0(r,e){var t=zb(r,e);if(!t)return null;var n=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function zb(r,e){var t=e(r);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?r.parentElement==null?null:zb(r.parentElement,e):t}function yP(r,e){var t=[r.paddingTop,r.paddingRight,r.paddingBottom,r.paddingLeft],n=96/(72/e),i=(parseInt(r.lineHeight)-parseInt(r.fontSize))/e/2,s=t.map(function(o){return parseInt(o||"0")/n}),a=lp(s,0);return i>a.top&&(a.top=i),i>a.bottom&&(a.bottom=i),a}function Hb(r,e,t,n,i){var s,a;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof e=="string"?o=t.document.querySelector(e):o=e;var c=Object.keys(r.getFontList()),h=r.scaleFactor(),u=[],p=[],g=[];if(!o)return console.error("Html table could not be found with input: ",e),{head:u,body:p,foot:g};for(var d=0;d<o.rows.length;d++){var _=o.rows[d],y=(a=(s=_==null?void 0:_.parentElement)===null||s===void 0?void 0:s.tagName)===null||a===void 0?void 0:a.toLowerCase(),b=_P(c,h,t,_,n,i);b&&(y==="thead"?u.push(b):y==="tfoot"?g.push(b):p.push(b))}return{head:u,body:p,foot:g}}function _P(r,e,t,n,i,s){for(var a=new Fb(n),o=0;o<n.cells.length;o++){var c=n.cells[o],h=t.getComputedStyle(c);if(i||h.display!=="none"){var u=void 0;s&&(u=vP(r,c,e,h,t)),a.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:u,_element:c,content:bP(c)})}}var p=t.getComputedStyle(n);if(a.length>0&&(i||p.display!=="none"))return a}function bP(r){var e=r.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join("\n"),e.innerText||e.textContent||""}function xP(r,e,t){for(var n=0,i=[r,e,t];n<i.length;n++){var s=i[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function Go(r,e,t,n,i){if(r==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(r),a=1;a<arguments.length;a++){var o=arguments[a];if(o!=null)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c])}return s}function jb(r,e){var t=new Ih(r),n=t.getDocumentOptions(),i=t.getGlobalOptions();xP(i,n,e);var s=Go({},i,n,e),a;typeof window<"u"&&(a=window);var o=SP(i,n,e),c=EP(i,n,e),h=AP(t,s),u=CP(t,s,a);return{id:e.tableId,content:u,hooks:c,styles:o,settings:h}}function SP(r,e,t){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(c){if(c==="columnStyles"){var h=r[c],u=e[c],p=t[c];n.columnStyles=Go({},h,u,p)}else{var g=[r,e,t],d=g.map(function(_){return _[c]||{}});n[c]=Go({},d[0],d[1],d[2])}},s=0,a=Object.keys(n);s<a.length;s++){var o=a[s];i(o)}return n}function EP(r,e,t){for(var n=[r,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=n;s<a.length;s++){var o=a[s];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function AP(r,e){var t,n,i,s,a,o,c,h,u,p,g,d,_=lp(e.margin,40/r.scaleFactor()),y=(t=TP(r,e.startY))!==null&&t!==void 0?t:_.top,b;e.showFoot===!0?b="everyPage":e.showFoot===!1?b="never":b=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var E;e.showHead===!0?E="everyPage":e.showHead===!1?E="never":E=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var D=(s=e.useCss)!==null&&s!==void 0?s:!1,N=e.theme||(D?"plain":"striped"),I=!!e.horizontalPageBreak,X=(a=e.horizontalPageBreakRepeat)!==null&&a!==void 0?a:null;return{includeHiddenHtml:(o=e.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:D,theme:N,startY:y,margin:_,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:E,showFoot:b,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:I,horizontalPageBreakRepeat:X,horizontalPageBreakBehaviour:(d=e.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function TP(r,e){var t=r.getLastAutoTable(),n=r.scaleFactor(),i=r.pageNumber(),s=!1;if(t&&t.startPageNumber){var a=t.startPageNumber+t.pageNumber-1;s=a===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(t==null?void 0:t.finalY)!=null?t.finalY+20/n:null}function CP(r,e,t){var n=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var a=e.includeHiddenHtml;if(t){var o=Hb(r,e.html,t,a,e.useCss)||{};n=o.head||n,i=o.body||n,s=o.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||kP(n,i,s);return{columns:c,head:n,body:i,foot:s}}function kP(r,e,t){var n=r[0]||e[0]||t[0]||[],i=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var a=1,o;Array.isArray(n)?o=n[parseInt(s)]:o=n[s],typeof o=="object"&&!Array.isArray(o)&&(a=(o==null?void 0:o.colSpan)||1);for(var c=0;c<a;c++){var h=void 0;Array.isArray(n)?h=i.length:h=s+(c>0?"_".concat(c):"");var u={dataKey:h};i.push(u)}}),i}var dm=function(){function r(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()}return r}(),DP=function(r){Ob(e,r);function e(t,n,i,s,a,o){var c=r.call(this,t,n,o)||this;return c.cell=i,c.row=s,c.column=a,c.section=s.section,c}return e}(dm),NP=function(){function r(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return r.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},r.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},r.prototype.callCellHooks=function(e,t,n,i,s,a){for(var o=0,c=t;o<c.length;o++){var h=c[o],u=new DP(e,this,n,i,s,a),p=h(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},r.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var s=i[n];s(new dm(e,this,t))}},r.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var s=i[n];s(new dm(e,this,t))}},r.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return t}else{var n=this.settings.margin;return e-n.left-n.right}},r}(),Wb=function(){function r(e,t,n,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof Fb&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=i,this.spansMultiplePages=s}return r.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(n,i){var s;return Math.max(n,((s=t.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},r.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(n){var i=t.cells[n.index];return i?i.rowSpan>1:!1}).length>0},r.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},r.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(i,s){var a=n.cells[s.index];if(!a)return 0;var o=t.getLineHeight(a.styles.fontSize),c=a.padding("vertical"),h=c+o;return h>i?h:i},0)},r}(),Vb=function(){function r(e,t,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var a=s!=null?""+s:"",o=/\r\n|\r|\n/g;this.text=a.split(o)}return r.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},r.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,s=n*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},r.prototype.padding=function(e){var t=lp(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},r}(),IP=function(){function r(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return r.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,i=e.allRows();n<i.length;n++){var s=i[n],a=s.cells[this.index];a&&typeof a.styles.cellWidth=="number"&&(t=Math.max(t,a.styles.cellWidth))}return t},r}();function LP(r,e){PP(r,e);var t=[],n=0;e.columns.forEach(function(s){var a=s.getMaxCustomCellWidth(e);a?s.width=a:(s.width=s.wrappedWidth,t.push(s)),n+=s.width});var i=e.getWidth(r.pageSize().width)-n;i&&(i=pm(t,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=pm(t,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/r.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),OP(e),FP(e,r),RP(e)}function PP(r,e){var t=r.scaleFactor(),n=e.settings.horizontalPageBreak,i=Ub(r,e);e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var c=o[a],h=s.cells[c.index];if(h){var u=e.hooks.didParseCell;e.callCellHooks(r,u,h,s,c,null);var p=h.padding("horizontal");h.contentWidth=kd(h.text,h.styles,r)+p;var g=kd(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,r);if(h.minReadableWidth=g+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||n===!0)h.contentWidth>i?(h.minWidth=i,h.wrappedWidth=i):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var d=10/t;h.minWidth=h.styles.minCellWidth||d,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(s){for(var a=0,o=e.columns;a<o.length;a++){var c=o[a],h=s.cells[c.index];if(h&&h.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,h.wrappedWidth),c.minWidth=Math.max(c.minWidth,h.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,h.minReadableWidth);else{var u=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},p=u.cellWidth||u.minCellWidth;p&&typeof p=="number"&&(c.minWidth=p,c.wrappedWidth=p)}h&&(h.colSpan>1&&!c.minWidth&&(c.minWidth=h.minWidth),h.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=h.minWidth))}})}function pm(r,e,t){for(var n=e,i=r.reduce(function(d,_){return d+_.wrappedWidth},0),s=0;s<r.length;s++){var a=r[s],o=a.wrappedWidth/i,c=n*o,h=a.width+c,u=t(a),p=h<u?u:h;e-=p-a.width,a.width=p}if(e=Math.round(e*1e10)/1e10,e){var g=r.filter(function(d){return e<0?d.width>t(d):!0});g.length&&(e=pm(g,e,t))}return e}function RP(r){for(var e={},t=1,n=r.allRows(),i=0;i<n.length;i++)for(var s=n[i],a=0,o=r.columns;a<o.length;a++){var c=o[a],h=e[c.index];if(t>1)t--,delete s.cells[c.index];else if(h)h.cell.height+=s.height,t=h.cell.colSpan,delete s.cells[c.index],h.left--,h.left<=1&&delete e[c.index];else{var u=s.cells[c.index];if(!u)continue;if(u.height=s.height,u.rowSpan>1){var p=n.length-i,g=u.rowSpan>p?p:u.rowSpan;e[c.index]={cell:u,left:g,row:s}}}}}function OP(r){for(var e=r.allRows(),t=0;t<e.length;t++)for(var n=e[t],i=null,s=0,a=0,o=0;o<r.columns.length;o++){var c=r.columns[o];if(a-=1,a>1&&r.columns[o+1])s+=c.width,delete n.cells[c.index];else if(i){var h=i;delete n.cells[c.index],i=null,h.width=c.width+s}else{var h=n.cells[c.index];if(!h)continue;if(a=h.colSpan,s=0,h.colSpan>1){i=h,s+=c.width;continue}h.width=c.width+s}}}function FP(r,e){for(var t={count:0,height:0},n=0,i=r.allRows();n<i.length;n++){for(var s=i[n],a=0,o=r.columns;a<o.length;a++){var c=o[a],h=s.cells[c.index];if(h){e.applyStyles(h.styles,!0);var u=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,u+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=Tw(h.text,u,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=Tw(h.text,u,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var p=h.styles.overflow(h.text,u);typeof p=="string"?h.text=[p]:h.text=p}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=h.contentHeight/h.rowSpan;h.rowSpan>1&&t.count*t.height<g*h.rowSpan?t={height:g,count:h.rowSpan}:t&&t.count>0&&t.height>g&&(g=t.height),g>s.height&&(s.height=g)}}t.count--}}function Tw(r,e,t,n,i){return r.map(function(s){return MP(s,e,t,n,i)})}function MP(r,e,t,n,i){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=kd(r,t,n))return r;for(;e<kd(r+i,t,n)&&!(r.length<=1);)r=r.substring(0,r.length-1);return r.trim()+i}function qb(r,e){var t=new Ih(r),n=BP(e,t.scaleFactor()),i=new NP(e,n);return LP(t,i),t.applyStyles(t.userStyles),i}function BP(r,e){var t=r.content,n=zP(t.columns);if(t.head.length===0){var i=Cw(n,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=Cw(n,"foot");i&&t.foot.push(i)}var s=r.settings.theme,a=r.styles;return{columns:n,head:w0("head",t.head,n,a,s,e),body:w0("body",t.body,n,a,s,e),foot:w0("foot",t.foot,n,a,s,e)}}function w0(r,e,t,n,i,s){var a={},o=e.map(function(c,h){for(var u=0,p={},g=0,d=0,_=0,y=t;_<y.length;_++){var b=y[_];if(a[b.index]==null||a[b.index].left===0)if(d===0){var E=void 0;Array.isArray(c)?E=c[b.index-g-u]:E=c[b.dataKey];var D={};typeof E=="object"&&!Array.isArray(E)&&(D=(E==null?void 0:E.styles)||{});var N=HP(r,b,h,i,n,s,D),I=new Vb(E,N,r);p[b.dataKey]=I,p[b.index]=I,d=I.colSpan-1,a[b.index]={left:I.rowSpan-1,times:d}}else d--,g++;else a[b.index].left--,d=a[b.index].times,u++}return new Wb(c,h,r,p)});return o}function Cw(r,e){var t={};return r.forEach(function(n){if(n.raw!=null){var i=UP(e,n.raw);i!=null&&(t[n.dataKey]=i)}}),Object.keys(t).length>0?t:null}function UP(r,e){if(r==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(r==="foot"&&typeof e=="object")return e.footer;return null}function zP(r){return r.map(function(e,t){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:t:i=t,new IP(i,e,t)})}function HP(r,e,t,n,i,s,a){var o=gP(n),c;r==="head"?c=i.headStyles:r==="body"?c=i.bodyStyles:r==="foot"&&(c=i.footStyles);var h=Go({},o.table,o[r],i.styles,c),u=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=r==="body"?u:{},g=r==="body"&&t%2===0?Go({},o.alternateRow,i.alternateRowStyles):{},d=mP(s),_=Go({},d,h,g,p);return Go(_,a)}function jP(r,e,t){var n;t===void 0&&(t={});var i=Ub(r,e),s=new Map,a=[],o=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(g){var d=e.columns.find(function(_){return _.dataKey===g||_.index===g});d&&!s.has(d.index)&&(s.set(d.index,!0),a.push(d.index),o.push(e.columns[d.index]),i-=d.wrappedWidth)});for(var h=!0,u=(n=t==null?void 0:t.start)!==null&&n!==void 0?n:0;u<e.columns.length;){if(s.has(u)){u++;continue}var p=e.columns[u].wrappedWidth;if(h||i>=p)h=!1,a.push(u),o.push(e.columns[u]),i-=p;else break;u++}return{colIndexes:a,columns:o,lastIndex:u-1}}function WP(r,e){for(var t=[],n=0;n<e.columns.length;n++){var i=jP(r,e,{start:n});i.columns.length&&(t.push(i),n=i.lastIndex)}return t}function Gb(r,e){var t=e.settings,n=t.startY,i=t.margin,s={x:i.left,y:n},a=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),o=n+i.bottom+a;if(t.pageBreak==="avoid"){var c=e.body,h=c.reduce(function(g,d){return g+d.height},0);o+=h}var u=new Ih(r);(t.pageBreak==="always"||t.startY!=null&&o>u.pageSize().height)&&(Zb(u),s.y=i.top),e.callWillDrawPageHooks(u,s);var p=Go({},s);e.startPageNumber=u.pageNumber(),t.horizontalPageBreak?VP(u,e,p,s):(u.applyStyles(u.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(g){return nl(u,e,g,s,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(g,d){var _=d===e.body.length-1;Dd(u,e,g,_,p,s,e.columns)}),u.applyStyles(u.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(g){return nl(u,e,g,s,e.columns)})),Mb(u,e,p,s),e.callEndPageHooks(u,s),e.finalY=s.y,r.lastAutoTable=e,u.applyStyles(u.userStyles)}function VP(r,e,t,n){var i=WP(r,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(h,u){r.applyStyles(r.userStyles),u>0?Au(r,e,t,n,h.columns,!0):kw(r,e,n,h.columns),qP(r,e,t,n,h.columns),y0(r,e,n,h.columns)});else for(var a=-1,o=i[0],c=function(){var h=a;if(o){r.applyStyles(r.userStyles);var u=o.columns;a>=0?Au(r,e,t,n,u,!0):kw(r,e,n,u),h=Dw(r,e,a+1,n,u),y0(r,e,n,u)}var p=h-a;i.slice(1).forEach(function(g){r.applyStyles(r.userStyles),Au(r,e,t,n,g.columns,!0),Dw(r,e,a+1,n,g.columns,p),y0(r,e,n,g.columns)}),a=h};a<e.body.length-1;)c()}function kw(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return nl(r,e,s,t,n)})}function qP(r,e,t,n,i){r.applyStyles(r.userStyles),e.body.forEach(function(s,a){var o=a===e.body.length-1;Dd(r,e,s,o,t,n,i)})}function Dw(r,e,t,n,i,s){r.applyStyles(r.userStyles),s=s!=null?s:e.body.length;var a=Math.min(t+s,e.body.length),o=-1;return e.body.slice(t,a).forEach(function(c,h){var u=t+h===e.body.length-1,p=$b(r,e,u,n);c.canEntireRowFit(p,i)&&(nl(r,e,c,n,i),o=t+h)}),o}function y0(r,e,t,n){var i=e.settings;r.applyStyles(r.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return nl(r,e,s,t,n)})}function GP(r,e,t){var n=t.getLineHeight(r.styles.fontSize),i=r.padding("vertical"),s=Math.floor((e-i)/n);return Math.max(0,s)}function $P(r,e,t,n){var i={};r.spansMultiplePages=!0,r.height=0;for(var s=0,a=0,o=t.columns;a<o.length;a++){var c=o[a],h=r.cells[c.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var u=new Vb(h.raw,h.styles,h.section);u=Go(u,h),u.text=[];var p=GP(h,e,n);h.text.length>p&&(u.text=h.text.splice(p,h.text.length));var g=n.scaleFactor(),d=n.getLineHeightFactor();h.contentHeight=h.getContentHeight(g,d),h.contentHeight>=e&&(h.contentHeight=e,u.styles.minCellHeight-=e),h.contentHeight>r.height&&(r.height=h.contentHeight),u.contentHeight=u.getContentHeight(g,d),u.contentHeight>s&&(s=u.contentHeight),i[c.index]=u}}var _=new Wb(r.raw,-1,r.section,i,!0);_.height=s;for(var y=0,b=t.columns;y<b.length;y++){var c=b[y],u=_.cells[c.index];u&&(u.height=_.height);var h=r.cells[c.index];h&&(h.height=r.height)}return _}function ZP(r,e,t,n){var i=r.pageSize().height,s=n.settings.margin,a=s.top+s.bottom,o=i-a;e.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,r),h=c<t;if(c>o)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var u=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>o;return p?(u&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Dd(r,e,t,n,i,s,a){var o=$b(r,e,n,s);if(t.canEntireRowFit(o,a))nl(r,e,t,s,a);else if(ZP(r,t,o,e)){var c=$P(t,o,e,r);nl(r,e,t,s,a),Au(r,e,i,s,a),Dd(r,e,c,n,i,s,a)}else Au(r,e,i,s,a),Dd(r,e,t,n,i,s,a)}function nl(r,e,t,n,i){n.x=e.settings.margin.left;for(var s=0,a=i;s<a.length;s++){var o=a[s],c=t.cells[o.index];if(!c){n.x+=o.width;continue}r.applyStyles(c.styles),c.x=n.x,c.y=n.y;var h=e.callCellHooks(r,e.hooks.willDrawCell,c,t,o,n);if(h===!1){n.x+=o.width;continue}YP(r,c,n);var u=c.getTextPos();Rb(c.text,u.x,u.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},r.getDocument()),e.callCellHooks(r,e.hooks.didDrawCell,c,t,o,n),n.x+=o.width}n.y+=t.height}function YP(r,e,t){var n=e.styles;if(r.getDocument().setFillColor(r.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=Bb(n.lineWidth,n.fillColor);i&&r.rect(e.x,t.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&r.rect(e.x,t.y,e.width,e.height,"F"),KP(r,e,t,n.lineWidth))}function KP(r,e,t,n){var i,s,a,o;n.top&&(i=t.x,s=t.y,a=t.x+e.width,o=t.y,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),c(n.top,i,s,a,o)),n.bottom&&(i=t.x,s=t.y+e.height,a=t.x+e.width,o=t.y+e.height,n.right&&(a+=.5*n.right),n.left&&(i-=.5*n.left),c(n.bottom,i,s,a,o)),n.left&&(i=t.x,s=t.y,a=t.x,o=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.left,i,s,a,o)),n.right&&(i=t.x+e.width,s=t.y,a=t.x+e.width,o=t.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(o+=.5*n.bottom),c(n.right,i,s,a,o));function c(h,u,p,g,d){r.getDocument().setLineWidth(h),r.getDocument().line(u,p,g,d,"S")}}function $b(r,e,t,n){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),r.pageSize().height-n.y-i}function Au(r,e,t,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),r.applyStyles(r.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(o){return nl(r,e,o,n,i)}),e.callEndPageHooks(r,n);var a=e.settings.margin;Mb(r,e,t,n),Zb(r),e.pageNumber++,n.x=a.left,n.y=a.top,t.y=a.top,e.callWillDrawPageHooks(r,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(o){return nl(r,e,o,n,i)}),r.applyStyles(r.userStyles))}function Zb(r){var e=r.pageNumber();r.setPage(e+1);var t=r.pageNumber();return t===e?(r.addPage(),!0):!1}function XP(r){r.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[0],i=jb(this,n),s=qb(this,i);return Gb(this,s),this},r.API.lastAutoTable=!1,r.API.autoTableText=function(e,t,n,i){Rb(e,t,n,i,this)},r.API.autoTableSetDefaults=function(e){return Ih.setDefaults(e,this),this},r.autoTableSetDefaults=function(e,t){Ih.setDefaults(e,t)},r.API.autoTableHtmlToJson=function(e,t){var n;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Ih(this),s=Hb(i,e,window,t,!1),a=s.head,o=s.body,c=((n=a[0])===null||n===void 0?void 0:n.map(function(h){return h.content}))||[];return{columns:c,rows:o,data:o}}}var _0;function JP(r,e){var t=jb(r,e),n=qb(r,t);Gb(r,n)}try{if(typeof window<"u"&&window){var Nw=window,Iw=Nw.jsPDF||((_0=Nw.jspdf)===null||_0===void 0?void 0:_0.jsPDF);Iw&&XP(Iw)}}catch(r){console.error("Could not apply autoTable plugin",r)}class ui extends ge{constructor({message:e="Please wait...",position:t=Fr.flex.center,dismissable:n=!0,size:i=50,color:s="#6366f1",speed:a=1.2,thickness:o=2,style:c={},className:h=[],props:u={},events:p={}}={}){super({tagName:"div",events:p}),this.message=e,this.position=t,this.dismissable=n,this.size=i,this.color=s,this.speed=a,this.thickness=o,this.style=c,this.className=h,this.props=u,this.modal=this.createModal()}createModal(){return new Hm({position:this.position,showCloseIcon:!1,dismissable:this.dismissable,style:{width:"100%",maxWidth:"500px",...this.style},className:["fade",...this.className],props:this.props,content:[new Je({children:[this.createSpinnerSection(),this.createMessageSection()],onAttached:e=>{e.style.marginTop="0"}})]})}createSpinnerSection(){return new ft({breakpoints:{col:2},children:[new Mc({size:this.size,color:this.color,speed:this.speed,thickness:this.thickness})]})}createMessageSection(){return new ft({breakpoints:{col:10},style:{justifySelf:"flex-start",alignItems:"center"},children:[this.message instanceof ge?this.message:new ze({text:"".concat(this.message),style:{textAlign:"left"},onAttached:e=>{this.textMessageElement=e}})]})}setMessage({text:e}){this.textMessageElement&&(this.textMessageElement.textNodeValue=e)}show(){this.modal.show()}close(){this.modal.close()}}const ii=class ii{constructor({endpoint:e=null,filters:t={},method:n=ii.method.post,sourceType:i=ii.sourceType.endpoint,tableId:s=null,data:a=[]}={}){this.endpoint=e,this.filters=t,this.method=n,this.sourceType=i,this.tableId=s,this.data=a}static fromEndpoint({endpoint:e=null,filters:t={},method:n=ii.method.post}={}){return new ii({endpoint:e,filters:t,method:n,sourceType:ii.sourceType.endpoint})}static fromTable({id:e=null}={}){return new ii({sourceType:ii.sourceType.table,tableId:e})}static fromData({data:e=null}={}){return new ii({sourceType:ii.sourceType.data,data:e})}async fetchData(){if(this.sourceType!==ii.sourceType.endpoint)return null;try{let e;if(this.method===ii.method.post){const{result:n}=await Ut.instance.post(this.endpoint,this.filters);e=n}else{const{result:n}=await Ut.instance.get(this.endpoint,this.filters);e=n}if(e.status!=="success"&&e.status!=200)throw new Error("HTTP error! Status: ".concat(e.status));const t=e.data;return Array.isArray(t)?t.length===0?($e.showInfoNotification({message:"Nenhum dado retornado"}),null):t:($e.showErrorNotification({message:"Unexpected data format received from server."}),null)}catch(e){return console.error("Download fetch error:",e),$e.showErrorNotification({message:"Erro ao buscar dados para download"}),null}}async getTableData(){const e=document.getElementById(this.tableId);if(!e)return new qo({theme:ht.toast.error,message:'Table with ID "'.concat(this.tableId,'" not found.')}).show(),null;const t=Array.from(e.querySelectorAll("thead th")).map(i=>i.innerText.trim());return Array.from(e.querySelectorAll("tbody tr")).map(i=>{const s=Array.from(i.querySelectorAll("td")),a={};return s.forEach((o,c)=>{a[t[c]]=o.innerText.trim()}),a})}getData(){return this.data}async excel(e=null){const t=new ui({message:"Por favor aguarde"});try{t.show();let n=null;switch(this.sourceType){case ii.sourceType.table:n=await this.getTableData();break;case ii.sourceType.endpoint:n=await this.fetchData();break;case ii.sourceType.data:n=this.getData();break;default:n=null}if(!n)return;const i=Zp.json_to_sheet(n),s=Zp.book_new();return Zp.book_append_sheet(s,i,"Sheet1"),fN(s,"".concat(e!=null?e:"export-"+generateUUID(),".xlsx")),!0}catch(n){return console.error("Error downloading Excel:",n),new qo({theme:ht.toast.error,message:"Failed to download Excel. Please try again."}).show(),!1}finally{t.close()}}async pdf(e="report.pdf",t="Data Report"){const n=new ui({message:"Por favor aguarde"});try{n.show();const i=this.sourceType===ii.sourceType.table?await this.getTableData():await this.fetchData();if(!i)return;const s=new Bt;s.setFontSize(16),s.text(t,14,15);const a=Object.keys(i[0]),o=i.map(c=>a.map(h=>c[h]));return JP(s,{startY:20,head:[a],body:o,theme:"grid",styles:{fontSize:10}}),s.save(e),!0}catch(i){return console.error("Error downloading PDF:",i),new qo({theme:ht.toast.error,message:"Failed to download PDF. Please try again."}).show(),!1}finally{n.close()}}};dt(ii,"method",{post:"POST",get:"GET"}),dt(ii,"sourceType",{endpoint:"endpoint",table:"table",data:"data"});let mm=ii;class QP extends Fl{constructor({theme:e=ht.floatingButton.type.primary,size:t=ht.floatingButton.size.large,position:n=Fr.absolute.bottomRight,reverse:i=!1,icon:s=null,label:a=null,image:o=null,style:c={},className:h=[],onPressed:u=null}={}){super({icon:s,label:a,image:o,theme:e,size:t,reverse:i,style:{...c},className:["floating-button-widget",n,...h],onPressed:u})}}class gg extends ge{constructor({tag:e="section",builder:t=null,count:n=0,gap:i="5px",breakpoints:s={},style:a={},className:o=[],props:c={},onBeforeCreated:h=null,onCreated:u=null,onBeforeAttached:p=null,onAttached:g=null,onMounted:d=null}={}){(y=>{if(typeof y!="function")throw new Error("The builder should be a function. Type of ".concat(typeof y," provided."))})(t),super({tagName:e,style:{width:"100%",...a},className:o,props:c,onBeforeCreated:y=>{h==null||h(y)},onCreated:(y,b)=>{u==null||u(y,b)},onBeforeAttached:(y,b)=>{p==null||p(y,b)},onAttached:(y,b)=>{g==null||g(y,{expandElement:this.expandElement,rowElement:this.rowElement},b)},onMounted:(y,b)=>{d==null||d(y,{expandElement:this.expandElement,rowElement:this.rowElement},b)}}),this.builder=t,this.count=n,this.breakpoints=s,this.gap=i}generateListItems(){return Array.from({length:this.count},(e,t)=>this.builder(t))}createRowChildren(e){return e.map(t=>new ft({breakpoints:this.breakpoints,style:{marginBottom:this.gap},children:[t],onAttached:n=>{this.expandElement=n}}))}createRowWidget(e){return new Je({gap:this.gap,children:e,onAttached:t=>{this.rowElement=t}})}render(){const e=this.generateListItems(),t=this.createRowChildren(e);return this.children=[this.createRowWidget(t)],super.render()}}class $h extends ge{constructor({future:e,builder:t,controller:n=null,onLoading:i=null,onError:s=null,onComplete:a=null,onStateChange:o=null,className:c=[],style:h={},props:u={},params:p={},customStates:g={}}={}){super({tagName:"section",className:["future-widget",...c],style:{width:"100%",...h},props:u,onAttached:()=>{}}),this.future=e,this.params=p,this.builder=t==null?void 0:t.bind(this),this.onLoading=i==null?void 0:i.bind(this),this.onError=s==null?void 0:s.bind(this),this.onComplete=a==null?void 0:a.bind(this),this.onStateChange=o==null?void 0:o.bind(this),this.customStates=g,this.currentState={status:"initial",data:null,error:null},this.stateQueue=[],this.abortController=null,this.isProcessing=!1,this.subscribeToFuture(),n&&n.attach(this)}onNotify(){}subscribeToFuture(){var n;this.abortController&&(this.abortController.abort(),this.abortController=null),this.abortController=new AbortController;const{signal:e}=this.abortController;this.enqueueState({status:"loading",data:null,error:null});let t;try{t=typeof this.future=="function"?this.future(this.params,e):this.future}catch(i){this.enqueueState({status:"error",data:null,error:i}),(n=this.onComplete)==null||n.call(this);return}t.then(i=>{e.aborted||this.enqueueState({status:"success",data:i,error:null})}).catch(i=>{if(!e.aborted){if(i.name==="AbortError")return;this.enqueueState({status:"error",data:null,error:i})}}).finally(()=>{var i;e.aborted||(i=this.onComplete)==null||i.call(this)})}setParams(e){this.params=e,this.subscribeToFuture()}enqueueState(e){var t;this.stateQueue.push(e),(t=this.onStateChange)==null||t.call(this,e),this.processStateQueue()}processStateQueue(){this.isProcessing||(this.isProcessing=!0,requestAnimationFrame(()=>{for(;this.stateQueue.length>0;){const e=this.stateQueue.shift();e&&(this.currentState={...this.currentState,...e})}this.update(),this.isProcessing=!1}))}setFuture(e){this.future=e,this.subscribeToFuture()}reload(){this.subscribeToFuture()}setCurrentState(e){this.enqueueState(e)}detach(){this.abortController&&this.currentState.status!=="loading"&&(this.abortController.abort(),this.abortController=null),this.stateQueue=[],super.detach()}update(){var n,i,s,a;let e=null;switch(this.currentState.status){case"loading":e=this.onLoading?this.onLoading():new ge({children:["Loading..."]});break;case"success":e=this.builder?this.builder(this.currentState.data):new ge({children:["No builder provided"]});break;case"error":e=this.onError?this.onError(this.currentState.error):new ge({children:["Error: ".concat(((n=this.currentState.error)==null?void 0:n.message)||"Unknown error")]});break;default:e=(a=(s=(i=this.customStates)[this.currentState.status])==null?void 0:s.call(i))!=null?a:new ge({children:["Unknown state"]})}(Array.isArray(e)?e:[e]).forEach((o,c)=>{this.children[c]=o}),super.update()}render(){return super.render()}}const Lw={gap:"15px",padding:"0 1rem"},Hu={NEW_PAGE:"NEW_PAGE",POP_UP:"POP_UP"};class Sa extends ge{constructor({endpoint:e="",pageTitle:t="Entity",primaryKey:n="id",dataMapper:i="data",onFilter:s=null,onBack:a=null,displayType:o="table",downloadEndpoint:c="",downloadLabel:h="",handleAddOrUpdatePageType:u=Hu.POP_UP}={}){if(super(),!e)throw new Error("Endpoint is required");this.endpoint=e,this.pageTitle=t,this.primaryKey=n,this.dataMapper=i,this.onFilter=s,this.onBack=a,this.displayType=o,this.handleAddOrUpdatePageType=u,this.downloadEndpoint=c,this.downloadLabel=h,this.isUpdate=!1,this.formData={},this.initState({offset:0,limit:12,currentPage:1,isLoadingNewRecord:!1,isLoadingDataTable:!1,totalItems:0,isPasswordVisible:!1,tags:{},calendarMode:!1}),this.tableBuilderController=new OE,this.futureBuilderController=new Xd,this.controller=new ta}async handleApiCall(e,t,n="isLoadingNewRecord"){const i=new ui({message:"Por favor aguarde..."});try{i.show(),this.state[n]=!0;const s=await e();s&&t(s)}catch(s){throw $e.showErrorNotification({message:"Error: ".concat(s.message)}),s}finally{this.state[n]=!1,i.close()}}async handleCreateNewRecord(){await this.handleApiCall(()=>Ut.instance.post("".concat(this.endpoint,"/create")),({result:e})=>{this.formData=e.data[0]||{},this.isUpdate=!1})}async handleRemoveRecord(){const e=this.getPrimaryKey();if(!this.formData[e]){$e.showErrorNotification({message:"No record selected for deletion"});return}await this.handleApiCall(()=>Ut.instance.delete("".concat(this.endpoint,"/").concat(this.formData[e])),()=>{$e.showSuccessNotification({message:"Deleted successfully"}),this.formData={},this.refreshData()})}async handleUpdateRecord(){const e=this.getPrimaryKey();if(!this.formData[e]&&this.isUpdate){$e.showErrorNotification({message:"No record selected for update"});return}await this.handleApiCall(()=>Ut.instance.put("".concat(this.endpoint,"/").concat(this.formData[e]),this.formData),()=>{var t;this.formData={},$e.showSuccessNotification({message:"Saved successfully"}),this.refreshData(),(t=this.bottomSheet)==null||t.close()},"isLoadingDataTable")}async handleTableData(e){return await Ut.instance.post(this.endpoint,e.query)}refreshData(){this.state.currentPage=1,this.state.offset=0,this.displayType==="table"?this.tableBuilderController.setParams({query:{limit:this.state.limit,offset:0,...this.formData}}):this.futureBuilderController.setParams({query:{limit:this.state.limit,offset:0,...this.formData}})}refreshTable(){this.refreshData()}getPrimaryKey(){return this.primaryKey}updateFormData(e,t){this.formData={...this.formData,[e]:t}}showUpdateForm(e="Formulrio",t="Por favor preencha a informao solicitada"){this.bottomSheet=new Iu({showCloseIcon:!0,dismissable:!1,content:[new Es({title:e,subtitle:t}),new jr({watch:()=>this.state.isLoadingNewRecord?$e.createLoadingSpinner():new to({style:{display:"flex",flexDirection:"column",gap:Lw.gap},controller:this.controller,initialValues:this.formData,ariaLabel:"".concat(e),children:[...this.createFormInputs(),this.createFormActions()]})})]}),this.bottomSheet.show()}createFormActions({onCancel:e=null,onConfirm:t=null}={}){return new Je({children:[new Qr({theme:ht.button.type.primary,label:"Salvar",onPressed:t||(async()=>{this.controller.isValid()&&await this.handleUpdateRecord()}),ariaLabel:"Save form"}),new Qr({theme:ht.button.type.danger,label:"Fechar",onPressed:e||(()=>{var n;return(n=this.bottomSheet)==null?void 0:n.close()}),ariaLabel:"Close form"})]})}createTable(){return new RE({controller:this.tableBuilderController,future:e=>this.handleTableData(e),params:{query:{limit:this.state.limit,offset:0}},proxyData:({result:e})=>{const t=typeof this.dataMapper=="function"?this.dataMapper(e):e[this.dataMapper]||{};return this.state.totalItems=t.totalItems||0,t.data||[]},display:{empty:"No results found",error:"Error fetching results"},columns:this.createTableColumns(),onMounted:(e,t)=>{this.tableElement=t.tableElement}})}createGrid(){return new $h({future:e=>this.handleTableData(e),controller:this.futureBuilderController,params:{query:{limit:this.state.limit,offset:0}},builder:({result:e})=>{const t=typeof this.dataMapper=="function"?this.dataMapper(e):e[this.dataMapper]||{};return this.setState(n=>({totalItems:t==null?void 0:t.totalItems})),new jr({watch:()=>this.state.calendarMode?this.createGridItem(t.data):new gg({count:t==null?void 0:t.data.length,gap:"20px",breakpoints:{xs:12,md:6,lg:4,xl:3},builder:i=>{const s=t==null?void 0:t.data[i];return this.createGridItem(s)}})})},onLoading:()=>$e.createLoadingSpinner()})}createPaginator(){return new jr({watch:()=>{const{totalItems:e,limit:t,currentPage:n}=this.state;return e<=t?new yt:new l2({currentPage:n,totalItems:e,itemsPerPage:t,visiblePages:5,onPageChange:i=>{this.state.currentPage=i.page,this.state.offset=i.skip,this.displayType==="table"?this.tableBuilderController.setParams({query:{limit:i.limit,offset:i.skip,...this.formData}}):this.futureBuilderController.setParams({query:{limit:i.limit,offset:i.skip,...this.formData}})}})}})}createExportTile(e,t,n){return new _n({theme:n,leading:new et({icon:"".concat(t," fa-3x"),ariaHidden:!0}),title:"Export as ".concat(e),subtitle:"Total of ".concat(this.state.totalItems," results"),trailing:new et({icon:"fa-solid fa-download",ariaHidden:!0}),onTap:async()=>{var i;try{await mm.fromEndpoint({endpoint:this.downloadEndpoint,filters:this.formData})[e.toLowerCase()]("".concat(this.downloadLabel,"_").concat(e.toLowerCase())),(i=this.exportSheet)==null||i.close()}catch(s){$e.showErrorNotification({message:"Export failed: ".concat(s.message)})}},props:{ariaLabel:"Export as ".concat(e)}})}showExportOptions(){this.exportSheet=new Iu({showCloseIcon:!0,dismissable:!0,content:[new mi({text:"Exportar Resultados"}),this.createExportTile("Excel","fa-solid fa-file-excel",ht.tile.type.primary)],ariaLabel:"Export options"}),this.exportSheet.show()}createContent(){return new Ge({style:{padding:Lw.padding},children:[new jr({watch:()=>new Es({title:this.pageTitle,subtitle:"Retornou um total de ".concat(this.state.totalItems," resultados"),onExport:()=>this.showExportOptions(),onFilter:this.onFilter,onBack:this.onBack})}),...this.createFilterInputs(),this.displayType=="table"?this.createTable():this.createGrid(),this.createPaginator()].filter(Boolean)})}render(){return this.children=[new QP({icon:new et({icon:"fa fa-plus",ariaHidden:!0}),onPressed:async()=>{await this.handleCreateNewRecord(),this.handleAddOrUpdatePageType===Hu.POP_UP?(this.isUpdate=!1,this.showUpdateForm("".concat(this.pageTitle),"Please fill in the details for ".concat(this.pageTitle.toLowerCase()))):this.toNewPage(this.formData)},ariaLabel:"Add new record"}),this.createContent()],super.render()}createFormInputs(){throw new Error("createFormInputs must be implemented by child class")}createFilterInputs(){throw new Error("createFilterInputs must be implemented by child class")}createTableColumns(){throw new Error("createTableColumns must be implemented by child class")}createGridItem(e){throw new Error("createGridItem must be implemented by child class when displayType is 'grid'")}toNewPage(e){throw new Error("to new page must be implemented by child class")}}const e6=[{type:"SearchInput",label:"Pesquisar por titulo, endereo ou descrio",name:"searchKeyword",breakpoints:{lg:12}},{type:"SelectBuilder",label:"Categorias",name:"categoryId",endpoint:"/categories",breakpoints:{lg:12},dataMapper:({result:r})=>r.categories},{type:"SelectBuilder",label:"Finalidade",name:"finalityId",endpoint:"/finalities",breakpoints:{lg:12},dataMapper:({result:r})=>r.finalities},{type:"SelectBuilder",label:"Proprietario",name:"ownerId",endpoint:"/owners",breakpoints:{lg:12},dataMapper:({result:r})=>r.owners}],Yb=[{type:"SearchInput",label:"Pesquisar por notas",name:"searchKeyword",breakpoints:{lg:12}},{type:"SelectBuilder",label:"Agente responsvel",name:"agent_id",endpoint:"/agents",breakpoints:{lg:12},dataMapper:({result:r})=>r.agents},{type:"SelectBuilder",label:"Cliente",name:"client_id",endpoint:"/clients",breakpoints:{lg:12},dataMapper:({result:r})=>r.clients},{type:"SelectBuilder",label:"Criado por",name:"user_id",endpoint:"/users",breakpoints:{lg:12},dataMapper:({result:r})=>r.users},{type:"SelectInput",label:"Tipo de visita",name:"visit_type",breakpoints:{lg:12},data:[{label:"Primeira visita",value:"first_visit"},{label:"Visita de acompanhamento",value:"follow_up"},{label:"Visita tcnica",value:"technical"},{label:"Vistoria",value:"inspection"},{label:"Assinatura",value:"signature"}]},{type:"SelectInput",label:"Estado",name:"status",breakpoints:{lg:12},data:[{label:" Agendada",value:"scheduled"},{label:" Confirmada",value:"confirmed"},{label:" Pendente",value:"pending"},{label:" Em Andamento",value:"in_progress"},{label:" Concluda",value:"completed"},{label:" Cancelada",value:"cancelled"},{label:" Remarcada",value:"rescheduled"},{label:" No Compareceu",value:"no_show"}]}],t6=[{type:"SearchInput",label:"Pesquisar por privilgio",name:"searchKeyword",breakpoints:{lg:12}}],r6=[{type:"SearchInput",label:"Pesquisar por nome ou email",name:"searchKeyword",breakpoints:{lg:12}},{type:"SelectBuilder",label:"Privilgios",name:"roleId",endpoint:"/roles",dataMapper:({result:r})=>r.roles,breakpoints:{lg:12}}],Kb=[{type:"SearchInput",label:"Pesquisar por nome, email ou endereo",name:"searchKeyword",breakpoints:{lg:12}}],n6=[{type:"SearchInput",label:"Pesquisar por nome ou contacto",name:"searchKeyword",breakpoints:{lg:12}}],cp=[{type:"SearchInput",label:"Pesquisar por nome",name:"searchKeyword",breakpoints:{lg:12}}];class yc{static async getProperty(e){try{return await Ut.instance.get("/property/".concat(e))}catch(t){throw console.error("Error fetching property:",t),t}}static async createProperty(){try{return await Ut.instance.post("/property/create")}catch(e){throw console.error("Error creating property:",e),e}}static async saveProperty(e){const t=new ui;try{t==null||t.show();const{result:n,status:i}=await Ut.instance.put("/property/".concat(e.id),e);return i===200&&n.status==="success"&&$e.showSuccessNotification({message:"Imvel salvo com sucesso"}),{result:n,status:i}}catch(n){throw console.error("Error saving property:",n),$e.showErrorNotification({message:"Ocorreu um erro ao salvar Imvel"}),n}finally{t==null||t.close()}}static async removeProperty(e){const t=new ui({message:"Por favor aguarde...",dismissable:!1});try{t==null||t.show();const{result:n,status:i}=await Ut.instance.delete("/property/".concat(e));return i===200&&n.status==="success"&&$e.showSuccessNotification({message:"Imvel removido com sucesso"}),{result:n,status:i}}catch(n){throw console.error("Error removing property:",n),$e.showErrorNotification({message:"Ocorreu um erro ao remover o Imvel"}),n}finally{t==null||t.close()}}static async getPropertyFeatures(){try{return await Ut.instance.get("/property-features")}catch(e){throw console.error("Error fetching property feature:",e),e}}static async removePropertyPhoto(e){const t=new ui({message:"Por favor aguarde...",dismissable:!1});try{t==null||t.show();const{result:n,status:i}=await Ut.instance.delete("/property/delete-image/".concat(e.id),{filePath:e.url});return i===200&&n.status==="success"&&$e.showSuccessNotification({message:"Foto do imvel removido com sucesso"}),{result:n,status:i}}catch(n){throw console.error("Error removing property image:",n),$e.showErrorNotification({message:"Ocorreu um erro ao remover o Imvel"}),n}finally{t==null||t.close()}}static async removeAsset(e){const t=new ui({message:"Por favor aguarde...",dismissable:!1});try{t==null||t.show();const{result:n,status:i}=await Ut.instance.delete("/property/delete-asset/".concat(e.id),{filePath:e.url});return i===200&&n.status==="success"&&$e.showSuccessNotification({message:"Fleyer removido com sucesso"}),{result:n,status:i}}catch(n){throw console.error("Error removing property asset:",n),$e.showErrorNotification({message:"Ocorreu um erro ao remover o Fleyer"}),n}finally{t==null||t.close()}}static async setAsMainImage(e){const t=new ui({message:"Por favor aguarde...",dismissable:!1});try{t==null||t.show();const{result:n,status:i}=await Ut.instance.put("/property/galleries/set-image-as-main/".concat(e.id));return i===200&&n.status==="success"&&$e.showSuccessNotification({message:"Foto do imvel definida com principal com sucesso"}),{result:n,status:i}}catch(n){throw console.error("Error setting as main image:",n),$e.showErrorNotification({message:"Ocorreu um erro ao definir foto o Imvel como principal"}),n}finally{t==null||t.close()}}static async sharePostToWhatsapp({image:e,description:t,link:n}){var o;const i="911179208735868",s="EAALVOEF0hEMBP8KHL2WejvxI3La9dSunbJAZB8Jit25Da0EsiumK5UnphRqPOxDHIZCHAprvAoMAPUCcIplvj5ZA5cnqiIdr7RDCVvk8iuhyVfFPbL8UhRGXLXKgebOVrBavJiCrnmezr5dW95fVdMrBtoMhVqJI9Suq1LoxmnCrO7wd42X9RnlZALFo7cJNLHQuW1oDFP2kLIrbbQ0YUpXZCp4A8iltLlJjOa3867ZBwVAmGHgcndYhj948E1wLwlQC3M8yJIMCk7wRNUXWsm",a="258840169593";try{const c=t.replace(/<[^>]+>/g,"").trim(),h=1024-(n.length+1),u=c.length>h?c.substring(0,h-3)+"...":c,p="".concat(u,"\n").concat(n),d={messaging_product:"whatsapp",to:a,type:"interactive",interactive:{type:"button",header:{type:"image",image:{link:e}},body:{text:p},action:{buttons:[{type:"reply",reply:{id:"view_property",title:"Ver Imvel"}}]},footer:{text:"Visite nosso site para mais detalhes!"}}},_=await fetch("https://graph.facebook.com/v19.0/".concat(i,"/messages"),{method:"POST",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify(d)}),y=await _.json();if(!_.ok)throw new Error("WhatsApp API error: ".concat(((o=y.error)==null?void 0:o.message)||_.statusText));return $e.showSuccessNotification({message:"Postagem compartilhada com sucesso no WhatsApp!"}),y}catch(c){throw console.error("Error sharing post:",c),$e.showErrorNotification({message:"Erro ao compartilhar postagem no WhatsApp."}),c}}static async shareToGoogleSheets({propertyId:e,image:t,description:n,link:i}){var c;const s="your-spreadsheet-id-here",a="Sheet1",o="your-google-api-access-token-here";try{const h=n.replace(/<[^>]+>/g,"").trim(),p={values:[[e,h,t,i,new Date().toISOString()]]},g=await fetch("https://sheets.googleapis.com/v4/spreadsheets/".concat(s,"/values/").concat(a,"!A1:E1:append?valueInputOption=    "),{method:"POST",headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify(p)}),d=await g.json();if(!g.ok)throw new Error("Google Sheets API error: ".concat(((c=d.error)==null?void 0:c.message)||g.statusText));return $e.showSuccessNotification({message:"Dados compartilhados com sucesso no Google Sheets!"}),d}catch(h){throw console.error("Error sharing to Google Sheets:",h),$e.showErrorNotification({message:"Erro ao compartilhar dados no Google Sheets."}),h}}}class hp extends ge{constructor({children:e=[],style:t={},className:n=[],props:i={},events:s={},onBeforeCreated:a=null,onCreated:o=null,onBeforeAttached:c=null,onAttached:h=null,onMounted:u=null}={}){super({tagName:"div",children:e,style:{position:"relative",minHeight:"1px",...t},className:["stack-widget","stack-widget--medium","stack-widget--vertical",...n],props:i,events:s,onBeforeCreated:a,onCreated:o,onBeforeAttached:c,onAttached:h,onMounted:u})}}class _s extends ge{constructor({children:e=[],position:t=Fr.flex.start,zIndex:n=null,responsive:i=null,className:s=[],style:a={},props:o={},onBeforeCreated:c=null,onCreated:h=null,onBeforeAttached:u=null,onAttached:p=null,onMounted:g=null}={}){const d=[],_=[],y=Object.values(Fr.absolute).includes(t);d.push(y?"position-widget-absolute-container":"position-widget-flex-container"),d.push(t);let b=Fr.z.base;n!==null?b=typeof n=="string"?n:Fr.z[n]||Fr.z.auto:y&&(b=Fr.z.raised),b!=="auto"&&d.push(b),i&&Object.entries(i).forEach(([E,D])=>{var N;if(D){if(D.position){const I=D.position,X=Object.values(Fr.absolute).includes(I),he=I.split("-").pop();_.push("position-widget-".concat(E,":").concat(X?"absolute":"flex","-").concat(he)),X&&_.push("position-widget-".concat(E,":absolute-container"))}if(D.zIndex!==void 0){const I=typeof D.zIndex=="number"?D.zIndex:((N=Fr.z[D.zIndex])==null?void 0:N.split("-").pop())||"0";_.push("position-widget-".concat(E,":z-").concat(I))}}}),super({children:e,className:[...d,..._,...s],style:{...y&&{position:"absolute",margin:0},...!y&&{width:"100%",minWidth:0},...typeof n=="number"&&{zIndex:n},boxSizing:"border-box",...a},props:o,onBeforeCreated:E=>{c==null||c(E)},onCreated:(E,D)=>{h==null||h(E,D)},onBeforeAttached:(E,D)=>{u==null||u(E,D)},onAttached:(E,D)=>{p==null||p(E,{},D)},onMounted:(E,D)=>{g==null||g(E,{},D)}}),this.position=t,this.zIndex=n,this.responsive=i}}class Ea{constructor({tags:e={},onRemoveTag:t,onClearAll:n,emptyMessage:i="Nenhum filtro aplicado"}={}){this.tags=e,this.onRemoveTag=t,this.onClearAll=n,this.emptyMessage=i}create(){const e=Object.entries(this.tags||{}).filter(([n,i])=>(i==null?void 0:i.value)&&i.value!=="");if(e.length===0)return new yt({className:["empty-filter-container"],children:[new Je({className:["empty-filter-row"],children:[new yt({className:["empty-filter-icon-container"],children:[new et({icon:"fas fa-filter",className:["empty-filter-icon"]})]}),new ze({text:this.emptyMessage,className:["empty-filter-text"]})]})]});const t=e.map(([n,i])=>new yt({className:["filter-tag"],children:[new yt({className:["filter-tag-icon-container"],children:[new et({icon:"fas fa-filter",className:["filter-tag-icon"]})]}),new Ge({className:["filter-tag-text-container"],children:[new ze({text:n,className:["filter-tag-label"]}),new ze({text:i.value,className:["filter-tag-value"]})]}),new et({icon:"fas fa-times",className:["filter-tag-remove-icon"],events:{click:()=>{var s;(s=this.onRemoveTag)==null||s.call(this,n,i.key),$e.showInfoNotification({message:'Filtro "'.concat(n,'" removido')})}}})]}));return new yt({className:["active-filters-container"],children:[new Ge({className:["active-filters-content"],children:[new Je({className:["active-filters-header"],children:[new Je({className:["active-filters-title-row"],children:[new yt({className:["active-filters-title-icon"],children:[new et({icon:"fas fa-sliders-h",className:["active-filters-title-icon-inner"]})]}),new ze({text:"Filtros Ativos",className:["active-filters-title"]})]}),new yt({className:["active-filters-counter"],children:[new ze({text:"".concat(e.length," ").concat(e.length===1?"filtro":"filtros"),className:["active-filters-counter-text"]})]})]}),new Je({className:["active-filters-tags-row"],children:t}),new Je({className:["active-filters-clear-row"],children:[new yt({className:["clear-all-filters-btn"],events:{click:()=>{var n;return(n=this.onClearAll)==null?void 0:n.call(this)}},children:[new et({icon:"fas fa-times-circle",className:["clear-all-filters-icon"]}),new ze({text:"Limpar todos os filtros",className:["clear-all-filters-text"]})]})]})]})]})}}class up extends ge{constructor({items:e=[],title:t="Que aco deseja realizar",dismissable:n=!1}={}){super(),this.items=e,this.title=t,this.dismissable=n,this.menuContext=null,this.create()}create(){return this.menuContext=new Iu({showCloseIcon:!0,dismissable:this.dismissable,content:[new mi({text:this.title}),...this.items.map(e=>new _n({leading:e.leading,title:e.title,subtitle:e.subtitle,trailing:e.trailing,onTap:e.onTap}))],props:{ariaLabel:"Menu context"}}),this.menuContext}show(){var e;(e=this.menuContext)==null||e.show()}close(){var e;(e=this.menuContext)==null||e.close()}}const ga={view:{leading:new et({icon:"fa fa-book"}),title:"Visualizar detalhes",subtitle:"Visualizar detalhes",trailing:new et({icon:"fa fa-arrow-right"})},edit:{leading:new et({icon:"fa fa-edit"}),title:"Editar detalhes",subtitle:"Editar detalhes",trailing:new et({icon:"fa fa-arrow-right"})},remove:{leading:new et({icon:"fa fa-trash"}),title:"Remover registo",subtitle:"Remover registo",trailing:new et({icon:"fa fa-arrow-right"})}},fp=r=>{var e,t,n,i,s,a,o,c,h,u,p,g,d,_,y,b,E,D,N,I,X,he,G,q;return[{leading:(t=(e=r==null?void 0:r.view)==null?void 0:e.leading)!=null?t:ga.view.leading,title:(i=(n=r==null?void 0:r.view)==null?void 0:n.title)!=null?i:ga.view.title,subtitle:(a=(s=r==null?void 0:r.view)==null?void 0:s.subtitle)!=null?a:ga.view.subtitle,trailing:(c=(o=r==null?void 0:r.view)==null?void 0:o.trailing)!=null?c:ga.view.trailing,onTap:()=>{var O,ee;return(ee=(O=r==null?void 0:r.view)==null?void 0:O.onTap)==null?void 0:ee.call(O)}},{leading:(u=(h=r==null?void 0:r.edit)==null?void 0:h.leading)!=null?u:ga.edit.leading,title:(g=(p=r==null?void 0:r.edit)==null?void 0:p.title)!=null?g:ga.edit.title,subtitle:(_=(d=r==null?void 0:r.edit)==null?void 0:d.subtitle)!=null?_:ga.edit.subtitle,trailing:(b=(y=r==null?void 0:r.edit)==null?void 0:y.trailing)!=null?b:ga.edit.trailing,onTap:()=>{var O,ee;return(ee=(O=r==null?void 0:r.edit)==null?void 0:O.onTap)==null?void 0:ee.call(O)}},{leading:(D=(E=r==null?void 0:r.remove)==null?void 0:E.leading)!=null?D:ga.remove.leading,title:(I=(N=r==null?void 0:r.remove)==null?void 0:N.title)!=null?I:ga.remove.title,subtitle:(he=(X=r==null?void 0:r.remove)==null?void 0:X.subtitle)!=null?he:ga.remove.subtitle,trailing:(q=(G=r==null?void 0:r.remove)==null?void 0:G.trailing)!=null?q:ga.remove.trailing,onTap:()=>{var O,ee;return(ee=(O=r==null?void 0:r.remove)==null?void 0:O.onTap)==null?void 0:ee.call(O)}}]};let i6=class extends Sa{constructor(){super({pageTitle:"Imveis",endpoint:"/property",dataMapper:"properties",handleAddOrUpdatePageType:Hu.NEW_PAGE,onFilter:()=>{this.createOnFilterInputs()},displayType:"grid",downloadEndpoint:"/property/download",downloadLabel:"propriedades"}),this.formElements=new ba}toNewPage(e){this.upated=!1,sr.instance.to("properties/save/".concat(e.id))}openMenuContext(e){this.menuContext=new up({items:fp({view:{onTap:()=>{var t;sr.instance.to("/properties/".concat(e.id)),(t=this.menuContext)==null||t.close()}},edit:{onTap:()=>{var t;sr.instance.to("/properties/save/".concat(e.id)),(t=this.menuContext)==null||t.close()}},remove:{onTap:()=>{const t=$e.showConfirmationDialog({title:"Deseja realmente remover esse registo?",subtitle:"Esta ao  irreversvel. Toda informao relacionado com este registo vai ser removido do sistema permanentemente, confirme antes de continuar.",confirmText:"Sim, remover",cancelText:"Cancelar",onConfirm:async()=>{var n;await yc.removeProperty(e.id),this.refreshData(),t==null||t.close(),(n=this.menuContext)==null||n.close()},onCancel:()=>{t==null||t.close()}})}}})}),this.menuContext.show()}createOnFilterInputs(){this.filtersOffCanvas=new qn({content:new Ge({style:{overflowY:"auto",height:"100%",padding:"1rem"},children:[new mi({text:"Filtros"}),...bn.createFilterInputs(this.formElements,this.controller,e6,()=>this._applyFilters(),()=>this._clearFilters(),this.formData)]})}),this.filtersOffCanvas.show()}createFilterInputs(){return[new jr({watch:()=>{const e=this.state.tags;return new Ea({tags:e,onRemoveTag:(t,n)=>{var i;this.formData=this.formElements.getFormData(),delete this.formData[n],(i=this.formElements.removeFormDataKey)==null||i[n],this.setState(s=>({tags:Object.fromEntries(Object.entries(s.tags||{}).filter(([a])=>a!==t))})),this.refreshData()},onClearAll:()=>{this._clearFilters(),this.setState({tags:{}})},emptyMessage:"Nenhum filtro aplicado"}).create()}})]}_showTagRemovedFeedback(e){$e.showInfoNotification({message:'Filtro "'.concat(e,'" removido')})}createGridItem(e){var t,n,i,s;return new kn({className:["property-card"],bodyClassName:["property-card-body"],events:{click:()=>{this.openMenuContext(e)}},body:new Ge({children:[new hp({className:["property-card-image-stack"],children:[new _s({position:Fr.absolute.topRight,zIndex:Fr.z.topmost,className:["property-status-badge-container"],children:[$e.createBadge(this._getStatus(e.status))]}),new _s({position:Fr.absolute.topLeft,zIndex:Fr.z.tooltip,className:["property-image-container"],children:[new Ac({src:(t=this._getMainImage(e.galleries))==null?void 0:t.url,fallbackSrc:new URL("/assets/images/failed-to-load.png",import.meta.url),className:["property-main-image"],figureClassName:["property-main-image-container"]})]}),new _s({position:Fr.absolute.topLeft,zIndex:Fr.z.sticky,className:["property-image-overlay"],children:[]}),new _s({position:Fr.absolute.bottomLeft,zIndex:Fr.z.topmost,className:["property-price-overlay"],children:[new ze({text:$e.simpleCurrencyFormat(e.price,e.currencies.code),className:["property-price-text"]})]})]}),new Ge({className:["property-card-content"],children:[new ze({text:e.title||"Sem ttulo",className:["property-title"]}),new Ge({className:["property-details-grid"],children:[this._createEnhancedDetailRow("fas fa-layer-group","Categoria",((n=e.categories)==null?void 0:n.name)||""),this._createEnhancedDetailRow("fas fa-bullseye","Finalidade",((i=e.finalities)==null?void 0:i.name)||""),this._createEnhancedDetailRow("fas fa-user-tie","Proprietrio",((s=e.owners)==null?void 0:s.name)||""),this._createEnhancedDetailRow("fas fa-map-marker-alt","Localizao",e.address||"")]}),this._createFooterSection(e)]})]})})}_createEnhancedDetailRow(e,t,n){return new Je({className:["property-detail-row"],rowStyle:{alignItems:"center"},children:[this._renderAvatarBadgeCell(n),new Ge({className:["property-detail-text-container"],children:[new ze({text:t,className:["property-detail-label"]}),new ze({text:n,className:["property-detail-value"]})]})]})}_getMainImage(e){return(e==null?void 0:e.find(n=>n.isMain==1))||e[0]}_createFooterSection(e){return new Je({className:["property-details-footer-row"],children:[new Je({className:["property-details-created-at-row"],children:[new et({icon:"fa-solid fa-calendar-plus",className:["property-details-created-at-icon"]}),new ze({text:"Criado: ".concat(e.updated_at||"Data no disponvel"),className:["property-details-created-at-text"]})]}),new Je({className:["property-details-more-info-row"],children:[new et({icon:"fa-solid fa-arrow-right",className:["property-details-more-info-icon"]}),new ze({text:"Ver detalhes",className:["property-details-more-info-text"]})]})]})}_getStatus(e){let t="unknown";switch(e){case 1:t="active";break;case 2:t="inactive";break;case 3:t="rented";break;case 4:t="sold";break}return t}_renderAvatarBadgeCell(e,t=!1){const n=e||"N/A";return bn.createAvatarBadge(n,{emptyName:"N/A",emptyBackgroundColor:"#e9ecef",emptyTextColor:"#6c757d",style:t?{width:"24px",height:"24px",fontSize:"0.6rem"}:void 0})}_applyFilters(){var e;this.formData=this.formElements.getFormData(),this.refreshData(),(e=this.filtersOffCanvas)==null||e.close(),this.setState(t=>({tags:{...this.formElements.getSearchTagData()}}))}_clearFilters(){var e;this.formData={},this.refreshData(),this.formElements.resetFormData(),this.formElements.resetSearchTagData(),(e=this.filtersOffCanvas)==null||e.close()}};const gm=[{title:"Detalhes do Imvel",subtitle:"Informaes gerais e descrio",leading:"fa-solid fa-warehouse",trailing:"fa-solid fa-chevron-right",key:"details"},{title:"Localizao",subtitle:"Endereo e mapa",leading:"fa-solid fa-map-marker-alt",trailing:"fa-solid fa-chevron-right",key:"location"},{title:"Caractersticas",subtitle:"Comodidades e atributos",leading:"fa-solid fa-list-ul",trailing:"fa-solid fa-chevron-right",key:"features"},{title:"Galeria",subtitle:"Fotografias e vdeos",leading:"fa-solid fa-camera",trailing:"fa-solid fa-chevron-right",key:"photos"},{title:"Marketing",subtitle:"Flyers e materiais promocionais",leading:"fa-solid fa-bullhorn",trailing:"fa-solid fa-chevron-right",key:"marketing"},{title:"Estado do Imvel",subtitle:"Disponibilidade e destaques",leading:"fa-solid fa-tag",trailing:"fa-solid fa-chevron-right",key:"property_status"},{title:"Publicao",subtitle:"Portais, site e redes sociais",leading:"fa-solid fa-share-nodes",trailing:"fa-solid fa-chevron-right",key:"publish_and_share"}];class or extends ge{constructor({viewBox:e="0 0 100 100",width:t="100%",height:n="100%",style:i={},children:s=[]}={}){super({onAttached:a=>{this.rootElement=a}}),this.viewBox=e,this.width=t,this.height=n,this.style=i,this.children=s}render(){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.setAttribute("viewBox",this.viewBox),e.setAttribute("width",this.width),e.setAttribute("height",this.height),Object.assign(e.style,this.style),this.children.forEach(t=>{t instanceof ge&&e.appendChild(t.render())}),e}}or.Circle=class extends ge{constructor({cx:r=0,cy:e=0,r:t=0,fill:n="none",stroke:i="black",strokeWidth:s=1,style:a={},children:o=[]}={}){super({onAttached:c=>{this.rootElement=c}}),this.cx=r,this.cy=e,this.r=t,this.fill=n,this.stroke=i,this.strokeWidth=s,this.style=a,this.children=o}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","circle");return r.setAttribute("cx",this.cx),r.setAttribute("cy",this.cy),r.setAttribute("r",this.r),r.setAttribute("fill",this.fill),r.setAttribute("stroke",this.stroke),r.setAttribute("stroke-width",this.strokeWidth),Object.assign(r.style,this.style),this.children.forEach(e=>{e instanceof ge&&r.appendChild(e.render())}),r}};or.Rect=class extends ge{constructor({x:r=0,y:e=0,width:t=0,height:n=0,rx:i=0,ry:s=0,fill:a="none",stroke:o="black",strokeWidth:c=1,style:h={},children:u=[]}={}){super({onAttached:p=>{this.rootElement=p}}),this.x=r,this.y=e,this.width=t,this.height=n,this.rx=i,this.ry=s,this.fill=a,this.stroke=o,this.strokeWidth=c,this.style=h,this.children=u}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","rect");return r.setAttribute("x",this.x),r.setAttribute("y",this.y),r.setAttribute("width",this.width),r.setAttribute("height",this.height),r.setAttribute("rx",this.rx),r.setAttribute("ry",this.ry),r.setAttribute("fill",this.fill),r.setAttribute("stroke",this.stroke),r.setAttribute("stroke-width",this.strokeWidth),Object.assign(r.style,this.style),this.children.forEach(e=>{e instanceof ge&&r.appendChild(e.render())}),r}};or.Line=class extends ge{constructor({x1:r=0,y1:e=0,x2:t=0,y2:n=0,stroke:i="black",strokeWidth:s=1,strokeLinecap:a="butt",style:o={},children:c=[]}={}){super({onAttached:h=>{this.rootElement=h}}),this.x1=r,this.y1=e,this.x2=t,this.y2=n,this.stroke=i,this.strokeWidth=s,this.strokeLinecap=a,this.style=o,this.children=c}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","line");return r.setAttribute("x1",this.x1),r.setAttribute("y1",this.y1),r.setAttribute("x2",this.x2),r.setAttribute("y2",this.y2),r.setAttribute("stroke",this.stroke),r.setAttribute("stroke-width",this.strokeWidth),r.setAttribute("stroke-linecap",this.strokeLinecap),Object.assign(r.style,this.style),this.children.forEach(e=>{e instanceof ge&&r.appendChild(e.render())}),r}};or.Path=class extends ge{constructor({d:r="",fill:e="none",stroke:t="black",strokeWidth:n=1,strokeLinecap:i="butt",strokeLinejoin:s="miter",style:a={},children:o=[]}={}){super({onAttached:c=>{this.rootElement=c}}),this.d=r,this.fill=e,this.stroke=t,this.strokeWidth=n,this.strokeLinecap=i,this.strokeLinejoin=s,this.style=a,this.children=o}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",this.d),r.setAttribute("fill",this.fill),r.setAttribute("stroke",this.stroke),r.setAttribute("stroke-width",this.strokeWidth),r.setAttribute("stroke-linecap",this.strokeLinecap),r.setAttribute("stroke-linejoin",this.strokeLinejoin),Object.assign(r.style,this.style),this.children.forEach(e=>{e instanceof ge&&r.appendChild(e.render())}),r}};or.Group=class extends ge{constructor({className:r="",style:e={},children:t=[]}={}){super({onAttached:n=>{this.rootElement=n}}),this.className=r,this.style=e,this.children=t}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","g");return this.className&&r.setAttribute("class",this.className),Object.assign(r.style,this.style),this.children.forEach(e=>{e instanceof ge&&r.appendChild(e.render())}),r}};or.Animate=class extends ge{constructor({attributeName:r="",values:e="",dur:t="1s",begin:n="0s",repeatCount:i="1",keyTimes:s="",keySplines:a="",calcMode:o="linear",fill:c="remove"}={}){super({onAttached:h=>{this.rootElement=h}}),this.attributeName=r,this.values=e,this.dur=t,this.begin=n,this.repeatCount=i,this.keyTimes=s,this.keySplines=a,this.calcMode=o,this.fill=c}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","animate");return r.setAttribute("attributeName",this.attributeName),r.setAttribute("values",this.values),r.setAttribute("dur",this.dur),r.setAttribute("begin",this.begin),r.setAttribute("repeatCount",this.repeatCount),r.setAttribute("calcMode",this.calcMode),r.setAttribute("fill",this.fill),this.keyTimes&&r.setAttribute("keyTimes",this.keyTimes),this.keySplines&&r.setAttribute("keySplines",this.keySplines),r}};or.Defs=class extends ge{constructor({children:r=[]}={}){super({onAttached:e=>{this.rootElement=e}}),this.children=r}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","defs");return this.children.forEach(e=>{e instanceof ge&&r.appendChild(e.render())}),r}};or.LinearGradient=class extends ge{constructor({id:r,x1:e="0%",y1:t="0%",x2:n="100%",y2:i="0%",gradientUnits:s="objectBoundingBox",children:a=[]}={}){super({onAttached:o=>{this.rootElement=o}}),this.id=r,this.x1=e,this.y1=t,this.x2=n,this.y2=i,this.gradientUnits=s,this.children=a}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","linearGradient");return this.id&&r.setAttribute("id",this.id),r.setAttribute("x1",this.x1),r.setAttribute("y1",this.y1),r.setAttribute("x2",this.x2),r.setAttribute("y2",this.y2),r.setAttribute("gradientUnits",this.gradientUnits),this.children.forEach(e=>{e instanceof ge&&r.appendChild(e.render())}),r}};or.Stop=class extends ge{constructor({offset:r="0%",stopColor:e,stopOpacity:t=1}={}){super({onAttached:n=>{this.rootElement=n}}),this.offset=r,this.stopColor=e,this.stopOpacity=t}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","stop");return r.setAttribute("offset",this.offset),this.stopColor&&r.setAttribute("stop-color",this.stopColor),r.setAttribute("stop-opacity",this.stopOpacity.toString()),r}};or.ClipPath=class extends ge{constructor({id:r,clipPathUnits:e="userSpaceOnUse",children:t=[]}={}){super({onAttached:n=>{this.rootElement=n}}),this.id=r,this.clipPathUnits=e,this.children=t}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","clipPath");return this.id&&r.setAttribute("id",this.id),r.setAttribute("clipPathUnits",this.clipPathUnits),this.children.forEach(e=>{e instanceof ge&&r.appendChild(e.render())}),r}};or.Text=class extends ge{constructor({x:r=0,y:e=0,text:t="",fill:n="black",fontSize:i="16",fontFamily:s="Arial",textAnchor:a="start",style:o={}}={}){super({onAttached:c=>{this.rootElement=c}}),this.x=r,this.y=e,this.text=t,this.fill=n,this.fontSize=i,this.fontFamily=s,this.textAnchor=a,this.style=o}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","text");return r.setAttribute("x",this.x.toString()),r.setAttribute("y",this.y.toString()),r.setAttribute("fill",this.fill),r.setAttribute("font-size",this.fontSize),r.setAttribute("font-family",this.fontFamily),r.setAttribute("text-anchor",this.textAnchor),Object.assign(r.style,this.style),r.textContent=this.text,r}};or.Polygon=class extends ge{constructor({points:r="",fill:e="none",stroke:t="black",strokeWidth:n=1,style:i={}}={}){super({onAttached:s=>{this.rootElement=s}}),this.points=r,this.fill=e,this.stroke=t,this.strokeWidth=n,this.style=i}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","polygon");return r.setAttribute("points",this.points),r.setAttribute("fill",this.fill),r.setAttribute("stroke",this.stroke),r.setAttribute("stroke-width",this.strokeWidth.toString()),Object.assign(r.style,this.style),r}};or.Polyline=class extends ge{constructor({points:r="",fill:e="none",stroke:t="black",strokeWidth:n=1,style:i={}}={}){super({onAttached:s=>{this.rootElement=s}}),this.points=r,this.fill=e,this.stroke=t,this.strokeWidth=n,this.style=i}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","polyline");return r.setAttribute("points",this.points),r.setAttribute("fill",this.fill),r.setAttribute("stroke",this.stroke),r.setAttribute("stroke-width",this.strokeWidth.toString()),Object.assign(r.style,this.style),r}};or.Ellipse=class extends ge{constructor({cx:r=0,cy:e=0,rx:t=0,ry:n=0,fill:i="none",stroke:s="black",strokeWidth:a=1,style:o={}}={}){super({onAttached:c=>{this.rootElement=c}}),this.cx=r,this.cy=e,this.rx=t,this.ry=n,this.fill=i,this.stroke=s,this.strokeWidth=a,this.style=o}render(){const r=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return r.setAttribute("cx",this.cx.toString()),r.setAttribute("cy",this.cy.toString()),r.setAttribute("rx",this.rx.toString()),r.setAttribute("ry",this.ry.toString()),r.setAttribute("fill",this.fill),r.setAttribute("stroke",this.stroke),r.setAttribute("stroke-width",this.strokeWidth.toString()),Object.assign(r.style,this.style),r}};class s6 extends ge{constructor(){super()}render(){return this.children=[new Ge({style:{textAlign:"center",padding:"2rem .5rem",position:"relative",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:[this._buildDecorativeElements(),this._buildAnimatedSVG()]})],super.render()}_buildDecorativeElements(){return new yt({style:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden",zIndex:0,pointerEvents:"none"},children:[new yt({style:{position:"absolute",top:"-60px",right:"-60px",width:"180px",height:"180px",borderRadius:"50%",background:"rgba(185, 28, 28, 0.1)",animation:"pulse 7s ease-in-out infinite"}}),new yt({style:{position:"absolute",bottom:"-40px",left:"-40px",width:"120px",height:"120px",borderRadius:"50%",background:"rgba(185, 28, 28, 0.08)",animation:"pulse 9s ease-in-out infinite 3s"}})]})}_buildAnimatedSVG(){return new yt({style:{height:"260px",position:"relative"},children:[new or({viewBox:"0 0 200 200",style:{width:"100%",height:"100%",maxWidth:"280px",filter:"drop-shadow(0 10px 20px rgba(0,0,0,0.06))"},children:[new or.Defs({children:[new or.LinearGradient({id:"noImageGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[new or.Stop({offset:"0%",stopColor:"#fee2e2"}),new or.Stop({offset:"100%",stopColor:"#fecaca"})]})]}),new or.Circle({cx:100,cy:100,r:82,fill:"url(#noImageGradient)",style:{animation:"float 6s ease-in-out infinite",transformOrigin:"center"}}),new or.Rect({x:64,y:64,width:72,height:72,rx:6,fill:"none",stroke:"#7f1d1d",strokeWidth:9}),new or.Rect({x:72,y:72,width:56,height:42,fill:"#ffffff",opacity:.92}),new or.Circle({cx:100,cy:69,r:7,fill:"#7f1d1d"}),new or.Group({style:{animation:"pulse 3s ease-in-out infinite",transformOrigin:"center"},children:[new or.Circle({cx:100,cy:100,r:56,fill:"none",stroke:"#b91c1c",strokeWidth:12}),new or.Line({x1:62,y1:62,x2:138,y2:138,stroke:"#b91c1c",strokeWidth:14,strokeLinecap:"round"})]}),...this._generateBubbles()]})]})}_generateBubbles(){const e=[],t=["#b91c1c","#7f1d1d","#991b1b","#dc2626","#ef4444"];for(let n=0;n<9;n++){const i=Math.random()*9+4,s=Math.random()*170+15,a=Math.random()*170+15,o=Math.random()*.35+.1,c=Math.random()*6,h=Math.random()*10+7,u=t[Math.floor(Math.random()*t.length)];e.push(new or.Circle({cx:s,cy:a,r:i,fill:u,opacity:o,style:{mixBlendMode:"multiply"},children:[new or.Animate({attributeName:"cy",values:"".concat(a,";").concat(a-45,";").concat(a),dur:"".concat(h,"s"),begin:"".concat(c,"s"),repeatCount:"indefinite"}),new or.Animate({attributeName:"cx",values:"".concat(s,";").concat(s+(Math.random()*30-15),";").concat(s),dur:"".concat(h+3,"s"),begin:"".concat(c,"s"),repeatCount:"indefinite"}),new or.Animate({attributeName:"opacity",values:"".concat(o,";").concat(o*1.6,";").concat(o),dur:"".concat(h-1,"s"),begin:"".concat(c,"s"),repeatCount:"indefinite"})]}))}return e}}class dp extends ge{constructor({theme:e=ht.badge.type.success,size:t=ht.badge.size.xsmall,label:n="",closable:i=!1,onClose:s=()=>{},style:a={},className:o=[],props:c={},events:h={}}={}){super({tagName:"div",style:a,className:["badge-widget",e,t,...o],props:c,events:h,onAttached:u=>{this.rootElement=u}}),this.label=n,this.closable=i,this.onClose=s,this.theme=e,this.size=t}createCloseButton(){return new ge({tagName:"span",children:[""],className:["badge-close-icon-widget"],events:{click:e=>{this.handleClose()}},onAttached:e=>{e.insertAdjacentHTML("beforeend",'<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#1f1f1f"><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>')}})}handleClose(){this.rootElement.style.opacity="0",this.rootElement.style.transform="translateY(-10px)",setTimeout(()=>{this.rootElement.remove(),this.onClose()},300)}render(){return this.children=[new ge({tagName:"span",children:[this.label],className:["badge-label-widget"]}),this.closable?this.createCloseButton():null].filter(Boolean),super.render()}}const b0={SWIPE_THRESHOLD:50,DOUBLE_TAP_THRESHOLD:300,ZOOM_LEVEL:2};class Xb extends ge{constructor({images:e=[],initialIndex:t=0,showMainBadge:n=!0,actions:i=[],onClose:s=null,onNavigate:a=null}={}){super(),this.images=[...e],this.showMainBadge=n,this.actions=i,this.onClose=s,this.onNavigate=a,this.touchStartX=0,this.touchStartY=0,this.isDragging=!1,this.lastTap=0,this.zoomLevel=1,this.bottomSheet=null,this.handleKeyDown=this.handleKeyDown.bind(this),this.handleTouchStart=this.handleTouchStart.bind(this),this.handleTouchMove=this.handleTouchMove.bind(this),this.handleTouchEnd=this.handleTouchEnd.bind(this),this.toggleZoom=this.toggleZoom.bind(this),this.initState({currentIndex:t})}navigate(e){this.images.length<=1||this.zoomLevel>1||this.setState(t=>{var i;const n=(t.currentIndex+e+this.images.length)%this.images.length;return(i=this.onNavigate)==null||i.call(this,n,this.images[n]),{currentIndex:n}})}handleKeyDown(e){switch(e.key){case"ArrowLeft":this.navigate(-1);break;case"ArrowRight":this.navigate(1);break;case"Escape":this.close();break}}handleTouchStart(e){if(e.touches.length!==1)return;const t=e.touches[0],n=Date.now();this.touchStartX=t.clientX,this.touchStartY=t.clientY,this.isDragging=!1,this.lastTap&&n-this.lastTap<b0.DOUBLE_TAP_THRESHOLD&&(e.preventDefault(),this.toggleZoom()),this.lastTap=n}handleTouchMove(e){if(!this.touchStartX||e.touches.length!==1)return;const t=e.touches[0],n=t.clientX-this.touchStartX,i=t.clientY-this.touchStartY;this.zoomLevel===1&&Math.abs(n)>Math.abs(i)&&Math.abs(n)>10?(this.isDragging=!0,e.preventDefault()):this.zoomLevel>1&&e.preventDefault()}handleTouchEnd(e){if(!this.touchStartX)return;const t=e.changedTouches[0].clientX-this.touchStartX;this.zoomLevel===1&&this.isDragging&&Math.abs(t)>b0.SWIPE_THRESHOLD&&this.navigate(t>0?-1:1),this.touchStartX=0,this.isDragging=!1}toggleZoom(){var t;const e=(t=this.bottomSheet)==null?void 0:t.element.querySelector(".gallery-viewer-image");e&&(this.zoomLevel=this.zoomLevel===1?b0.ZOOM_LEVEL:1,e.style.transform="scale(".concat(this.zoomLevel,")"),e.style.transition="transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)",this.zoomLevel,e.style.transformOrigin="center center")}renderSlide(){return new jr({watch:()=>{const e=this.images[this.state.currentIndex];if(!e)return new yt;const t=Number(this.showMainBadge&&e.isMain);return new yt({className:["gallery-slide-container"],style:{height:"100%"},children:[t&&new _s({position:Fr.absolute.topRight,className:["gallery-main-badge"],children:new dp({label:"Foto Principal"})}),new yt({className:["gallery-drag-hint"],children:new ze({text:this.zoomLevel>1?"Arraste para mover  Toque duas vezes para reverter":"Deslize para navegar  Toque duas vezes para ampliar"})}),new _s({children:new Ac({src:e.url,className:["gallery-slide-image","gallery-viewer-image"]})})].filter(Boolean)})}})}renderActionButtons(){return new jr({watch:()=>{const e=this.images[this.state.currentIndex];if(!e)return new yt;const t=this.actions.filter(n=>!n.isVisible||n.isVisible(e)).map(n=>new Qr({label:n.label,prefixIcon:new et({icon:n.icon}),theme:n==null?void 0:n.theme,isDestructive:n.isDestructive,disabled:e.isUploading||e.error,onPressed:()=>n.onPress(e)}));return new Je({rowStyle:{width:"100%",padding:"1rem",justifyContent:"center",alignItems:"center"},children:t})}})}renderContent(){return new Ge({style:{gap:"20px"},children:[new hp({children:[new _s({position:Fr.absolute.center,style:{width:"100%"},children:new yt({className:["gallery-navigation-controls"],children:[new Fl({icon:new et({icon:"fa fa-chevron-left"}),className:["gallery-nav-button"],onPressed:()=>this.navigate(-1)}),new Fl({icon:new et({icon:"fa fa-chevron-right"}),className:["gallery-nav-button"],onPressed:()=>this.navigate(1)})]})}),new _s({position:Fr.absolute.bottom,style:{width:"100%"},children:[this.actions.length>0&&this.renderActionButtons()]}),new yt({events:{touchstart:this.handleTouchStart,touchmove:this.handleTouchMove,touchend:this.handleTouchEnd},children:[this.renderSlide()]})]})]})}open(){this.bottomSheet=new Iu({className:["gallery-bottom-sheet"],content:this.renderContent(),onClose:()=>{var e;(e=this.onClose)==null||e.call(this),this.cleanup()}}),document.addEventListener("keydown",this.handleKeyDown),this.bottomSheet.show()}close(){var e;(e=this.bottomSheet)==null||e.close(),this.cleanup()}cleanup(){document.removeEventListener("keydown",this.handleKeyDown),this.zoomLevel=1,this.bottomSheet=null}}const ph={MAX_FILE_SIZE:20*1024*1024,SUPPORTED_FORMATS:["image/jpeg","image/png","image/webp"],TEMP_ID_PREFIX:"temp_"};class Lh extends ge{constructor({endpoint:e=null,images:t=[],collection:n="galleries",onImagesChange:i=null,onImageSetAsMain:s=null,onRemoveImage:a=null,hasMainFeature:o=!1,additionalData:c={}}={}){super(),e||console.warn("GalleryUpload: endpoint is required for upload functionality"),this.onImagesChange=i,this.endpoint=e,this.onImageSetAsMain=s,this.onRemoveImage=a,this.hasMainFeature=o,this.collection=n,this.additionalData=c,this.fileInput=null,this.currentLoadingIndicator=null,this.imageViewer=null;const h=this.normalizeImages(t),u=Lh.sortWithMainFirst(h);this.initState({images:u,uploadingCount:0,currentImageIndex:0})}normalizeImages(e){return e.map(t=>({id:t.id,url:t.url,isMain:!!t.isMain,isUploading:!1,progress:100,error:null,fileName:t.fileName||null,...t}))}static sortWithMainFirst(e){return[...e].sort((t,n)=>(n.isMain?1:0)-(t.isMain?1:0))}isTempImage(e){return typeof e.id=="string"&&e.id.startsWith(ph.TEMP_ID_PREFIX)}generateTempId(){return"".concat(ph.TEMP_ID_PREFIX).concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}validateFile(e){if(!e.type.startsWith("image/"))throw new Error("Apenas imagens so permitidas");if(!ph.SUPPORTED_FORMATS.includes(e.type))throw new Error("Formato no suportado: ".concat(e.type,". Use JPEG, PNG ou WebP."));if(e.size>ph.MAX_FILE_SIZE)throw new Error("".concat(e.name," excede o limite de ").concat(ph.MAX_FILE_SIZE/1024/1024,"MB"));return!0}openFilePicker(){var e;(e=this.fileInput)==null||e.click()}async handleFiles(e){if(!e.length||!this.endpoint)return;const t=[],n=[];if(Array.from(e).forEach(s=>{try{this.validateFile(s),t.push(s)}catch(a){n.push(a.message)}}),n.length>0&&$e.showErrorNotification({message:"Erros de validao: ".concat(n.join("; "))}),t.length===0)return;const i=t.map(s=>({id:this.generateTempId(),url:URL.createObjectURL(s),file:s,fileName:s.name,progress:0,isUploading:!0,error:null,isMain:!1}));this.updateImages(s=>[...s,...i]),this.setState(s=>({uploadingCount:s.uploadingCount+t.length})),this.showLoadingIndicator(t.length);try{await this.uploadFilesSequentially(i)}catch(s){console.error("Upload process failed:",s)}finally{this.hideLoadingIndicator(),this.setState(s=>({uploadingCount:Math.max(0,s.uploadingCount-t.length)}))}}async uploadFilesSequentially(e){var t;for(const n of e)try{const{result:i}=await Ut.instance.upload(this.endpoint,n.file,{additionalData:this.additionalData,fieldName:"images[]",onProgress:({loaded:a,total:o})=>{const c=o?Math.round(a/o*100):0;this.updateImage(n.id,{progress:c})}}),s=i[this.collection].images;this.replaceTempImage(n.id,{id:s.id,url:s.url,isUploading:!1,progress:100,error:null,isMain:!!s.isMain})}catch(i){const s=((t=i==null?void 0:i.response)==null?void 0:t.message)||i.message||"Falha no upload";this.updateImage(n.id,{isUploading:!1,error:s})}finally{n.url&&URL.revokeObjectURL(n.url)}}showLoadingIndicator(e){this.currentLoadingIndicator=new ui({message:"Por favor aguarde, carregando ".concat(e," imagem(ns)"),dismissable:!1}),this.currentLoadingIndicator.show()}hideLoadingIndicator(){this.currentLoadingIndicator&&(this.currentLoadingIndicator.close(),this.currentLoadingIndicator=null)}updateImage(e,t){this.updateImages(n=>n.map(i=>i.id===e?{...i,...t}:i))}replaceTempImage(e,t){this.updateImages(n=>{const i=n.findIndex(o=>o.id===e);if(i===-1)return n;const s=[...n],a=s[i];return this.isTempImage(a)&&URL.revokeObjectURL(a.url),s[i]={...a,...t,file:void 0},Lh.sortWithMainFirst(s)})}updateImages(e){this.setState(t=>{var i;const n=Lh.sortWithMainFirst(e(t.images));return(i=this.onImagesChange)==null||i.call(this,n),{images:n}})}async setMainImage(e){var t;if(!(!e||e.isUploading||!this.onImageSetAsMain))try{await this.onImageSetAsMain(e),this.updateImages(n=>n.map(i=>({...i,isMain:i.id===e.id})))}catch(n){console.error("Failed to set main image:",n),$e.showErrorNotification({message:"Erro ao definir imagem principal"})}finally{(t=this.imageViewer)==null||t.close()}}async removeImage(e){if(!e||e.isUploading||!this.onRemoveImage)return;const t=$e.showConfirmationDialog({title:"Deseja realmente remover a imagem?",subtitle:"Esta imagem vai ser removida permanentemente. Por favor confirme antes de remover. Esta ao no pode ser revertida.",onConfirm:async()=>{var n;try{await this.onRemoveImage(e),this.updateImages(i=>i.filter(s=>s.id!==e.id)),(n=this.imageViewer)==null||n.close()}catch(i){console.error("Failed to remove image:",i),$e.showErrorNotification({message:"Erro ao remover imagem"})}finally{t.close()}},onCancel:()=>{t.close()}})}renderImageCard(e){const t=Number(this.hasMainFeature&&e.isMain);return new kn({className:["gallery-image-card",t?"main-image":""],bodyStyle:{padding:"0"},events:{click:()=>this.openImageSheet(this.state.images.findIndex(n=>n.id===e.id))},body:new hp({children:[t?new _s({position:Fr.absolute.topRight,className:["gallery-main-badge"],children:[new dp({label:"Foto Principal"})]}):null,new _s({children:[new Ac({src:e.url,className:["gallery-image"],figureStyle:{height:"100%",width:"100%"}})]}),e.isUploading&&this.renderUploadOverlay(e),e.error&&this.renderErrorOverlay(e.error)].filter(Boolean)})})}renderUploadOverlay(e){return new _s({position:Fr.absolute.topLeft,className:["gallery-overlay","gallery-upload-overlay"],children:[new Ge({style:{alignItems:"center",justifyContent:"center"},children:[new Mc({size:60}),new ze({text:"".concat(e.progress,"%"),style:{fontSize:"18px",fontWeight:"bold"}})]})]})}renderErrorOverlay(e){return new _s({position:Fr.absolute.topLeft,className:["gallery-overlay","gallery-error-overlay"],children:[new Ge({style:{alignItems:"center",justifyContent:"center"},children:[new ze({text:e,style:{fontWeight:"500"}})]})]})}openImageSheet(e){this.setState({currentImageIndex:e}),this.imageViewer=new Xb({images:this.state.images,initialIndex:e,showMainBadge:this.hasMainFeature,onNavigate:t=>{this.setState({currentImageIndex:t})},actions:[this.hasMainFeature&&{label:"Definir como Principal",icon:"fa fa-star",onPress:t=>this.setMainImage(t),isVisible:t=>!Number(t.isMain)},{label:"Remover",theme:ht.button.type.danger,icon:"fa fa-trash",isDestructive:!0,onPress:t=>this.removeImage(t)}].filter(Boolean),onClose:()=>{this.imageViewer=null}}),this.imageViewer.open()}renderFileInput(){return new ge({tagName:"input",props:{type:"file",multiple:!0,accept:"image/*",hidden:!0},events:{change:e=>{var t;(t=e.target.files)!=null&&t.length&&(this.handleFiles(e.target.files),e.target.value="")}},onAttached:e=>this.fileInput=e})}renderUploadButton(){return new jr({watch:()=>{const{uploadingCount:e}=this.state,t=ph.MAX_FILE_SIZE/1024/1024,n=e?"Carregando ".concat(e,"..."):"Adicionar Fotos",i=e?"fa fa-spinner fa-spin":"fa fa-plus";return new Ge({style:{width:"100%",alignItems:"center",gap:"12px"},children:[new Qr({label:n,prefixIcon:new et({icon:i}),disabled:!!e||!this.endpoint,style:{width:"100%"},onPressed:()=>this.openFilePicker()}),new ze({text:"Formatos: JPEG, PNG, WebP  Mximo: ".concat(t,"MB"),style:{fontSize:"13px",color:"#6c757d",textAlign:"center",lineHeight:"1.4"}})]})}})}renderGalleryGrid(){return new jr({className:["gallery-upload-container"],watch:()=>{const{images:e}=this.state;return e.length?new gg({count:e.length,breakpoints:{lg:3,md:4,sm:6},gap:"8px",builder:t=>this.renderImageCard(e[t])}):new s6}})}render(){return this.children=[new Ge({className:["gallery-upload-wrapper"],children:[this.renderFileInput(),new Je({children:[new ft({breakpoints:{lg:8},style:{margin:"auto"},children:[this.renderUploadButton()]})]}),this.renderGalleryGrid()]})],super.render()}detach(){var e;this.state.images.forEach(t=>{this.isTempImage(t)&&URL.revokeObjectURL(t.url)}),(e=this.imageViewer)==null||e.close(),this.hideLoadingIndicator(),super.detach()}}class a6{static async generateDescription({formData:e}){var n,i,s,a,o,c,h,u,p;const t=new ui({message:"Por favor aguarde..."});try{t==null||t.show();const{title:g,price:d,room:_,bathroom:y,area:b,category_id:E,finality_id:D,currency_id:N}=e,I=await Ut.instance.get("/categories/".concat(E)),X=await Ut.instance.get("/finalities/".concat(D)),he=await Ut.instance.get("/currencies/".concat(N)),G=((i=(n=I==null?void 0:I.result)==null?void 0:n.data)==null?void 0:i.name)||"Categoria Desconhecida",q=((a=(s=X==null?void 0:X.result)==null?void 0:s.data)==null?void 0:a.name)||"Finalidade Desconhecida",O=((c=(o=he==null?void 0:he.result)==null?void 0:o.data)==null?void 0:c.symbol)||"MZN",ee=q.toLowerCase().includes("Arrendar"),P=ee?"arrendatrios":"compradores",z=ee?"arrendar":"comprar",te="\n                Gera uma descrio concisa e profissional para um imvel entre 100-150 palavras.\n\n                **DETALHES DO IMVEL:**\n                - Ttulo: ".concat(g||"Imvel Moderno","\n                - Preo: ").concat(d||"Contacte para preo"," ").concat(O,"\n                - Quartos: ").concat(_||"N/A","\n                - Casas de Banho: ").concat(y||"N/A","\n                - rea: ").concat(b||"N/A"," m\n                - Categoria: ").concat(G,"\n                - Finalidade: ").concat(q,"\n                - Pblico-Alvo: ").concat(P,"\n                - Ao Desejada: ").concat(z,"\n\n                **INSTRUES:**\n                1. Escreva uma descrio envolvente e orientada ao mercado\n                2. Destaque as caractersticas principais\n                3. Inclua uma chamada para ao clara no final\n                4. Formate em HTML simples com tags: <p>, <strong>, <ul>, <li>\n                5. **IMPORTANTE:** Comece diretamente com a formatao HTML sem nenhuma introduo ou texto prvio\n                6. **IMPORTANTE:** Garanta que a descrio esteja COMPLETA e bem finalizada\n\n                **FORMATO EXIGIDO:**\n                <p><strong>[Ttulo]</strong></p>\n                <p>[Introduo envolvente]</p>\n                <ul>\n                <li>[Caracterstica 1]</li>\n                <li>[Caracterstica 2]</li>\n                </ul>\n                <p>[Texto descritivo adicional]</p>\n                <p><strong>[Chamada para ao]</strong></p>\n            "),ce=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{Authorization:"Bearer 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","Content-Type":"application/json"},body:JSON.stringify({model:"llama-3.1-8b-instant",messages:[{role:"system",content:"s um assistente especializado em descries imobilirias profissionais e atrativas em portugus de Portugal."},{role:"user",content:te}],max_tokens:500,temperature:.7})});if(!ce.ok)throw new Error("Groq API error: ".concat(ce.status," ").concat(ce.statusText));const be=await ce.json(),Ce=((p=(u=(h=be==null?void 0:be.choices[0])==null?void 0:h.message)==null?void 0:u.content)==null?void 0:p.trim())||"Falha ao gerar descrio.";return $e.showSuccessNotification({message:"Descrio gerada com sucesso!"}),Ce}catch(g){throw console.error("Error generating description:",g),$e.showErrorNotification({message:"Erro ao gerar descrio com IA."}),g}finally{t==null||t.close()}}}class o6 extends ge{constructor({formData:e,onChange:t,onAIGenerate:n}){super(),this.formData=e,this.onChange=t,this.onAIGenerate=n}createInputs(){return new Ge({gap:"20px",children:[new Je({children:[new ft({breakpoints:{lg:7},children:[new ts({label:"Ttulo do Imvel",name:"title",value:this.formData.title||"",onChange:e=>this.onChange("title",e)})]}),new ft({breakpoints:{lg:3},children:[new ts({label:"Preo",name:"price",value:this.formData.price||"",onChange:e=>this.onChange("price",e)})]}),new ft({breakpoints:{lg:2},children:[new ya({future:Ut.instance.get("/currencies"),label:"Moeda",name:"currency_id",placeholder:"Selecione",value:this.formData.currency_id,proxyData:e=>e.result.currencies.map(t=>({label:t.name,value:t.id})),onChange:e=>this.onChange("currency_id",e)})]})]}),new Je({children:[new ft({breakpoints:{lg:4},children:[new ts({label:"Quartos",name:"room",value:this.formData.room||"",onChange:e=>this.onChange("room",e)})]}),new ft({breakpoints:{lg:4},children:[new ts({label:"Casas de banho",name:"bathroom",value:this.formData.bathroom||"",onChange:e=>this.onChange("bathroom",e)})]}),new ft({breakpoints:{lg:4},children:[new ts({label:"rea (m)",name:"area",value:this.formData.area||"",onChange:e=>this.onChange("area",e)})]})]}),new Je({children:[new ft({breakpoints:{lg:3},children:[new ya({future:Ut.instance.get("/categories"),label:"Categoria",name:"category_id",value:this.formData.category_id,proxyData:e=>e.result.categories.map(t=>({label:t.name,value:t.id})),onChange:e=>this.onChange("category_id",e)})]}),new ft({breakpoints:{lg:3},children:[new ya({future:Ut.instance.get("/finalities"),label:"Finalidade",name:"finality_id",value:this.formData.finality_id,proxyData:e=>e.result.finalities.map(t=>({label:t.name,value:t.id})),onChange:e=>this.onChange("finality_id",e)})]}),new ft({breakpoints:{lg:3},children:[new ya({future:Ut.instance.get("/owners"),label:"Proprietrio",name:"owner_id",value:this.formData.owner_id,proxyData:e=>e.result.owners.map(t=>({label:t.name,value:t.id})),onChange:e=>this.onChange("owner_id",e)})]}),new ft({breakpoints:{lg:3},children:[new ya({future:Ut.instance.get("/users"),label:"Responsvel",name:"responsible_id",value:this.formData.responsible_id,proxyData:e=>e.result.users.map(t=>({label:t.name,value:t.id})),onChange:e=>this.onChange("responsible_id",e)})]})]}),new Je({children:[new ft({breakpoints:{lg:12},children:[new Hh({name:"description",label:"Descrio do Imvel",value:this.formData.description||"",style:{height:"12rem"},onChange:e=>this.onChange("description",e)})]})]}),new Je({children:[new ft({breakpoints:{lg:3},children:[new Qr({label:"Gerar com IA",prefixIcon:new et({icon:"fa-solid fa-robot"}),theme:ht.button.type.secondary,style:{height:"3rem"},onPressed:this.onAIGenerate})]})]})]})}}function l6(r,e){r.src=e}const c6=r=>{var e,t,n,i="The Google Maps JavaScript API",s="google",a="importLibrary",o="__ib__",c=document,h=window,u=h[s]||(h[s]={}),p=u.maps||(u.maps={}),g=new Set,d=new URLSearchParams,_=()=>e||(e=new Promise(async(y,b)=>{var E;await(t=c.createElement("script")),d.set("libraries",[...g]+"");for(n in r)d.set(n.replace(/[A-Z]/g,D=>"_"+D[0].toLowerCase()),r[n]);d.set("callback",s+".maps."+o),l6(t,"https://maps.googleapis.com/maps/api/js?"+d),p[o]=y,t.onerror=()=>e=b(Error(i+" could not load.")),t.nonce=((E=c.querySelector("script[nonce]"))==null?void 0:E.nonce)||"",c.head.append(t)}));p[a]?console.warn(i+" only loads once. Ignoring:",r):p[a]=(y,...b)=>g.add(y)&&_().then(()=>p[a](y,...b))},h6=r=>"The setOptions() function should only be called once. The options passed to the additional call (".concat(JSON.stringify(r),") will be ignored."),u6=r=>"The google.maps.importLibrary() function is already defined, and @googlemaps/js-api-loader will use the existing function instead of overwriting it. The options passed to setOptions (".concat(JSON.stringify(r),") will be ignored."),f6=()=>{},d6=()=>{};let Pw=!1;function p6(r){if(Pw){f6(h6(r));return}m6(r),Pw=!0}async function x0(r){var e,t;if(!((t=(e=window==null?void 0:window.google)==null?void 0:e.maps)!=null&&t.importLibrary))throw new Error("google.maps.importLibrary is not installed.");return await google.maps.importLibrary(r)}function m6(r){var t,n;const e=!!((n=(t=window.google)==null?void 0:t.maps)!=null&&n.importLibrary);e&&d6(u6(r)),e||c6(r)}const g6="AIzaSyAOapxEBFvTxO9anSKTyW9qizS32N4-zBs",Gs=class Gs{constructor(e={}){this.map=null,this.marker=null,this.options={zoom:15,mapTypeId:"roadmap",mapId:"943534829a0eaca861346f95",disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!0,...e}}static async ensureLibraryLoaded(){p6({apiKey:g6,version:"weekly",libraries:["places","marker"]})}async initMap(e,{lat:t=-25.9267,lng:n=32.6338,title:i="Location"}={}){await Gs.ensureLibraryLoaded();const{Map:s}=await x0("maps"),{AdvancedMarkerElement:a}=await x0("marker"),{places:o}=await x0("places");return this.map=new s(e,this.options),this.map.setCenter({lat:t,lng:n}),this.marker=new a({map:this.map,position:{lat:t,lng:n},title:i,gmpDraggable:!0}),Gs.autocompleteService||(Gs.autocompleteService=o.AutocompleteService()),Gs.placesService||(Gs.placesService=PlacesService(this.map)),Gs.geocoder||(Gs.geocoder=new google.maps.Geocoder),{map:this.map,marker:this.marker}}static async search(e,t={}){await this.ensureLibraryLoaded();const{countryCode:n="mz",limit:i=5,types:s=["geocode","establishment"]}=t;return this.autocompleteService||(this.autocompleteService=new google.maps.places.AutocompleteService),new Promise(a=>{const o={input:e,types:s,componentRestrictions:{country:n}};this.autocompleteService.getPlacePredictions(o,(c,h)=>{if(h!==google.maps.places.PlacesServiceStatus.OK||!c){a([]);return}const p=c.slice(0,i).map(g=>this.getPlaceDetails(g.place_id));Promise.all(p).then(g=>{a(g.filter(d=>d!==null))})})})}static async getPlaceDetails(e){if(!this.placesService){const t=document.createElement("div");this.placesService=new google.maps.places.PlacesService(t)}return new Promise(t=>{this.placesService.getDetails({placeId:e,fields:["name","formatted_address","geometry","place_id"]},(n,i)=>{i===google.maps.places.PlacesServiceStatus.OK?t({name:n.name,address:n.formatted_address,lat:n.geometry.location.lat(),lng:n.geometry.location.lng(),place_id:n.place_id}):t(null)})})}};dt(Gs,"autocompleteService",null),dt(Gs,"placesService",null),dt(Gs,"geocoder",null),dt(Gs,"loader",null);let Nd=Gs;class vm{constructor(e=300){this.delay=e,this.timeout=null}debounce(e){return(...t)=>{clearTimeout(this.timeout),this.timeout=setTimeout(()=>{e.apply(this,t)},this.delay)}}}class v6 extends ge{constructor({formData:e,onChange:t}){super(),this.formData=e,this.onChange=t,this.googleService=new Nd,this.performSearch=new vm(300).debounce(async n=>{if(!(n!=null&&n.trim())){this.setState({searchResults:[]});return}try{this.setState({isLoading:!0});const i=await Nd.search(n,{countryCode:"mz",limit:5});this.setState({searchResults:i||[]})}catch(i){console.error("Google Search failed:",i),this.setState({searchResults:[]})}finally{this.setState({isLoading:!1})}}),this.initState({searchResults:[],inputHasValue:!1,isLoading:!1})}createInputs(){return new Ge({gap:"20px",children:[new Je({children:[new ft({breakpoints:{lg:9},children:[new hp({children:[new _s({alignment:"topLeft",children:[new ts({label:"Endereo do Imvel",value:this.formData.address||"",placeholder:"Digite o endereo...",onChange:e=>{this.onChange("address",e),this.setState({inputHasValue:!!e.trim()}),this.performSearch(e)},onMounted:(e,t)=>{this.addressInputElement=t.inputElement}})]}),new jr({watch:()=>{const{searchResults:e,inputHasValue:t,isLoading:n}=this.state;return new _s({style:{position:"absolute",top:"100%",left:0,right:0,maxHeight:"300px",overflowY:"auto",background:"white",border:"1px solid #ddd",borderRadius:"0 0 8px 8px",padding:"1rem",display:t?"flex":"none",flexDirection:"column",zIndex:Fr.z.xtopmost},children:n?[new Mc]:new Ge({children:[new et({icon:"fa fa-times",style:{cursor:"pointer",padding:".8rem"},events:{click:()=>this.setState({searchResults:[],inputHasValue:!1})}}),...e.map((i,s)=>new yt({key:s,padding:"1rem",style:{cursor:"pointer",borderBottom:"1px solid #ddd"},hoverStyle:{backgroundColor:"#f0f8ff"},events:{click:()=>{if(this.onChange("address",i.address),this.onChange("latitude",i.lat),this.onChange("longitude",i.lng),this.setState({searchResults:[],inputHasValue:!1}),this.googleService.map){const a={lat:i.lat,lng:i.lng};this.googleService.map.setCenter(a),this.googleService.map.setZoom(18),this.googleService.marker.position=a,this.googleService.marker.title=i.address}}},children:[new ze({text:i.address||i.name,style:{fontSize:"14px"}})]}))]})})}})]})]}),new ft({breakpoints:{lg:3},children:[new ya({future:Ut.instance.get("/neighborhoods"),label:"Bairro",placeholder:"Selecione o bairro",value:this.formData.neighborhood_id,proxyData:e=>e.result.neighborhoods.map(t=>({label:t.name,value:t.id})),onChange:e=>this.onChange("neighborhood_id",e)})]})]}),new ft({breakpoints:{lg:12},children:[new yt({style:{height:"25rem",width:"100%",borderRadius:"8px",overflow:"hidden"},onMounted:async e=>{await this.googleService.initMap(e,{lat:parseFloat(this.formData.latitude)||-25.9267,lng:parseFloat(this.formData.longitude)||32.6338,title:this.formData.address||"Localizao"}),this.formData.latitude&&this.googleService.map&&this.googleService.map.setZoom(18)}})]})]})}}class w6 extends ge{constructor({selected:e=[],onChange:t}){super(),this.selected=e,this.onChange=t}toggleFeature(e){const t=this.selected.includes(e)?this.selected.filter(n=>n!==e):[...this.selected,e];this.selected=t,this.onChange(t)}createInputs(){return new $h({future:Ut.instance.get("/features"),onLoading:()=>new Mc,builder:({result:e})=>{const t=e.features||[];return new Ge({children:[new Kd({label:"Pesquisar comodidade...",onChange:n=>{Array.from(this.featuresColumn.children).forEach(i=>{var a;const s=((a=i.querySelector("label"))==null?void 0:a.textContent)||"";i.style.display=s.toLowerCase().includes(n.toLowerCase())?"":"none"})}}),new Ge({children:t.map(n=>(console.log(n),new el({label:n.name,checked:this.selected.includes(n.id),onChange:()=>this.toggleFeature(n.id)}))),onMounted:n=>this.featuresColumn=n})]})}})}}class y6{process(e,t={}){const i={...{separator:"-",lowerCase:!0,replaceSpecialChars:!0,maxLength:200,transliterate:!1},...t};let s=e;return i.transliterate&&(s=transliterate(s)),i.lowerCase&&(s=s.toLowerCase()),i.replaceSpecialChars&&(s=s.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\w\s-]/g,"").replace(/\s+/g,i.separator).replace(new RegExp("".concat(i.separator,"+"),"g"),i.separator)),s=s.replace(new RegExp("^".concat(i.separator,"+")),"").replace(new RegExp("".concat(i.separator,"+$")),"").substring(0,i.maxLength).replace(new RegExp("".concat(i.separator,"+$")),""),s}transliterate(e){const t={:"ae",:"oe",:"ue",:"ss",:"ae",:"oe",:"aa",:"e",:"e",:"e",:"e",:"a",:"a",:"a",:"a",:"c",:"n",:"s",:"z",:"c",:"c",:"dj"};return e.replace(/[^\u0000-\u007E]/g,n=>t[n]||n)}}const Rw=[{key:"publishWebsiteChannel",channel:"website",title:"Publicar no Website",icon:"fa-solid fa-earth"},{key:"publishFacebookChannel",channel:"facebook",title:"Publicar no Facebook",icon:"fa-brands fa-facebook"},{key:"publishLinkedInChannel",channel:"linkedin",title:"Publicar no LinkedIn",icon:"fa-brands fa-linkedin-in"},{key:"publishWhatsappOwnerChannel",channel:"whatsapp_owner",title:"Publicar no Whatsapp",icon:"fa-brands fa-whatsapp"},{key:"publishGoogleSheetChannel",channel:"google_sheet",title:"Publicar no Google Sheet",icon:"fa-brands fa-google-drive"}];class _6 extends ge{constructor({formData:e}){super(),this.formData=this.sanitizeFormData(e);const t=Rw.reduce((n,{key:i,channel:s})=>{var o;const a=(o=e.publishOptions)==null?void 0:o.find(c=>c.channel===s);return n[i]=a?[a]:[],n},{});this.initState(t)}sanitizeFormData(e){const t={...e};return["assets","galleries","users","owners"].forEach(n=>{delete t[n]}),t}async publishChannel(e,t){try{const n=await Ut.instance.post("/property/publish-channel",{property_id:this.formData.id,channel:t});n!=null&&n.result&&this.setState(i=>({...i,[e]:n.result}))}catch(n){console.error("Error publishing to ".concat(t,":"),n)}}createChannelTile({key:e,channel:t,title:n,icon:i}){return new jr({watch:()=>{const s=this.state[e][0],a=s!=null&&s.updated_at?"ltima publicao em ".concat(s.updated_at):"No publicado";return new _n({className:["settings-item-component"],title:n,subtitle:a,leading:new et({icon:i}),trailing:new Qr({style:{height:"1.8rem!important",minWidth:"80px"},label:"Publicar",onPressed:async()=>{if(e==="publishWebsiteChannel"){const o=new y6().process(this.formData.title);this.formData={...this.formData,slug:o},console.log("Dados a serem gravados...",this.formData);const{result:c,status:h}=await yc.saveProperty(this.formData);if(c.status!=="success")return}this.publishChannel(e,t)}})})}})}render(){return this.children=[new Ge({style:{height:"100%",width:"100%"},children:Rw.map(e=>this.createChannelTile(e))})],super.render()}}class b6 extends ge{constructor({activeStep:e,onStepChange:t}){super({style:{position:"sticky",top:"calc(5rem + 20px)"}}),this.activeStep=e,this.onStepChange=t}render(){return this.children=[new jr({watch:()=>new Ge({children:gm.map((e,t)=>new _n({className:["settings-item-component"],style:{borderRadius:"1rem",...this.activeStep===t?{backgroundColor:"#cad3ff"}:{}},title:e.title,subtitle:e.subtitle,leading:new et({icon:e.leading}),trailing:new et({icon:this.activeStep===t?"fa fa-check-circle":"fa fa-circle"}),onTap:()=>this.onStepChange(t)}))})})],super.render()}}const x6=[{label:"Disponvel",value:1},{label:"Vendido",value:2},{label:"Arrendado",value:3},{label:"Suspenso",value:0}];class S6 extends ge{constructor({formData:e,onChange:t}){super(),this.formData=e,this.onChange=t}createPage(){return new Ge({children:[new Je({children:[new ft({breakpoints:{lg:3},children:[new el({label:"Colocar como destaque",name:"emphasis",checked:!!this.formData.emphasis,onChange:e=>this.onChange("emphasis",e?1:0)})]})]}),new Je({children:[new ft({breakpoints:{lg:3},children:[new s2({name:"status",layout:"horizontal",value:this.formData.status,required:!0,data:x6,onChange:e=>this.onChange("status",e)})]})]})]})}render(){return this.children=[this.createPage()],super.render()}}let Ow=class extends ge{constructor({args:e}){super(),this.propertyId=e==null?void 0:e.propertyId,this.formData={},this.uploadedImages=[],this.uploadedAssets=[],this.controller=new ta,this.initState({currentActiveStep:0,isLoading:!0,activeStepLabel:gm[0]})}async mounted(){try{if(this.propertyId){const{result:e}=await yc.getProperty(this.propertyId),n=e.data[0].features.map(i=>i.feature_id);this.formData={...e.data[0],features:n},this.uploadedImages=(this.formData.galleries||[]).map(i=>({id:i.id,url:i.url,isMain:i.isMain,fileName:i.original_name||"Imagem"})),this.uploadedAssets=(this.formData.assets||[]).map(i=>({id:i.id,url:i.url,isMain:i.isMain,fileName:i.original_name||"Imagem"}))}}catch(e){$e.showErrorNotification({message:"Erro ao carregar imvel"}),console.log(e)}finally{this.setState({isLoading:!1})}}getCurrentComponent(){const e=this.state.currentActiveStep,t={formData:this.formData,onChange:(n,i)=>{this.formData[n]=i}};switch(e){case 0:return new o6({...t,onAIGenerate:async()=>{const n=await a6.generateDescription({formData:this.formData});n&&this.controller.setFieldValue("description",n)}}).createInputs();case 1:return new v6(t).createInputs();case 2:return new w6({selected:this.formData.features||[],onChange:n=>this.formData.features=n}).createInputs();case 3:return new Lh({endpoint:"property/images/upload",additionalData:{property_id:this.propertyId},images:this.uploadedImages,onImagesChange:n=>{this.uploadedImages=n},onImageSetAsMain:async n=>{try{await yc.setAsMainImage(n)}catch(i){throw new Error(i)}},onRemoveImage:async n=>{try{await yc.removePropertyPhoto(n),this.uploadedImages=this.uploadedImages.filter(i=>i.id!==n.id)}catch(i){$e.showErrorNotification({message:"Erro ao remover imagem"})}},hasMainFeature:!0});case 4:return new Lh({endpoint:"property/assets/upload",additionalData:{property_id:this.propertyId},images:this.uploadedAssets,collection:"assets",onImagesChange:n=>{this.uploadedAssets=n},onRemoveImage:async n=>{try{await yc.removeAsset(n),this.uploadedImages=this.uploadedImages.filter(i=>i.id!==n.id)}catch(i){$e.showErrorNotification({message:"Erro ao remover imagem"})}}});case 5:return new S6({...t});case 6:return new _6({formData:this.formData});default:return new yt}}render(){return this.children=[new Ge({children:[new Es({title:"Actualizar Imvel",subtitle:"Altere e mantenha as informaes do imvel actualizadas",onBack:()=>sr.instance.back()}),new Je({children:[new ft({breakpoints:{lg:3},children:[new jr({watch:()=>new b6({activeStep:this.state.currentActiveStep,onStepChange:e=>this.setState({currentActiveStep:e,activeStepLabel:gm[e]})})})]}),new ft({breakpoints:{lg:9},children:[new kn({style:{border:"none"},bodyStyle:{padding:"0"},header:new jr({watch:()=>{const e=this.state.activeStepLabel;return new Je({children:[new et({icon:e.leading}),new ze({text:e.title})]})}}),body:new jr({watch:()=>this.state.isLoading?$e.createLoadingSpinner():new to({style:{padding:"1rem"},controller:this.controller,children:[this.getCurrentComponent()]})})})]})]})]})],super.render()}};class bh{static async getVisit(e){try{return await Ut.instance.get("/visits/".concat(e))}catch(t){throw console.error("Error fetching Visit:",t),t}}static async createVisit(){try{return await Ut.instance.post("/visits/create")}catch(e){throw console.error("Error creating Visit:",e),e}}static async saveVisit(e){const t=new ui;try{t==null||t.show();const{result:n,status:i}=await Ut.instance.put("/visits/".concat(e.id),e);return i===200&&n.status==="success"&&$e.showSuccessNotification({message:"Visita salvo com sucesso"}),{result:n,status:i}}catch(n){throw console.error("Error saving Visit:",n),n}finally{t==null||t.close()}}static async removeVisit(e){const t=new ui({message:"Por favor aguarde...",dismissable:!1});try{t==null||t.show();const{result:n,status:i}=await Ut.instance.delete("/visits/".concat(e));return i===200&&n.status==="success"&&$e.showSuccessNotification({message:"Visita removido com sucesso"}),{result:n,status:i}}catch(n){throw console.error("Error removing visit:",n),$e.showErrorNotification({message:"Ocorreu um erro ao remover o Visita"}),n}finally{t==null||t.close()}}static async addNotes(e){const t=new ui;try{t==null||t.show();const{result:n,status:i}=await Ut.instance.post("/visits/".concat(e.visit_id,"/notes/create"),e);return{result:n,status:i}}catch(n){throw console.error("Error saving Visit:",n),n}finally{t==null||t.close()}}}class Cl{static formatPrice(e){return!e||e<=0?"Preo sob consulta":new Intl.NumberFormat("pt-MZ",{style:"currency",currency:"MZN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}static createStatItem(e,t,n){return{icon:e,label:t,value:n}}static getMainImage(e){return(e==null?void 0:e.find(t=>t.isMain==1))||e[0]}static shareProperty(e){var t;return navigator.share?(navigator.share({title:e==null?void 0:e.title,text:((t=e==null?void 0:e.description)==null?void 0:t.substring(0,100))+"...",url:window.location.href}).catch(console.error),null):(navigator.clipboard.writeText(window.location.href),"Link do imvel copiado para a rea de transferncia!")}static getPropertyStats(e){return[this.createStatItem("fas fa-bed","Quartos",(e==null?void 0:e.bedrooms)||"-"),this.createStatItem("fas fa-bath","Casas de banho",(e==null?void 0:e.bathrooms)||"-"),this.createStatItem("fas fa-ruler-combined","rea",e!=null&&e.area?"".concat(e==null?void 0:e.area," m"):"-"),this.createStatItem("fas fa-car","Garagens",(e==null?void 0:e.garages)||"-"),this.createStatItem("fas fa-building","Andar",(e==null?void 0:e.floor)||"-")]}}const uc={container:{backgroundColor:"#ffffff",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)",overflow:"hidden",border:"1px solid #e0e0e0",transition:"all 0.2s ease",padding:"0.5rem"},headerRow:{alignItems:"center",padding:"0.75rem 1rem",backgroundColor:"#f9f9f9",borderBottom:"1px solid #eee"},title:{fontSize:"1.1rem",fontWeight:"600",color:"#2c3e50",flex:1},searchButton:{padding:"0.65rem",borderRadius:"50%",backgroundColor:"transparent",transition:"background-color 0.2s ease"},icon:{fontSize:"1.1rem",color:"#666"},content:{padding:"1.5rem 1rem",minHeight:"120px",display:"flex",alignItems:"center",justifyContent:"center"},placeholder:{color:"#888",fontSize:"0.95rem",textAlign:"center",fontStyle:"italic"}};class rd extends ge{constructor({title:e="Pesquisar",placeholder:t="Pesquisar...",endpoint:n=null,dataMapper:i=c=>(c==null?void 0:c.data)||[],itemBuilder:s=c=>new ze({text:c.name||"Item"}),onItemSelected:a=null,onInit:o=null}={}){super({style:{width:"100%",marginBottom:"1rem"}}),this.title=e,this.placeholder=t,this.endpoint=n,this.dataMapper=i,this.itemBuilder=s,this.onItemSelected=a,this.onInit=o,this.controller=new Xd,this.debouncer=new vm(300),this.limit=50,this.performSearch=new vm(300).debounce(async c=>{this.controller.setParams({query:{searchKeyword:c,limit:this.limit}})}),this.initState({selectedItem:null})}createHeader(){return new Je({rowContainerStyle:{width:"100%",marginBottom:"0.5rem"},rowStyle:uc.headerRow,children:[new ze({text:this.title,style:uc.title}),new Fl({icon:new et({icon:"fa fa-search",style:uc.icon}),style:uc.searchButton,ariaLabel:"Abrir busca",onPressed:()=>this.openSearchOffCanvas()})]})}createPlaceholder(){return new yt({style:uc.content,children:[new ze({text:"Toque no cone de pesquisa para selecionar",style:uc.placeholder})]})}openSearchOffCanvas(){if(!this.endpoint){console.warn("SearchComponent: endpoint not provided");return}this.offCanvas=new qn({content:[new Ge({style:{height:"100%",padding:"1rem",overflowY:"auto"},children:[new mi({text:this.title}),new Kd({label:this.placeholder,debounce:400,onChange:e=>{this.performSearch(e)}}),new $h({future:e=>Ut.instance.get("".concat(this.endpoint,"?").concat(new URLSearchParams(e.query))),params:{query:{searchKeyword:"",limit:this.limit}},controller:this.controller,builder:({result:e,status:t})=>{if(t!==200)return new ze({text:"Erro ao carregar dados",style:{color:"red",textAlign:"center"}});const n=this.dataMapper(e);return!Array.isArray(n)||n.length===0?new ze({text:"Nenhum resultado encontrado",style:{color:"#888",padding:"2rem"}}):new Ge({children:n.map(i=>{const s=this.itemBuilder(i);return new yt({style:{width:"100%"},children:[s],events:{click:()=>{var a,o;(a=this.onItemSelected)==null||a.call(this,i),this.setState(()=>({selectedItem:i})),(o=this.offCanvas)==null||o.close()}}})})})},onLoading:()=>$e.createLoadingSpinner()})]})]}),this.offCanvas.show()}create(){var t;const e=(t=this.onInit)==null?void 0:t.call(this);return console.log(e),e&&this.setState(()=>({selectedItem:e})),new yt({style:uc.container,children:[this.createHeader(),new jr({watch:()=>{const n=this.state.selectedItem;return n?this.itemBuilder(n):this.createPlaceholder()}})]})}render(){return this.children=[this.create()],super.render()}}class Jb extends ge{constructor({property:e,initialValues:t={},onScheduleVisit:n,onClose:i=null}={}){var a;super({style:{width:"100%"}});const s={...t,property_id:(a=this.property)==null?void 0:a.id};this.initialValues=s,this.formData=s,this.property=e,this.onScheduleVisit=n,this.onClose=i,this.controller=new ta}create(){return new Ge({style:{overflowY:"auto",height:"100%",padding:"1rem"},children:[new Es({title:"Marcar visita",subtitle:"Agende uma visita para este imvel"}),this._createForm()]})}_createForm(){return new to({controller:this.controller,initialValues:this.initialValues,children:[new Je({children:[!this.property&&new ft({breakpoints:{lg:12},children:[new rd({title:"Pesquisar Imovel",placeholder:"Pesquisar por nome, descrio ou endereo...",endpoint:"property",dataMapper:e=>(e==null?void 0:e.properties)||[],itemBuilder:e=>new _n({leadingStyle:{background:"none!important"},title:e.title,subtitle:"".concat(e.address||"Sem localizao",", ").concat(e.price),leading:this._renderAvatarBadgeCell(e.title)}),onItemSelected:e=>{this.formData={...this.formData,property_id:e.id}},onInit:()=>this.formData.properties})]}),new ft({breakpoints:{lg:12},children:[new rd({title:"Pesquisar Cliente",placeholder:"Pesquisar por nome, contacto ou e-mail...",endpoint:"clients",dataMapper:e=>(e==null?void 0:e.clients)||[],itemBuilder:e=>new _n({leadingStyle:{background:"none"},title:e.name,subtitle:e.contact_1||e.email||"Sem contato",leading:this._renderAvatarBadgeCell(e.name)}),onItemSelected:e=>{this.formData={...this.formData,client_id:e.id}},onInit:()=>this.formData.clients})]}),new ft({breakpoints:{lg:12},children:[new rd({title:"Pesquisar Agente",placeholder:"Pesquisar por nome, contacto ou e-mail...",endpoint:"/agents",dataMapper:e=>(e==null?void 0:e.agents)||[],itemBuilder:e=>new _n({leadingStyle:{background:"none"},title:e.name,subtitle:e.contact_1||"Sem contato",leading:this._renderAvatarBadgeCell(e.name)}),onItemSelected:e=>{this.formData={...this.formData,agent_id:e.id}},onInit:()=>this.formData.agents})]}),new ft({breakpoints:{lg:6},style:{marginBottom:"1rem"},children:[new Zo({label:"Data",style:{height:"4rem"},props:{minDate:new Date().toISOString().split("T")[0]},name:"scheduled_date",required:!0,onChange:e=>{this.formData={...this.formData,scheduled_date:e}}})]}),new ft({breakpoints:{lg:6},style:{marginBottom:"1rem"},children:[new Zo({label:"Hora",props:{type:"time",minTime:"08:00",maxTime:"20:00"},style:{height:"4rem"},name:"scheduled_time",required:!0,onChange:e=>{this.formData={...this.formData,scheduled_time:e}}})]}),new ft({breakpoints:{lg:6},style:{marginBottom:"1rem"},children:[new Ai({label:"Durao",name:"duration",style:{height:"4rem"},data:[{label:"30 minutos",value:"30"},{label:"1 hora",value:"60"},{label:"1 hora e 30 minutos",value:"90"},{label:"2 horas",value:"120"}],value:"60",onChange:e=>{this.formData={...this.formData,duration:e}}})]}),new ft({breakpoints:{lg:6},style:{marginBottom:"1rem"},children:[new Ai({label:"Tipo de visita",name:"visit_type",style:{height:"4rem"},data:[{label:"Primeira visita",value:"first_visit"},{label:"Visita de acompanhamento",value:"follow_up"},{label:"Visita tcnica",value:"technical"},{label:"Vistoria",value:"inspection"},{label:"Assinatura",value:"signature"}],onChange:e=>{this.formData={...this.formData,visit_type:e}}})]}),new ft({breakpoints:{lg:6},style:{marginBottom:"1rem"},children:[new Ai({label:"Prioridade",name:"priority",style:{height:"4rem"},data:[{label:" Baixa",value:"low"},{label:" Mdia",value:"medium"},{label:" Alta",value:"high"},{label:" Urgente",value:"urgent"}],defaultValue:"medium",onChange:e=>{this.formData={...this.formData,priority:e}}})]}),new ft({breakpoints:{lg:6},style:{marginBottom:"1rem"},children:[new Ai({label:"Status",name:"status",style:{height:"4rem"},data:[{label:" Agendada",value:"scheduled"},{label:" Confirmada",value:"confirmed"},{label:" Pendente",value:"pending"},{label:" Em Andamento",value:"in_progress"},{label:" Concluda",value:"completed"},{label:" Cancelada",value:"cancelled"},{label:" Remarcada",value:"rescheduled"},{label:" No Compareceu",value:"no_show"}],value:"scheduled",onChange:e=>{this.formData={...this.formData,status:e}}})]}),new ft({breakpoints:{lg:12},style:{marginBottom:"1rem"},children:[new ts({label:"Ponto de encontro",name:"meeting_point",style:{height:"4rem"},placeholder:"Ex: Portaria, Recepo, Frente do prdio...",onChange:e=>{this.formData={...this.formData,meeting_point:e}}})]}),new ft({breakpoints:{lg:6},style:{marginBottom:"1rem"},children:[new ts({label:"Telefone de contato",name:"contact_phone",style:{height:"4rem"},placeholder:"(00) 00000-0000",onChange:e=>{this.formData={...this.formData,contact_phone:e}}})]}),new ft({breakpoints:{lg:6},style:{marginBottom:"1rem"},children:[new Ai({label:"Lembrete",name:"reminder",style:{height:"4rem"},data:[{label:"Sem lembrete",value:"none"},{label:"30 minutos antes",value:"30_min"},{label:"1 hora antes",value:"1_hour"},{label:"1 dia antes",value:"1_day"}],value:"1_hour",onChange:e=>{this.formData={...this.formData,reminder:e}}})]}),new ft({breakpoints:{lg:12},style:{marginBottom:"1rem"},children:[new Bc({label:"Observaes",name:"notes",placeholder:"Instrues de acesso, detalhes importantes, observaes especficas...",maxLength:500,showCharCount:!0,onChange:e=>{this.formData={...this.formData,notes:e}}})]}),this._createActionButtons()]})]})}_createActionButtons(){return new ft({breakpoints:{lg:12},children:[new Je({children:[new Qr({label:"Agendar Visita",theme:ht.button.type.primary,onPressed:async()=>{var t;await this.controller.isValid()&&(this.formData.hasOwnProperty("properties")&&delete this.formData.properties,this.formData.hasOwnProperty("clients")&&delete this.formData.clients,this.formData.hasOwnProperty("agents")&&delete this.formData.agents,this.formData.hasOwnProperty("users")&&delete this.formData.users,await((t=this.onScheduleVisit)==null?void 0:t.call(this,this.formData)))}}),new Qr({label:"Fechar",theme:ht.button.type.secondary,onPressed:this.onClose})]})]})}_renderAvatarBadgeCell(e){const t=e||"N/A";return bn.createAvatarBadge(t,{emptyName:"N/A",emptyBackgroundColor:"#e9ecef",emptyTextColor:"#6c757d"})}render(){return this.children=[this.create()],super.render()}}class E6 extends ge{constructor({property:e}){super({style:{width:"100%"}}),this.property=e}create(){return Cl.getMainImage(this.property.galleries),new kn({style:{height:"fit-content!important",width:"100%"},body:new Ge({gap:"20px",children:[this._createHeaderSection(),this._createGallerySection({property:this.property}),this._createStatsSection(),this._createDescriptionSection()]})})}_createHeaderSection(){var e,t;return new Ge({children:[new Je({children:[new ft({breakpoints:{lg:10},children:[new ze({text:(e=this.property)==null?void 0:e.title,style:{fontSize:"2rem"}})]}),new ft({breakpoints:{lg:2},children:[new Ge({style:{alignItems:"flex-end",gap:"0.5rem"},children:[new ze({text:"Cdigo do Imvel",size:ht.text.size.small}),new dp({label:(t=this.property)==null?void 0:t.code,theme:ht.badge.type.primary,style:{fontSize:"1rem",fontWeight:"700",padding:"0.5rem 1rem"}})]})]})]}),new Je({rowStyle:{justifyContent:"space-between"},children:[this._createLocationRow(),this._createViewsRow()]})]})}_createGallerySection(){return new gg({count:this.property.galleries.length,breakpoints:{lg:2},builder:e=>{const t=this.property.galleries[e];return new Ac({src:t.url,events:{click:()=>{this.imageViewer=new Xb({images:this.property.galleries,initialIndex:e,showMainBadge:!1}),this.imageViewer.open()}}})}})}_createLocationRow(){var e;return new Je({rowContainerStyle:{alignItems:"center",gap:"0.5rem",width:"auto",margin:0},children:[new et({icon:"fas fa-map-marker-alt",style:{color:"#667eea"}}),new ze({text:((e=this.property)==null?void 0:e.address)||"Localizao no especificada",style:{color:"#666",fontWeight:"500"}})]})}_createViewsRow(){var e;return new Je({rowContainerStyle:{alignItems:"center",gap:"0.5rem",width:"auto",margin:0},children:[new et({icon:"fas fa-eye",style:{color:"#667eea"}}),new ze({text:"".concat(((e=this.property)==null?void 0:e.views)||0," visualizaes"),style:{color:"#666",fontWeight:"500"}})]})}_createMainImage(e){return new Ac({src:e==null?void 0:e.url,fallbackSrc:new URL("/assets/images/failed-to-load.png",import.meta.url),rounded:!0,shadow:!0,border:!0,style:{aspectRatio:"16/9"},figureStyle:{width:"100%!important"}})}_createStatsSection(){var t,n,i,s,a,o;const e=[Cl.createStatItem("fas fa-bed","Quartos",((t=this.property)==null?void 0:t.bedrooms)||"-"),Cl.createStatItem("fas fa-bath","Casas de banho",((n=this.property)==null?void 0:n.bathrooms)||"-"),Cl.createStatItem("fas fa-ruler-combined","rea",(i=this.property)!=null&&i.area?"".concat((s=this.property)==null?void 0:s.area," m"):"-"),Cl.createStatItem("fas fa-car","Garagens",((a=this.property)==null?void 0:a.garages)||"-"),Cl.createStatItem("fas fa-building","Andar",((o=this.property)==null?void 0:o.floor)||"-")];return new yt({style:{display:"flex",flexDirection:"row",justifyContent:"space-around",textAlign:"center",flexWrap:"wrap",gap:"1rem",width:"100%",backgroundColor:"rgb(248, 249, 250)",padding:"1rem"},children:e.map(c=>this._createStatItem(c))})}_createStatItem(e){return new Ge({style:{alignItems:"center",gap:"0.5rem",width:"auto!important"},children:[new et({icon:e.icon,style:{fontSize:"1.5rem",color:"#667eea"}}),new ze({text:e.value,style:{fontSize:"1.5rem",fontWeight:"700",color:"#1a1a1a"}}),new ze({text:e.label,style:{fontSize:"0.8rem",color:"#666",fontWeight:"500"}})]})}_createDescriptionSection(){return new Ge({style:{padding:"2rem",backgroundColor:"rgb(248, 249, 250)",height:"fit-content!important",flexGrow:"0!important"},children:[new ze({textAsHtml:this.property.description})]})}render(){return this.children=[this.create()],super.render()}}class A6 extends ge{constructor({property:e}){super({style:{width:"100%"}}),this.property=e}create(){var e,t;return new kn({style:{background:"var(--primary)",height:"fit-content!important",width:"100%"},body:new Ge({gap:0,style:{alignItems:"center",textAlign:"center"},children:[new ze({text:"Preo",style:{fontSize:"1rem",opacity:.9,marginBottom:"0.5rem",color:"#fff!important"}}),new ze({text:Cl.formatPrice((e=this.property)==null?void 0:e.price),style:{fontSize:"2.5rem",fontWeight:"800",marginBottom:"1rem",color:"#fff!important"}}),new ze({text:((t=this.property)==null?void 0:t.price_type)||"Venda",style:{fontSize:"1rem",opacity:.9,background:"rgba(255,255,255,0.2)",padding:"0.5rem 1rem",borderRadius:"20px",backdropFilter:"blur(10px)",color:"#fff!important"}})]})})}render(){return this.children=[this.create()],super.render()}}class T6 extends ge{constructor({property:e}){super({style:{width:"100%"}}),this.property=e}create(){return new kn({style:{flexGrow:"0",height:"fit-content!important"},body:new Ge({gap:0,children:[this._createHeader(),this._createOwnerInfo()]})})}_createHeader(){return new Je({style:{alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[new ze({text:"Proprietrio",style:{fontSize:"1.2rem",fontWeight:"700",color:"#1a1a1a"}}),new et({icon:"fas fa-user-tie",style:{color:"#667eea",fontSize:"1.2rem"}})]})}_createOwnerInfo(){var e,t,n,i,s,a;return new Je({rowStyle:{alignItems:"center"},children:[new Je({children:[this._renderAvatarBadgeCell((t=(e=this.property)==null?void 0:e.owners)==null?void 0:t.name),new Ge({children:[new ze({text:(i=(n=this.property)==null?void 0:n.owners)==null?void 0:i.name,style:{color:"#495057",fontWeight:"500",fontSize:"0.9rem"}}),new ze({text:(a=(s=this.property)==null?void 0:s.owners)==null?void 0:a.contact_1,style:{fontSize:"0.8rem",color:"#888"}})]})]})]})}_renderAvatarBadgeCell(e){const t=e||"N/A";return bn.createAvatarBadge(t,{emptyName:"N/A",emptyBackgroundColor:"#e9ecef",emptyTextColor:"#6c757d"})}render(){return this.children=[this.create()],super.render()}}class C6 extends ge{constructor({property:e}){super({style:{width:"100%"}}),this.property=e}create(){const e=this.property.features.length?this.property.features:[];return new kn({style:{flexGrow:"0",height:"fit-content!important"},body:new Ge({style:{overflowY:"auto"},children:[this._createHeader(),this._createFeaturesList(e)]})})}_createHeader(){return new Je({style:{alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[new ze({text:"Comodidades",style:{fontSize:"1.2rem",fontWeight:"700",color:"#1a1a1a"}}),new et({icon:"fas fa-star",style:{color:"#667eea",fontSize:"1.2rem"}})]})}_createFeaturesList(e){return new Ge({style:{gap:"0.75rem"},children:e.map(t=>this._createFeatureItem(t))})}_createFeatureItem(e){return new Je({style:{alignItems:"center",gap:"0.75rem"},children:[new ge({style:{color:"#667eea",width:"20px"},onAttached:t=>{t.insertAdjacentHTML("afterbegin",e.feature.icon_svg)}}),new ze({text:e.feature.name,style:{fontWeight:"500"}})]})}render(){return this.children=[this.create()],super.render()}}var k6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function D6(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var wm={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(r,e){(function(t,n){n(e)})(k6,function(t){var n="1.9.4";function i(l){var f,v,S,k;for(v=1,S=arguments.length;v<S;v++){k=arguments[v];for(f in k)l[f]=k[f]}return l}var s=Object.create||function(){function l(){}return function(f){return l.prototype=f,new l}}();function a(l,f){var v=Array.prototype.slice;if(l.bind)return l.bind.apply(l,v.call(arguments,1));var S=v.call(arguments,2);return function(){return l.apply(f,S.length?S.concat(v.call(arguments)):arguments)}}var o=0;function c(l){return"_leaflet_id"in l||(l._leaflet_id=++o),l._leaflet_id}function h(l,f,v){var S,k,W,ue;return ue=function(){S=!1,k&&(W.apply(v,k),k=!1)},W=function(){S?k=arguments:(l.apply(v,arguments),setTimeout(ue,f),S=!0)},W}function u(l,f,v){var S=f[1],k=f[0],W=S-k;return l===S&&v?l:((l-k)%W+W)%W+k}function p(){return!1}function g(l,f){if(f===!1)return l;var v=Math.pow(10,f===void 0?6:f);return Math.round(l*v)/v}function d(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function _(l){return d(l).split(/\s+/)}function y(l,f){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?s(l.options):{});for(var v in f)l.options[v]=f[v];return l.options}function b(l,f,v){var S=[];for(var k in l)S.push(encodeURIComponent(v?k.toUpperCase():k)+"="+encodeURIComponent(l[k]));return(!f||f.indexOf("?")===-1?"?":"&")+S.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function D(l,f){return l.replace(E,function(v,S){var k=f[S];if(k===void 0)throw new Error("No value provided for variable "+v);return typeof k=="function"&&(k=k(f)),k})}var N=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function I(l,f){for(var v=0;v<l.length;v++)if(l[v]===f)return v;return-1}var X="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function he(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var G=0;function q(l){var f=+new Date,v=Math.max(0,16-(f-G));return G=f+v,window.setTimeout(l,v)}var O=window.requestAnimationFrame||he("RequestAnimationFrame")||q,ee=window.cancelAnimationFrame||he("CancelAnimationFrame")||he("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function P(l,f,v){if(v&&O===q)l.call(f);else return O.call(window,a(l,f))}function z(l){l&&ee.call(window,l)}var te={__proto__:null,extend:i,create:s,bind:a,get lastId(){return o},stamp:c,throttle:h,wrapNum:u,falseFn:p,formatNum:g,trim:d,splitWords:_,setOptions:y,getParamString:b,template:D,isArray:N,indexOf:I,emptyImageUrl:X,requestFn:O,cancelFn:ee,requestAnimFrame:P,cancelAnimFrame:z};function ce(){}ce.extend=function(l){var f=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},v=f.__super__=this.prototype,S=s(v);S.constructor=f,f.prototype=S;for(var k in this)Object.prototype.hasOwnProperty.call(this,k)&&k!=="prototype"&&k!=="__super__"&&(f[k]=this[k]);return l.statics&&i(f,l.statics),l.includes&&(be(l.includes),i.apply(null,[S].concat(l.includes))),i(S,l),delete S.statics,delete S.includes,S.options&&(S.options=v.options?s(v.options):{},i(S.options,l.options)),S._initHooks=[],S.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var W=0,ue=S._initHooks.length;W<ue;W++)S._initHooks[W].call(this)}},f},ce.include=function(l){var f=this.prototype.options;return i(this.prototype,l),l.options&&(this.prototype.options=f,this.mergeOptions(l.options)),this},ce.mergeOptions=function(l){return i(this.prototype.options,l),this},ce.addInitHook=function(l){var f=Array.prototype.slice.call(arguments,1),v=typeof l=="function"?l:function(){this[l].apply(this,f)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(v),this};function be(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=N(l)?l:[l];for(var f=0;f<l.length;f++)l[f]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ce={on:function(l,f,v){if(typeof l=="object")for(var S in l)this._on(S,l[S],f);else{l=_(l);for(var k=0,W=l.length;k<W;k++)this._on(l[k],f,v)}return this},off:function(l,f,v){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var S in l)this._off(S,l[S],f);else{l=_(l);for(var k=arguments.length===1,W=0,ue=l.length;W<ue;W++)k?this._off(l[W]):this._off(l[W],f,v)}return this},_on:function(l,f,v,S){if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}if(this._listens(l,f,v)===!1){v===this&&(v=void 0);var k={fn:f,ctx:v};S&&(k.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(k)}},_off:function(l,f,v){var S,k,W;if(this._events&&(S=this._events[l],!!S)){if(arguments.length===1){if(this._firingCount)for(k=0,W=S.length;k<W;k++)S[k].fn=p;delete this._events[l];return}if(typeof f!="function"){console.warn("wrong listener type: "+typeof f);return}var ue=this._listens(l,f,v);if(ue!==!1){var Te=S[ue];this._firingCount&&(Te.fn=p,this._events[l]=S=S.slice()),S.splice(ue,1)}}},fire:function(l,f,v){if(!this.listens(l,v))return this;var S=i({},f,{type:l,target:this,sourceTarget:f&&f.sourceTarget||this});if(this._events){var k=this._events[l];if(k){this._firingCount=this._firingCount+1||1;for(var W=0,ue=k.length;W<ue;W++){var Te=k[W],Be=Te.fn;Te.once&&this.off(l,Be,Te.ctx),Be.call(Te.ctx||this,S)}this._firingCount--}}return v&&this._propagateEvent(S),this},listens:function(l,f,v,S){typeof l!="string"&&console.warn('"string" type argument expected');var k=f;typeof f!="function"&&(S=!!f,k=void 0,v=void 0);var W=this._events&&this._events[l];if(W&&W.length&&this._listens(l,k,v)!==!1)return!0;if(S){for(var ue in this._eventParents)if(this._eventParents[ue].listens(l,f,v,S))return!0}return!1},_listens:function(l,f,v){if(!this._events)return!1;var S=this._events[l]||[];if(!f)return!!S.length;v===this&&(v=void 0);for(var k=0,W=S.length;k<W;k++)if(S[k].fn===f&&S[k].ctx===v)return k;return!1},once:function(l,f,v){if(typeof l=="object")for(var S in l)this._on(S,l[S],f,!0);else{l=_(l);for(var k=0,W=l.length;k<W;k++)this._on(l[k],f,v,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[c(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[c(l)],this},_propagateEvent:function(l){for(var f in this._eventParents)this._eventParents[f].fire(l.type,i({layer:l.target,propagatedFrom:l.target},l),!0)}};Ce.addEventListener=Ce.on,Ce.removeEventListener=Ce.clearAllEventListeners=Ce.off,Ce.addOneTimeEventListener=Ce.once,Ce.fireEvent=Ce.fire,Ce.hasEventListeners=Ce.listens;var Pe=ce.extend(Ce);function me(l,f,v){this.x=v?Math.round(l):l,this.y=v?Math.round(f):f}var Fe=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};me.prototype={clone:function(){return new me(this.x,this.y)},add:function(l){return this.clone()._add(Oe(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(Oe(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new me(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new me(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Fe(this.x),this.y=Fe(this.y),this},distanceTo:function(l){l=Oe(l);var f=l.x-this.x,v=l.y-this.y;return Math.sqrt(f*f+v*v)},equals:function(l){return l=Oe(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=Oe(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function Oe(l,f,v){return l instanceof me?l:N(l)?new me(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new me(l.x,l.y):new me(l,f,v)}function Me(l,f){if(l)for(var v=f?[l,f]:l,S=0,k=v.length;S<k;S++)this.extend(v[S])}Me.prototype={extend:function(l){var f,v;if(!l)return this;if(l instanceof me||typeof l[0]=="number"||"x"in l)f=v=Oe(l);else if(l=T(l),f=l.min,v=l.max,!f||!v)return this;return!this.min&&!this.max?(this.min=f.clone(),this.max=v.clone()):(this.min.x=Math.min(f.x,this.min.x),this.max.x=Math.max(v.x,this.max.x),this.min.y=Math.min(f.y,this.min.y),this.max.y=Math.max(v.y,this.max.y)),this},getCenter:function(l){return Oe((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return Oe(this.min.x,this.max.y)},getTopRight:function(){return Oe(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var f,v;return typeof l[0]=="number"||l instanceof me?l=Oe(l):l=T(l),l instanceof Me?(f=l.min,v=l.max):f=v=l,f.x>=this.min.x&&v.x<=this.max.x&&f.y>=this.min.y&&v.y<=this.max.y},intersects:function(l){l=T(l);var f=this.min,v=this.max,S=l.min,k=l.max,W=k.x>=f.x&&S.x<=v.x,ue=k.y>=f.y&&S.y<=v.y;return W&&ue},overlaps:function(l){l=T(l);var f=this.min,v=this.max,S=l.min,k=l.max,W=k.x>f.x&&S.x<v.x,ue=k.y>f.y&&S.y<v.y;return W&&ue},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var f=this.min,v=this.max,S=Math.abs(f.x-v.x)*l,k=Math.abs(f.y-v.y)*l;return T(Oe(f.x-S,f.y-k),Oe(v.x+S,v.y+k))},equals:function(l){return l?(l=T(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function T(l,f){return!l||l instanceof Me?l:new Me(l,f)}function F(l,f){if(l)for(var v=f?[l,f]:l,S=0,k=v.length;S<k;S++)this.extend(v[S])}F.prototype={extend:function(l){var f=this._southWest,v=this._northEast,S,k;if(l instanceof B)S=l,k=l;else if(l instanceof F){if(S=l._southWest,k=l._northEast,!S||!k)return this}else return l?this.extend(Y(l)||R(l)):this;return!f&&!v?(this._southWest=new B(S.lat,S.lng),this._northEast=new B(k.lat,k.lng)):(f.lat=Math.min(S.lat,f.lat),f.lng=Math.min(S.lng,f.lng),v.lat=Math.max(k.lat,v.lat),v.lng=Math.max(k.lng,v.lng)),this},pad:function(l){var f=this._southWest,v=this._northEast,S=Math.abs(f.lat-v.lat)*l,k=Math.abs(f.lng-v.lng)*l;return new F(new B(f.lat-S,f.lng-k),new B(v.lat+S,v.lng+k))},getCenter:function(){return new B((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new B(this.getNorth(),this.getWest())},getSouthEast:function(){return new B(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof B||"lat"in l?l=Y(l):l=R(l);var f=this._southWest,v=this._northEast,S,k;return l instanceof F?(S=l.getSouthWest(),k=l.getNorthEast()):S=k=l,S.lat>=f.lat&&k.lat<=v.lat&&S.lng>=f.lng&&k.lng<=v.lng},intersects:function(l){l=R(l);var f=this._southWest,v=this._northEast,S=l.getSouthWest(),k=l.getNorthEast(),W=k.lat>=f.lat&&S.lat<=v.lat,ue=k.lng>=f.lng&&S.lng<=v.lng;return W&&ue},overlaps:function(l){l=R(l);var f=this._southWest,v=this._northEast,S=l.getSouthWest(),k=l.getNorthEast(),W=k.lat>f.lat&&S.lat<v.lat,ue=k.lng>f.lng&&S.lng<v.lng;return W&&ue},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,f){return l?(l=R(l),this._southWest.equals(l.getSouthWest(),f)&&this._northEast.equals(l.getNorthEast(),f)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function R(l,f){return l instanceof F?l:new F(l,f)}function B(l,f,v){if(isNaN(l)||isNaN(f))throw new Error("Invalid LatLng object: ("+l+", "+f+")");this.lat=+l,this.lng=+f,v!==void 0&&(this.alt=+v)}B.prototype={equals:function(l,f){if(!l)return!1;l=Y(l);var v=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return v<=(f===void 0?1e-9:f)},toString:function(l){return"LatLng("+g(this.lat,l)+", "+g(this.lng,l)+")"},distanceTo:function(l){return we.distance(this,Y(l))},wrap:function(){return we.wrapLatLng(this)},toBounds:function(l){var f=180*l/40075017,v=f/Math.cos(Math.PI/180*this.lat);return R([this.lat-f,this.lng-v],[this.lat+f,this.lng+v])},clone:function(){return new B(this.lat,this.lng,this.alt)}};function Y(l,f,v){return l instanceof B?l:N(l)&&typeof l[0]!="object"?l.length===3?new B(l[0],l[1],l[2]):l.length===2?new B(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new B(l.lat,"lng"in l?l.lng:l.lon,l.alt):f===void 0?null:new B(l,f,v)}var fe={latLngToPoint:function(l,f){var v=this.projection.project(l),S=this.scale(f);return this.transformation._transform(v,S)},pointToLatLng:function(l,f){var v=this.scale(f),S=this.transformation.untransform(l,v);return this.projection.unproject(S)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var f=this.projection.bounds,v=this.scale(l),S=this.transformation.transform(f.min,v),k=this.transformation.transform(f.max,v);return new Me(S,k)},infinite:!1,wrapLatLng:function(l){var f=this.wrapLng?u(l.lng,this.wrapLng,!0):l.lng,v=this.wrapLat?u(l.lat,this.wrapLat,!0):l.lat,S=l.alt;return new B(v,f,S)},wrapLatLngBounds:function(l){var f=l.getCenter(),v=this.wrapLatLng(f),S=f.lat-v.lat,k=f.lng-v.lng;if(S===0&&k===0)return l;var W=l.getSouthWest(),ue=l.getNorthEast(),Te=new B(W.lat-S,W.lng-k),Be=new B(ue.lat-S,ue.lng-k);return new F(Te,Be)}},we=i({},fe,{wrapLng:[-180,180],R:6371e3,distance:function(l,f){var v=Math.PI/180,S=l.lat*v,k=f.lat*v,W=Math.sin((f.lat-l.lat)*v/2),ue=Math.sin((f.lng-l.lng)*v/2),Te=W*W+Math.cos(S)*Math.cos(k)*ue*ue,Be=2*Math.atan2(Math.sqrt(Te),Math.sqrt(1-Te));return this.R*Be}}),ve=6378137,_e={R:ve,MAX_LATITUDE:85.0511287798,project:function(l){var f=Math.PI/180,v=this.MAX_LATITUDE,S=Math.max(Math.min(v,l.lat),-v),k=Math.sin(S*f);return new me(this.R*l.lng*f,this.R*Math.log((1+k)/(1-k))/2)},unproject:function(l){var f=180/Math.PI;return new B((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*f,l.x*f/this.R)},bounds:function(){var l=ve*Math.PI;return new Me([-l,-l],[l,l])}()};function je(l,f,v,S){if(N(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=f,this._c=v,this._d=S}je.prototype={transform:function(l,f){return this._transform(l.clone(),f)},_transform:function(l,f){return f=f||1,l.x=f*(this._a*l.x+this._b),l.y=f*(this._c*l.y+this._d),l},untransform:function(l,f){return f=f||1,new me((l.x/f-this._b)/this._a,(l.y/f-this._d)/this._c)}};function Xe(l,f,v,S){return new je(l,f,v,S)}var ct=i({},we,{code:"EPSG:3857",projection:_e,transformation:function(){var l=.5/(Math.PI*_e.R);return Xe(l,.5,-l,.5)}()}),Ne=i({},ct,{code:"EPSG:900913"});function le(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function Nt(l,f){var v="",S,k,W,ue,Te,Be;for(S=0,W=l.length;S<W;S++){for(Te=l[S],k=0,ue=Te.length;k<ue;k++)Be=Te[k],v+=(k?"L":"M")+Be.x+" "+Be.y;v+=f?_t.svg?"z":"x":""}return v||"M0 0"}var Qe=document.documentElement.style,St="ActiveXObject"in window,st=St&&!document.addEventListener,Et="msLaunchUri"in navigator&&!("documentMode"in document),mt=_r("webkit"),Jt=_r("android"),It=_r("android 2")||_r("android 3"),lr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Zt=Jt&&_r("Google")&&lr<537&&!("AudioNode"in window),Gt=!!window.opera,yr=!Et&&_r("chrome"),jt=_r("gecko")&&!mt&&!Gt&&!St,Ot=!yr&&_r("safari"),Wt=_r("phantom"),Lt="OTransition"in Qe,Lr=navigator.platform.indexOf("Win")===0,wr=St&&"transition"in Qe,Tt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!It,Kt="MozPerspective"in Qe,Pr=!window.L_DISABLE_3D&&(wr||Tt||Kt)&&!Lt&&!Wt,Ft=typeof orientation<"u"||_r("mobile"),pr=Ft&&mt,Qt=Ft&&Tt,en=!window.PointerEvent&&window.MSPointerEvent,vn=!!(window.PointerEvent||en),Dr="ontouchstart"in window||!!window.TouchEvent,Vt=!window.L_NO_TOUCH&&(Dr||vn),Sr=Ft&&Gt,Aa=Ft&&jt,Gn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ds=function(){var l=!1;try{var f=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",p,f),window.removeEventListener("testPassiveEventSupport",p,f)}catch(v){}return l}(),as=function(){return!!document.createElement("canvas").getContext}(),zt=!!(document.createElementNS&&le("svg").createSVGRect),Ns=!!zt&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Is=!zt&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var f=l.firstChild;return f.style.behavior="url(#default#VML)",f&&typeof f.adj=="object"}catch(v){return!1}}(),ai=navigator.platform.indexOf("Mac")===0,Ni=navigator.platform.indexOf("Linux")===0;function _r(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var _t={ie:St,ielt9:st,edge:Et,webkit:mt,android:Jt,android23:It,androidStock:Zt,opera:Gt,chrome:yr,gecko:jt,safari:Ot,phantom:Wt,opera12:Lt,win:Lr,ie3d:wr,webkit3d:Tt,gecko3d:Kt,any3d:Pr,mobile:Ft,mobileWebkit:pr,mobileWebkit3d:Qt,msPointer:en,pointer:vn,touch:Vt,touchNative:Dr,mobileOpera:Sr,mobileGecko:Aa,retina:Gn,passiveEvents:Ds,canvas:as,svg:zt,vml:Is,inlineSvg:Ns,mac:ai,linux:Ni},H=_t.msPointer?"MSPointerDown":"pointerdown",ie=_t.msPointer?"MSPointerMove":"pointermove",K=_t.msPointer?"MSPointerUp":"pointerup",Q=_t.msPointer?"MSPointerCancel":"pointercancel",ne={touchstart:H,touchmove:ie,touchend:K,touchcancel:Q},oe={touchstart:vt,touchmove:lt,touchend:lt,touchcancel:lt},Ee={},He=!1;function ke(l,f,v){return f==="touchstart"&&bt(),oe[f]?(v=oe[f].bind(this,v),l.addEventListener(ne[f],v,!1),v):(console.warn("wrong event specified:",f),p)}function De(l,f,v){if(!ne[f]){console.warn("wrong event specified:",f);return}l.removeEventListener(ne[f],v,!1)}function Re(l){Ee[l.pointerId]=l}function at(l){Ee[l.pointerId]&&(Ee[l.pointerId]=l)}function ut(l){delete Ee[l.pointerId]}function bt(){He||(document.addEventListener(H,Re,!0),document.addEventListener(ie,at,!0),document.addEventListener(K,ut,!0),document.addEventListener(Q,ut,!0),He=!0)}function lt(l,f){if(f.pointerType!==(f.MSPOINTER_TYPE_MOUSE||"mouse")){f.touches=[];for(var v in Ee)f.touches.push(Ee[v]);f.changedTouches=[f],l(f)}}function vt(l,f){f.MSPOINTER_TYPE_TOUCH&&f.pointerType===f.MSPOINTER_TYPE_TOUCH&&un(f),lt(l,f)}function Yt(l){var f={},v,S;for(S in l)v=l[S],f[S]=v&&v.bind?v.bind(l):v;return l=f,f.type="dblclick",f.detail=2,f.isTrusted=!1,f._simulated=!0,f}var Br=200;function vr(l,f){l.addEventListener("dblclick",f);var v=0,S;function k(W){if(W.detail!==1){S=W.detail;return}if(!(W.pointerType==="mouse"||W.sourceCapabilities&&!W.sourceCapabilities.firesTouchEvents)){var ue=Io(W);if(!(ue.some(function(Be){return Be instanceof HTMLLabelElement&&Be.attributes.for})&&!ue.some(function(Be){return Be instanceof HTMLInputElement||Be instanceof HTMLSelectElement}))){var Te=Date.now();Te-v<=Br?(S++,S===2&&f(Yt(W))):S=1,v=Te}}}return l.addEventListener("click",k),{dblclick:f,simDblclick:k}}function wn(l,f){l.removeEventListener("dblclick",f.dblclick),l.removeEventListener("click",f.simDblclick)}var os=cl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),gi=cl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ls=gi==="webkitTransition"||gi==="OTransition"?gi+"End":"transitionend";function qi(l){return typeof l=="string"?document.getElementById(l):l}function ls(l,f){var v=l.style[f]||l.currentStyle&&l.currentStyle[f];if((!v||v==="auto")&&document.defaultView){var S=document.defaultView.getComputedStyle(l,null);v=S?S[f]:null}return v==="auto"?null:v}function Xt(l,f,v){var S=document.createElement(l);return S.className=f||"",v&&v.appendChild(S),S}function tn(l){var f=l.parentNode;f&&f.removeChild(l)}function hn(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function Ta(l){var f=l.parentNode;f&&f.lastChild!==l&&f.appendChild(l)}function Ca(l){var f=l.parentNode;f&&f.firstChild!==l&&f.insertBefore(l,f.firstChild)}function Ps(l,f){if(l.classList!==void 0)return l.classList.contains(f);var v=an(l);return v.length>0&&new RegExp("(^|\\s)"+f+"(\\s|$)").test(v)}function er(l,f){if(l.classList!==void 0)for(var v=_(f),S=0,k=v.length;S<k;S++)l.classList.add(v[S]);else if(!Ps(l,f)){var W=an(l);ka(l,(W?W+" ":"")+f)}}function Cr(l,f){l.classList!==void 0?l.classList.remove(f):ka(l,d((" "+an(l)+" ").replace(" "+f+" "," ")))}function ka(l,f){l.className.baseVal===void 0?l.className=f:l.className.baseVal=f}function an(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function oi(l,f){"opacity"in l.style?l.style.opacity=f:"filter"in l.style&&Xh(l,f)}function Xh(l,f){var v=!1,S="DXImageTransform.Microsoft.Alpha";try{v=l.filters.item(S)}catch(k){if(f===1)return}f=Math.round(f*100),v?(v.Enabled=f!==100,v.Opacity=f):l.style.filter+=" progid:"+S+"(opacity="+f+")"}function cl(l){for(var f=document.documentElement.style,v=0;v<l.length;v++)if(l[v]in f)return l[v];return!1}function Da(l,f,v){var S=f||new me(0,0);l.style[os]=(_t.ie3d?"translate("+S.x+"px,"+S.y+"px)":"translate3d("+S.x+"px,"+S.y+"px,0)")+(v?" scale("+v+")":"")}function Rr(l,f){l._leaflet_pos=f,_t.any3d?Da(l,f):(l.style.left=f.x+"px",l.style.top=f.y+"px")}function na(l){return l._leaflet_pos||new me(0,0)}var io,cs,ko;if("onselectstart"in document)io=function(){ar(window,"selectstart",un)},cs=function(){Ur(window,"selectstart",un)};else{var Do=cl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);io=function(){if(Do){var l=document.documentElement.style;ko=l[Do],l[Do]="none"}},cs=function(){Do&&(document.documentElement.style[Do]=ko,ko=void 0)}}function Kl(){ar(window,"dragstart",un)}function Xl(){Ur(window,"dragstart",un)}var so,Na;function ia(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(hl(),so=l,Na=l.style.outlineStyle,l.style.outlineStyle="none",ar(window,"keydown",hl))}function hl(){so&&(so.style.outlineStyle=Na,so=void 0,Na=void 0,Ur(window,"keydown",hl))}function ao(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function No(l){var f=l.getBoundingClientRect();return{x:f.width/l.offsetWidth||1,y:f.height/l.offsetHeight||1,boundingClientRect:f}}var rr={__proto__:null,TRANSFORM:os,TRANSITION:gi,TRANSITION_END:Ls,get:qi,getStyle:ls,create:Xt,remove:tn,empty:hn,toFront:Ta,toBack:Ca,hasClass:Ps,addClass:er,removeClass:Cr,setClass:ka,getClass:an,setOpacity:oi,testProp:cl,setTransform:Da,setPosition:Rr,getPosition:na,get disableTextSelection(){return io},get enableTextSelection(){return cs},disableImageDrag:Kl,enableImageDrag:Xl,preventOutline:ia,restoreOutline:hl,getSizedParentNode:ao,getScale:No};function ar(l,f,v,S){if(f&&typeof f=="object")for(var k in f)Os(l,k,f[k],v);else{f=_(f);for(var W=0,ue=f.length;W<ue;W++)Os(l,f[W],v,S)}return this}var hs="_leaflet_events";function Ur(l,f,v,S){if(arguments.length===1)Yc(l),delete l[hs];else if(f&&typeof f=="object")for(var k in f)Jl(l,k,f[k],v);else if(f=_(f),arguments.length===2)Yc(l,function(Te){return I(f,Te)!==-1});else for(var W=0,ue=f.length;W<ue;W++)Jl(l,f[W],v,S);return this}function Yc(l,f){for(var v in l[hs]){var S=v.split(/\d/)[0];(!f||f(S))&&Jl(l,S,null,null,v)}}var Rs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Os(l,f,v,S){var k=f+c(v)+(S?"_"+c(S):"");if(l[hs]&&l[hs][k])return this;var W=function(Te){return v.call(S||l,Te||window.event)},ue=W;!_t.touchNative&&_t.pointer&&f.indexOf("touch")===0?W=ke(l,f,W):_t.touch&&f==="dblclick"?W=vr(l,W):"addEventListener"in l?f==="touchstart"||f==="touchmove"||f==="wheel"||f==="mousewheel"?l.addEventListener(Rs[f]||f,W,_t.passiveEvents?{passive:!1}:!1):f==="mouseenter"||f==="mouseleave"?(W=function(Te){Te=Te||window.event,Pa(l,Te)&&ue(Te)},l.addEventListener(Rs[f],W,!1)):l.addEventListener(f,ue,!1):l.attachEvent("on"+f,W),l[hs]=l[hs]||{},l[hs][k]=W}function Jl(l,f,v,S,k){k=k||f+c(v)+(S?"_"+c(S):"");var W=l[hs]&&l[hs][k];if(!W)return this;!_t.touchNative&&_t.pointer&&f.indexOf("touch")===0?De(l,f,W):_t.touch&&f==="dblclick"?wn(l,W):"removeEventListener"in l?l.removeEventListener(Rs[f]||f,W,!1):l.detachEvent("on"+f,W),l[hs][k]=null}function Ia(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function oo(l){return Os(l,"wheel",Ia),this}function La(l){return ar(l,"mousedown touchstart dblclick contextmenu",Ia),l._leaflet_disable_click=!0,this}function un(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function us(l){return un(l),Ia(l),this}function Io(l){if(l.composedPath)return l.composedPath();for(var f=[],v=l.target;v;)f.push(v),v=v.parentNode;return f}function Kc(l,f){if(!f)return new me(l.clientX,l.clientY);var v=No(f),S=v.boundingClientRect;return new me((l.clientX-S.left)/v.x-f.clientLeft,(l.clientY-S.top)/v.y-f.clientTop)}var Ql=_t.linux&&_t.chrome?window.devicePixelRatio:_t.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ul(l){return _t.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/Ql:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function Pa(l,f){var v=f.relatedTarget;if(!v)return!0;try{for(;v&&v!==l;)v=v.parentNode}catch(S){return!1}return v!==l}var Lo={__proto__:null,on:ar,off:Ur,stopPropagation:Ia,disableScrollPropagation:oo,disableClickPropagation:La,preventDefault:un,stop:us,getPropagationPath:Io,getMousePosition:Kc,getWheelDelta:ul,isExternalTarget:Pa,addListener:ar,removeListener:Ur},fl=Pe.extend({run:function(l,f,v,S){this.stop(),this._el=l,this._inProgress=!0,this._duration=v||.25,this._easeOutPower=1/Math.max(S||.5,.2),this._startPos=na(l),this._offset=f.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=P(this._animate,this),this._step()},_step:function(l){var f=+new Date-this._startTime,v=this._duration*1e3;f<v?this._runFrame(this._easeOut(f/v),l):(this._runFrame(1),this._complete())},_runFrame:function(l,f){var v=this._startPos.add(this._offset.multiplyBy(l));f&&v._round(),Rr(this._el,v),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),ur=Pe.extend({options:{crs:ct,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,f){f=y(this,f),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),f.maxBounds&&this.setMaxBounds(f.maxBounds),f.zoom!==void 0&&(this._zoom=this._limitZoom(f.zoom)),f.center&&f.zoom!==void 0&&this.setView(Y(f.center),f.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=gi&&_t.any3d&&!_t.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ar(this._proxy,Ls,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,f,v){if(f=f===void 0?this._zoom:this._limitZoom(f),l=this._limitCenter(Y(l),f,this.options.maxBounds),v=v||{},this._stop(),this._loaded&&!v.reset&&v!==!0){v.animate!==void 0&&(v.zoom=i({animate:v.animate},v.zoom),v.pan=i({animate:v.animate,duration:v.duration},v.pan));var S=this._zoom!==f?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,f,v.zoom):this._tryAnimatedPan(l,v.pan);if(S)return clearTimeout(this._sizeTimer),this}return this._resetView(l,f,v.pan&&v.pan.noMoveStart),this},setZoom:function(l,f){return this._loaded?this.setView(this.getCenter(),l,{zoom:f}):(this._zoom=l,this)},zoomIn:function(l,f){return l=l||(_t.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,f)},zoomOut:function(l,f){return l=l||(_t.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,f)},setZoomAround:function(l,f,v){var S=this.getZoomScale(f),k=this.getSize().divideBy(2),W=l instanceof me?l:this.latLngToContainerPoint(l),ue=W.subtract(k).multiplyBy(1-1/S),Te=this.containerPointToLatLng(k.add(ue));return this.setView(Te,f,{zoom:v})},_getBoundsCenterZoom:function(l,f){f=f||{},l=l.getBounds?l.getBounds():R(l);var v=Oe(f.paddingTopLeft||f.padding||[0,0]),S=Oe(f.paddingBottomRight||f.padding||[0,0]),k=this.getBoundsZoom(l,!1,v.add(S));if(k=typeof f.maxZoom=="number"?Math.min(f.maxZoom,k):k,k===1/0)return{center:l.getCenter(),zoom:k};var W=S.subtract(v).divideBy(2),ue=this.project(l.getSouthWest(),k),Te=this.project(l.getNorthEast(),k),Be=this.unproject(ue.add(Te).divideBy(2).add(W),k);return{center:Be,zoom:k}},fitBounds:function(l,f){if(l=R(l),!l.isValid())throw new Error("Bounds are not valid.");var v=this._getBoundsCenterZoom(l,f);return this.setView(v.center,v.zoom,f)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,f){return this.setView(l,this._zoom,{pan:f})},panBy:function(l,f){if(l=Oe(l).round(),f=f||{},!l.x&&!l.y)return this.fire("moveend");if(f.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),f.noMoveStart||this.fire("movestart"),f.animate!==!1){er(this._mapPane,"leaflet-pan-anim");var v=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,v,f.duration||.25,f.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,f,v){if(v=v||{},v.animate===!1||!_t.any3d)return this.setView(l,f,v);this._stop();var S=this.project(this.getCenter()),k=this.project(l),W=this.getSize(),ue=this._zoom;l=Y(l),f=f===void 0?ue:f;var Te=Math.max(W.x,W.y),Be=Te*this.getZoomScale(ue,f),rt=k.distanceTo(S)||1,xt=1.42,Ht=xt*xt;function mr(Vr){var yi=Vr?-1:1,kp=Vr?Be:Te,Dp=Be*Be-Te*Te+yi*Ht*Ht*rt*rt,df=2*kp*Ht*rt,ah=Dp/df,su=Math.sqrt(ah*ah+1)-ah,pf=su<1e-9?-18:Math.log(su);return pf}function wi(Vr){return(Math.exp(Vr)-Math.exp(-Vr))/2}function Un(Vr){return(Math.exp(Vr)+Math.exp(-Vr))/2}function gs(Vr){return wi(Vr)/Un(Vr)}var Oi=mr(0);function yl(Vr){return Te*(Un(Oi)/Un(Oi+xt*Vr))}function Tp(Vr){return Te*(Un(Oi)*gs(Oi+xt*Vr)-wi(Oi))/Ht}function mo(Vr){return 1-Math.pow(1-Vr,1.5)}var Us=Date.now(),pa=(mr(1)-Oi)/xt,Cp=v.duration?1e3*v.duration:1e3*pa*.8;function iu(){var Vr=(Date.now()-Us)/Cp,yi=mo(Vr)*pa;Vr<=1?(this._flyToFrame=P(iu,this),this._move(this.unproject(S.add(k.subtract(S).multiplyBy(Tp(yi)/rt)),ue),this.getScaleZoom(Te/yl(yi),ue),{flyTo:!0})):this._move(l,f)._moveEnd(!0)}return this._moveStart(!0,v.noMoveStart),iu.call(this),this},flyToBounds:function(l,f){var v=this._getBoundsCenterZoom(l,f);return this.flyTo(v.center,v.zoom,f)},setMaxBounds:function(l){return l=R(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var f=this.options.minZoom;return this.options.minZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var f=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&f!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,f){this._enforcingBounds=!0;var v=this.getCenter(),S=this._limitCenter(v,this._zoom,R(l));return v.equals(S)||this.panTo(S,f),this._enforcingBounds=!1,this},panInside:function(l,f){f=f||{};var v=Oe(f.paddingTopLeft||f.padding||[0,0]),S=Oe(f.paddingBottomRight||f.padding||[0,0]),k=this.project(this.getCenter()),W=this.project(l),ue=this.getPixelBounds(),Te=T([ue.min.add(v),ue.max.subtract(S)]),Be=Te.getSize();if(!Te.contains(W)){this._enforcingBounds=!0;var rt=W.subtract(Te.getCenter()),xt=Te.extend(W).getSize().subtract(Be);k.x+=rt.x<0?-xt.x:xt.x,k.y+=rt.y<0?-xt.y:xt.y,this.panTo(this.unproject(k),f),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=i({animate:!1,pan:!0},l===!0?{animate:!0}:l);var f=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var v=this.getSize(),S=f.divideBy(2).round(),k=v.divideBy(2).round(),W=S.subtract(k);return!W.x&&!W.y?this:(l.animate&&l.pan?this.panBy(W):(l.pan&&this._rawPanBy(W),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:f,newSize:v}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=i({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var f=a(this._handleGeolocationResponse,this),v=a(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(f,v,l):navigator.geolocation.getCurrentPosition(f,v,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var f=l.code,v=l.message||(f===1?"permission denied":f===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:f,message:"Geolocation error: "+v+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var f=l.coords.latitude,v=l.coords.longitude,S=new B(f,v),k=S.toBounds(l.coords.accuracy*2),W=this._locateOptions;if(W.setView){var ue=this.getBoundsZoom(k);this.setView(S,W.maxZoom?Math.min(ue,W.maxZoom):ue)}var Te={latlng:S,bounds:k,timestamp:l.timestamp};for(var Be in l.coords)typeof l.coords[Be]=="number"&&(Te[Be]=l.coords[Be]);this.fire("locationfound",Te)}},addHandler:function(l,f){if(!f)return this;var v=this[l]=new f(this);return this._handlers.push(v),this.options[l]&&v.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(f){this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),tn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)tn(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,f){var v="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),S=Xt("div",v,f||this._mapPane);return l&&(this._panes[l]=S),S},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),f=this.unproject(l.getBottomLeft()),v=this.unproject(l.getTopRight());return new F(f,v)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,f,v){l=R(l),v=Oe(v||[0,0]);var S=this.getZoom()||0,k=this.getMinZoom(),W=this.getMaxZoom(),ue=l.getNorthWest(),Te=l.getSouthEast(),Be=this.getSize().subtract(v),rt=T(this.project(Te,S),this.project(ue,S)).getSize(),xt=_t.any3d?this.options.zoomSnap:1,Ht=Be.x/rt.x,mr=Be.y/rt.y,wi=f?Math.max(Ht,mr):Math.min(Ht,mr);return S=this.getScaleZoom(wi,S),xt&&(S=Math.round(S/(xt/100))*(xt/100),S=f?Math.ceil(S/xt)*xt:Math.floor(S/xt)*xt),Math.max(k,Math.min(W,S))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new me(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,f){var v=this._getTopLeftPoint(l,f);return new Me(v,v.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,f){var v=this.options.crs;return f=f===void 0?this._zoom:f,v.scale(l)/v.scale(f)},getScaleZoom:function(l,f){var v=this.options.crs;f=f===void 0?this._zoom:f;var S=v.zoom(l*v.scale(f));return isNaN(S)?1/0:S},project:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.latLngToPoint(Y(l),f)},unproject:function(l,f){return f=f===void 0?this._zoom:f,this.options.crs.pointToLatLng(Oe(l),f)},layerPointToLatLng:function(l){var f=Oe(l).add(this.getPixelOrigin());return this.unproject(f)},latLngToLayerPoint:function(l){var f=this.project(Y(l))._round();return f._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(Y(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(R(l))},distance:function(l,f){return this.options.crs.distance(Y(l),Y(f))},containerPointToLayerPoint:function(l){return Oe(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return Oe(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var f=this.containerPointToLayerPoint(Oe(l));return this.layerPointToLatLng(f)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Y(l)))},mouseEventToContainerPoint:function(l){return Kc(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var f=this._container=qi(l);if(f){if(f._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ar(f,"scroll",this._onScroll,this),this._containerId=c(f)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&_t.any3d,er(l,"leaflet-container"+(_t.touch?" leaflet-touch":"")+(_t.retina?" leaflet-retina":"")+(_t.ielt9?" leaflet-oldie":"")+(_t.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var f=ls(l,"position");f!=="absolute"&&f!=="relative"&&f!=="fixed"&&f!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Rr(this._mapPane,new me(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(er(l.markerPane,"leaflet-zoom-hide"),er(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,f,v){Rr(this._mapPane,new me(0,0));var S=!this._loaded;this._loaded=!0,f=this._limitZoom(f),this.fire("viewprereset");var k=this._zoom!==f;this._moveStart(k,v)._move(l,f)._moveEnd(k),this.fire("viewreset"),S&&this.fire("load")},_moveStart:function(l,f){return l&&this.fire("zoomstart"),f||this.fire("movestart"),this},_move:function(l,f,v,S){f===void 0&&(f=this._zoom);var k=this._zoom!==f;return this._zoom=f,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),S?v&&v.pinch&&this.fire("zoom",v):((k||v&&v.pinch)&&this.fire("zoom",v),this.fire("move",v)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){Rr(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[c(this._container)]=this;var f=l?Ur:ar;f(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&f(window,"resize",this._onResize,this),_t.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=P(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,f){for(var v=[],S,k=f==="mouseout"||f==="mouseover",W=l.target||l.srcElement,ue=!1;W;){if(S=this._targets[c(W)],S&&(f==="click"||f==="preclick")&&this._draggableMoved(S)){ue=!0;break}if(S&&S.listens(f,!0)&&(k&&!Pa(W,l)||(v.push(S),k))||W===this._container)break;W=W.parentNode}return!v.length&&!ue&&!k&&this.listens(f,!0)&&(v=[this]),v},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var f=l.target||l.srcElement;if(!(!this._loaded||f._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(f))){var v=l.type;v==="mousedown"&&ia(f),this._fireDOMEvent(l,v)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,f,v){if(l.type==="click"){var S=i({},l);S.type="preclick",this._fireDOMEvent(S,S.type,v)}var k=this._findEventTargets(l,f);if(v){for(var W=[],ue=0;ue<v.length;ue++)v[ue].listens(f,!0)&&W.push(v[ue]);k=W.concat(k)}if(k.length){f==="contextmenu"&&un(l);var Te=k[0],Be={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var rt=Te.getLatLng&&(!Te._radius||Te._radius<=10);Be.containerPoint=rt?this.latLngToContainerPoint(Te.getLatLng()):this.mouseEventToContainerPoint(l),Be.layerPoint=this.containerPointToLayerPoint(Be.containerPoint),Be.latlng=rt?Te.getLatLng():this.layerPointToLatLng(Be.layerPoint)}for(ue=0;ue<k.length;ue++)if(k[ue].fire(f,Be,!0),Be.originalEvent._stopped||k[ue].options.bubblingMouseEvents===!1&&I(this._mouseEvents,f)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,f=this._handlers.length;l<f;l++)this._handlers[l].disable()},whenReady:function(l,f){return this._loaded?l.call(f||this,{target:this}):this.on("load",l,f),this},_getMapPanePos:function(){return na(this._mapPane)||new me(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,f){var v=l&&f!==void 0?this._getNewPixelOrigin(l,f):this.getPixelOrigin();return v.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,f){var v=this.getSize()._divideBy(2);return this.project(l,f)._subtract(v)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,f,v){var S=this._getNewPixelOrigin(v,f);return this.project(l,f)._subtract(S)},_latLngBoundsToNewLayerBounds:function(l,f,v){var S=this._getNewPixelOrigin(v,f);return T([this.project(l.getSouthWest(),f)._subtract(S),this.project(l.getNorthWest(),f)._subtract(S),this.project(l.getSouthEast(),f)._subtract(S),this.project(l.getNorthEast(),f)._subtract(S)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,f,v){if(!v)return l;var S=this.project(l,f),k=this.getSize().divideBy(2),W=new Me(S.subtract(k),S.add(k)),ue=this._getBoundsOffset(W,v,f);return Math.abs(ue.x)<=1&&Math.abs(ue.y)<=1?l:this.unproject(S.add(ue),f)},_limitOffset:function(l,f){if(!f)return l;var v=this.getPixelBounds(),S=new Me(v.min.add(l),v.max.add(l));return l.add(this._getBoundsOffset(S,f))},_getBoundsOffset:function(l,f,v){var S=T(this.project(f.getNorthEast(),v),this.project(f.getSouthWest(),v)),k=S.min.subtract(l.min),W=S.max.subtract(l.max),ue=this._rebound(k.x,-W.x),Te=this._rebound(k.y,-W.y);return new me(ue,Te)},_rebound:function(l,f){return l+f>0?Math.round(l-f)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(f))},_limitZoom:function(l){var f=this.getMinZoom(),v=this.getMaxZoom(),S=_t.any3d?this.options.zoomSnap:1;return S&&(l=Math.round(l/S)*S),Math.max(f,Math.min(v,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Cr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,f){var v=this._getCenterOffset(l)._trunc();return(f&&f.animate)!==!0&&!this.getSize().contains(v)?!1:(this.panBy(v,f),!0)},_createAnimProxy:function(){var l=this._proxy=Xt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(f){var v=os,S=this._proxy.style[v];Da(this._proxy,this.project(f.center,f.zoom),this.getZoomScale(f.zoom,1)),S===this._proxy.style[v]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){tn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),f=this.getZoom();Da(this._proxy,this.project(l,f),this.getZoomScale(f,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,f,v){if(this._animatingZoom)return!0;if(v=v||{},!this._zoomAnimated||v.animate===!1||this._nothingToAnimate()||Math.abs(f-this._zoom)>this.options.zoomAnimationThreshold)return!1;var S=this.getZoomScale(f),k=this._getCenterOffset(l)._divideBy(1-1/S);return v.animate!==!0&&!this.getSize().contains(k)?!1:(P(function(){this._moveStart(!0,v.noMoveStart||!1)._animateZoom(l,f,!0)},this),!0)},_animateZoom:function(l,f,v,S){this._mapPane&&(v&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=f,er(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:f,noUpdate:S}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Cr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ec(l,f){return new ur(l,f)}var ei=ce.extend({options:{position:"topright"},initialize:function(l){y(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var f=this._map;return f&&f.removeControl(this),this.options.position=l,f&&f.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var f=this._container=this.onAdd(l),v=this.getPosition(),S=l._controlCorners[v];return er(f,"leaflet-control"),v.indexOf("bottom")!==-1?S.insertBefore(f,S.firstChild):S.appendChild(f),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(tn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),lo=function(l){return new ei(l)};ur.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},f="leaflet-",v=this._controlContainer=Xt("div",f+"control-container",this._container);function S(k,W){var ue=f+k+" "+f+W;l[k+W]=Xt("div",ue,v)}S("top","left"),S("top","right"),S("bottom","left"),S("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)tn(this._controlCorners[l]);tn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var tc=ei.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,f,v,S){return v<S?-1:S<v?1:0}},initialize:function(l,f,v){y(this,v),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var S in l)this._addLayer(l[S],S);for(S in f)this._addLayer(f[S],S,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return ei.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,f){return this._addLayer(l,f),this._map?this._update():this},addOverlay:function(l,f){return this._addLayer(l,f,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var f=this._getLayer(c(l));return f&&this._layers.splice(this._layers.indexOf(f),1),this._map?this._update():this},expand:function(){er(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(er(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):Cr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Cr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",f=this._container=Xt("div",l),v=this.options.collapsed;f.setAttribute("aria-haspopup",!0),La(f),oo(f);var S=this._section=Xt("section",l+"-list");v&&(this._map.on("click",this.collapse,this),ar(f,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var k=this._layersLink=Xt("a",l+"-toggle",f);k.href="#",k.title="Layers",k.setAttribute("role","button"),ar(k,{keydown:function(W){W.keyCode===13&&this._expandSafely()},click:function(W){un(W),this._expandSafely()}},this),v||this.expand(),this._baseLayersList=Xt("div",l+"-base",S),this._separator=Xt("div",l+"-separator",S),this._overlaysList=Xt("div",l+"-overlays",S),f.appendChild(S)},_getLayer:function(l){for(var f=0;f<this._layers.length;f++)if(this._layers[f]&&c(this._layers[f].layer)===l)return this._layers[f]},_addLayer:function(l,f,v){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:f,overlay:v}),this.options.sortLayers&&this._layers.sort(a(function(S,k){return this.options.sortFunction(S.layer,k.layer,S.name,k.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;hn(this._baseLayersList),hn(this._overlaysList),this._layerControlInputs=[];var l,f,v,S,k=0;for(v=0;v<this._layers.length;v++)S=this._layers[v],this._addItem(S),f=f||S.overlay,l=l||!S.overlay,k+=S.overlay?0:1;return this.options.hideSingleBase&&(l=l&&k>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=f&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var f=this._getLayer(c(l.target)),v=f.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;v&&this._map.fire(v,f)},_createRadioElement:function(l,f){var v='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(f?' checked="checked"':"")+"/>",S=document.createElement("div");return S.innerHTML=v,S.firstChild},_addItem:function(l){var f=document.createElement("label"),v=this._map.hasLayer(l.layer),S;l.overlay?(S=document.createElement("input"),S.type="checkbox",S.className="leaflet-control-layers-selector",S.defaultChecked=v):S=this._createRadioElement("leaflet-base-layers_"+c(this),v),this._layerControlInputs.push(S),S.layerId=c(l.layer),ar(S,"click",this._onInputClick,this);var k=document.createElement("span");k.innerHTML=" "+l.name;var W=document.createElement("span");f.appendChild(W),W.appendChild(S),W.appendChild(k);var ue=l.overlay?this._overlaysList:this._baseLayersList;return ue.appendChild(f),this._checkDisabledLayers(),f},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,f,v,S=[],k=[];this._handlingClick=!0;for(var W=l.length-1;W>=0;W--)f=l[W],v=this._getLayer(f.layerId).layer,f.checked?S.push(v):f.checked||k.push(v);for(W=0;W<k.length;W++)this._map.hasLayer(k[W])&&this._map.removeLayer(k[W]);for(W=0;W<S.length;W++)this._map.hasLayer(S[W])||this._map.addLayer(S[W]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,f,v,S=this._map.getZoom(),k=l.length-1;k>=0;k--)f=l[k],v=this._getLayer(f.layerId).layer,f.disabled=v.options.minZoom!==void 0&&S<v.options.minZoom||v.options.maxZoom!==void 0&&S>v.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,ar(l,"click",un),this.expand();var f=this;setTimeout(function(){Ur(l,"click",un),f._preventClick=!1})}}),Ra=function(l,f,v){return new tc(l,f,v)},Fs=ei.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var f="leaflet-control-zoom",v=Xt("div",f+" leaflet-bar"),S=this.options;return this._zoomInButton=this._createButton(S.zoomInText,S.zoomInTitle,f+"-in",v,this._zoomIn),this._zoomOutButton=this._createButton(S.zoomOutText,S.zoomOutTitle,f+"-out",v,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),v},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,f,v,S,k){var W=Xt("a",v,S);return W.innerHTML=l,W.href="#",W.title=f,W.setAttribute("role","button"),W.setAttribute("aria-label",f),La(W),ar(W,"click",us),ar(W,"click",k,this),ar(W,"click",this._refocusOnMap,this),W},_updateDisabled:function(){var l=this._map,f="leaflet-disabled";Cr(this._zoomInButton,f),Cr(this._zoomOutButton,f),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(er(this._zoomOutButton,f),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(er(this._zoomInButton,f),this._zoomInButton.setAttribute("aria-disabled","true"))}});ur.mergeOptions({zoomControl:!0}),ur.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Fs,this.addControl(this.zoomControl))});var Xc=function(l){return new Fs(l)},rc=ei.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var f="leaflet-control-scale",v=Xt("div",f),S=this.options;return this._addScales(S,f+"-line",v),l.on(S.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),v},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,f,v){l.metric&&(this._mScale=Xt("div",f,v)),l.imperial&&(this._iScale=Xt("div",f,v))},_update:function(){var l=this._map,f=l.getSize().y/2,v=l.distance(l.containerPointToLatLng([0,f]),l.containerPointToLatLng([this.options.maxWidth,f]));this._updateScales(v)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var f=this._getRoundNum(l),v=f<1e3?f+" m":f/1e3+" km";this._updateScale(this._mScale,v,f/l)},_updateImperial:function(l){var f=l*3.2808399,v,S,k;f>5280?(v=f/5280,S=this._getRoundNum(v),this._updateScale(this._iScale,S+" mi",S/v)):(k=this._getRoundNum(f),this._updateScale(this._iScale,k+" ft",k/f))},_updateScale:function(l,f,v){l.style.width=Math.round(this.options.maxWidth*v)+"px",l.innerHTML=f},_getRoundNum:function(l){var f=Math.pow(10,(Math.floor(l)+"").length-1),v=l/f;return v=v>=10?10:v>=5?5:v>=3?3:v>=2?2:1,f*v}}),Po=function(l){return new rc(l)},Jc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',x=ei.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(_t.inlineSvg?Jc+" ":"")+"Leaflet</a>"},initialize:function(l){y(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=Xt("div","leaflet-control-attribution"),La(this._container);for(var f in l._layers)l._layers[f].getAttribution&&this.addAttribution(l._layers[f].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var f in this._attributions)this._attributions[f]&&l.push(f);var v=[];this.options.prefix&&v.push(this.options.prefix),l.length&&v.push(l.join(", ")),this._container.innerHTML=v.join(' <span aria-hidden="true">|</span> ')}}});ur.mergeOptions({attributionControl:!0}),ur.addInitHook(function(){this.options.attributionControl&&new x().addTo(this)});var M=function(l){return new x(l)};ei.Layers=tc,ei.Zoom=Fs,ei.Scale=rc,ei.Attribution=x,lo.layers=Ra,lo.zoom=Xc,lo.scale=Po,lo.attribution=M;var re=ce.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});re.addTo=function(l,f){return l.addHandler(f,this),this};var pe={Events:Ce},Se=_t.touch?"touchstart mousedown":"mousedown",We=Pe.extend({options:{clickTolerance:3},initialize:function(l,f,v,S){y(this,S),this._element=l,this._dragStartTarget=f||l,this._preventOutline=v},enable:function(){this._enabled||(ar(this._dragStartTarget,Se,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(We._dragging===this&&this.finishDrag(!0),Ur(this._dragStartTarget,Se,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Ps(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){We._dragging===this&&this.finishDrag();return}if(!(We._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(We._dragging=this,this._preventOutline&&ia(this._element),Kl(),io(),!this._moving)){this.fire("down");var f=l.touches?l.touches[0]:l,v=ao(this._element);this._startPoint=new me(f.clientX,f.clientY),this._startPos=na(this._element),this._parentScale=No(v);var S=l.type==="mousedown";ar(document,S?"mousemove":"touchmove",this._onMove,this),ar(document,S?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var f=l.touches&&l.touches.length===1?l.touches[0]:l,v=new me(f.clientX,f.clientY)._subtract(this._startPoint);!v.x&&!v.y||Math.abs(v.x)+Math.abs(v.y)<this.options.clickTolerance||(v.x/=this._parentScale.x,v.y/=this._parentScale.y,un(l),this._moved||(this.fire("dragstart"),this._moved=!0,er(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),er(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(v),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),Rr(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){Cr(document.body,"leaflet-dragging"),this._lastTarget&&(Cr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ur(document,"mousemove touchmove",this._onMove,this),Ur(document,"mouseup touchend touchcancel",this._onUp,this),Xl(),cs();var f=this._moved&&this._moving;this._moving=!1,We._dragging=!1,f&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function tt(l,f,v){var S,k=[1,4,2,8],W,ue,Te,Be,rt,xt,Ht,mr;for(W=0,xt=l.length;W<xt;W++)l[W]._code=Nn(l[W],f);for(Te=0;Te<4;Te++){for(Ht=k[Te],S=[],W=0,xt=l.length,ue=xt-1;W<xt;ue=W++)Be=l[W],rt=l[ue],Be._code&Ht?rt._code&Ht||(mr=vi(rt,Be,Ht,f,v),mr._code=Nn(mr,f),S.push(mr)):(rt._code&Ht&&(mr=vi(rt,Be,Ht,f,v),mr._code=Nn(mr,f),S.push(mr)),S.push(Be));l=S}return l}function At(l,f){var v,S,k,W,ue,Te,Be,rt,xt;if(!l||l.length===0)throw new Error("latlngs not passed");Zn(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Ht=Y([0,0]),mr=R(l),wi=mr.getNorthWest().distanceTo(mr.getSouthWest())*mr.getNorthEast().distanceTo(mr.getNorthWest());wi<1700&&(Ht=Dt(l));var Un=l.length,gs=[];for(v=0;v<Un;v++){var Oi=Y(l[v]);gs.push(f.project(Y([Oi.lat-Ht.lat,Oi.lng-Ht.lng])))}for(Te=Be=rt=0,v=0,S=Un-1;v<Un;S=v++)k=gs[v],W=gs[S],ue=k.y*W.x-W.y*k.x,Be+=(k.x+W.x)*ue,rt+=(k.y+W.y)*ue,Te+=ue*3;Te===0?xt=gs[0]:xt=[Be/Te,rt/Te];var yl=f.unproject(Oe(xt));return Y([yl.lat+Ht.lat,yl.lng+Ht.lng])}function Dt(l){for(var f=0,v=0,S=0,k=0;k<l.length;k++){var W=Y(l[k]);f+=W.lat,v+=W.lng,S++}return Y([f/S,v/S])}var tr={__proto__:null,clipPolygon:tt,polygonCenter:At,centroid:Dt};function nr(l,f){if(!f||!l.length)return l.slice();var v=f*f;return l=Bn(l,v),l=Dn(l,v),l}function Er(l,f,v){return Math.sqrt(sa(l,f,v,!0))}function fn(l,f,v){return sa(l,f,v)}function Dn(l,f){var v=l.length,S=typeof Uint8Array<"u"?Uint8Array:Array,k=new S(v);k[0]=k[v-1]=1,zr(l,k,f,0,v-1);var W,ue=[];for(W=0;W<v;W++)k[W]&&ue.push(l[W]);return ue}function zr(l,f,v,S,k){var W=0,ue,Te,Be;for(Te=S+1;Te<=k-1;Te++)Be=sa(l[Te],l[S],l[k],!0),Be>W&&(ue=Te,W=Be);W>v&&(f[ue]=1,zr(l,f,v,S,ue),zr(l,f,v,ue,k))}function Bn(l,f){for(var v=[l[0]],S=1,k=0,W=l.length;S<W;S++)Qc(l[S],l[k])>f&&(v.push(l[S]),k=S);return k<W-1&&v.push(l[W-1]),v}var Sn;function $n(l,f,v,S,k){var W=S?Sn:Nn(l,v),ue=Nn(f,v),Te,Be,rt;for(Sn=ue;;){if(!(W|ue))return[l,f];if(W&ue)return!1;Te=W||ue,Be=vi(l,f,Te,v,k),rt=Nn(Be,v),Te===W?(l=Be,W=rt):(f=Be,ue=rt)}}function vi(l,f,v,S,k){var W=f.x-l.x,ue=f.y-l.y,Te=S.min,Be=S.max,rt,xt;return v&8?(rt=l.x+W*(Be.y-l.y)/ue,xt=Be.y):v&4?(rt=l.x+W*(Te.y-l.y)/ue,xt=Te.y):v&2?(rt=Be.x,xt=l.y+ue*(Be.x-l.x)/W):v&1&&(rt=Te.x,xt=l.y+ue*(Te.x-l.x)/W),new me(rt,xt,k)}function Nn(l,f){var v=0;return l.x<f.min.x?v|=1:l.x>f.max.x&&(v|=2),l.y<f.min.y?v|=4:l.y>f.max.y&&(v|=8),v}function Qc(l,f){var v=f.x-l.x,S=f.y-l.y;return v*v+S*S}function sa(l,f,v,S){var k=f.x,W=f.y,ue=v.x-k,Te=v.y-W,Be=ue*ue+Te*Te,rt;return Be>0&&(rt=((l.x-k)*ue+(l.y-W)*Te)/Be,rt>1?(k=v.x,W=v.y):rt>0&&(k+=ue*rt,W+=Te*rt)),ue=l.x-k,Te=l.y-W,S?ue*ue+Te*Te:new me(k,W)}function Zn(l){return!N(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function Oa(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Zn(l)}function co(l,f){var v,S,k,W,ue,Te,Be,rt;if(!l||l.length===0)throw new Error("latlngs not passed");Zn(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var xt=Y([0,0]),Ht=R(l),mr=Ht.getNorthWest().distanceTo(Ht.getSouthWest())*Ht.getNorthEast().distanceTo(Ht.getNorthWest());mr<1700&&(xt=Dt(l));var wi=l.length,Un=[];for(v=0;v<wi;v++){var gs=Y(l[v]);Un.push(f.project(Y([gs.lat-xt.lat,gs.lng-xt.lng])))}for(v=0,S=0;v<wi-1;v++)S+=Un[v].distanceTo(Un[v+1])/2;if(S===0)rt=Un[0];else for(v=0,W=0;v<wi-1;v++)if(ue=Un[v],Te=Un[v+1],k=ue.distanceTo(Te),W+=k,W>S){Be=(W-S)/k,rt=[Te.x-Be*(Te.x-ue.x),Te.y-Be*(Te.y-ue.y)];break}var Oi=f.unproject(Oe(rt));return Y([Oi.lat+xt.lat,Oi.lng+xt.lng])}var Ro={__proto__:null,simplify:nr,pointToSegmentDistance:Er,closestPointOnSegment:fn,clipSegment:$n,_getEdgeIntersection:vi,_getBitCode:Nn,_sqClosestPointOnSegment:sa,isFlat:Zn,_flat:Oa,polylineCenter:co},Fa={project:function(l){return new me(l.lng,l.lat)},unproject:function(l){return new B(l.y,l.x)},bounds:new Me([-180,-90],[180,90])},Yn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Me([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var f=Math.PI/180,v=this.R,S=l.lat*f,k=this.R_MINOR/v,W=Math.sqrt(1-k*k),ue=W*Math.sin(S),Te=Math.tan(Math.PI/4-S/2)/Math.pow((1-ue)/(1+ue),W/2);return S=-v*Math.log(Math.max(Te,1e-10)),new me(l.lng*f*v,S)},unproject:function(l){for(var f=180/Math.PI,v=this.R,S=this.R_MINOR/v,k=Math.sqrt(1-S*S),W=Math.exp(-l.y/v),ue=Math.PI/2-2*Math.atan(W),Te=0,Be=.1,rt;Te<15&&Math.abs(Be)>1e-7;Te++)rt=k*Math.sin(ue),rt=Math.pow((1-rt)/(1+rt),k/2),Be=Math.PI/2-2*Math.atan(W*rt)-ue,ue+=Be;return new B(ue*f,l.x*f/v)}},Oo={__proto__:null,LonLat:Fa,Mercator:Yn,SphericalMercator:_e},Fo=i({},we,{code:"EPSG:3395",projection:Yn,transformation:function(){var l=.5/(Math.PI*Yn.R);return Xe(l,.5,-l,.5)}()}),dl=i({},we,{code:"EPSG:4326",projection:Fa,transformation:Xe(1/180,1,-1/180,.5)}),nc=i({},fe,{projection:Fa,transformation:Xe(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,f){var v=f.lng-l.lng,S=f.lat-l.lat;return Math.sqrt(v*v+S*S)},infinite:!0});fe.Earth=we,fe.EPSG3395=Fo,fe.EPSG3857=ct,fe.EPSG900913=Ne,fe.EPSG4326=dl,fe.Simple=nc;var Ar=Pe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[c(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[c(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var f=l.target;if(f.hasLayer(this)){if(this._map=f,this._zoomAnimated=f._zoomAnimated,this.getEvents){var v=this.getEvents();f.on(v,this),this.once("remove",function(){f.off(v,this)},this)}this.onAdd(f),this.fire("add"),f.fire("layeradd",{layer:this})}}});ur.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var f=c(l);return this._layers[f]?this:(this._layers[f]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var f=c(l);return this._layers[f]?(this._loaded&&l.onRemove(this),delete this._layers[f],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return c(l)in this._layers},eachLayer:function(l,f){for(var v in this._layers)l.call(f,this._layers[v]);return this},_addLayers:function(l){l=l?N(l)?l:[l]:[];for(var f=0,v=l.length;f<v;f++)this.addLayer(l[f])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[c(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var f=c(l);this._zoomBoundLayers[f]&&(delete this._zoomBoundLayers[f],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,f=-1/0,v=this._getZoomSpan();for(var S in this._zoomBoundLayers){var k=this._zoomBoundLayers[S].options;l=k.minZoom===void 0?l:Math.min(l,k.minZoom),f=k.maxZoom===void 0?f:Math.max(f,k.maxZoom)}this._layersMaxZoom=f===-1/0?void 0:f,this._layersMinZoom=l===1/0?void 0:l,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ii=Ar.extend({initialize:function(l,f){y(this,f),this._layers={};var v,S;if(l)for(v=0,S=l.length;v<S;v++)this.addLayer(l[v])},addLayer:function(l){var f=this.getLayerId(l);return this._layers[f]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var f=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[f]&&this._map.removeLayer(this._layers[f]),delete this._layers[f],this},hasLayer:function(l){var f=typeof l=="number"?l:this.getLayerId(l);return f in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var f=Array.prototype.slice.call(arguments,1),v,S;for(v in this._layers)S=this._layers[v],S[l]&&S[l].apply(S,f);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,f){for(var v in this._layers)l.call(f,this._layers[v]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return c(l)}}),pl=function(l,f){return new Ii(l,f)},fs=Ii.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),Ii.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),Ii.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new F;for(var f in this._layers){var v=this._layers[f];l.extend(v.getBounds?v.getBounds():v.getLatLng())}return l}}),ds=function(l,f){return new fs(l,f)},ps=ce.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){y(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,f){var v=this._getIconUrl(l);if(!v){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var S=this._createImg(v,f&&f.tagName==="IMG"?f:null);return this._setIconStyles(S,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),S},_setIconStyles:function(l,f){var v=this.options,S=v[f+"Size"];typeof S=="number"&&(S=[S,S]);var k=Oe(S),W=Oe(f==="shadow"&&v.shadowAnchor||v.iconAnchor||k&&k.divideBy(2,!0));l.className="leaflet-marker-"+f+" "+(v.className||""),W&&(l.style.marginLeft=-W.x+"px",l.style.marginTop=-W.y+"px"),k&&(l.style.width=k.x+"px",l.style.height=k.y+"px")},_createImg:function(l,f){return f=f||document.createElement("img"),f.src=l,f},_getIconUrl:function(l){return _t.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function ic(l){return new ps(l)}var Ma=ps.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof Ma.imagePath!="string"&&(Ma.imagePath=this._detectIconPath()),(this.options.imagePath||Ma.imagePath)+ps.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var f=function(v,S,k){var W=S.exec(v);return W&&W[k]};return l=f(l,/^url\((['"])?(.+)\1\)$/,2),l&&f(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=Xt("div","leaflet-default-icon-path",document.body),f=ls(l,"background-image")||ls(l,"backgroundImage");if(document.body.removeChild(l),f=this._stripUrl(f),f)return f;var v=document.querySelector('link[href$="leaflet.css"]');return v?v.href.substring(0,v.href.length-11-1):""}}),Ba=re.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new We(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),er(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Cr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var f=this._marker,v=f._map,S=this._marker.options.autoPanSpeed,k=this._marker.options.autoPanPadding,W=na(f._icon),ue=v.getPixelBounds(),Te=v.getPixelOrigin(),Be=T(ue.min._subtract(Te).add(k),ue.max._subtract(Te).subtract(k));if(!Be.contains(W)){var rt=Oe((Math.max(Be.max.x,W.x)-Be.max.x)/(ue.max.x-Be.max.x)-(Math.min(Be.min.x,W.x)-Be.min.x)/(ue.min.x-Be.min.x),(Math.max(Be.max.y,W.y)-Be.max.y)/(ue.max.y-Be.max.y)-(Math.min(Be.min.y,W.y)-Be.min.y)/(ue.min.y-Be.min.y)).multiplyBy(S);v.panBy(rt,{animate:!1}),this._draggable._newPos._add(rt),this._draggable._startPos._add(rt),Rr(f._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=P(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=P(this._adjustPan.bind(this,l)))},_onDrag:function(l){var f=this._marker,v=f._shadow,S=na(f._icon),k=f._map.layerPointToLatLng(S);v&&Rr(v,S),f._latlng=k,l.latlng=k,l.oldLatLng=this._oldLatLng,f.fire("move",l).fire("drag",l)},_onDragEnd:function(l){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),aa=Ar.extend({options:{icon:new Ma,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,f){y(this,f),this._latlng=Y(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var f=this._latlng;return this._latlng=Y(l),this.update(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,f="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),v=l.icon.createIcon(this._icon),S=!1;v!==this._icon&&(this._icon&&this._removeIcon(),S=!0,l.title&&(v.title=l.title),v.tagName==="IMG"&&(v.alt=l.alt||"")),er(v,f),l.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ar(v,"focus",this._panOnFocus,this);var k=l.icon.createShadow(this._shadow),W=!1;k!==this._shadow&&(this._removeShadow(),W=!0),k&&(er(k,f),k.alt=""),this._shadow=k,l.opacity<1&&this._updateOpacity(),S&&this.getPane().appendChild(this._icon),this._initInteraction(),k&&W&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ur(this._icon,"focus",this._panOnFocus,this),tn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&tn(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&Rr(this._icon,l),this._shadow&&Rr(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(f)},_initInteraction:function(){if(this.options.interactive&&(er(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ba)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ba(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&oi(this._icon,l),this._shadow&&oi(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var f=this.options.icon.options,v=f.iconSize?Oe(f.iconSize):Oe(0,0),S=f.iconAnchor?Oe(f.iconAnchor):Oe(0,0);l.panInside(this._latlng,{paddingTopLeft:S,paddingBottomRight:v.subtract(S)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Gi(l,f){return new aa(l,f)}var In=Ar.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return y(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ms=In.extend({options:{fill:!0,radius:10},initialize:function(l,f){y(this,f),this._latlng=Y(l),this._radius=this.options.radius},setLatLng:function(l){var f=this._latlng;return this._latlng=Y(l),this.redraw(),this.fire("move",{oldLatLng:f,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var f=l&&l.radius||this._radius;return In.prototype.setStyle.call(this,l),this.setRadius(f),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,f=this._radiusY||l,v=this._clickTolerance(),S=[l+v,f+v];this._pxBounds=new Me(this._point.subtract(S),this._point.add(S))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ua(l,f){return new Ms(l,f)}var oa=Ms.extend({initialize:function(l,f,v){if(typeof f=="number"&&(f=i({},v,{radius:f})),y(this,f),this._latlng=Y(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:In.prototype.setStyle,_project:function(){var l=this._latlng.lng,f=this._latlng.lat,v=this._map,S=v.options.crs;if(S.distance===we.distance){var k=Math.PI/180,W=this._mRadius/we.R/k,ue=v.project([f+W,l]),Te=v.project([f-W,l]),Be=ue.add(Te).divideBy(2),rt=v.unproject(Be).lat,xt=Math.acos((Math.cos(W*k)-Math.sin(f*k)*Math.sin(rt*k))/(Math.cos(f*k)*Math.cos(rt*k)))/k;(isNaN(xt)||xt===0)&&(xt=W/Math.cos(Math.PI/180*f)),this._point=Be.subtract(v.getPixelOrigin()),this._radius=isNaN(xt)?0:Be.x-v.project([rt,l-xt]).x,this._radiusY=Be.y-ue.y}else{var Ht=S.unproject(S.project(this._latlng).subtract([this._mRadius,0]));this._point=v.latLngToLayerPoint(this._latlng),this._radius=this._point.x-v.latLngToLayerPoint(Ht).x}this._updateBounds()}});function sc(l,f,v){return new oa(l,f,v)}var Li=In.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,f){y(this,f),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var f=1/0,v=null,S=sa,k,W,ue=0,Te=this._parts.length;ue<Te;ue++)for(var Be=this._parts[ue],rt=1,xt=Be.length;rt<xt;rt++){k=Be[rt-1],W=Be[rt];var Ht=S(l,k,W,!0);Ht<f&&(f=Ht,v=S(l,k,W))}return v&&(v.distance=Math.sqrt(f)),v},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return co(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,f){return f=f||this._defaultShape(),l=Y(l),f.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new F,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return Zn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var f=[],v=Zn(l),S=0,k=l.length;S<k;S++)v?(f[S]=Y(l[S]),this._bounds.extend(f[S])):f[S]=this._convertLatLngs(l[S]);return f},_project:function(){var l=new Me;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),f=new me(l,l);this._rawPxBounds&&(this._pxBounds=new Me([this._rawPxBounds.min.subtract(f),this._rawPxBounds.max.add(f)]))},_projectLatlngs:function(l,f,v){var S=l[0]instanceof B,k=l.length,W,ue;if(S){for(ue=[],W=0;W<k;W++)ue[W]=this._map.latLngToLayerPoint(l[W]),v.extend(ue[W]);f.push(ue)}else for(W=0;W<k;W++)this._projectLatlngs(l[W],f,v)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var f=this._parts,v,S,k,W,ue,Te,Be;for(v=0,k=0,W=this._rings.length;v<W;v++)for(Be=this._rings[v],S=0,ue=Be.length;S<ue-1;S++)Te=$n(Be[S],Be[S+1],l,S,!0),Te&&(f[k]=f[k]||[],f[k].push(Te[0]),(Te[1]!==Be[S+1]||S===ue-2)&&(f[k].push(Te[1]),k++))}},_simplifyPoints:function(){for(var l=this._parts,f=this.options.smoothFactor,v=0,S=l.length;v<S;v++)l[v]=nr(l[v],f)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,f){var v,S,k,W,ue,Te,Be=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(v=0,W=this._parts.length;v<W;v++)for(Te=this._parts[v],S=0,ue=Te.length,k=ue-1;S<ue;k=S++)if(!(!f&&S===0)&&Er(l,Te[k],Te[S])<=Be)return!0;return!1}});function En(l,f){return new Li(l,f)}Li._flat=Oa;var za=Li.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return At(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var f=Li.prototype._convertLatLngs.call(this,l),v=f.length;return v>=2&&f[0]instanceof B&&f[0].equals(f[v-1])&&f.pop(),f},_setLatLngs:function(l){Li.prototype._setLatLngs.call(this,l),Zn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Zn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,f=this.options.weight,v=new me(f,f);if(l=new Me(l.min.subtract(v),l.max.add(v)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var S=0,k=this._rings.length,W;S<k;S++)W=tt(this._rings[S],l,!0),W.length&&this._parts.push(W)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var f=!1,v,S,k,W,ue,Te,Be,rt;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(W=0,Be=this._parts.length;W<Be;W++)for(v=this._parts[W],ue=0,rt=v.length,Te=rt-1;ue<rt;Te=ue++)S=v[ue],k=v[Te],S.y>l.y!=k.y>l.y&&l.x<(k.x-S.x)*(l.y-S.y)/(k.y-S.y)+S.x&&(f=!f);return f||Li.prototype._containsPoint.call(this,l,!0)}});function la(l,f){return new za(l,f)}var Kn=fs.extend({initialize:function(l,f){y(this,f),this._layers={},l&&this.addData(l)},addData:function(l){var f=N(l)?l:l.features,v,S,k;if(f){for(v=0,S=f.length;v<S;v++)k=f[v],(k.geometries||k.geometry||k.features||k.coordinates)&&this.addData(k);return this}var W=this.options;if(W.filter&&!W.filter(l))return this;var ue=ho(l,W);return ue?(ue.feature=ha(l),ue.defaultOptions=ue.options,this.resetStyle(ue),W.onEachFeature&&W.onEachFeature(l,ue),this.addLayer(ue)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=i({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(f){this._setLayerStyle(f,l)},this)},_setLayerStyle:function(l,f){l.setStyle&&(typeof f=="function"&&(f=f(l.feature)),l.setStyle(f))}});function ho(l,f){var v=l.type==="Feature"?l.geometry:l,S=v?v.coordinates:null,k=[],W=f&&f.pointToLayer,ue=f&&f.coordsToLatLng||Mo,Te,Be,rt,xt;if(!S&&!v)return null;switch(v.type){case"Point":return Te=ue(S),ml(W,l,Te,f);case"MultiPoint":for(rt=0,xt=S.length;rt<xt;rt++)Te=ue(S[rt]),k.push(ml(W,l,Te,f));return new fs(k);case"LineString":case"MultiLineString":return Be=uo(S,v.type==="LineString"?0:1,ue),new Li(Be,f);case"Polygon":case"MultiPolygon":return Be=uo(S,v.type==="Polygon"?1:2,ue),new za(Be,f);case"GeometryCollection":for(rt=0,xt=v.geometries.length;rt<xt;rt++){var Ht=ho({geometry:v.geometries[rt],type:"Feature",properties:l.properties},f);Ht&&k.push(Ht)}return new fs(k);case"FeatureCollection":for(rt=0,xt=v.features.length;rt<xt;rt++){var mr=ho(v.features[rt],f);mr&&k.push(mr)}return new fs(k);default:throw new Error("Invalid GeoJSON object.")}}function ml(l,f,v,S){return l?l(f,v):new aa(v,S&&S.markersInheritOptions&&S)}function Mo(l){return new B(l[1],l[0],l[2])}function uo(l,f,v){for(var S=[],k=0,W=l.length,ue;k<W;k++)ue=f?uo(l[k],f-1,v):(v||Mo)(l[k]),S.push(ue);return S}function ca(l,f){return l=Y(l),l.alt!==void 0?[g(l.lng,f),g(l.lat,f),g(l.alt,f)]:[g(l.lng,f),g(l.lat,f)]}function Bs(l,f,v,S){for(var k=[],W=0,ue=l.length;W<ue;W++)k.push(f?Bs(l[W],Zn(l[W])?0:f-1,v,S):ca(l[W],S));return!f&&v&&k.length>0&&k.push(k[0].slice()),k}function $i(l,f){return l.feature?i({},l.feature,{geometry:f}):ha(f)}function ha(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var ua={toGeoJSON:function(l){return $i(this,{type:"Point",coordinates:ca(this.getLatLng(),l)})}};aa.include(ua),oa.include(ua),Ms.include(ua),Li.include({toGeoJSON:function(l){var f=!Zn(this._latlngs),v=Bs(this._latlngs,f?1:0,!1,l);return $i(this,{type:(f?"Multi":"")+"LineString",coordinates:v})}}),za.include({toGeoJSON:function(l){var f=!Zn(this._latlngs),v=f&&!Zn(this._latlngs[0]),S=Bs(this._latlngs,v?2:f?1:0,!0,l);return f||(S=[S]),$i(this,{type:(v?"Multi":"")+"Polygon",coordinates:S})}}),Ii.include({toMultiPoint:function(l){var f=[];return this.eachLayer(function(v){f.push(v.toGeoJSON(l).geometry.coordinates)}),$i(this,{type:"MultiPoint",coordinates:f})},toGeoJSON:function(l){var f=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(f==="MultiPoint")return this.toMultiPoint(l);var v=f==="GeometryCollection",S=[];return this.eachLayer(function(k){if(k.toGeoJSON){var W=k.toGeoJSON(l);if(v)S.push(W.geometry);else{var ue=ha(W);ue.type==="FeatureCollection"?S.push.apply(S,ue.features):S.push(ue)}}}),v?$i(this,{geometries:S,type:"GeometryCollection"}):{type:"FeatureCollection",features:S}}});function fo(l,f){return new Kn(l,f)}var ms=fo,Zi=Ar.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,f,v){this._url=l,this._bounds=R(f),y(this,v)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(er(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){tn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&Ta(this._image),this},bringToBack:function(){return this._map&&Ca(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=R(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",f=this._image=l?this._url:Xt("img");if(er(f,"leaflet-image-layer"),this._zoomAnimated&&er(f,"leaflet-zoom-animated"),this.options.className&&er(f,this.options.className),f.onselectstart=p,f.onmousemove=p,f.onload=a(this.fire,this,"load"),f.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=f.src;return}f.src=this._url,f.alt=this.options.alt},_animateZoom:function(l){var f=this._map.getZoomScale(l.zoom),v=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Da(this._image,v,f)},_reset:function(){var l=this._image,f=new Me(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),v=f.getSize();Rr(l,f.min),l.style.width=v.x+"px",l.style.height=v.y+"px"},_updateOpacity:function(){oi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),Nr=function(l,f,v){return new Zi(l,f,v)},Hr=Zi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",f=this._image=l?this._url:Xt("video");if(er(f,"leaflet-image-layer"),this._zoomAnimated&&er(f,"leaflet-zoom-animated"),this.options.className&&er(f,this.options.className),f.onselectstart=p,f.onmousemove=p,f.onloadeddata=a(this.fire,this,"load"),l){for(var v=f.getElementsByTagName("source"),S=[],k=0;k<v.length;k++)S.push(v[k].src);this._url=v.length>0?S:[f.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(f.style,"objectFit")&&(f.style.objectFit="fill"),f.autoplay=!!this.options.autoplay,f.loop=!!this.options.loop,f.muted=!!this.options.muted,f.playsInline=!!this.options.playsInline;for(var W=0;W<this._url.length;W++){var ue=Xt("source");ue.src=this._url[W],f.appendChild(ue)}}});function An(l,f,v){return new Hr(l,f,v)}var Ln=Zi.extend({_initImage:function(){var l=this._image=this._url;er(l,"leaflet-image-layer"),this._zoomAnimated&&er(l,"leaflet-zoom-animated"),this.options.className&&er(l,this.options.className),l.onselectstart=p,l.onmousemove=p}});function Ha(l,f,v){return new Ln(l,f,v)}var Pi=Ar.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,f){l&&(l instanceof B||N(l))?(this._latlng=Y(l),y(this,f)):(y(this,l),this._source=f),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&oi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&oi(this._container,1),this.bringToFront(),this.options.interactive&&(er(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(oi(this._container,0),this._removeTimeout=setTimeout(a(tn,void 0,this._container),200)):tn(this._container),this.options.interactive&&(Cr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=Y(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ta(this._container),this},bringToBack:function(){return this._map&&Ca(this._container),this},_prepareOpen:function(l){var f=this._source;if(!f._map)return!1;if(f instanceof fs){f=null;var v=this._source._layers;for(var S in v)if(v[S]._map){f=v[S];break}if(!f)return!1;this._source=f}if(!l)if(f.getCenter)l=f.getCenter();else if(f.getLatLng)l=f.getLatLng();else if(f.getBounds)l=f.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,f=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof f=="string")l.innerHTML=f;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(f)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),f=Oe(this.options.offset),v=this._getAnchor();this._zoomAnimated?Rr(this._container,l.add(v)):f=f.add(l).add(v);var S=this._containerBottom=-f.y,k=this._containerLeft=-Math.round(this._containerWidth/2)+f.x;this._container.style.bottom=S+"px",this._container.style.left=k+"px"}},_getAnchor:function(){return[0,0]}});ur.include({_initOverlay:function(l,f,v,S){var k=f;return k instanceof l||(k=new l(S).setContent(f)),v&&k.setLatLng(v),k}}),Ar.include({_initOverlay:function(l,f,v,S){var k=v;return k instanceof l?(y(k,S),k._source=this):(k=f&&!S?f:new l(S,this),k.setContent(v)),k}});var ja=Pi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Pi.prototype.openOn.call(this,l)},onAdd:function(l){Pi.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof In||this._source.on("preclick",Ia))},onRemove:function(l){Pi.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof In||this._source.off("preclick",Ia))},getEvents:function(){var l=Pi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",f=this._container=Xt("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),v=this._wrapper=Xt("div",l+"-content-wrapper",f);if(this._contentNode=Xt("div",l+"-content",v),La(f),oo(this._contentNode),ar(f,"contextmenu",Ia),this._tipContainer=Xt("div",l+"-tip-container",f),this._tip=Xt("div",l+"-tip",this._tipContainer),this.options.closeButton){var S=this._closeButton=Xt("a",l+"-close-button",f);S.setAttribute("role","button"),S.setAttribute("aria-label","Close popup"),S.href="#close",S.innerHTML='<span aria-hidden="true">&#215;</span>',ar(S,"click",function(k){un(k),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,f=l.style;f.width="",f.whiteSpace="nowrap";var v=l.offsetWidth;v=Math.min(v,this.options.maxWidth),v=Math.max(v,this.options.minWidth),f.width=v+1+"px",f.whiteSpace="",f.height="";var S=l.offsetHeight,k=this.options.maxHeight,W="leaflet-popup-scrolled";k&&S>k?(f.height=k+"px",er(l,W)):Cr(l,W),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),v=this._getAnchor();Rr(this._container,f.add(v))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,f=parseInt(ls(this._container,"marginBottom"),10)||0,v=this._container.offsetHeight+f,S=this._containerWidth,k=new me(this._containerLeft,-v-this._containerBottom);k._add(na(this._container));var W=l.layerPointToContainerPoint(k),ue=Oe(this.options.autoPanPadding),Te=Oe(this.options.autoPanPaddingTopLeft||ue),Be=Oe(this.options.autoPanPaddingBottomRight||ue),rt=l.getSize(),xt=0,Ht=0;W.x+S+Be.x>rt.x&&(xt=W.x+S-rt.x+Be.x),W.x-xt-Te.x<0&&(xt=W.x-Te.x),W.y+v+Be.y>rt.y&&(Ht=W.y+v-rt.y+Be.y),W.y-Ht-Te.y<0&&(Ht=W.y-Te.y),(xt||Ht)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([xt,Ht]))}},_getAnchor:function(){return Oe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),eh=function(l,f){return new ja(l,f)};ur.mergeOptions({closePopupOnClick:!0}),ur.include({openPopup:function(l,f,v){return this._initOverlay(ja,l,f,v).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),Ar.include({bindPopup:function(l,f){return this._popup=this._initOverlay(ja,this._popup,l,f),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof fs||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){us(l);var f=l.layer||l.target;if(this._popup._source===f&&!(f instanceof In)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=f,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var ac=Pi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Pi.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Pi.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Pi.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",f=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Xt("div",f),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var f,v,S=this._map,k=this._container,W=S.latLngToContainerPoint(S.getCenter()),ue=S.layerPointToContainerPoint(l),Te=this.options.direction,Be=k.offsetWidth,rt=k.offsetHeight,xt=Oe(this.options.offset),Ht=this._getAnchor();Te==="top"?(f=Be/2,v=rt):Te==="bottom"?(f=Be/2,v=0):Te==="center"?(f=Be/2,v=rt/2):Te==="right"?(f=0,v=rt/2):Te==="left"?(f=Be,v=rt/2):ue.x<W.x?(Te="right",f=0,v=rt/2):(Te="left",f=Be+(xt.x+Ht.x)*2,v=rt/2),l=l.subtract(Oe(f,v,!0)).add(xt).add(Ht),Cr(k,"leaflet-tooltip-right"),Cr(k,"leaflet-tooltip-left"),Cr(k,"leaflet-tooltip-top"),Cr(k,"leaflet-tooltip-bottom"),er(k,"leaflet-tooltip-"+Te),Rr(k,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&oi(this._container,l)},_animateZoom:function(l){var f=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(f)},_getAnchor:function(){return Oe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),of=function(l,f){return new ac(l,f)};ur.include({openTooltip:function(l,f,v){return this._initOverlay(ac,l,f,v).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),Ar.include({bindTooltip:function(l,f){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ac,this._tooltip,l,f),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var f=l?"off":"on",v={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?v.add=this._openTooltip:(v.mouseover=this._openTooltip,v.mouseout=this.closeTooltip,v.click=this._openTooltip,this._map?this._addFocusListeners():v.add=this._addFocusListeners),this._tooltip.options.sticky&&(v.mousemove=this._moveTooltip),this[f](v),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof fs||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&(ar(f,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),ar(f,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var f=typeof l.getElement=="function"&&l.getElement();f&&f.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var f=this;this._map.once("moveend",function(){f._openOnceFlag=!1,f._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var f=l.latlng,v,S;this._tooltip.options.sticky&&l.originalEvent&&(v=this._map.mouseEventToContainerPoint(l.originalEvent),S=this._map.containerPointToLayerPoint(v),f=this._map.layerPointToLatLng(S)),this._tooltip.setLatLng(f)}});var Jh=ps.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var f=l&&l.tagName==="DIV"?l:document.createElement("div"),v=this.options;if(v.html instanceof Element?(hn(f),f.appendChild(v.html)):f.innerHTML=v.html!==!1?v.html:"",v.bgPos){var S=Oe(v.bgPos);f.style.backgroundPosition=-S.x+"px "+-S.y+"px"}return this._setIconStyles(f,"icon"),f},createShadow:function(){return null}});function lf(l){return new Jh(l)}ps.Default=Ma;var gl=Ar.extend({options:{tileSize:256,opacity:1,updateWhenIdle:_t.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){y(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),tn(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ta(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ca(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof me?l:new me(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var f=this.getPane().children,v=-l(-1/0,1/0),S=0,k=f.length,W;S<k;S++)W=f[S].style.zIndex,f[S]!==this._container&&W&&(v=l(v,+W));isFinite(v)&&(this.options.zIndex=v+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!_t.ielt9){oi(this._container,this.options.opacity);var l=+new Date,f=!1,v=!1;for(var S in this._tiles){var k=this._tiles[S];if(!(!k.current||!k.loaded)){var W=Math.min(1,(l-k.loaded)/200);oi(k.el,W),W<1?f=!0:(k.active?v=!0:this._onOpaqueTile(k),k.active=!0)}}v&&!this._noPrune&&this._pruneTiles(),f&&(z(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Xt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,f=this.options.maxZoom;if(l!==void 0){for(var v in this._levels)v=Number(v),this._levels[v].el.children.length||v===l?(this._levels[v].el.style.zIndex=f-Math.abs(l-v),this._onUpdateLevel(v)):(tn(this._levels[v].el),this._removeTilesAtZoom(v),this._onRemoveLevel(v),delete this._levels[v]);var S=this._levels[l],k=this._map;return S||(S=this._levels[l]={},S.el=Xt("div","leaflet-tile-container leaflet-zoom-animated",this._container),S.el.style.zIndex=f,S.origin=k.project(k.unproject(k.getPixelOrigin()),l).round(),S.zoom=l,this._setZoomTransform(S,k.getCenter(),k.getZoom()),p(S.el.offsetWidth),this._onCreateLevel(S)),this._level=S,S}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var l,f,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)f=this._tiles[l],f.retain=f.current;for(l in this._tiles)if(f=this._tiles[l],f.current&&!f.active){var S=f.coords;this._retainParent(S.x,S.y,S.z,S.z-5)||this._retainChildren(S.x,S.y,S.z,S.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var f in this._tiles)this._tiles[f].coords.z===l&&this._removeTile(f)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)tn(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,f,v,S){var k=Math.floor(l/2),W=Math.floor(f/2),ue=v-1,Te=new me(+k,+W);Te.z=+ue;var Be=this._tileCoordsToKey(Te),rt=this._tiles[Be];return rt&&rt.active?(rt.retain=!0,!0):(rt&&rt.loaded&&(rt.retain=!0),ue>S?this._retainParent(k,W,ue,S):!1)},_retainChildren:function(l,f,v,S){for(var k=2*l;k<2*l+2;k++)for(var W=2*f;W<2*f+2;W++){var ue=new me(k,W);ue.z=v+1;var Te=this._tileCoordsToKey(ue),Be=this._tiles[Te];if(Be&&Be.active){Be.retain=!0;continue}else Be&&Be.loaded&&(Be.retain=!0);v+1<S&&this._retainChildren(k,W,v+1,S)}},_resetView:function(l){var f=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),f,f)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var f=this.options;return f.minNativeZoom!==void 0&&l<f.minNativeZoom?f.minNativeZoom:f.maxNativeZoom!==void 0&&f.maxNativeZoom<l?f.maxNativeZoom:l},_setView:function(l,f,v,S){var k=Math.round(f);this.options.maxZoom!==void 0&&k>this.options.maxZoom||this.options.minZoom!==void 0&&k<this.options.minZoom?k=void 0:k=this._clampZoom(k);var W=this.options.updateWhenZooming&&k!==this._tileZoom;(!S||W)&&(this._tileZoom=k,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),k!==void 0&&this._update(l),v||this._pruneTiles(),this._noPrune=!!v),this._setZoomTransforms(l,f)},_setZoomTransforms:function(l,f){for(var v in this._levels)this._setZoomTransform(this._levels[v],l,f)},_setZoomTransform:function(l,f,v){var S=this._map.getZoomScale(v,l.zoom),k=l.origin.multiplyBy(S).subtract(this._map._getNewPixelOrigin(f,v)).round();_t.any3d?Da(l.el,k,S):Rr(l.el,k)},_resetGrid:function(){var l=this._map,f=l.options.crs,v=this._tileSize=this.getTileSize(),S=this._tileZoom,k=this._map.getPixelWorldBounds(this._tileZoom);k&&(this._globalTileRange=this._pxBoundsToTileRange(k)),this._wrapX=f.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,f.wrapLng[0]],S).x/v.x),Math.ceil(l.project([0,f.wrapLng[1]],S).x/v.y)],this._wrapY=f.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([f.wrapLat[0],0],S).y/v.x),Math.ceil(l.project([f.wrapLat[1],0],S).y/v.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var f=this._map,v=f._animatingZoom?Math.max(f._animateToZoom,f.getZoom()):f.getZoom(),S=f.getZoomScale(v,this._tileZoom),k=f.project(l,this._tileZoom).floor(),W=f.getSize().divideBy(S*2);return new Me(k.subtract(W),k.add(W))},_update:function(l){var f=this._map;if(f){var v=this._clampZoom(f.getZoom());if(l===void 0&&(l=f.getCenter()),this._tileZoom!==void 0){var S=this._getTiledPixelBounds(l),k=this._pxBoundsToTileRange(S),W=k.getCenter(),ue=[],Te=this.options.keepBuffer,Be=new Me(k.getBottomLeft().subtract([Te,-Te]),k.getTopRight().add([Te,-Te]));if(!(isFinite(k.min.x)&&isFinite(k.min.y)&&isFinite(k.max.x)&&isFinite(k.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var rt in this._tiles){var xt=this._tiles[rt].coords;(xt.z!==this._tileZoom||!Be.contains(new me(xt.x,xt.y)))&&(this._tiles[rt].current=!1)}if(Math.abs(v-this._tileZoom)>1){this._setView(l,v);return}for(var Ht=k.min.y;Ht<=k.max.y;Ht++)for(var mr=k.min.x;mr<=k.max.x;mr++){var wi=new me(mr,Ht);if(wi.z=this._tileZoom,!!this._isValidTile(wi)){var Un=this._tiles[this._tileCoordsToKey(wi)];Un?Un.current=!0:ue.push(wi)}}if(ue.sort(function(Oi,yl){return Oi.distanceTo(W)-yl.distanceTo(W)}),ue.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gs=document.createDocumentFragment();for(mr=0;mr<ue.length;mr++)this._addTile(ue[mr],gs);this._level.el.appendChild(gs)}}}},_isValidTile:function(l){var f=this._map.options.crs;if(!f.infinite){var v=this._globalTileRange;if(!f.wrapLng&&(l.x<v.min.x||l.x>v.max.x)||!f.wrapLat&&(l.y<v.min.y||l.y>v.max.y))return!1}if(!this.options.bounds)return!0;var S=this._tileCoordsToBounds(l);return R(this.options.bounds).overlaps(S)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var f=this._map,v=this.getTileSize(),S=l.scaleBy(v),k=S.add(v),W=f.unproject(S,l.z),ue=f.unproject(k,l.z);return[W,ue]},_tileCoordsToBounds:function(l){var f=this._tileCoordsToNwSe(l),v=new F(f[0],f[1]);return this.options.noWrap||(v=this._map.wrapLatLngBounds(v)),v},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var f=l.split(":"),v=new me(+f[0],+f[1]);return v.z=+f[2],v},_removeTile:function(l){var f=this._tiles[l];f&&(tn(f.el),delete this._tiles[l],this.fire("tileunload",{tile:f.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){er(l,"leaflet-tile");var f=this.getTileSize();l.style.width=f.x+"px",l.style.height=f.y+"px",l.onselectstart=p,l.onmousemove=p,_t.ielt9&&this.options.opacity<1&&oi(l,this.options.opacity)},_addTile:function(l,f){var v=this._getTilePos(l),S=this._tileCoordsToKey(l),k=this.createTile(this._wrapCoords(l),a(this._tileReady,this,l));this._initTile(k),this.createTile.length<2&&P(a(this._tileReady,this,l,null,k)),Rr(k,v),this._tiles[S]={el:k,coords:l,current:!0},f.appendChild(k),this.fire("tileloadstart",{tile:k,coords:l})},_tileReady:function(l,f,v){f&&this.fire("tileerror",{error:f,tile:v,coords:l});var S=this._tileCoordsToKey(l);v=this._tiles[S],v&&(v.loaded=+new Date,this._map._fadeAnimated?(oi(v.el,0),z(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this)):(v.active=!0,this._pruneTiles()),f||(er(v.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:v.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),_t.ielt9||!this._map._fadeAnimated?P(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var f=new me(this._wrapX?u(l.x,this._wrapX):l.x,this._wrapY?u(l.y,this._wrapY):l.y);return f.z=l.z,f},_pxBoundsToTileRange:function(l){var f=this.getTileSize();return new Me(l.min.unscaleBy(f).floor(),l.max.unscaleBy(f).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function cf(l){return new gl(l)}var fa=gl.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,f){this._url=l,f=y(this,f),f.detectRetina&&_t.retina&&f.maxZoom>0?(f.tileSize=Math.floor(f.tileSize/2),f.zoomReverse?(f.zoomOffset--,f.minZoom=Math.min(f.maxZoom,f.minZoom+1)):(f.zoomOffset++,f.maxZoom=Math.max(f.minZoom,f.maxZoom-1)),f.minZoom=Math.max(0,f.minZoom)):f.zoomReverse?f.minZoom=Math.min(f.maxZoom,f.minZoom):f.maxZoom=Math.max(f.minZoom,f.maxZoom),typeof f.subdomains=="string"&&(f.subdomains=f.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,f){return this._url===l&&f===void 0&&(f=!0),this._url=l,f||this.redraw(),this},createTile:function(l,f){var v=document.createElement("img");return ar(v,"load",a(this._tileOnLoad,this,f,v)),ar(v,"error",a(this._tileOnError,this,f,v)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(v.referrerPolicy=this.options.referrerPolicy),v.alt="",v.src=this.getTileUrl(l),v},getTileUrl:function(l){var f={r:_t.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var v=this._globalTileRange.max.y-l.y;this.options.tms&&(f.y=v),f["-y"]=v}return D(this._url,i(f,this.options))},_tileOnLoad:function(l,f){_t.ielt9?setTimeout(a(l,this,null,f),0):l(null,f)},_tileOnError:function(l,f,v){var S=this.options.errorTileUrl;S&&f.getAttribute("src")!==S&&(f.src=S),l(v,f)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,f=this.options.maxZoom,v=this.options.zoomReverse,S=this.options.zoomOffset;return v&&(l=f-l),l+S},_getSubdomain:function(l){var f=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[f]},_abortLoading:function(){var l,f;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(f=this._tiles[l].el,f.onload=p,f.onerror=p,!f.complete)){f.src=X;var v=this._tiles[l].coords;tn(f),delete this._tiles[l],this.fire("tileabort",{tile:f,coords:v})}},_removeTile:function(l){var f=this._tiles[l];if(f)return f.el.setAttribute("src",X),gl.prototype._removeTile.call(this,l)},_tileReady:function(l,f,v){if(!(!this._map||v&&v.getAttribute("src")===X))return gl.prototype._tileReady.call(this,l,f,v)}});function Qh(l,f){return new fa(l,f)}var eu=fa.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,f){this._url=l;var v=i({},this.defaultWmsParams);for(var S in f)S in this.options||(v[S]=f[S]);f=y(this,f);var k=f.detectRetina&&_t.retina?2:1,W=this.getTileSize();v.width=W.x*k,v.height=W.y*k,this.wmsParams=v},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var f=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[f]=this._crs.code,fa.prototype.onAdd.call(this,l)},getTileUrl:function(l){var f=this._tileCoordsToNwSe(l),v=this._crs,S=T(v.project(f[0]),v.project(f[1])),k=S.min,W=S.max,ue=(this._wmsVersion>=1.3&&this._crs===dl?[k.y,k.x,W.y,W.x]:[k.x,k.y,W.x,W.y]).join(","),Te=fa.prototype.getTileUrl.call(this,l);return Te+b(this.wmsParams,Te,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ue},setParams:function(l,f){return i(this.wmsParams,l),f||this.redraw(),this}});function hf(l,f){return new eu(l,f)}fa.WMS=eu,Qh.wms=hf;var da=Ar.extend({options:{padding:.1},initialize:function(l){y(this,l),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),er(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,f){var v=this._map.getZoomScale(f,this._zoom),S=this._map.getSize().multiplyBy(.5+this.options.padding),k=this._map.project(this._center,f),W=S.multiplyBy(-v).add(k).subtract(this._map._getNewPixelOrigin(l,f));_t.any3d?Da(this._container,W,v):Rr(this._container,W)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,f=this._map.getSize(),v=this._map.containerPointToLayerPoint(f.multiplyBy(-l)).round();this._bounds=new Me(v,v.add(f.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),tu=da.extend({options:{tolerance:0},getEvents:function(){var l=da.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){da.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");ar(l,"mousemove",this._onMouseMove,this),ar(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ar(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,tn(this._container),Ur(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var f in this._layers)l=this._layers[f],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){da.prototype._update.call(this);var l=this._bounds,f=this._container,v=l.getSize(),S=_t.retina?2:1;Rr(f,l.min),f.width=S*v.x,f.height=S*v.y,f.style.width=v.x+"px",f.style.height=v.y+"px",_t.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){da.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[c(l)]=l;var f=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=f),this._drawLast=f,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var f=l._order,v=f.next,S=f.prev;v?v.prev=S:this._drawLast=S,S?S.next=v:this._drawFirst=v,delete l._order,delete this._layers[c(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var f=l.options.dashArray.split(/[, ]+/),v=[],S,k;for(k=0;k<f.length;k++){if(S=Number(f[k]),isNaN(S))return;v.push(S)}l.options._dashArray=v}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||P(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var f=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Me,this._redrawBounds.extend(l._pxBounds.min.subtract([f,f])),this._redrawBounds.extend(l._pxBounds.max.add([f,f]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var f=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,f.x,f.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,f=this._redrawBounds;if(this._ctx.save(),f){var v=f.getSize();this._ctx.beginPath(),this._ctx.rect(f.min.x,f.min.y,v.x,v.y),this._ctx.clip()}this._drawing=!0;for(var S=this._drawFirst;S;S=S.next)l=S.layer,(!f||l._pxBounds&&l._pxBounds.intersects(f))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,f){if(this._drawing){var v,S,k,W,ue=l._parts,Te=ue.length,Be=this._ctx;if(Te){for(Be.beginPath(),v=0;v<Te;v++){for(S=0,k=ue[v].length;S<k;S++)W=ue[v][S],Be[S?"lineTo":"moveTo"](W.x,W.y);f&&Be.closePath()}this._fillStroke(Be,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var f=l._point,v=this._ctx,S=Math.max(Math.round(l._radius),1),k=(Math.max(Math.round(l._radiusY),1)||S)/S;k!==1&&(v.save(),v.scale(1,k)),v.beginPath(),v.arc(f.x,f.y/k,S,0,Math.PI*2,!1),k!==1&&v.restore(),this._fillStroke(v,l)}},_fillStroke:function(l,f){var v=f.options;v.fill&&(l.globalAlpha=v.fillOpacity,l.fillStyle=v.fillColor||v.color,l.fill(v.fillRule||"evenodd")),v.stroke&&v.weight!==0&&(l.setLineDash&&l.setLineDash(f.options&&f.options._dashArray||[]),l.globalAlpha=v.opacity,l.lineWidth=v.weight,l.strokeStyle=v.color,l.lineCap=v.lineCap,l.lineJoin=v.lineJoin,l.stroke())},_onClick:function(l){for(var f=this._map.mouseEventToLayerPoint(l),v,S,k=this._drawFirst;k;k=k.next)v=k.layer,v.options.interactive&&v._containsPoint(f)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(v))&&(S=v);this._fireEvent(S?[S]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var f=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,f)}},_handleMouseOut:function(l){var f=this._hoveredLayer;f&&(Cr(this._container,"leaflet-interactive"),this._fireEvent([f],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,f){if(!this._mouseHoverThrottled){for(var v,S,k=this._drawFirst;k;k=k.next)v=k.layer,v.options.interactive&&v._containsPoint(f)&&(S=v);S!==this._hoveredLayer&&(this._handleMouseOut(l),S&&(er(this._container,"leaflet-interactive"),this._fireEvent([S],l,"mouseover"),this._hoveredLayer=S)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,f,v){this._map._fireDOMEvent(f,v||f.type,l)},_bringToFront:function(l){var f=l._order;if(f){var v=f.next,S=f.prev;if(v)v.prev=S;else return;S?S.next=v:v&&(this._drawFirst=v),f.prev=this._drawLast,this._drawLast.next=f,f.next=null,this._drawLast=f,this._requestRedraw(l)}},_bringToBack:function(l){var f=l._order;if(f){var v=f.next,S=f.prev;if(S)S.next=v;else return;v?v.prev=S:S&&(this._drawLast=S),f.prev=null,f.next=this._drawFirst,this._drawFirst.prev=f,this._drawFirst=f,this._requestRedraw(l)}}});function ru(l){return _t.canvas?new tu(l):null}var vl=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch(l){}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),uf={_initContainer:function(){this._container=Xt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(da.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var f=l._container=vl("shape");er(f,"leaflet-vml-shape "+(this.options.className||"")),f.coordsize="1 1",l._path=vl("path"),f.appendChild(l._path),this._updateStyle(l),this._layers[c(l)]=l},_addPath:function(l){var f=l._container;this._container.appendChild(f),l.options.interactive&&l.addInteractiveTarget(f)},_removePath:function(l){var f=l._container;tn(f),l.removeInteractiveTarget(f),delete this._layers[c(l)]},_updateStyle:function(l){var f=l._stroke,v=l._fill,S=l.options,k=l._container;k.stroked=!!S.stroke,k.filled=!!S.fill,S.stroke?(f||(f=l._stroke=vl("stroke")),k.appendChild(f),f.weight=S.weight+"px",f.color=S.color,f.opacity=S.opacity,S.dashArray?f.dashStyle=N(S.dashArray)?S.dashArray.join(" "):S.dashArray.replace(/( *, *)/g," "):f.dashStyle="",f.endcap=S.lineCap.replace("butt","flat"),f.joinstyle=S.lineJoin):f&&(k.removeChild(f),l._stroke=null),S.fill?(v||(v=l._fill=vl("fill")),k.appendChild(v),v.color=S.fillColor||S.color,v.opacity=S.fillOpacity):v&&(k.removeChild(v),l._fill=null)},_updateCircle:function(l){var f=l._point.round(),v=Math.round(l._radius),S=Math.round(l._radiusY||v);this._setPath(l,l._empty()?"M0 0":"AL "+f.x+","+f.y+" "+v+","+S+" 0,"+65535*360)},_setPath:function(l,f){l._path.v=f},_bringToFront:function(l){Ta(l._container)},_bringToBack:function(l){Ca(l._container)}},wl=_t.vml?vl:le,po=da.extend({_initContainer:function(){this._container=wl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){tn(this._container),Ur(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){da.prototype._update.call(this);var l=this._bounds,f=l.getSize(),v=this._container;(!this._svgSize||!this._svgSize.equals(f))&&(this._svgSize=f,v.setAttribute("width",f.x),v.setAttribute("height",f.y)),Rr(v,l.min),v.setAttribute("viewBox",[l.min.x,l.min.y,f.x,f.y].join(" ")),this.fire("update")}},_initPath:function(l){var f=l._path=wl("path");l.options.className&&er(f,l.options.className),l.options.interactive&&er(f,"leaflet-interactive"),this._updateStyle(l),this._layers[c(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){tn(l._path),l.removeInteractiveTarget(l._path),delete this._layers[c(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var f=l._path,v=l.options;f&&(v.stroke?(f.setAttribute("stroke",v.color),f.setAttribute("stroke-opacity",v.opacity),f.setAttribute("stroke-width",v.weight),f.setAttribute("stroke-linecap",v.lineCap),f.setAttribute("stroke-linejoin",v.lineJoin),v.dashArray?f.setAttribute("stroke-dasharray",v.dashArray):f.removeAttribute("stroke-dasharray"),v.dashOffset?f.setAttribute("stroke-dashoffset",v.dashOffset):f.removeAttribute("stroke-dashoffset")):f.setAttribute("stroke","none"),v.fill?(f.setAttribute("fill",v.fillColor||v.color),f.setAttribute("fill-opacity",v.fillOpacity),f.setAttribute("fill-rule",v.fillRule||"evenodd")):f.setAttribute("fill","none"))},_updatePoly:function(l,f){this._setPath(l,Nt(l._parts,f))},_updateCircle:function(l){var f=l._point,v=Math.max(Math.round(l._radius),1),S=Math.max(Math.round(l._radiusY),1)||v,k="a"+v+","+S+" 0 1,0 ",W=l._empty()?"M0 0":"M"+(f.x-v)+","+f.y+k+v*2+",0 "+k+-v*2+",0 ";this._setPath(l,W)},_setPath:function(l,f){l._path.setAttribute("d",f)},_bringToFront:function(l){Ta(l._path)},_bringToBack:function(l){Ca(l._path)}});_t.vml&&po.include(uf);function Ri(l){return _t.svg||_t.vml?new po(l):null}ur.include({getRenderer:function(l){var f=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return f||(f=this._renderer=this._createRenderer()),this.hasLayer(f)||this.addLayer(f),f},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var f=this._paneRenderers[l];return f===void 0&&(f=this._createRenderer({pane:l}),this._paneRenderers[l]=f),f},_createRenderer:function(l){return this.options.preferCanvas&&ru(l)||Ri(l)}});var Yi=za.extend({initialize:function(l,f){za.prototype.initialize.call(this,this._boundsToLatLngs(l),f)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=R(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function th(l,f){return new Yi(l,f)}po.create=wl,po.pointsToPath=Nt,Kn.geometryToLayer=ho,Kn.coordsToLatLng=Mo,Kn.coordsToLatLngs=uo,Kn.latLngToCoords=ca,Kn.latLngsToCoords=Bs,Kn.getFeature=$i,Kn.asFeature=ha,ur.mergeOptions({boxZoom:!0});var oc=re.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){ar(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ur(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){tn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),io(),Kl(),this._startPoint=this._map.mouseEventToContainerPoint(l),ar(document,{contextmenu:us,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=Xt("div","leaflet-zoom-box",this._container),er(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var f=new Me(this._point,this._startPoint),v=f.getSize();Rr(this._box,f.min),this._box.style.width=v.x+"px",this._box.style.height=v.y+"px"},_finish:function(){this._moved&&(tn(this._box),Cr(this._container,"leaflet-crosshair")),cs(),Xl(),Ur(document,{contextmenu:us,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var f=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(f).fire("boxzoomend",{boxZoomBounds:f})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ur.addInitHook("addHandler","boxZoom",oc),ur.mergeOptions({doubleClickZoom:!0});var nu=re.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var f=this._map,v=f.getZoom(),S=f.options.zoomDelta,k=l.originalEvent.shiftKey?v-S:v+S;f.options.doubleClickZoom==="center"?f.setZoom(k):f.setZoomAround(l.containerPoint,k)}});ur.addInitHook("addHandler","doubleClickZoom",nu),ur.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var lc=re.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new We(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}er(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Cr(this._map._container,"leaflet-grab"),Cr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var f=R(this._map.options.maxBounds);this._offsetLimit=T(this._map.latLngToContainerPoint(f.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(f.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var f=this._lastTime=+new Date,v=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(v),this._times.push(f),this._prunePositions(f)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),f=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=f.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,f){return l-(l-f)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),f=this._offsetLimit;l.x<f.min.x&&(l.x=this._viscousLimit(l.x,f.min.x)),l.y<f.min.y&&(l.y=this._viscousLimit(l.y,f.min.y)),l.x>f.max.x&&(l.x=this._viscousLimit(l.x,f.max.x)),l.y>f.max.y&&(l.y=this._viscousLimit(l.y,f.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,f=Math.round(l/2),v=this._initialWorldOffset,S=this._draggable._newPos.x,k=(S-f+v)%l+f-v,W=(S+f+v)%l-f-v,ue=Math.abs(k+v)<Math.abs(W+v)?k:W;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ue},_onDragEnd:function(l){var f=this._map,v=f.options,S=!v.inertia||l.noInertia||this._times.length<2;if(f.fire("dragend",l),S)f.fire("moveend");else{this._prunePositions(+new Date);var k=this._lastPos.subtract(this._positions[0]),W=(this._lastTime-this._times[0])/1e3,ue=v.easeLinearity,Te=k.multiplyBy(ue/W),Be=Te.distanceTo([0,0]),rt=Math.min(v.inertiaMaxSpeed,Be),xt=Te.multiplyBy(rt/Be),Ht=rt/(v.inertiaDeceleration*ue),mr=xt.multiplyBy(-Ht/2).round();!mr.x&&!mr.y?f.fire("moveend"):(mr=f._limitOffset(mr,f.options.maxBounds),P(function(){f.panBy(mr,{duration:Ht,easeLinearity:ue,noMoveStart:!0,animate:!0})}))}}});ur.addInitHook("addHandler","dragging",lc),ur.mergeOptions({keyboard:!0,keyboardPanDelta:80});var cc=re.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),ar(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ur(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,f=document.documentElement,v=l.scrollTop||f.scrollTop,S=l.scrollLeft||f.scrollLeft;this._map._container.focus(),window.scrollTo(S,v)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var f=this._panKeys={},v=this.keyCodes,S,k;for(S=0,k=v.left.length;S<k;S++)f[v.left[S]]=[-1*l,0];for(S=0,k=v.right.length;S<k;S++)f[v.right[S]]=[l,0];for(S=0,k=v.down.length;S<k;S++)f[v.down[S]]=[0,l];for(S=0,k=v.up.length;S<k;S++)f[v.up[S]]=[0,-1*l]},_setZoomDelta:function(l){var f=this._zoomKeys={},v=this.keyCodes,S,k;for(S=0,k=v.zoomIn.length;S<k;S++)f[v.zoomIn[S]]=l;for(S=0,k=v.zoomOut.length;S<k;S++)f[v.zoomOut[S]]=-l},_addHooks:function(){ar(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ur(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var f=l.keyCode,v=this._map,S;if(f in this._panKeys){if(!v._panAnim||!v._panAnim._inProgress)if(S=this._panKeys[f],l.shiftKey&&(S=Oe(S).multiplyBy(3)),v.options.maxBounds&&(S=v._limitOffset(Oe(S),v.options.maxBounds)),v.options.worldCopyJump){var k=v.wrapLatLng(v.unproject(v.project(v.getCenter()).add(S)));v.panTo(k)}else v.panBy(S)}else if(f in this._zoomKeys)v.setZoom(v.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[f]);else if(f===27&&v._popup&&v._popup.options.closeOnEscapeKey)v.closePopup();else return;us(l)}}});ur.addInitHook("addHandler","keyboard",cc),ur.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var rh=re.extend({addHooks:function(){ar(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ur(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var f=ul(l),v=this._map.options.wheelDebounceTime;this._delta+=f,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var S=Math.max(v-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),S),us(l)},_performZoom:function(){var l=this._map,f=l.getZoom(),v=this._map.options.zoomSnap||0;l._stop();var S=this._delta/(this._map.options.wheelPxPerZoomLevel*4),k=4*Math.log(2/(1+Math.exp(-Math.abs(S))))/Math.LN2,W=v?Math.ceil(k/v)*v:k,ue=l._limitZoom(f+(this._delta>0?W:-W))-f;this._delta=0,this._startTime=null,ue&&(l.options.scrollWheelZoom==="center"?l.setZoom(f+ue):l.setZoomAround(this._lastMousePos,f+ue))}});ur.addInitHook("addHandler","scrollWheelZoom",rh);var ff=600;ur.mergeOptions({tapHold:_t.touchNative&&_t.safari&&_t.mobile,tapTolerance:15});var nh=re.extend({addHooks:function(){ar(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ur(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var f=l.touches[0];this._startPos=this._newPos=new me(f.clientX,f.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(ar(document,"touchend",un),ar(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",f))},this),ff),ar(document,"touchend touchcancel contextmenu",this._cancel,this),ar(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){Ur(document,"touchend",un),Ur(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),Ur(document,"touchend touchcancel contextmenu",this._cancel,this),Ur(document,"touchmove",this._onMove,this)},_onMove:function(l){var f=l.touches[0];this._newPos=new me(f.clientX,f.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,f){var v=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY});v._simulated=!0,f.target.dispatchEvent(v)}});ur.addInitHook("addHandler","tapHold",nh),ur.mergeOptions({touchZoom:_t.touch,bounceAtZoomLimits:!0});var ih=re.extend({addHooks:function(){er(this._map._container,"leaflet-touch-zoom"),ar(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Cr(this._map._container,"leaflet-touch-zoom"),Ur(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var f=this._map;if(!(!l.touches||l.touches.length!==2||f._animatingZoom||this._zooming)){var v=f.mouseEventToContainerPoint(l.touches[0]),S=f.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=f.getSize()._divideBy(2),this._startLatLng=f.containerPointToLatLng(this._centerPoint),f.options.touchZoom!=="center"&&(this._pinchStartLatLng=f.containerPointToLatLng(v.add(S)._divideBy(2))),this._startDist=v.distanceTo(S),this._startZoom=f.getZoom(),this._moved=!1,this._zooming=!0,f._stop(),ar(document,"touchmove",this._onTouchMove,this),ar(document,"touchend touchcancel",this._onTouchEnd,this),un(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var f=this._map,v=f.mouseEventToContainerPoint(l.touches[0]),S=f.mouseEventToContainerPoint(l.touches[1]),k=v.distanceTo(S)/this._startDist;if(this._zoom=f.getScaleZoom(k,this._startZoom),!f.options.bounceAtZoomLimits&&(this._zoom<f.getMinZoom()&&k<1||this._zoom>f.getMaxZoom()&&k>1)&&(this._zoom=f._limitZoom(this._zoom)),f.options.touchZoom==="center"){if(this._center=this._startLatLng,k===1)return}else{var W=v._add(S)._divideBy(2)._subtract(this._centerPoint);if(k===1&&W.x===0&&W.y===0)return;this._center=f.unproject(f.project(this._pinchStartLatLng,this._zoom).subtract(W),this._zoom)}this._moved||(f._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var ue=a(f._move,f,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=P(ue,this,!0),un(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Ur(document,"touchmove",this._onTouchMove,this),Ur(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ur.addInitHook("addHandler","touchZoom",ih),ur.BoxZoom=oc,ur.DoubleClickZoom=nu,ur.Drag=lc,ur.Keyboard=cc,ur.ScrollWheelZoom=rh,ur.TapHold=nh,ur.TouchZoom=ih,t.Bounds=Me,t.Browser=_t,t.CRS=fe,t.Canvas=tu,t.Circle=oa,t.CircleMarker=Ms,t.Class=ce,t.Control=ei,t.DivIcon=Jh,t.DivOverlay=Pi,t.DomEvent=Lo,t.DomUtil=rr,t.Draggable=We,t.Evented=Pe,t.FeatureGroup=fs,t.GeoJSON=Kn,t.GridLayer=gl,t.Handler=re,t.Icon=ps,t.ImageOverlay=Zi,t.LatLng=B,t.LatLngBounds=F,t.Layer=Ar,t.LayerGroup=Ii,t.LineUtil=Ro,t.Map=ur,t.Marker=aa,t.Mixin=pe,t.Path=In,t.Point=me,t.PolyUtil=tr,t.Polygon=za,t.Polyline=Li,t.Popup=ja,t.PosAnimation=fl,t.Projection=Oo,t.Rectangle=Yi,t.Renderer=da,t.SVG=po,t.SVGOverlay=Ln,t.TileLayer=fa,t.Tooltip=ac,t.Transformation=je,t.Util=te,t.VideoOverlay=Hr,t.bind=a,t.bounds=T,t.canvas=ru,t.circle=sc,t.circleMarker=Ua,t.control=lo,t.divIcon=lf,t.extend=i,t.featureGroup=ds,t.geoJSON=fo,t.geoJson=ms,t.gridLayer=cf,t.icon=ic,t.imageOverlay=Nr,t.latLng=Y,t.latLngBounds=R,t.layerGroup=pl,t.map=ec,t.marker=Gi,t.point=Oe,t.polygon=la,t.polyline=En,t.popup=eh,t.rectangle=th,t.setOptions=y,t.stamp=c,t.svg=Ri,t.svgOverlay=Ha,t.tileLayer=Qh,t.tooltip=of,t.transformation=Xe,t.version=n,t.videoOverlay=An;var sh=window.L;t.noConflict=function(){return window.L=sh,this},window.L=t})})(wm,wm.exports);var Ye=wm.exports;const ys=D6(Ye);function ss(r,e){return Object.assign(e,r.geocodingQueryParams)}function ks(r,e){return Object.assign(e,r.reverseQueryParams)}const N6=/[&<>"'`]/g,I6=/[&<>"'`]/,L6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function P6(r){return L6[r]}function R6(r){return r==null?"":r?(r=""+r,I6.test(r)?r.replace(N6,P6):r):r+""}function sn(r,e){const t={Accept:"application/json"},n=new URL(r);return Object.entries(e).forEach(([i,s])=>{(Array.isArray(s)?s:[s]).forEach(a=>{n.searchParams.append(i,a)})}),fetch(n.toString(),{headers:t}).then(i=>i.json())}function O6(r,e){return r.replace(/\{ *([\w_]+) *\}/g,(t,n)=>{let i=e[n];return i===void 0?i="":typeof i=="function"&&(i=i(e)),R6(i)})}let Qb=class{constructor(e){dt(this,"options",{serviceUrl:"https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer",apiKey:""});Ye.Util.setOptions(this,e)}async geocode(e){const t=ss(this.options,{token:this.options.apiKey,SingleLine:e,outFields:"Addr_Type",forStorage:!1,maxLocations:10,f:"json"});return(await sn(this.options.serviceUrl+"/findAddressCandidates",t)).candidates.map(n=>{const i=new Ye.LatLng(n.location.y,n.location.x),s=new Ye.LatLngBounds(new Ye.LatLng(n.extent.ymax,n.extent.xmax),new Ye.LatLng(n.extent.ymin,n.extent.xmin));return{name:n.address,bbox:s,center:i}})}suggest(e){return this.geocode(e)}async reverse(e,t){const n=ks(this.options,{location:e.lng+","+e.lat,distance:100,f:"json"}),i=await sn(this.options.serviceUrl+"/reverseGeocode",n);if(!i||i.error)return[];const s=new Ye.LatLng(i.location.y,i.location.x),a=new Ye.LatLngBounds(s,s);return[{name:i.address.Match_addr,center:s,bbox:a}]}};function F6(r){return new Qb(r)}let ex=class{constructor(e){dt(this,"options",{serviceUrl:"https://dev.virtualearth.net/REST/v1/Locations/"});Ye.Util.setOptions(this,e)}async geocode(e){const t=ss(this.options,{query:e,key:this.options.apiKey}),n=await sn(this.options.serviceUrl,t);return this._parseResults(n)}async reverse(e,t){const n=ks(this.options,{key:this.options.apiKey}),i=await sn(this.options.serviceUrl+e.lat+","+e.lng,n);return this._parseResults(i)}_parseResults(e){return e.resourceSets[0].resources.map(t=>{const n=t.bbox;return{name:t.name,bbox:new Ye.LatLngBounds([n[0],n[1]],[n[2],n[3]]),center:new Ye.LatLng(...t.point.coordinates)}})}};function M6(r){return new ex(r)}let tx=class{constructor(e){dt(this,"options",{apiKey:"",serviceUrl:"https://atlas.microsoft.com/search"});if(Ye.Util.setOptions(this,e),!this.options.apiKey)throw new Error("Azure Maps Geocoder requires an API key.")}async geocode(e){const t={"api-version":"1.0",query:e,"subscription-key":this.options.apiKey},n=this.options.serviceUrl+"/address/json";return((await sn(n,t)).results||[]).map(i=>({name:i.address.freeformAddress,bbox:new Ye.LatLngBounds([i.viewport.topLeftPoint.lat,i.viewport.topLeftPoint.lon],[i.viewport.btmRightPoint.lat,i.viewport.btmRightPoint.lon]),center:new Ye.LatLng(i.position.lat,i.position.lon)}))}async reverse(e,t){const n={"api-version":"1.0",query:e.lat+","+e.lng,"subscription-key":this.options.apiKey},i=this.options.serviceUrl+"/address/reverse/json";return((await sn(i,n)).addresses||[]).map(s=>({name:s.address.freeformAddress,bbox:new Ye.LatLngBounds([s.viewport.topLeftPoint.lat,s.viewport.topLeftPoint.lon],[s.viewport.btmRightPoint.lat,s.viewport.btmRightPoint.lon]),center:new Ye.LatLng(e.lat,e.lng)}))}};function B6(r){return new tx(r)}let rx=class{constructor(e){dt(this,"options",{serviceUrl:"https://maps.googleapis.com/maps/api/geocode/json"});Ye.Util.setOptions(this,e)}async geocode(e){const t=ss(this.options,{key:this.options.apiKey,address:e}),n=await sn(this.options.serviceUrl,t);return this._parseResults(n)}async reverse(e,t){const n=ks(this.options,{key:this.options.apiKey,latlng:e.lat+","+e.lng}),i=await sn(this.options.serviceUrl,n);return this._parseResults(i)}_parseResults(e){var t;return(t=e.results||[])==null?void 0:t.map(n=>{const i=new Ye.LatLng(n.geometry.location.lat,n.geometry.location.lng),s=new Ye.LatLngBounds(new Ye.LatLng(n.geometry.viewport.northeast.lat,n.geometry.viewport.northeast.lng),new Ye.LatLng(n.geometry.viewport.southwest.lat,n.geometry.viewport.southwest.lng));return{name:n.formatted_address,bbox:s,center:i,properties:n.address_components}})}};function U6(r){return new rx(r)}let nx=class{constructor(e){dt(this,"options",{serviceUrl:"https://geocoder.api.here.com/6.2/",app_id:"",app_code:"",apiKey:"",maxResults:5});if(Ye.Util.setOptions(this,e),e==null?void 0:e.apiKey)throw Error("apiKey is not supported, use app_id/app_code instead!")}geocode(e){const t=ss(this.options,{searchtext:e,gen:9,app_id:this.options.app_id,app_code:this.options.app_code,jsonattributes:1,maxresults:this.options.maxResults});return this.getJSON(this.options.serviceUrl+"geocode.json",t)}reverse(e,t){let n=e.lat+","+e.lng;this.options.reverseGeocodeProxRadius&&(n+=","+this.options.reverseGeocodeProxRadius);const i=ks(this.options,{prox:n,mode:"retrieveAddresses",app_id:this.options.app_id,app_code:this.options.app_code,gen:9,jsonattributes:1,maxresults:this.options.maxResults});return this.getJSON(this.options.serviceUrl+"reversegeocode.json",i)}async getJSON(e,t){var n,i;return(((i=(n=(await sn(e,t)).response.view)==null?void 0:n[0])==null?void 0:i.result)||[]).map(s=>{const a=s.location,o=new Ye.LatLng(a.displayPosition.latitude,a.displayPosition.longitude),c=new Ye.LatLngBounds(new Ye.LatLng(a.mapView.topLeft.latitude,a.mapView.topLeft.longitude),new Ye.LatLng(a.mapView.bottomRight.latitude,a.mapView.bottomRight.longitude));return{name:a.address.label,properties:a.address,bbox:c,center:o}})}},ix=class{constructor(e){dt(this,"options",{serviceUrl:"https://geocode.search.hereapi.com/v1",apiKey:"",app_id:"",app_code:"",maxResults:10});Ye.Util.setOptions(this,e)}geocode(e){const t=ss(this.options,{q:e,apiKey:this.options.apiKey,limit:this.options.maxResults});if(!t.at&&!t.in)throw Error("at / in parameters not found. Please define coordinates (at=latitude,longitude) or other (in) in your geocodingQueryParams.");return this.getJSON(this.options.serviceUrl+"/discover",t)}reverse(e,t){const n=ks(this.options,{at:e.lat+","+e.lng,limit:this.options.reverseGeocodeProxRadius,apiKey:this.options.apiKey});return this.getJSON(this.options.serviceUrl+"/revgeocode",n)}async getJSON(e,t){return((await sn(e,t)).items||[]).map(n=>{const i=new Ye.LatLng(n.position.lat,n.position.lng);let s;return n.mapView?s=new Ye.LatLngBounds(new Ye.LatLng(n.mapView.south,n.mapView.west),new Ye.LatLng(n.mapView.north,n.mapView.east)):s=new Ye.LatLngBounds(new Ye.LatLng(n.position.lat,n.position.lng),new Ye.LatLng(n.position.lat,n.position.lng)),{name:n.address.label,properties:n.address,bbox:s,center:i}})}};function z6(r){return r!=null&&r.apiKey?new ix(r):new nx(r)}function sx(r){let e;if(e=r.match(/^([NS])\s*(\d{1,3}(?:\.\d*)?)\W*([EW])\s*(\d{1,3}(?:\.\d*)?)$/))return new Ye.LatLng((/N/i.test(e[1])?1:-1)*+e[2],(/E/i.test(e[3])?1:-1)*+e[4]);if(e=r.match(/^(\d{1,3}(?:\.\d*)?)\s*([NS])\W*(\d{1,3}(?:\.\d*)?)\s*([EW])$/))return new Ye.LatLng((/N/i.test(e[2])?1:-1)*+e[1],(/E/i.test(e[4])?1:-1)*+e[3]);if(e=r.match(/^([NS])\s*(\d{1,3})?\s*(\d{1,3}(?:\.\d*)?)?[']?\W*([EW])\s*(\d{1,3})?\s*(\d{1,3}(?:\.\d*)?)?[']?$/))return new Ye.LatLng((/N/i.test(e[1])?1:-1)*(+e[2]+ +e[3]/60),(/E/i.test(e[4])?1:-1)*(+e[5]+ +e[6]/60));if(e=r.match(/^(\d{1,3})?\s*(\d{1,3}(?:\.\d*)?)?[']?\s*([NS])\W*(\d{1,3})?\s*(\d{1,3}(?:\.\d*)?)?[']?\s*([EW])$/))return new Ye.LatLng((/N/i.test(e[3])?1:-1)*(+e[1]+ +e[2]/60),(/E/i.test(e[6])?1:-1)*(+e[4]+ +e[5]/60));if(e=r.match(/^([NS])\s*(\d{1,3})?\s*(\d{1,2})[']?\s*(\d{1,3}(?:\.\d*)?)?["]?\W*([EW])\s*(\d{1,3})?\s*(\d{1,2})[']?\s*(\d{1,3}(?:\.\d*)?)?["]?$/))return new Ye.LatLng((/N/i.test(e[1])?1:-1)*(+e[2]+ +e[3]/60+ +e[4]/3600),(/E/i.test(e[5])?1:-1)*(+e[6]+ +e[7]/60+ +e[8]/3600));if(e=r.match(/^(\d{1,3})?\s*(\d{1,2})[']?\s*(\d{1,3}(?:\.\d*)?)?["]\s*([NS])\W*(\d{1,3})?\s*(\d{1,2})[']?\s*(\d{1,3}(?:\.\d*)?)?["]?\s*([EW])$/))return new Ye.LatLng((/N/i.test(e[4])?1:-1)*(+e[1]+ +e[2]/60+ +e[3]/3600),(/E/i.test(e[8])?1:-1)*(+e[5]+ +e[6]/60+ +e[7]/3600));if(e=r.match(/^\s*([+-]?\d+(?:\.\d*)?)\s*[\s,]\s*([+-]?\d+(?:\.\d*)?)\s*$/))return new Ye.LatLng(+e[1],+e[2])}let ax=class{constructor(e){dt(this,"options",{next:void 0,sizeInMeters:1e4});Ye.Util.setOptions(this,e)}async geocode(e){const t=sx(e);return t?[{name:e,center:t,bbox:t.toBounds(this.options.sizeInMeters)}]:this.options.next?this.options.next.geocode(e):[]}};function H6(r){return new ax(r)}class ox{constructor(e){dt(this,"options",{serviceUrl:"https://api.mapbox.com/geocoding/v5/mapbox.places/"});Ye.Util.setOptions(this,e)}_getProperties(e){const t={text:e.text,address:e.address};return(e.context||[]).forEach(n=>{const i=n.id.split(".")[0];t[i]=n.text,n.short_code&&(t.countryShortCode=n.short_code)}),t}async geocode(e){const t=this.options.serviceUrl+encodeURIComponent(e)+".json",n=ss(this.options,{access_token:this.options.apiKey});n.proximity!==void 0&&n.proximity.lat!==void 0&&n.proximity.lng!==void 0&&(n.proximity=n.proximity.lng+","+n.proximity.lat);const i=await sn(t,n);return this._parseResults(i)}suggest(e){return this.geocode(e)}async reverse(e,t){const n=this.options.serviceUrl+e.lng+","+e.lat+".json",i=ks(this.options,{access_token:this.options.apiKey}),s=await sn(n,i);return this._parseResults(s)}_parseResults(e){var t;return(t=e.features)!=null&&t.length?e.features.map(n=>{const i=new Ye.LatLng(...n.center.reverse());let s;return n.bbox?s=new Ye.LatLngBounds(new Ye.LatLng(...n.bbox.slice(0,2).reverse()),new Ye.LatLng(...n.bbox.slice(2,4).reverse())):s=new Ye.LatLngBounds(i,i),{name:n.place_name,bbox:s,center:i,properties:this._getProperties(n)}}):[]}}function j6(r){return new ox(r)}class lx{constructor(e){dt(this,"options",{serviceUrl:"https://www.mapquestapi.com/geocoding/v1"});Ye.Util.setOptions(this,e),this.options.apiKey=decodeURIComponent(this.options.apiKey)}_formatName(...e){return e.filter(t=>!!t).join(", ")}async geocode(e){const t=ss(this.options,{key:this.options.apiKey,location:e,limit:5,outFormat:"json"}),n=await sn(this.options.serviceUrl+"/address",t);return this._parseResults(n)}async reverse(e,t){const n=ks(this.options,{key:this.options.apiKey,location:e.lat+","+e.lng,outputFormat:"json"}),i=await sn(this.options.serviceUrl+"/reverse",n);return this._parseResults(i)}_parseResults(e){var t,n;return(((n=(t=e.results)==null?void 0:t[0])==null?void 0:n.locations)||[]).map(i=>{const s=new Ye.LatLng(i.latLng.lat,i.latLng.lng);return{name:this._formatName(i.street,i.adminArea4,i.adminArea3,i.adminArea1),bbox:new Ye.LatLngBounds(s,s),center:s}})}}function W6(r){return new lx(r)}let cx=class{constructor(e){dt(this,"options",{userId:"",apiKey:"",serviceUrl:"https://neutrinoapi.com/"});Ye.Util.setOptions(this,e)}async geocode(e){const t=ss(this.options,{apiKey:this.options.apiKey,userId:this.options.userId,address:e.split(/\s+/).join(".")}),n=await sn(this.options.serviceUrl+"geocode-address",t);if(!n.locations)return[];n.geometry=n.locations[0];const i=new Ye.LatLng(n.geometry.latitude,n.geometry.longitude),s=new Ye.LatLngBounds(i,i);return[{name:n.geometry.address,bbox:s,center:i}]}suggest(e){return this.geocode(e)}async reverse(e,t){const n=ks(this.options,{apiKey:this.options.apiKey,userId:this.options.userId,latitude:e.lat,longitude:e.lng}),i=await sn(this.options.serviceUrl+"geocode-reverse",n);if(i.status.status!==200||!i.found)return[];const s=new Ye.LatLng(e.lat,e.lng),a=new Ye.LatLngBounds(s,s);return[{name:i.address,bbox:a,center:s}]}};function V6(r){return new cx(r)}let vg=class{constructor(e){dt(this,"options",{serviceUrl:"https://nominatim.openstreetmap.org/",htmlTemplate(e){const t=e.address;let n;const i=[];return(t.road||t.building)&&i.push("{building} {road} {house_number}"),(t.city||t.town||t.village||t.hamlet)&&(n=i.length>0?"leaflet-control-geocoder-address-detail":"",i.push('<span class="'+n+'">{postcode} {city} {town} {village} {hamlet}</span>')),(t.state||t.country)&&(n=i.length>0?"leaflet-control-geocoder-address-context":"",i.push('<span class="'+n+'">{state} {country}</span>')),O6(i.join("<br/>"),t)}});Ye.Util.setOptions(this,e||{})}async geocode(e){const t=ss(this.options,{q:e,limit:5,format:"json",addressdetails:1});return(await sn(this.options.serviceUrl+"search",t)).map(n=>{const i=n.boundingbox;return{icon:n.icon,name:n.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(n):void 0,bbox:new Ye.LatLngBounds([+i[0],+i[2]],[+i[1],+i[3]]),center:new Ye.LatLng(+n.lat,+n.lon),properties:n}})}async reverse(e,t){const n=ks(this.options,{lat:e.lat,lon:e.lng,zoom:Math.round(Math.log(t/256)/Math.log(2)),addressdetails:1,format:"json"}),i=await sn(this.options.serviceUrl+"reverse",n);if(!(i!=null&&i.lat)||!(i!=null&&i.lon))return[];const s=new Ye.LatLng(+i.lat,+i.lon),a=new Ye.LatLngBounds(s,s);return[{name:i.display_name,html:this.options.htmlTemplate?this.options.htmlTemplate(i):void 0,center:s,bbox:a,properties:i}]}};function q6(r){return new vg(r)}let hx=class{constructor(e){dt(this,"options",{});Ye.Util.setOptions(this,e)}async geocode(e){try{const t=this.options.OpenLocationCode.decode(e);return[{name:e,center:new Ye.LatLng(t.latitudeCenter,t.longitudeCenter),bbox:new Ye.LatLngBounds(new Ye.LatLng(t.latitudeLo,t.longitudeLo),new Ye.LatLng(t.latitudeHi,t.longitudeHi))}]}catch(t){return console.warn(t),[]}}async reverse(e,t){try{return[{name:this.options.OpenLocationCode.encode(e.lat,e.lng,this.options.codeLength),center:new Ye.LatLng(e.lat,e.lng),bbox:new Ye.LatLngBounds(new Ye.LatLng(e.lat,e.lng),new Ye.LatLng(e.lat,e.lng))}]}catch(n){return console.warn(n),[]}}};function G6(r){return new hx(r)}let ux=class{constructor(e){dt(this,"options",{serviceUrl:"https://api.opencagedata.com/geocode/v1/json"});Ye.Util.setOptions(this,e)}async geocode(e){const t=ss(this.options,{key:this.options.apiKey,q:e}),n=await sn(this.options.serviceUrl,t);return this._parseResults(n)}suggest(e){return this.geocode(e)}async reverse(e,t){const n=ks(this.options,{key:this.options.apiKey,q:[e.lat,e.lng].join(",")}),i=await sn(this.options.serviceUrl,n);return this._parseResults(i)}_parseResults(e){return(e.results||[]).map(t=>{const n=new Ye.LatLng(t.geometry.lat,t.geometry.lng),i=t.annotations&&t.annotations.bounds?new Ye.LatLngBounds(new Ye.LatLng(t.annotations.bounds.northeast.lat,t.annotations.bounds.northeast.lng),new Ye.LatLng(t.annotations.bounds.southwest.lat,t.annotations.bounds.southwest.lng)):new Ye.LatLngBounds(n,n);return{name:t.formatted,bbox:i,center:n,properties:t}})}};function $6(r){return new ux(r)}let rf=class{constructor(e){dt(this,"options",{serviceUrl:"https://api.geocode.earth/v1"});Ye.Util.setOptions(this,e)}async geocode(e){const t=ss(this.options,{api_key:this.options.apiKey,text:e}),n=await sn(this.options.serviceUrl+"/search",t);return this._parseResults(n)}async suggest(e){const t=ss(this.options,{api_key:this.options.apiKey,text:e}),n=await sn(this.options.serviceUrl+"/autocomplete",t);return this._parseResults(n)}async reverse(e,t){const n=ks(this.options,{api_key:this.options.apiKey,"point.lat":e.lat,"point.lon":e.lng}),i=await sn(this.options.serviceUrl+"/reverse",n);return this._parseResults(i)}_parseResults(e){return(e.features||[]).map(t=>{const n=t.geometry.coordinates,i=new Ye.LatLng(n[1],n[0]),s=Array.isArray(t.bbox)&&t.bbox.length===4?new Ye.LatLngBounds([t.bbox[1],t.bbox[0]],[t.bbox[3],t.bbox[2]]):new Ye.LatLngBounds(i,i);return{name:t.properties.label,center:i,bbox:s,properties:t.properties}})}};function wg(r){return new rf(r)}const Z6=rf,Y6=wg,K6=rf,X6=wg;let fx=class extends rf{constructor(e){super(Object.assign({serviceUrl:"https://api.openrouteservice.org/geocode"},e))}};function J6(r){return new fx(r)}let dx=class{constructor(e){dt(this,"options",{serviceUrl:"https://photon.komoot.io/api/",reverseUrl:"https://photon.komoot.io/reverse/",nameProperties:["name","street","suburb","hamlet","town","city","state","country"]});Ye.Util.setOptions(this,e)}async geocode(e,t){var o,c,h,u;const n=ss(this.options,{q:e}),i=(c=(o=t==null?void 0:t.map)==null?void 0:o.getCenter)==null?void 0:c.call(o);i&&(n.lat=i.lat,n.lon=i.lng);const s=(u=(h=t==null?void 0:t.map)==null?void 0:h.getZoom)==null?void 0:u.call(h);s&&(n.zoom=s);const a=await sn(this.options.serviceUrl,n);return this._parseResults(a)}suggest(e){return this.geocode(e)}async reverse(e,t){const n=ks(this.options,{lat:e.lat,lon:e.lng}),i=await sn(this.options.reverseUrl,n);return this._parseResults(i)}_parseResults(e){return(e.features||[]).map(t=>{var o;const n=t.geometry.coordinates,i=new Ye.LatLng(n[1],n[0]),s=(o=t.properties)==null?void 0:o.extent,a=s?new Ye.LatLngBounds([s[1],s[0]],[s[3],s[2]]):new Ye.LatLngBounds(i,i);return{name:this._decodeFeatureName(t),html:this.options.htmlTemplate?this.options.htmlTemplate(t):void 0,center:i,bbox:a,properties:t.properties}})}_decodeFeatureName(e){return(this.options.nameProperties||[]).map(t=>{var n;return(n=e.properties)==null?void 0:n[t]}).filter(t=>!!t).join(", ")}};function Q6(r){return new dx(r)}let px=class{constructor(e){dt(this,"options",{serviceUrl:"https://api.what3words.com/v2/"});Ye.Util.setOptions(this,e)}async geocode(e){const t=await sn(this.options.serviceUrl+"forward",ss(this.options,{key:this.options.apiKey,addr:e.split(/\s+/).join(".")}));if(!t.geometry)return[];const n=new Ye.LatLng(t.geometry.lat,t.geometry.lng),i=new Ye.LatLngBounds(n,n);return[{name:t.words,bbox:i,center:n}]}suggest(e){return this.geocode(e)}async reverse(e,t){const n=await sn(this.options.serviceUrl+"reverse",ks(this.options,{key:this.options.apiKey,coords:[e.lat,e.lng].join(",")}));if(n.status.status!=200)return[];const i=new Ye.LatLng(n.geometry.lat,n.geometry.lng),s=new Ye.LatLngBounds(i,i);return[{name:n.words,bbox:s,center:i}]}};function eR(r){return new px(r)}const tR=Object.freeze(Object.defineProperty({__proto__:null,ArcGis:Qb,AzureMaps:tx,Bing:ex,GeocodeEarth:Z6,Google:rx,HERE:nx,HEREv2:ix,LatLng:ax,MapQuest:lx,Mapbox:ox,Mapzen:K6,Neutrino:cx,Nominatim:vg,OpenCage:ux,OpenLocationCode:hx,Openrouteservice:fx,Pelias:rf,Photon:dx,What3Words:px,arcgis:F6,azure:B6,bing:M6,geocodeEarth:Y6,geocodingParams:ss,google:U6,here:z6,latLng:H6,mapQuest:W6,mapbox:j6,mapzen:X6,neutrino:V6,nominatim:q6,openLocationCode:G6,opencage:$6,openrouteservice:J6,parseLatLng:sx,pelias:wg,photon:Q6,reverseParams:ks,what3words:eR},Symbol.toStringTag,{value:"Module"}));let yg=class{constructor(...e){}};Object.getOwnPropertyNames(Ye.Control.prototype).forEach(r=>yg.prototype[r]=Ye.Control.prototype[r]);Object.getOwnPropertyNames(Ye.Evented.prototype).forEach(r=>yg.prototype[r]=Ye.Evented.prototype[r]);let _g=class extends yg{constructor(t){super(t);dt(this,"options",{showUniqueResult:!0,showResultIcons:!1,collapsed:!0,expand:"touch",position:"topright",placeholder:"Search...",errorMessage:"Nothing found.",iconLabel:"Initiate a new search",query:"",queryMinLength:1,suggestMinLength:3,suggestTimeout:250,defaultMarkGeocode:!0});dt(this,"_alts");dt(this,"_container");dt(this,"_errorElement");dt(this,"_geocodeMarker");dt(this,"_input");dt(this,"_lastGeocode");dt(this,"_map");dt(this,"_preventBlurCollapse");dt(this,"_requestCount",0);dt(this,"_results");dt(this,"_selection");dt(this,"_suggestTimeout");Ye.Util.setOptions(this,t),this.options.geocoder||(this.options.geocoder=new vg)}addThrobberClass(){this._container.classList.add("leaflet-control-geocoder-throbber")}removeThrobberClass(){this._container.classList.remove("leaflet-control-geocoder-throbber")}onAdd(t){var c;const n="leaflet-control-geocoder",i=Ye.DomUtil.create("div",n+" leaflet-bar"),s=Ye.DomUtil.create("button",n+"-icon",i),a=Ye.DomUtil.create("div",n+"-form",i);this._map=t,this._container=i,s.innerHTML="&nbsp;",s.type="button",s.setAttribute("aria-label",this.options.iconLabel);const o=this._input=Ye.DomUtil.create("input","",a);return o.type="search",o.value=this.options.query,o.placeholder=this.options.placeholder,Ye.DomEvent.disableClickPropagation(o),this._errorElement=Ye.DomUtil.create("div",n+"-form-no-error",i),this._errorElement.innerHTML=this.options.errorMessage,this._alts=Ye.DomUtil.create("ul",n+"-alternatives leaflet-control-geocoder-alternatives-minimized",i),Ye.DomEvent.disableClickPropagation(this._alts),Ye.DomEvent.on(o,"keydown",this._keydown,this),(c=this.options.geocoder)!=null&&c.suggest&&Ye.DomEvent.on(o,"input",this._change,this),Ye.DomEvent.on(o,"blur",()=>{this.options.collapsed&&!this._preventBlurCollapse&&this._collapse(),this._preventBlurCollapse=!1}),this.options.collapsed?this.options.expand==="click"?Ye.DomEvent.on(i,"click",h=>{h.button===0&&h.detail!==2&&this._toggle()}):this.options.expand==="touch"?Ye.DomEvent.on(i,Ye.Browser.touch?"touchstart mousedown":"mousedown",h=>{this._toggle(),h.preventDefault(),h.stopPropagation()},this):(Ye.DomEvent.on(i,"mouseover",this._expand,this),Ye.DomEvent.on(i,"mouseout",this._collapse,this),this._map.on("movestart",this._collapse,this)):(this._expand(),Ye.Browser.touch?Ye.DomEvent.on(i,"touchstart",()=>this._geocode()):Ye.DomEvent.on(i,"click",()=>this._geocode())),this.options.defaultMarkGeocode&&this.on("markgeocode",this.markGeocode,this),this.on("startgeocode",this.addThrobberClass,this),this.on("finishgeocode",this.removeThrobberClass,this),this.on("startsuggest",this.addThrobberClass,this),this.on("finishsuggest",this.removeThrobberClass,this),Ye.DomEvent.disableClickPropagation(i),i}setQuery(t){return this._input.value=t,this}_geocodeResult(t,n){!n&&this.options.showUniqueResult&&t.length===1?this._geocodeResultSelected(t[0]):t.length>0?(this._alts.innerHTML="",this._results=t,this._alts.classList.remove("leaflet-control-geocoder-alternatives-minimized"),this._container.classList.add("leaflet-control-geocoder-options-open"),this._results.forEach((i,s)=>this._alts.appendChild(this._createAlt(i,s)))):(this._container.classList.add("leaflet-control-geocoder-options-error"),this._errorElement.classList.add("leaflet-control-geocoder-error"))}markGeocode(t){const n=t.geocode;return this._map.fitBounds(n.bbox),this._geocodeMarker&&this._map.removeLayer(this._geocodeMarker),this._geocodeMarker=new Ye.Marker(n.center).bindPopup(n.html||n.name).addTo(this._map).openPopup(),this}async _geocode(t=!1){const n=this._input.value;if(!t&&n.length<this.options.queryMinLength)return;const i=++this._requestCount;this._lastGeocode=n,t||this._clearResults();const s={input:n};this.fire(t?"startsuggest":"startgeocode",s);const a={map:this._map},o=t?await this.options.geocoder.suggest(n,a):await this.options.geocoder.geocode(n,a);if(i===this._requestCount){const c={input:n,results:o};this.fire(t?"finishsuggest":"finishgeocode",c),this._geocodeResult(o,t)}}_geocodeResultSelected(t){const n={geocode:t};this.fire("markgeocode",n)}_toggle(){this._container.classList.contains("leaflet-control-geocoder-expanded")?this._collapse():this._expand()}_expand(){this._container.classList.add("leaflet-control-geocoder-expanded"),this._input.select(),this.fire("expand")}_collapse(){this._container.classList.remove("leaflet-control-geocoder-expanded"),this._alts.classList.add("leaflet-control-geocoder-alternatives-minimized"),this._errorElement.classList.remove("leaflet-control-geocoder-error"),this._container.classList.remove("leaflet-control-geocoder-options-open"),this._container.classList.remove("leaflet-control-geocoder-options-error"),this._input.blur(),this.fire("collapse")}_clearResults(){this._alts.classList.add("leaflet-control-geocoder-alternatives-minimized"),this._selection=null,this._errorElement.classList.remove("leaflet-control-geocoder-error"),this._container.classList.remove("leaflet-control-geocoder-options-open"),this._container.classList.remove("leaflet-control-geocoder-options-error")}_createAlt(t,n){const i=Ye.DomUtil.create("li",""),s=Ye.DomUtil.create("a","",i),a=this.options.showResultIcons&&t.icon?Ye.DomUtil.create("img","",s):null,o=t.html?void 0:document.createTextNode(t.name),c=h=>{this._preventBlurCollapse=!0,Ye.DomEvent.stop(h),this._geocodeResultSelected(t),Ye.DomEvent.on(i,"click touchend",()=>{this.options.collapsed?this._collapse():this._clearResults()})};return a&&(a.src=t.icon),i.setAttribute("data-result-index",String(n)),t.html?s.innerHTML=s.innerHTML+t.html:o&&s.appendChild(o),Ye.DomEvent.on(i,"mousedown touchstart",c,this),i}_keydown(t){const n=i=>{this._selection&&(this._selection.classList.remove("leaflet-control-geocoder-selected"),this._selection=this._selection[i>0?"nextSibling":"previousSibling"]),this._selection||(this._selection=this._alts[i>0?"firstChild":"lastChild"]),this._selection&&this._selection.classList.add("leaflet-control-geocoder-selected")};switch(t.key){case"Escape":this.options.collapsed?this._collapse():this._clearResults();break;case"ArrowUp":n(-1);break;case"ArrowDown":n(1);break;case"Enter":if(this._selection){const i=parseInt(this._selection.getAttribute("data-result-index"),10);this._geocodeResultSelected(this._results[i]),this._clearResults()}else this._geocode();break;default:return}Ye.DomEvent.preventDefault(t)}_change(){const t=this._input.value;t!==this._lastGeocode&&(clearTimeout(this._suggestTimeout),t.length>=this.options.suggestMinLength?this._suggestTimeout=setTimeout(()=>this._geocode(!0),this.options.suggestTimeout):this._clearResults())}};function rR(r){return new _g(r)}/* @preserve
 * Leaflet Control Geocoder
 * https://github.com/perliedman/leaflet-control-geocoder
 *
 * Copyright (c) 2012 sa3m (https://github.com/sa3m)
 * Copyright (c) 2018 Per Liedman
 * All rights reserved.
 */Object.assign(_g,tR);Object.assign(Ye.Control,{Geocoder:_g,geocoder:rR});delete ys.Icon.Default.prototype._getIconUrl;ys.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});const Fw={osm:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap contributors"},stadia:{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",attribution:" Stadia Maps  OpenMapTiles  OpenStreetMap"},opentopo:{url:"https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap contributors, SRTM"},cycle:{url:"https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",attribution:" OpenStreetMap contributors, CyclOSM"},dark:{url:"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",attribution:" Stadia Maps  OpenMapTiles  OpenStreetMap"}};class Id{constructor(){this.map=null,this.markers=new Map,this.activeMarker=null,this.eventHandlers=new Map}static initMap(e,t={}){const i={...{center:{lat:-18.665695,lng:35.529562},zoom:16,showMarker:!0,popup:null,tileLayer:"osm",geocoder:!1,scrollWheelZoom:!0,countryCode:"MZ",maxZoom:20,minZoom:3,tap:!0},...t};if(typeof e=="string"&&(e=document.querySelector(e)),!e)throw new Error("Map container not found");const s=ys.map(e,{scrollWheelZoom:i.scrollWheelZoom,tap:i.tap,maxZoom:i.maxZoom,minZoom:i.minZoom}).setView([i.center.lat,i.center.lng],i.zoom),a=Fw[i.tileLayer]||Fw.osm;ys.tileLayer(a.url,{attribution:a.attribution,maxZoom:i.maxZoom}).addTo(s);let o=null;if(i.showMarker&&(o=ys.marker([i.center.lat,i.center.lng],{draggable:!0,autoPan:!0}).addTo(s),i.popup&&o.bindPopup(i.popup).openPopup()),i.geocoder){const c=ys.Control.geocoder({defaultMarkGeocode:!0,placeholder:"Pesquisar em Moambique...",errorMessage:"Nada encontrado",geocoder:ys.Control.Geocoder.nominatim(),collapsed:!1,expand:"touch",queryOptions:{countrycodes:i.countryCode.toLowerCase(),bounded:1,viewbox:[30.217,-26.742,40.842,-10.317]},suggestMinLength:3,suggestTimeout:250});c.on("markgeocode",function(h){const{center:u,bbox:p,name:g}=h.geocode;o&&s.removeLayer(o),o=ys.marker(u,{draggable:!0,autoPan:!0}).addTo(s).bindPopup("<b>".concat(g,"</b>")).openPopup();const d=p?ys.latLngBounds(p):ys.latLngBounds([u,u]);s.fitBounds(d,{padding:[50,50],maxZoom:16})}),c.addTo(s)}return setTimeout(()=>s.invalidateSize(),100),e._leafletMap=s,e._mainMarker=o,e._mapInstance=new Id,e._mapInstance.map=s,e._mapInstance.activeMarker=o,s}addMarker(e,t="",n={}){const i={draggable:!1,autoPan:!0,...n},s=ys.marker(e,i).addTo(this.map);t&&s.bindPopup(t);const a="marker_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));return this.markers.set(a,s),{id:a,marker:s}}updateActiveMarker(e,t=""){if(!this.activeMarker){console.warn("No active marker to update");return}this.activeMarker.setLatLng(e),t&&(this.activeMarker.setPopupContent(t),this.activeMarker.isPopupOpen()||this.activeMarker.openPopup())}setView(e,t=14){this.map.setView(e,t)}fitToMarkers(e=[],t={}){const n={padding:[50,50],maxZoom:14},i=ys.latLngBounds(e.map(s=>s.getLatLng()));this.map.fitBounds(i,{...n,...t})}clearMarkers(){this.markers.forEach(e=>{this.map.removeLayer(e)}),this.markers.clear()}on(e,t){this.eventHandlers.has(e)||this.eventHandlers.set(e,[]),this.eventHandlers.get(e).push(t),this.map.on(e,t)}off(e,t){if(this.eventHandlers.has(e)){const n=this.eventHandlers.get(e),i=n.indexOf(t);i>-1&&(n.splice(i,1),this.map.off(e,t))}}getCenter(){return this.map.getCenter()}getZoom(){return this.map.getZoom()}destroy(){this.map&&(this.clearMarkers(),this.eventHandlers.clear(),this.map.remove(),this.map=null,this.activeMarker=null)}static addMarker(e,t,n){return ys.marker(t).addTo(e).bindPopup(n||"")}static destroy(e){e&&e.remove()}static setMainMarkerPosition(e,t,n,i="",s={}){var p,g;if(!e||!e._leafletMap||!e._mainMarker){console.warn("Map or main marker not initialized on this container");return}const a=e._leafletMap,o=e._mainMarker,c=ys.latLng(t,n);o.setLatLng(c),i&&(o.getPopup()?o.setPopupContent(i):o.bindPopup(i),o.openPopup());const h=(p=s.zoom)!=null?p:16,u=(g=s.animate)!=null?g:!0;a.setView(c,h,{animate:u})}}class nR extends ge{constructor({property:e}){super({style:{width:"100%"}}),this.property=e}create(){return new kn({style:{height:"fit-content!important",width:"100%"},body:new Ge({children:[this._createHeader(),this._createAddressSection(),this._createMapSection()]})})}_createHeader(){return new yt({style:{padding:"1.5rem 1.5rem 0 1.5rem"},children:new Je({style:{alignItems:"center",justifyContent:"space-between"},children:[new ze({text:"Localizao",style:{fontSize:"1.3rem",fontWeight:"700",color:"#1a1a1a"}}),new et({icon:"fas fa-map-marked-alt",style:{color:"#667eea",fontSize:"1.5rem"}})]})})}_createMapSection(){var e,t;return(e=this.property)!=null&&e.latitude&&((t=this.property)!=null&&t.longitude)?this._createMapComponent():this._createNoLocationPlaceholder()}_createMapComponent(){return new yt({style:{height:"25rem",width:"100%!important",borderRadius:"8px",overflow:"hidden"},onMounted:e=>{this.mapContainer=e,Id.initMap(e,{center:this.property.latitude&&this.property.longitude?{lat:this.property.latitude,lng:this.property.longitude}:{lat:-18.665695,lng:35.529562},zoom:this.property.latitude&&this.property.longitude?20:6,showMarker:!0,popup:this.property.address||null}),this.property.latitude&&this.property.longitude&&Id.setMainMarkerPosition(e,this.property.latitude,this.property.longitude,this.property.address||"Localizao selecionada",{zoom:18})}})}_createNoLocationPlaceholder(){return new yt({style:{height:"100%",background:"#f8f9fa",borderRadius:"15px",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:"1rem"},children:[new et({icon:"fas fa-map-marker-alt",style:{fontSize:"3rem",color:"#ccc"}}),new ze({text:"Localizao no disponvel",style:{color:"#999",fontWeight:"500"}})]})}_createAddressSection(){var e;return new yt({style:{padding:"0 1.5rem 1.5rem 1.5rem"},children:new Ge({style:{gap:"0.5rem"},children:[this._createAddressRow(),((e=this.property)==null?void 0:e.neighborhood)&&this._createNeighborhoodRow()]})})}_createAddressRow(){var e;return new Je({style:{alignItems:"center",gap:"0.75rem"},children:[new et({icon:"fas fa-map-pin",style:{color:"#667eea"}}),new ze({text:((e=this.property)==null?void 0:e.address)||"Endereo no especificado",style:{fontWeight:"500"}})]})}_createNeighborhoodRow(){var e;return new Je({style:{alignItems:"center",gap:"0.75rem"},children:[new et({icon:"fas fa-compass",style:{color:"#667eea"}}),new ze({text:(e=this.property)==null?void 0:e.neighborhood,style:{color:"#666"}})]})}render(){return this.children=[this.create()],super.render()}}class mx extends ge{constructor({onAddNote:e=null,onTypingNote:t=null}={}){super(),this.history=[],this.note=null,this.onAddNote=e,this.onTypingNote=t,this.currentNote="",this.controller=new Xd}setHistory(e=[]){this.history=e}setNote(e=null){this.note=e}createVisitProfileView(e,t={}){const{showProperty:n=!0,showClient:i=!0,showSchedule:s=!0,showAssignee:a=!0,showPriority:o=!0,showMeetingPoint:c=!0,showContactPhone:h=!0,showNotes:u=!0,showHeader:p=!0,showHistory:g=!0,showAddNote:d=!0,compact:_=!1,className:y=[]}=t,b=[];n&&e.properties&&b.push(this.createPropertySection(e)),o&&e.priority&&b.push(this.createPrioritySection(e)),i&&e.clients&&b.push(this.createClientSection(e)),s&&b.push(this.createScheduleSection(e)),c&&e.meeting_point&&b.push(this.createMeetingPointSection(e)),a&&e.agents&&b.push(this.createAssigneeSection(e)),h&&e.contact_phone&&b.push(this.createContactPhoneSection(e)),u&&e.notes&&b.push(this.createNotesSection(e));const E=[];return E.push(this.createHistoryTitle()),g&&E.push(this.createHistoryTimeline(e)),d&&E.push(this.createAddNoteSection()),new Ge({gap:"20px",className:["visit-profile-view",...y],children:[new Je({children:[new ft({breakpoints:{lg:6},children:[new Ge({gap:"25px",className:["visit-profile-primary-col"],style:{padding:"1rem"},children:b})]}),E.length>0?new ft({breakpoints:{lg:6},children:[new Ge({className:["visit-profile-secondary-col"],style:{padding:"1rem"},children:E})]}):new yt({children:[]})]})]})}createVisitCard(e,t={}){const{compactMode:n=!1,showProperty:i=!0,showClient:s=!0,showSchedule:a=!0,showAssignee:o=!0,showPriority:c=!1,showTags:h=!1,onClick:u=()=>{},className:p=[]}=t,g=n?this.createCompactCardBody(e,t):this.createDetailedCardBody(e,t);return new kn({className:["visit-card",...p],bodyClassName:["visit-card-body"],events:{click:()=>u(e)},body:g})}createHistoryTitle(){return new yt({className:["visit-history-header"],children:[new ze({text:"HISTRICO DA VISITA",className:["visit-history-label"]})]})}createHistoryTimeline(e){return new $h({className:["visit-timeline-container"],future:()=>Ut.instance.get("/visits/".concat(e.id,"/notes")),controller:this.controller,builder:({result:t})=>{const n=t.notesHistory;return n.length===0?new zl({className:["visit-timeline-empty"],children:["Ainda no tem Observaes para esta visita"]}):n.map(i=>this.createTimelineItem(i))},onLoading:()=>$e.createLoadingSpinner()})}createTimelineItem(e){var t,n;return new Ge({className:["visit-timeline-content"],children:[new Je({className:["visit-timeline-header"],children:[new Je({className:["visit-timeline-user"],children:[this._renderAvatarBadgeCell({name:(t=e.users)==null?void 0:t.name},!0),new Ge({children:[new ze({text:(n=e.users)==null?void 0:n.name,className:["visit-timeline-user-name"]}),new ze({text:e.updated_at||"",className:["visit-timeline-time"]})]})]})]}),new ze({text:e.description,className:["visit-timeline-description"]})]})}createAddNoteSection(){const e=new ta;return new to({controller:e,className:["visit-add-note-section"],style:{width:"100%"},children:[new Bc({style:{width:"100%"},placeholder:"Digite suas observaes aqui...",name:"note",onChange:t=>{var n;t?((n=this.onTypingNote)==null||n.call(this,t),this.buttonWidget.disabled=!1):this.buttonWidget.disabled=!0}}),new Je({className:["visit-add-note-actions"],children:[new Qr({label:"Salvar Observao",disabled:!0,onPressed:async()=>{var t;await((t=this.onAddNote)==null?void 0:t.call(this)),e.reset(),this.controller.reload(),this.buttonWidget.disabled=!0},onAttached:(t,n,i)=>{this.buttonWidget=i}})]})]})}createCompactCardBody(e,t={}){var c,h,u,p;const{showProperty:n=!0,showClient:i=!0,showSchedule:s=!0,showAssignee:a=!0}=t,o=[];return(n||i)&&o.push(new Je({className:["visit-card-compact-header-row"],children:[new Ge({className:["visit-card-column","visit-card-compact-header-col"],children:[n&&new ze({text:((c=e.properties)==null?void 0:c.title)||"Sem imvel definido",className:["visit-card-compact-property-title"]}),i&&new ze({text:((h=e.clients)==null?void 0:h.name)||"Cliente no definido",className:["visit-card-compact-client-name"]})]}),$e.createBadge(e.status,{size:"small",style:{fontSize:"0.7rem"}})]})),s&&o.push(new yt({className:["visit-card-compact-schedule-info"],children:[new Je({className:["visit-card-compact-schedule-row"],children:[new Je({className:["visit-card-compact-schedule-icon-text"],children:[new et({icon:"fa-regular fa-calendar",className:["visit-card-compact-schedule-icon"]}),new ze({text:e.scheduled_date||"--/--/----",className:["visit-card-compact-schedule-date"]})]}),new ze({text:e.scheduled_time||"--:--",className:["visit-card-compact-schedule-time"]})]})]})),a&&o.push(new Je({className:["visit-card-compact-assignee-row"],children:[new Je({className:["visit-card-compact-assignee-details"],children:[this._renderAvatarBadgeCell(e.users||e.agents,!0),new Ge({gap:0,children:[new ze({text:((u=e.users)==null?void 0:u.name)||((p=e.agents)==null?void 0:p.name)||"No atribudo",className:["visit-card-compact-assignee-name"]})]})]}),e.duration&&new yt({className:["visit-card-compact-duration"],children:[new ze({text:"".concat(e.duration),className:["visit-card-compact-duration-text"]})]})]})),new Ge({className:["visit-card-column","visit-card-body-compact"],children:o.filter(Boolean)})}createDetailedCardBody(e,t={}){const{showProperty:n=!0,showClient:i=!0,showSchedule:s=!0,showAssignee:a=!0,showPriority:o=!1,showTags:c=!1}=t,h=[];n&&h.push(this.createPropertySection(e)),o&&e.priority&&h.push(this.createPriorityIndicator(e));const u=[];return i&&u.push(this.createClientSection(e)),s&&u.push(this.createScheduleSection(e)),a&&u.push(this.createAssigneeSection(e)),u.forEach((p,g)=>{g>0&&h.push(this.createDivider()),h.push(p)}),h.push(this.createFooterSection(e)),new Ge({className:["visit-card-column","visit-card-body-normal"],children:h})}createPropertySection(e){var t,n;return new Ge({children:[new ze({style:{textAlign:"left"},text:((t=e.properties)==null?void 0:t.title)||"Sem imvel definido",className:["visit-card-property-title"]}),((n=e.properties)==null?void 0:n.address)&&new ze({style:{textAlign:"left"},text:e.properties.address,className:["visit-card-property-address"]})]})}createClientSection(e){var t,n,i;return new Je({className:["visit-card-client-section"],children:[new yt({className:["visit-card-client-avatar-container"],children:[this._renderAvatarBadgeCell((t=e.clients)==null?void 0:t.name)]}),new Ge({className:["visit-card-column","visit-card-client-info-col"],children:[new Je({className:["visit-card-client-info-header"],children:[new ze({text:"CLIENTE",className:["visit-card-client-label"]})]}),new ze({text:((n=e.clients)==null?void 0:n.name)||"Cliente no definido",className:["visit-card-client-name-text"]}),new Ge({gap:0,children:[((i=e.clients)==null?void 0:i.contact_1)&&new Je({className:["visit-card-client-contact-row"],children:[new et({icon:"fa-solid fa-phone",className:["visit-card-client-contact-icon"]}),new ze({text:e.clients.contact_1,className:["visit-card-client-contact-text"]})]})]})]})]})}createScheduleSection(e){return new yt({className:["visit-card-schedule-container"],children:new Ge({className:["visit-card-column","visit-card-schedule-content-col"],children:[new Je({className:["visit-card-schedule-header-row"],children:[new Je({className:["visit-card-schedule-label-row"],children:[new et({icon:"fa-regular fa-calendar-check",className:["visit-card-schedule-icon"]}),new ze({text:"HORRIO AGENDADO",className:["visit-card-schedule-label"]})]}),e.confirmed&&new yt({className:["visit-card-schedule-confirmed-badge"],children:[new et({icon:"fa-solid fa-check-circle",className:["visit-card-schedule-confirmed-icon"]}),new ze({text:"Confirmado",className:["visit-card-schedule-confirmed-text"]})]})]}),new Je({className:["visit-card-schedule-details-row"],children:[new Ge({className:["visit-card-column","visit-card-schedule-date-col"],children:[new Je({rowStyle:{alignItems:"center",justifyContent:"start"},className:["visit-card-schedule-date-row"],children:[new et({icon:"fa-regular fa-calendar",className:["visit-card-schedule-date-icon"]}),new ze({text:e.scheduled_date||"--/--/----",className:["visit-card-schedule-date-text"]})]}),new Je({rowStyle:{alignItems:"center",justifyContent:"start"},className:["visit-card-schedule-duration-row"],children:[new ze({text:e.duration?"Durao: ".concat(e.duration):"Durao no definida",className:["visit-card-schedule-duration-text"]})]})]}),new yt({className:["visit-card-schedule-time-container"],children:[new Je({rowStyle:{alignItems:"center",justifyContent:"start"},className:["visit-card-column","visit-card-schedule-time-col"],children:[new et({icon:"fa-regular fa-clock",className:["visit-card-schedule-time-icon"]}),new ze({text:e.scheduled_time||"--:--",className:["visit-card-schedule-time-text"]})]})]})]})]})})}createAssigneeSection(e){var t,n;return new Ge({className:["visit-card-column","visit-card-assignee-section"],children:[new ze({text:"AGENTE RESPONSVEL",className:["visit-card-assignee-label"]}),new Je({className:["visit-card-assignee-row"],children:[this._renderAvatarBadgeCell(e.agents),new Ge({className:["visit-card-column","visit-card-assignee-info-col"],children:[new Je({className:["visit-card-assignee-name-status"],children:[new ze({text:((t=e.agents)==null?void 0:t.name)||"Agente no atribudo",className:["visit-card-assignee-name"]})]}),new Ge({gap:0,children:[((n=e.agents)==null?void 0:n.contact_1)&&new Je({className:["visit-card-client-contact-row"],children:[new et({icon:"fa-solid fa-phone",className:["visit-card-client-contact-icon"]}),new ze({text:e.agents.contact_1,className:["visit-card-client-contact-text"]})]})]})]})]})]})}createPrioritySection(e){var s;const t=((s=e.priority)==null?void 0:s.toLowerCase())||"normal",n="priority-".concat(t),i={high:"Alta",medium:"Mdia",low:"Baixa",normal:"Normal"};return new Ge({className:["visit-card-column","visit-priority-section"],children:[new Je({className:["visit-priority-header"],children:[new ze({text:"PRIORIDADE",className:["visit-priority-label"]})]}),new Je({className:["visit-priority-content"],children:[new yt({className:["visit-priority-indicator",n],children:[new et({icon:this.getPriorityIcon(t),className:["visit-priority-icon"]})]}),new Ge({className:["visit-priority-details"],children:[new ze({text:i[t]||"Normal",className:["visit-priority-text",n]}),new ze({text:this.getPriorityDescription(t),className:["visit-priority-description"]})]})]})]})}createMeetingPointSection(e){return new Ge({className:["visit-card-column","visit-meeting-point-section"],children:[new Je({className:["visit-meeting-point-header"],children:[new ze({text:"PONTO DE ENCONTRO",className:["visit-meeting-point-label"]})]}),new Je({className:["visit-meeting-point-content"],children:[new et({icon:"fa-solid fa-map-marker-alt",className:["visit-meeting-point-icon"]}),new Ge({className:["visit-meeting-point-details"],children:[new ze({text:e.meeting_point,className:["visit-meeting-point-text"]}),e.meeting_point_details&&new ze({text:e.meeting_point_details,className:["visit-meeting-point-details-text"]})]})]})]})}createContactPhoneSection(e){return new Ge({className:["visit-card-column","visit-contact-phone-section"],children:[new Je({className:["visit-contact-phone-header"],children:[new ze({text:"TELEFONE DE CONTATO",className:["visit-contact-phone-label"]})]}),new Je({className:["visit-contact-phone-content"],children:[new et({icon:"fa-solid fa-phone",className:["visit-contact-phone-icon"]}),new Ge({className:["visit-contact-phone-details"],children:[new ze({text:e.contact_phone,className:["visit-contact-phone-text"]}),e.contact_name&&new ze({text:"Contato: ".concat(e.contact_name),className:["visit-contact-name-text"]})]})]})]})}createNotesSection(e){return new Ge({className:["visit-card-column","visit-notes-section"],children:[new Je({className:["visit-notes-header"],children:[new ze({text:"OBSERVAES",className:["visit-notes-label"]})]}),new yt({className:["visit-notes-content"],children:[new ze({text:e.notes,className:["visit-notes-text"],style:{whiteSpace:"pre-line",lineHeight:"1.5"}})]})]})}createPriorityIndicator(e){var i;const t=((i=e.priority)==null?void 0:i.toLowerCase())||"normal",n="priority-".concat(t);return new ze({text:"Prioridade: ".concat(t),className:["visit-card-priority-text",n]})}createFooterSection(e){return new Je({className:["visit-card-footer-row"],children:[new Je({className:["visit-card-created-at-row"],children:[new et({icon:"fa-solid fa-calendar-plus",className:["visit-card-created-at-icon"]}),new ze({text:"Criado: ".concat(e.created_at||"Data no disponvel"),className:["visit-card-created-at-text"]})]}),new Je({className:["visit-card-details-row"],children:[new et({icon:"fa-solid fa-arrow-right",className:["visit-card-details-icon"]}),new ze({text:"Ver detalhes",className:["visit-card-details-text"]})]})]})}createDivider(){return new yt({className:["visit-card-divider"]})}getPriorityIcon(e){return{high:"fa-solid fa-exclamation-triangle",medium:"fa-solid fa-exclamation-circle",low:"fa-solid fa-arrow-down",normal:"fa-solid fa-minus"}[e]||"fa-solid fa-minus"}getPriorityDescription(e){return{high:"Visita requer ateno imediata",medium:"Visita importante, agendar em breve",low:"Visita pode ser agendada com flexibilidade",normal:"Visita padro"}[e]||"Visita padro"}_renderAvatarBadgeCell(e,t=!1){const n=(e==null?void 0:e.name)||"Sem cliente";return bn.createAvatarBadge(n,{emptyName:"Sem cliente",emptyBackgroundColor:"#e9ecef",emptyTextColor:"#6c757d",size:t?"small":"medium",style:t?{size:"24px",fontSize:"0.6rem"}:void 0})}}class iR extends ge{constructor(e){super(),this.visit=e.visit,this.onClick=e.onClick||(()=>{}),this.showProperty=e.showProperty!==!1,this.showClient=e.showClient!==!1,this.showSchedule=e.showSchedule!==!1,this.showAssignee=e.showAssignee!==!1,this.compactMode=e.compactMode||!1,this.showPriority=e.showPriority!==!1,this.showTags=e.showTags!==!1,this.customBody=e.customBody,this.sharedComponents=new mx}create(){return this.sharedComponents.createVisitCard(this.visit,{compactMode:this.compactMode,showProperty:this.showProperty,showClient:this.showClient,showSchedule:this.showSchedule,showAssignee:this.showAssignee,showPriority:this.showPriority,showTags:this.showTags,onClick:this.onClick,className:[]})}}class sR extends ge{constructor({property:e,controller:t}){super({style:{width:"100%"}}),this.property=e,this.controller=t,this.selectedVisitId=null,this.notes="",this.initState({visitsCount:0})}create(){return new kn({style:{height:"fit-content!important"},body:new Ge({children:[this._createHeader(),new $h({controller:this.controller,future:()=>Ut.instance.get("/visits/property/".concat(this.property.id)),builder:({result:e})=>{const t=e.visits;this.setState(i=>({visitsCount:t.length}));const n=t.map(i=>new iR({visit:i,showProperty:!1,onClick:s=>{this.openMenuContext()}}).create());return new Ge({children:n})}})]})})}openMenuContext(){this.menuContext=new up({items:fp({view:{onTap:()=>{var e;return(e=this.onView)==null?void 0:e.call(this)}},edit:{onTap:()=>{var e;return(e=this.onEdit)==null?void 0:e.call(this)}},remove:{onTap:()=>{var e;return(e=this.onRemove)==null?void 0:e.call(this)}}})}),this.menuContext.show()}_createHeader(){return new Je({rowStyle:{alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[new ze({text:"Prximas Visitas",style:{fontSize:"1.2rem",fontWeight:"700",color:"#1a1a1a"}}),new dp({label:"{{ visitsCount }}",theme:ht.badge.type.primary,style:{fontWeight:"bold"}})]})}render(){return this.children=[this.create()],super.render()}}class aR extends ge{constructor({onScheduleVisit:e,onShareProperty:t}){super({style:{width:"100%"}}),this.onScheduleVisit=e,this.onShareProperty=t}create(){return new kn({style:{height:"fit-content!important",width:"100%"},body:new Ge({style:{gap:"0.75rem"},children:[this._createScheduleVisitButton(),this._createSharePropertyButton()]})})}_createScheduleVisitButton(){return new Qr({label:"Marcar Visita",icon:"fas fa-calendar-check",theme:ht.button.type.primary,style:{width:"100%"},onPressed:this.onScheduleVisit})}_createSharePropertyButton(){return new Qr({label:"Partilhar Imvel",icon:"fas fa-share-alt",theme:ht.button.type.secondary,style:{width:"100%",borderRadius:"12px",padding:"1rem",fontWeight:"600"},onPressed:this.onShareProperty})}render(){return this.children=[this.create()],super.render()}}let oR=class extends ge{constructor({args:e}){super(),this.propertyId=e.propertyId,this.property=null,this.futureBuilderController=new Xd,this.initState({visits:[]})}_createPage(){return new Je({children:[new ft({breakpoints:{lg:8},children:[new Ge({style:{justifyContent:"start"},children:[new E6({property:this.property}),new nR({property:this.property})]})]}),new ft({breakpoints:{lg:4},children:[new Ge({style:{width:"100%"},children:[new A6({property:this.property}),new C6({property:this.property}),new T6({property:this.property}),new sR({property:this.property,controller:this.futureBuilderController}),new aR({onScheduleVisit:async()=>{await this._createVisit()},onShareProperty:()=>this._shareProperty()})]})]})]})}openVisitProfile(e){var t;this.selectedVisitId=e.id,this.visitProfileOffCanvas=new qn({style:{width:"100vw",alignItems:"start"},content:[this.visitsComponents.createVisitProfileView(e,{showHeader:!0,showHistory:!0,showAddNote:!0,showPriority:!0,showMeetingPoint:!0,showContactPhone:!0,showNotes:!0})]}),(t=this.visitProfileOffCanvas)==null||t.show()}_createHeader(){return new Es({title:"Detalhes do Imvel",subtitle:"Informaes completas sobre a propriedade",onBack:()=>sr.instance.back()})}async _createVisit(){const e=new ui;try{e==null||e.show();const{result:t,status:n}=await bh.createVisit();if(n!==200||t.status==="error")return $e.showErrorNotification({message:"Ocorreu um erro ao criar uma nova visita"});await this._scheduleVisit({initialValues:t.data[0]})}catch(t){console.log(t),$e.showErrorNotification({message:"Ocorreu um erro ao criar uma nova visita"})}finally{e==null||e.close()}}async _scheduleVisit(){var t;const e=new Jb({property:this.property,onScheduleVisit:async n=>{var i;try{const s=Ss.getCurrentUser();await bh.saveVisit({...n,created_by:s.id}),this.futureBuilderController.reload()}catch(s){$e.showErrorNotification({message:"Ocorreu um erro ao salvar Visita"})}finally{(i=this.scheduleVisitOffcanvas)==null||i.close()}},onClose:()=>{var n;(n=this.scheduleVisitOffcanvas)==null||n.close()}});this.scheduleVisitOffcanvas=new qn({content:[e.create()]}),(t=this.scheduleVisitOffcanvas)==null||t.show()}_shareProperty(){const e=Cl.shareProperty(this.property);e&&$e.showInfoNotification({message:e})}render(){return this.children=[new Ge({style:{padding:"0 1rem"},children:[this._createHeader(),new $h({future:()=>yc.getProperty(this.propertyId),builder:({result:e})=>(this.property=e.data[0],this._createPage()),onLoading:()=>$e.createLoadingSpinner()})]})],super.render()}},lR=class extends ge{constructor(){super()}async mounted(){}createContent(){return new Ge({style:{padding:"1rem",gap:"1.5rem"},children:[new Es({title:"Actividades",subtitle:"Gerencie todas as actividades operacionais do dia a dia",style:{marginBottom:"1rem"}}),new kn({header:new Je({children:[new et({icon:"fa-solid fa-clipboard-list"}),new ze({text:"Tarefas, Visitas e Feedbacks"})]}),style:{borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"1rem"},body:new Ge({style:{padding:"1rem"},children:[new _n({className:["settings-item-component"],title:"Tarefas",subtitle:"Criar, atribuir e acompanhar tarefas da equipa",leading:new et({icon:"fa-solid fa-clipboard-check"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",marginBottom:"0.5rem"},onTap:()=>sr.instance.to("/activities/tasks")}),new _n({className:["settings-item-component"],title:"Visitas",subtitle:"Gerir visitas a imveis e horrios",leading:new et({icon:"fa-solid fa-calendar-check"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",marginBottom:"0.5rem"},onTap:()=>sr.instance.to("/activities/visits")}),new _n({className:["settings-item-component"],title:"Feedbacks de Clientes",subtitle:"Recolher e analisar opinies aps visitas",leading:new et({icon:"fa-solid fa-comment-dots"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",marginBottom:"0.5rem"},onTap:()=>sr.instance.to("/activities/feedback")})]})}),new kn({header:new Je({children:[new et({icon:"fa-solid fa-headset"}),new ze({text:"Follow-up e Comunicao"})]}),style:{borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"1rem"},body:new Ge({style:{padding:"1rem"},children:[new _n({className:["settings-item-component"],title:"Contactos Pendentes",subtitle:"Leads e clientes aguardando retorno",leading:new et({icon:"fa-solid fa-phone-volume"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",marginBottom:"0.5rem"},onTap:()=>sr.instance.to("/activities/followups")}),new _n({className:["settings-item-component"],title:"Notificaes",subtitle:"Alertas de aniversrios, contratos, etc.",leading:new et({icon:"fa-solid fa-bell"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",marginBottom:"0.5rem"},onTap:()=>sr.instance.to("/activities/notifications")})]})}),new kn({header:new Je({children:[new et({icon:"fa-solid fa-chart-line"}),new ze({text:"Relatrios de Actividade"})]}),style:{borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"1rem"},body:new Ge({style:{padding:"1rem"},children:[new _n({className:["settings-item-component"],title:"Dashboard Dirio",subtitle:"Resumo das actividades do dia e semana",leading:new et({icon:"fa-solid fa-gauge-high"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",marginBottom:"0.5rem"},onTap:()=>sr.instance.to("/activities/dashboard")})]})})]})}render(){return this.children=[this.createContent()],super.render()}};class S0{static async getTasks(){try{return await Ut.instance.get("/tasks/".concat(taskId))}catch(e){throw console.error("Error fetching Task:",e),e}}static async createTask(){try{return await Ut.instance.post("/tasks/create")}catch(e){throw console.error("Error creating Task:",e),e}}static async saveTask(e){const t=new ui;try{t==null||t.show();const{result:n,status:i}=await Ut.instance.put("/tasks/".concat(e.id),e);return i===200&&n.status==="success"&&$e.showSuccessNotification({message:"Tarefa salvo com sucesso"}),{result:n,status:i}}catch(n){throw console.error("Error saving Tarefa:",n),n}finally{t==null||t.close()}}static async addNotes(e){const t=new ui;try{t==null||t.show();const{result:n,status:i}=await Ut.instance.post("/tasks/".concat(e.visit_id,"/notes/create"),e);return{result:n,status:i}}catch(n){throw console.error("Error saving Task:",n),n}finally{t==null||t.close()}}}var pp,qt,gx,vx,Mh,wc,Mw,wx,yx,Ld={},_x=[],cR=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ll(r,e){for(var t in e)r[t]=e[t];return r}function bx(r){var e=r.parentNode;e&&e.removeChild(r)}function de(r,e,t){var n,i,s,a={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?pp.call(arguments,2):t),typeof r=="function"&&r.defaultProps!=null)for(s in r.defaultProps)a[s]===void 0&&(a[s]=r.defaultProps[s]);return nd(r,a,n,i,null)}function nd(r,e,t,n,i){var s={type:r,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++gx:i};return i==null&&qt.vnode!=null&&qt.vnode(s),s}function ns(){return{current:null}}function ln(r){return r.children}function hR(r,e,t,n,i){var s;for(s in t)s==="children"||s==="key"||s in e||Pd(r,s,null,t[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||t[s]===e[s]||Pd(r,s,e[s],t[s],n)}function Bw(r,e,t){e[0]==="-"?r.setProperty(e,t==null?"":t):r[e]=t==null?"":typeof t!="number"||cR.test(e)?t:t+"px"}function Pd(r,e,t,n,i){var s;e:if(e==="style")if(typeof t=="string")r.style.cssText=t;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(e in n)t&&e in t||Bw(r.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||Bw(r.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in r?e.toLowerCase().slice(2):e.slice(2),r.l||(r.l={}),r.l[e+s]=t,t?n||r.addEventListener(e,s?zw:Uw,s):r.removeEventListener(e,s?zw:Uw,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in r)try{r[e]=t==null?"":t;break e}catch(a){}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?r.removeAttribute(e):r.setAttribute(e,t))}}function Uw(r){Mh=!0;try{return this.l[r.type+!1](qt.event?qt.event(r):r)}finally{Mh=!1}}function zw(r){Mh=!0;try{return this.l[r.type+!0](qt.event?qt.event(r):r)}finally{Mh=!1}}function Js(r,e){this.props=r,this.context=e}function ju(r,e){if(e==null)return r.__?ju(r.__,r.__.__k.indexOf(r)+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?ju(r):null}function xx(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break}return xx(r)}}function uR(r){Mh?setTimeout(r):wx(r)}function ym(r){(!r.__d&&(r.__d=!0)&&wc.push(r)&&!Rd.__r++||Mw!==qt.debounceRendering)&&((Mw=qt.debounceRendering)||uR)(Rd)}function Rd(){var r,e,t,n,i,s,a,o;for(wc.sort(function(c,h){return c.__v.__b-h.__v.__b});r=wc.shift();)r.__d&&(e=wc.length,n=void 0,i=void 0,a=(s=(t=r).__v).__e,(o=t.__P)&&(n=[],(i=Ll({},s)).__v=s.__v+1,bg(o,s,i,t.__n,o.ownerSVGElement!==void 0,s.__h!=null?[a]:null,n,a==null?ju(s):a,s.__h),Cx(n,s),s.__e!=a&&xx(s)),wc.length>e&&wc.sort(function(c,h){return c.__v.__b-h.__v.__b}));Rd.__r=0}function Sx(r,e,t,n,i,s,a,o,c,h){var u,p,g,d,_,y,b,E=n&&n.__k||_x,D=E.length;for(t.__k=[],u=0;u<e.length;u++)if((d=t.__k[u]=(d=e[u])==null||typeof d=="boolean"?null:typeof d=="string"||typeof d=="number"||typeof d=="bigint"?nd(null,d,null,null,d):Array.isArray(d)?nd(ln,{children:d},null,null,null):d.__b>0?nd(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)!=null){if(d.__=t,d.__b=t.__b+1,(g=E[u])===null||g&&d.key==g.key&&d.type===g.type)E[u]=void 0;else for(p=0;p<D;p++){if((g=E[p])&&d.key==g.key&&d.type===g.type){E[p]=void 0;break}g=null}bg(r,d,g=g||Ld,i,s,a,o,c,h),_=d.__e,(p=d.ref)&&g.ref!=p&&(b||(b=[]),g.ref&&b.push(g.ref,null,d),b.push(p,d.__c||_,d)),_!=null?(y==null&&(y=_),typeof d.type=="function"&&d.__k===g.__k?d.__d=c=Ex(d,c,r):c=Ax(r,d,g,E,_,c),typeof t.type=="function"&&(t.__d=c)):c&&g.__e==c&&c.parentNode!=r&&(c=ju(g))}for(t.__e=y,u=D;u--;)E[u]!=null&&(typeof t.type=="function"&&E[u].__e!=null&&E[u].__e==t.__d&&(t.__d=Tx(n).nextSibling),Dx(E[u],E[u]));if(b)for(u=0;u<b.length;u++)kx(b[u],b[++u],b[++u])}function Ex(r,e,t){for(var n,i=r.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=r,e=typeof n.type=="function"?Ex(n,e,t):Ax(t,n,n,i,n.__e,e));return e}function Od(r,e){return e=e||[],r==null||typeof r=="boolean"||(Array.isArray(r)?r.some(function(t){Od(t,e)}):e.push(r)),e}function Ax(r,e,t,n,i,s){var a,o,c;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(t==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==r)r.appendChild(i),a=null;else{for(o=s,c=0;(o=o.nextSibling)&&c<n.length;c+=1)if(o==i)break e;r.insertBefore(i,s),a=s}return a!==void 0?a:i.nextSibling}function Tx(r){var e,t,n;if(r.type==null||typeof r.type=="string")return r.__e;if(r.__k){for(e=r.__k.length-1;e>=0;e--)if((t=r.__k[e])&&(n=Tx(t)))return n}return null}function bg(r,e,t,n,i,s,a,o,c){var h,u,p,g,d,_,y,b,E,D,N,I,X,he,G,q=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(c=t.__h,o=e.__e=t.__e,e.__h=null,s=[o]),(h=qt.__b)&&h(e);try{e:if(typeof q=="function"){if(b=e.props,E=(h=q.contextType)&&n[h.__c],D=h?E?E.props.value:h.__:n,t.__c?y=(u=e.__c=t.__c).__=u.__E:("prototype"in q&&q.prototype.render?e.__c=u=new q(b,D):(e.__c=u=new Js(b,D),u.constructor=q,u.render=dR),E&&E.sub(u),u.props=b,u.state||(u.state={}),u.context=D,u.__n=n,p=u.__d=!0,u.__h=[],u._sb=[]),u.__s==null&&(u.__s=u.state),q.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=Ll({},u.__s)),Ll(u.__s,q.getDerivedStateFromProps(b,u.__s))),g=u.props,d=u.state,u.__v=e,p)q.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(q.getDerivedStateFromProps==null&&b!==g&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(b,D),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(b,u.__s,D)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(u.props=b,u.state=u.__s,u.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(O){O&&(O.__=e)}),N=0;N<u._sb.length;N++)u.__h.push(u._sb[N]);u._sb=[],u.__h.length&&a.push(u);break e}u.componentWillUpdate!=null&&u.componentWillUpdate(b,u.__s,D),u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(g,d,_)})}if(u.context=D,u.props=b,u.__P=r,I=qt.__r,X=0,"prototype"in q&&q.prototype.render){for(u.state=u.__s,u.__d=!1,I&&I(e),h=u.render(u.props,u.state,u.context),he=0;he<u._sb.length;he++)u.__h.push(u._sb[he]);u._sb=[]}else do u.__d=!1,I&&I(e),h=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++X<25);u.state=u.__s,u.getChildContext!=null&&(n=Ll(Ll({},n),u.getChildContext())),p||u.getSnapshotBeforeUpdate==null||(_=u.getSnapshotBeforeUpdate(g,d)),G=h!=null&&h.type===ln&&h.key==null?h.props.children:h,Sx(r,Array.isArray(G)?G:[G],e,t,n,i,s,a,o,c),u.base=e.__e,e.__h=null,u.__h.length&&a.push(u),y&&(u.__E=u.__=null),u.__e=!1}else s==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=fR(t.__e,e,t,n,i,s,a,c);(h=qt.diffed)&&h(e)}catch(O){e.__v=null,(c||s!=null)&&(e.__e=o,e.__h=!!c,s[s.indexOf(o)]=null),qt.__e(O,e,t)}}function Cx(r,e){qt.__c&&qt.__c(e,r),r.some(function(t){try{r=t.__h,t.__h=[],r.some(function(n){n.call(t)})}catch(n){qt.__e(n,t.__v)}})}function fR(r,e,t,n,i,s,a,o){var c,h,u,p=t.props,g=e.props,d=e.type,_=0;if(d==="svg"&&(i=!0),s!=null){for(;_<s.length;_++)if((c=s[_])&&"setAttribute"in c==!!d&&(d?c.localName===d:c.nodeType===3)){r=c,s[_]=null;break}}if(r==null){if(d===null)return document.createTextNode(g);r=i?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,g.is&&g),s=null,o=!1}if(d===null)p===g||o&&r.data===g||(r.data=g);else{if(s=s&&pp.call(r.childNodes),h=(p=t.props||Ld).dangerouslySetInnerHTML,u=g.dangerouslySetInnerHTML,!o){if(s!=null)for(p={},_=0;_<r.attributes.length;_++)p[r.attributes[_].name]=r.attributes[_].value;(u||h)&&(u&&(h&&u.__html==h.__html||u.__html===r.innerHTML)||(r.innerHTML=u&&u.__html||""))}if(hR(r,g,p,i,o),u)e.__k=[];else if(_=e.props.children,Sx(r,Array.isArray(_)?_:[_],e,t,n,i&&d!=="foreignObject",s,a,s?s[0]:t.__k&&ju(t,0),o),s!=null)for(_=s.length;_--;)s[_]!=null&&bx(s[_]);o||("value"in g&&(_=g.value)!==void 0&&(_!==r.value||d==="progress"&&!_||d==="option"&&_!==p.value)&&Pd(r,"value",_,p.value,!1),"checked"in g&&(_=g.checked)!==void 0&&_!==r.checked&&Pd(r,"checked",_,p.checked,!1))}return r}function kx(r,e,t){try{typeof r=="function"?r(e):r.current=e}catch(n){qt.__e(n,t)}}function Dx(r,e,t){var n,i;if(qt.unmount&&qt.unmount(r),(n=r.ref)&&(n.current&&n.current!==r.__e||kx(n,null,e)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){qt.__e(s,e)}n.base=n.__P=null,r.__c=void 0}if(n=r.__k)for(i=0;i<n.length;i++)n[i]&&Dx(n[i],e,t||typeof r.type!="function");t||r.__e==null||bx(r.__e),r.__=r.__e=r.__d=void 0}function dR(r,e,t){return this.constructor(r,t)}function Wu(r,e,t){var n,i,s;qt.__&&qt.__(r,e),i=(n=!1)?null:e.__k,s=[],bg(e,r=e.__k=de(ln,null,[r]),i||Ld,Ld,e.ownerSVGElement!==void 0,i?null:e.firstChild?pp.call(e.childNodes):null,s,i?i.__e:e.firstChild,n),Cx(s,r)}function pR(r,e){var t={__c:e="__cC"+yx++,__:r,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(function(o){o.__e=!0,ym(o)})},this.sub=function(a){i.push(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),o&&o.call(a)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}pp=_x.slice,qt={__e:function(r,e,t,n){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(r)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(r,n||{}),a=i.__d),a)return i.__E=i}catch(o){r=o}throw r}},gx=0,vx=function(r){return r!=null&&r.constructor===void 0},Mh=!1,Js.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ll({},this.state),typeof r=="function"&&(r=r(Ll({},t),this.props)),r&&Ll(t,r),r!=null&&this.__v&&(e&&this._sb.push(e),ym(this))},Js.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),ym(this))},Js.prototype.render=ln,wc=[],wx=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Rd.__r=0,yx=0;var xo,E0,Hw,Nx=[],A0=[],jw=qt.__b,Ww=qt.__r,Vw=qt.diffed,qw=qt.__c,Gw=qt.unmount;function mR(){for(var r;r=Nx.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(id),r.__H.__h.forEach(_m),r.__H.__h=[]}catch(e){r.__H.__h=[],qt.__e(e,r.__v)}}qt.__b=function(r){xo=null,jw&&jw(r)},qt.__r=function(r){Ww&&Ww(r);var e=(xo=r.__c).__H;e&&(E0===xo?(e.__h=[],xo.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=A0,t.__N=t.i=void 0})):(e.__h.forEach(id),e.__h.forEach(_m),e.__h=[])),E0=xo},qt.diffed=function(r){Vw&&Vw(r);var e=r.__c;e&&e.__H&&(e.__H.__h.length&&(Nx.push(e)!==1&&Hw===qt.requestAnimationFrame||((Hw=qt.requestAnimationFrame)||gR)(mR)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==A0&&(t.__=t.__V),t.i=void 0,t.__V=A0})),E0=xo=null},qt.__c=function(r,e){e.some(function(t){try{t.__h.forEach(id),t.__h=t.__h.filter(function(n){return!n.__||_m(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],qt.__e(n,t.__v)}}),qw&&qw(r,e)},qt.unmount=function(r){Gw&&Gw(r);var e,t=r.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{id(n)}catch(i){e=i}}),t.__H=void 0,e&&qt.__e(e,t.__v))};var $w=typeof requestAnimationFrame=="function";function gR(r){var e,t=function(){clearTimeout(n),$w&&cancelAnimationFrame(e),setTimeout(r)},n=setTimeout(t,100);$w&&(e=requestAnimationFrame(t))}function id(r){var e=xo,t=r.__c;typeof t=="function"&&(r.__c=void 0,t()),xo=e}function _m(r){var e=xo;r.__c=r.__(),xo=e}function vR(r,e){for(var t in e)r[t]=e[t];return r}function Zw(r,e){for(var t in r)if(t!=="__source"&&!(t in e))return!0;for(var n in e)if(n!=="__source"&&r[n]!==e[n])return!0;return!1}function Yw(r){this.props=r}(Yw.prototype=new Js).isPureReactComponent=!0,Yw.prototype.shouldComponentUpdate=function(r,e){return Zw(this.props,r)||Zw(this.state,e)};var Kw=qt.__b;qt.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),Kw&&Kw(r)};var wR=qt.__e;qt.__e=function(r,e,t,n){if(r.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),i.__c(r,e)}wR(r,e,t,n)};var Xw=qt.unmount;function Ix(r,e,t){return r&&(r.__c&&r.__c.__H&&(r.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),r.__c.__H=null),(r=vR({},r)).__c!=null&&(r.__c.__P===t&&(r.__c.__P=e),r.__c=null),r.__k=r.__k&&r.__k.map(function(n){return Ix(n,e,t)})),r}function Lx(r,e,t){return r&&(r.__v=null,r.__k=r.__k&&r.__k.map(function(n){return Lx(n,e,t)}),r.__c&&r.__c.__P===e&&(r.__e&&t.insertBefore(r.__e,r.__d),r.__c.__e=!0,r.__c.__P=t)),r}function T0(){this.__u=0,this.t=null,this.__b=null}function Px(r){var e=r.__.__c;return e&&e.__a&&e.__a(r)}function Wf(){this.u=null,this.o=null}qt.unmount=function(r){var e=r.__c;e&&e.__R&&e.__R(),e&&r.__h===!0&&(r.type=null),Xw&&Xw(r)},(T0.prototype=new Js).__c=function(r,e){var t=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(t);var i=Px(n.__v),s=!1,a=function(){s||(s=!0,t.__R=null,i?i(o):o())};t.__R=a;var o=function(){if(!--n.__u){if(n.state.__a){var h=n.state.__a;n.__v.__k[0]=Lx(h,h.__c.__P,h.__c.__O)}var u;for(n.setState({__a:n.__b=null});u=n.t.pop();)u.forceUpdate()}},c=e.__h===!0;n.__u++||c||n.setState({__a:n.__b=n.__v.__k[0]}),r.then(a,a)},T0.prototype.componentWillUnmount=function(){this.t=[]},T0.prototype.render=function(r,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=Ix(this.__b,t,n.__O=n.__P)}this.__b=null}var i=e.__a&&de(ln,null,r.fallback);return i&&(i.__h=null),[de(ln,null,e.__a?null:r.children),i]};var Jw=function(r,e,t){if(++t[1]===t[0]&&r.o.delete(e),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.o.size))for(t=r.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;r.u=t=t[2]}};function yR(r){return this.getChildContext=function(){return r.context},r.children}function _R(r){var e=this,t=r.i;e.componentWillUnmount=function(){Wu(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),r.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,i){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),Wu(de(yR,{context:e.context},r.__v),e.l)):e.l&&e.componentWillUnmount()}function bR(r,e){var t=de(_R,{__v:r,i:e});return t.containerInfo=e,t}(Wf.prototype=new Js).__a=function(r){var e=this,t=Px(e.__v),n=e.o.get(r);return n[0]++,function(i){var s=function(){e.props.revealOrder?(n.push(i),Jw(e,r,n)):i()};t?t(s):s()}},Wf.prototype.render=function(r){this.u=null,this.o=new Map;var e=Od(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return r.children},Wf.prototype.componentDidUpdate=Wf.prototype.componentDidMount=function(){var r=this;this.o.forEach(function(e,t){Jw(r,t,e)})};var xR=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,SR=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ER=typeof document<"u",AR=function(r){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(r)};Js.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty(Js.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(e){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:e})}})});var Qw=qt.event;function TR(){}function CR(){return this.cancelBubble}function kR(){return this.defaultPrevented}qt.event=function(r){return Qw&&(r=Qw(r)),r.persist=TR,r.isPropagationStopped=CR,r.isDefaultPrevented=kR,r.nativeEvent=r};var ey={configurable:!0,get:function(){return this.class}},ty=qt.vnode;qt.vnode=function(r){var e=r.type,t=r.props,n=t;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in n={},t){var a=t[s];ER&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in t&&a==null||(s==="defaultValue"&&"value"in t&&t.value==null?s="value":s==="download"&&a===!0?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!AR(t.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&SR.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():a===null&&(a=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),n[s]&&(s="oninputCapture")),n[s]=a)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=Od(t.children).forEach(function(o){o.props.selected=n.value.indexOf(o.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=Od(t.children).forEach(function(o){o.props.selected=n.multiple?n.defaultValue.indexOf(o.props.value)!=-1:n.defaultValue==o.props.value})),r.props=n,t.class!=t.className&&(ey.enumerable="className"in t,t.className!=null&&(n.class=t.className),Object.defineProperty(n,"className",ey))}r.$$typeof=xR,ty&&ty(r)};var ry=qt.__r;qt.__r=function(r){ry&&ry(r),r.__c};const Rx=[],bm=new Map;function xg(r){Rx.push(r),bm.forEach(e=>{Fx(e,r)})}function DR(r){r.isConnected&&r.getRootNode&&Ox(r.getRootNode())}function Ox(r){let e=bm.get(r);if(!e||!e.isConnected){if(e=r.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=IR();t&&(e.nonce=t);const n=r===document?document.head:r,i=r===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,i)}bm.set(r,e),NR(e)}}function NR(r){for(const e of Rx)Fx(r,e)}function Fx(r,e){const{sheet:t}=r,n=t.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&t.insertRule(i+"}",n+s)})}let C0;function IR(){return C0===void 0&&(C0=LR()),C0}function LR(){const r=document.querySelector('meta[name="csp-nonce"]');if(r&&r.hasAttribute("content"))return r.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Ox(document);var PR=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';xg(PR);class Sg{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function Eg(r){r.parentNode&&r.parentNode.removeChild(r)}function ji(r,e){if(r.closest)return r.closest(e);if(!document.documentElement.contains(r))return null;do{if(RR(r,e))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}function RR(r,e){return(r.matches||r.matchesSelector||r.msMatchesSelector).call(r,e)}function OR(r,e){let t=r instanceof HTMLElement?[r]:r,n=[];for(let i=0;i<t.length;i+=1){let s=t[i].querySelectorAll(e);for(let a=0;a<s.length;a+=1)n.push(s[a])}return n}const FR=/(top|left|right|bottom|width|height)$/i;function Tu(r,e){for(let t in e)Mx(r,t,e[t])}function Mx(r,e,t){t==null?r.style[e]="":typeof t=="number"&&FR.test(e)?r.style[e]="".concat(t,"px"):r.style[e]=t}function Bx(r){var e,t;return(t=(e=r.composedPath)===null||e===void 0?void 0:e.call(r)[0])!==null&&t!==void 0?t:r.target}let ny=0;function mp(){return ny+=1,"fc-dom-"+ny}function gp(r){r.preventDefault()}function MR(r,e){return t=>{let n=ji(t.target,r);n&&e.call(n,t,n)}}function Ux(r,e,t,n){let i=MR(t,n);return r.addEventListener(e,i),()=>{r.removeEventListener(e,i)}}function BR(r,e,t,n){let i;return Ux(r,"mouseover",e,(s,a)=>{if(a!==i){i=a,t(s,a);let o=c=>{i=null,n(c,a),a.removeEventListener("mouseleave",o)};a.addEventListener("mouseleave",o)}})}const iy=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function UR(r,e){let t=n=>{e(n),iy.forEach(i=>{r.removeEventListener(i,t)})};iy.forEach(n=>{r.addEventListener(n,t)})}function zx(r){return Object.assign({onClick:r},Hx(r))}function Hx(r){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(r(e),e.preventDefault())}}}let sy=0;function Gc(){return sy+=1,String(sy)}function Ag(){document.body.classList.add("fc-not-allowed")}function Tg(){document.body.classList.remove("fc-not-allowed")}function zR(r){r.style.userSelect="none",r.style.webkitUserSelect="none",r.addEventListener("selectstart",gp)}function HR(r){r.style.userSelect="",r.style.webkitUserSelect="",r.removeEventListener("selectstart",gp)}function jR(r){r.addEventListener("contextmenu",gp)}function WR(r){r.removeEventListener("contextmenu",gp)}function VR(r){let e=[],t=[],n,i;for(typeof r=="string"?t=r.split(/\s*,\s*/):typeof r=="function"?t=[r]:Array.isArray(r)&&(t=r),n=0;n<t.length;n+=1)i=t[n],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function qR(r,e,t){let n,i;for(n=0;n<t.length;n+=1)if(i=GR(r,e,t[n]),i)return i;return 0}function GR(r,e,t){return t.func?t.func(r,e):$R(r[t.field],e[t.field])*(t.order||1)}function $R(r,e){return!r&&!e?0:e==null?-1:r==null?1:typeof r=="string"||typeof e=="string"?String(r).localeCompare(String(e)):r-e}function Ph(r,e){let t=String(r);return"000".substr(0,e-t.length)+t}function Cu(r,e,t){return typeof r=="function"?r(...e):typeof r=="string"?e.reduce((n,i,s)=>n.replace("$"+s,i||""),r):t}function ZR(r,e){return r-e}function sd(r){return r%1===0}function YR(r){let e=r.querySelector(".fc-scrollgrid-shrink-frame"),t=r.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return r.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const ay=["years","months","days","milliseconds"],KR=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function xr(r,e){return typeof r=="string"?XR(r):typeof r=="object"&&r?oy(r):typeof r=="number"?oy({[e||"milliseconds"]:r}):null}function XR(r){let e=KR.exec(r);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function oy(r){let e={years:r.years||r.year||0,months:r.months||r.month||0,days:r.days||r.day||0,milliseconds:(r.hours||r.hour||0)*60*60*1e3+(r.minutes||r.minute||0)*60*1e3+(r.seconds||r.second||0)*1e3+(r.milliseconds||r.millisecond||r.ms||0)},t=r.weeks||r.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function JR(r,e){return r.years===e.years&&r.months===e.months&&r.days===e.days&&r.milliseconds===e.milliseconds}function xm(r,e){return{years:r.years+e.years,months:r.months+e.months,days:r.days+e.days,milliseconds:r.milliseconds+e.milliseconds}}function QR(r,e){return{years:r.years-e.years,months:r.months-e.months,days:r.days-e.days,milliseconds:r.milliseconds-e.milliseconds}}function e8(r,e){return{years:r.years*e,months:r.months*e,days:r.days*e,milliseconds:r.milliseconds*e}}function t8(r){return Rh(r)/365}function r8(r){return Rh(r)/30}function Rh(r){return Xa(r)/864e5}function Xa(r){return r.years*(365*864e5)+r.months*(30*864e5)+r.days*864e5+r.milliseconds}function Cg(r,e){let t=null;for(let n=0;n<ay.length;n+=1){let i=ay[n];if(e[i]){let s=r[i]/e[i];if(!sd(s)||t!==null&&t!==s)return null;t=s}else if(r[i])return null}return t}function Sm(r){let e=r.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return r.days?r.specifiedWeeks&&r.days%7===0?{unit:"week",value:r.days/7}:{unit:"day",value:r.days}:r.months?{unit:"month",value:r.months}:r.years?{unit:"year",value:r.years}:{unit:"millisecond",value:0}}function ql(r,e,t){if(r===e)return!0;let n=r.length,i;if(n!==e.length)return!1;for(i=0;i<n;i+=1)if(!(t?t(r[i],e[i]):r[i]===e[i]))return!1;return!0}const n8=["sun","mon","tue","wed","thu","fri","sat"];function ly(r,e){let t=Pl(r);return t[2]+=e*7,bs(t)}function pi(r,e){let t=Pl(r);return t[2]+=e,bs(t)}function Gl(r,e){let t=Pl(r);return t[6]+=e,bs(t)}function i8(r,e){return $c(r,e)/7}function $c(r,e){return(e.valueOf()-r.valueOf())/(1e3*60*60*24)}function s8(r,e){return(e.valueOf()-r.valueOf())/(1e3*60*60)}function a8(r,e){return(e.valueOf()-r.valueOf())/(1e3*60)}function o8(r,e){return(e.valueOf()-r.valueOf())/1e3}function l8(r,e){let t=cn(r),n=cn(e);return{years:0,months:0,days:Math.round($c(t,n)),milliseconds:e.valueOf()-n.valueOf()-(r.valueOf()-t.valueOf())}}function c8(r,e){let t=Fd(r,e);return t!==null&&t%7===0?t/7:null}function Fd(r,e){return Rl(r)===Rl(e)?Math.round($c(r,e)):null}function cn(r){return bs([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()])}function h8(r){return bs([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours()])}function u8(r){return bs([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes()])}function f8(r){return bs([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds()])}function d8(r,e,t){let n=r.getUTCFullYear(),i=k0(r,n,e,t);if(i<1)return k0(r,n-1,e,t);let s=k0(r,n+1,e,t);return s>=1?Math.min(i,s):i}function k0(r,e,t,n){let i=bs([e,0,1+p8(e,t,n)]),s=cn(r),a=Math.round($c(i,s));return Math.floor(a/7)+1}function p8(r,e,t){let n=7+e-t;return-((7+bs([r,0,n]).getUTCDay()-e)%7)+n-1}function cy(r){return[r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()]}function hy(r){return new Date(r[0],r[1]||0,r[2]==null?1:r[2],r[3]||0,r[4]||0,r[5]||0)}function Pl(r){return[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()]}function bs(r){return r.length===1&&(r=r.concat([0])),new Date(Date.UTC(...r))}function jx(r){return!isNaN(r.valueOf())}function Rl(r){return r.getUTCHours()*1e3*60*60+r.getUTCMinutes()*1e3*60+r.getUTCSeconds()*1e3+r.getUTCMilliseconds()}function Wx(r,e,t=!1){let n=r.toISOString();return n=n.replace(".000",""),t&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",Dg(e,!0)))),n}function kg(r){return r.toISOString().replace(/T.*$/,"")}function m8(r){return r.toISOString().match(/^\d{4}-\d{2}/)[0]}function g8(r){return Ph(r.getUTCHours(),2)+":"+Ph(r.getUTCMinutes(),2)+":"+Ph(r.getUTCSeconds(),2)}function Dg(r,e=!1){let t=r<0?"-":"+",n=Math.abs(r),i=Math.floor(n/60),s=Math.round(n%60);return e?"".concat(t+Ph(i,2),":").concat(Ph(s,2)):"GMT".concat(t).concat(i).concat(s?":".concat(Ph(s,2)):"")}function $t(r,e,t){let n,i;return function(...s){if(!n)i=r.apply(this,s);else if(!ql(n,s)){let a=r.apply(this,s);(!e||!e(a,i))&&(i=a)}return n=s,i}}function ad(r,e,t){let n,i;return s=>(n?eo(n,s)||(i=r.call(this,s)):i=r.call(this,s),n=s,i)}const D0={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},Md={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Vf=/\s*([ap])\.?m\.?/i,v8=/,/g,w8=/\s+/g,y8=/\u200e/g,_8=/UTC|GMT/;class b8{constructor(e){let t={},n={},i=9;for(let s in e)s in D0?(n[s]=e[s],D0[s]<9&&(i=Math.min(D0[s],i))):(t[s]=e[s],s in Md&&(i=Math.min(Md[s],i)));this.standardDateProps=t,this.extendedSettings=n,this.smallestUnitNum=i,this.buildFormattingFunc=$t(uy)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,i){let{standardDateProps:s,extendedSettings:a}=this,o=C8(e.marker,t.marker,n.calendarSystem);if(!o)return this.format(e,n);let c=o;c>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(c=1);let h=this.format(e,n),u=this.format(t,n);if(h===u)return h;let p=k8(s,c),g=uy(p,a,n),d=g(e),_=g(t),y=D8(h,d,u,_),b=a.separator||i||n.defaultSeparator||"";return y?y.before+d+b+_+y.after:h+b+u}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function uy(r,e,t){let n=Object.keys(r).length;return n===1&&r.timeZoneName==="short"?i=>Dg(i.timeZoneOffset):n===0&&e.week?i=>T8(t.computeWeekNumber(i.marker),t.weekText,t.weekTextLong,t.locale,e.week):x8(r,e,t)}function x8(r,e,t){r=Object.assign({},r),e=Object.assign({},e),S8(r,e),r.timeZone="UTC";let n=new Intl.DateTimeFormat(t.locale.codes,r),i;if(e.omitZeroMinute){let s=Object.assign({},r);delete s.minute,i=new Intl.DateTimeFormat(t.locale.codes,s)}return s=>{let{marker:a}=s,o;i&&!a.getUTCMinutes()?o=i:o=n;let c=o.format(a);return E8(c,s,r,e,t)}}function S8(r,e){r.timeZoneName&&(r.hour||(r.hour="2-digit"),r.minute||(r.minute="2-digit")),r.timeZoneName==="long"&&(r.timeZoneName="short"),e.omitZeroMinute&&(r.second||r.millisecond)&&delete e.omitZeroMinute}function E8(r,e,t,n,i){return r=r.replace(y8,""),t.timeZoneName==="short"&&(r=A8(r,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Dg(e.timeZoneOffset))),n.omitCommas&&(r=r.replace(v8,"").trim()),n.omitZeroMinute&&(r=r.replace(":00","")),n.meridiem===!1?r=r.replace(Vf,"").trim():n.meridiem==="narrow"?r=r.replace(Vf,(s,a)=>a.toLocaleLowerCase()):n.meridiem==="short"?r=r.replace(Vf,(s,a)=>"".concat(a.toLocaleLowerCase(),"m")):n.meridiem==="lowercase"&&(r=r.replace(Vf,s=>s.toLocaleLowerCase())),r=r.replace(w8," "),r=r.trim(),r}function A8(r,e){let t=!1;return r=r.replace(_8,()=>(t=!0,e)),t||(r+=" ".concat(e)),r}function T8(r,e,t,n,i){let s=[];return i==="long"?s.push(t):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(n.simpleNumberFormat.format(r)),n.options.direction==="rtl"&&s.reverse(),s.join("")}function C8(r,e,t){return t.getMarkerYear(r)!==t.getMarkerYear(e)?5:t.getMarkerMonth(r)!==t.getMarkerMonth(e)?4:t.getMarkerDay(r)!==t.getMarkerDay(e)?2:Rl(r)!==Rl(e)?1:0}function k8(r,e){let t={};for(let n in r)(!(n in Md)||Md[n]<=e)&&(t[n]=r[n]);return t}function D8(r,e,t,n){let i=0;for(;i<r.length;){let s=r.indexOf(e,i);if(s===-1)break;let a=r.substr(0,s);i=s+e.length;let o=r.substr(i),c=0;for(;c<t.length;){let h=t.indexOf(n,c);if(h===-1)break;let u=t.substr(0,h);c=h+n.length;let p=t.substr(c);if(a===u&&o===p)return{before:a,after:o}}}return null}function fy(r,e){let t=e.markerToArray(r.marker);return{marker:r.marker,timeZoneOffset:r.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function Bd(r,e,t,n){let i=fy(r,t.calendarSystem),s=e?fy(e,t.calendarSystem):null;return{date:i,start:i,end:s,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:n||t.defaultSeparator}}class N8{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,Bd(e,null,t,n))}formatRange(e,t,n,i){return n.cmdFormatter(this.cmdStr,Bd(e,t,n,i))}}class I8{constructor(e){this.func=e}format(e,t,n){return this.func(Bd(e,null,t,n))}formatRange(e,t,n,i){return this.func(Bd(e,t,n,i))}}function Cn(r){return typeof r=="object"&&r?new b8(r):typeof r=="string"?new N8(r):typeof r=="function"?new I8(r):null}const dy={navLinkDayClick:Ue,navLinkWeekClick:Ue,duration:xr,bootstrapFontAwesome:Ue,buttonIcons:Ue,customButtons:Ue,defaultAllDayEventDuration:xr,defaultTimedEventDuration:xr,nextDayThreshold:xr,scrollTime:xr,scrollTimeReset:Boolean,slotMinTime:xr,slotMaxTime:xr,dayPopoverFormat:Cn,slotDuration:xr,snapDuration:xr,headerToolbar:Ue,footerToolbar:Ue,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Cn,dayHeaderClassNames:Ue,dayHeaderContent:Ue,dayHeaderDidMount:Ue,dayHeaderWillUnmount:Ue,dayCellClassNames:Ue,dayCellContent:Ue,dayCellDidMount:Ue,dayCellWillUnmount:Ue,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Ue,weekNumbers:Boolean,weekNumberClassNames:Ue,weekNumberContent:Ue,weekNumberDidMount:Ue,weekNumberWillUnmount:Ue,editable:Boolean,viewClassNames:Ue,viewDidMount:Ue,viewWillUnmount:Ue,nowIndicator:Boolean,nowIndicatorSnap:Ue,nowIndicatorClassNames:Ue,nowIndicatorContent:Ue,nowIndicatorDidMount:Ue,nowIndicatorWillUnmount:Ue,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Ue,locale:Ue,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Ue,eventOrder:VR,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Ue,contentHeight:Ue,direction:String,weekNumberFormat:Cn,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Ue,initialDate:Ue,now:Ue,eventDataTransform:Ue,stickyHeaderDates:Ue,stickyFooterScrollbar:Ue,viewHeight:Ue,defaultAllDay:Boolean,eventSourceFailure:Ue,eventSourceSuccess:Ue,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Ue,eventConstraint:Ue,eventAllow:Ue,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Ue,eventContent:Ue,eventDidMount:Ue,eventWillUnmount:Ue,selectConstraint:Ue,selectOverlap:Ue,selectAllow:Ue,droppable:Boolean,unselectCancel:String,slotLabelFormat:Ue,slotLaneClassNames:Ue,slotLaneContent:Ue,slotLaneDidMount:Ue,slotLaneWillUnmount:Ue,slotLabelClassNames:Ue,slotLabelContent:Ue,slotLabelDidMount:Ue,slotLabelWillUnmount:Ue,dayMaxEvents:Ue,dayMaxEventRows:Ue,dayMinWidth:Number,slotLabelInterval:xr,allDayText:String,allDayClassNames:Ue,allDayContent:Ue,allDayDidMount:Ue,allDayWillUnmount:Ue,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Cn,rerenderDelay:Number,moreLinkText:Ue,moreLinkHint:Ue,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Ue,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:xr,hiddenDays:Ue,fixedWeekCount:Boolean,validRange:Ue,visibleRange:Ue,titleFormat:Ue,eventInteractive:Boolean,noEventsText:String,viewHint:Ue,navLinkHint:Ue,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Ue,moreLinkClassNames:Ue,moreLinkContent:Ue,moreLinkDidMount:Ue,moreLinkWillUnmount:Ue,monthStartFormat:Cn,handleCustomRendering:Ue,customRenderingMetaMap:Ue,customRenderingReplaces:Boolean},ku={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"},nowIndicatorSnap:"auto"},py={datesSet:Ue,eventsSet:Ue,eventAdd:Ue,eventChange:Ue,eventRemove:Ue,windowResize:Ue,eventClick:Ue,eventMouseEnter:Ue,eventMouseLeave:Ue,select:Ue,unselect:Ue,loading:Ue,_unmount:Ue,_beforeprint:Ue,_afterprint:Ue,_noEventDrop:Ue,_noEventResize:Ue,_resize:Ue,_scrollRequest:Ue},my={buttonText:Ue,buttonHints:Ue,views:Ue,plugins:Ue,initialEvents:Ue,events:Ue,eventSources:Ue},dc={headerToolbar:pc,footerToolbar:pc,buttonText:pc,buttonHints:pc,buttonIcons:pc,dateIncrement:pc,plugins:qf,events:qf,eventSources:qf,resources:qf};function pc(r,e){return typeof r=="object"&&typeof e=="object"&&r&&e?eo(r,e):r===e}function qf(r,e){return Array.isArray(r)&&Array.isArray(e)?ql(r,e):r===e}const L8={type:String,component:Ue,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Ue,usesMinMaxTime:Boolean,classNames:Ue,content:Ue,didMount:Ue,willUnmount:Ue};function N0(r){return Ig(r,dc)}function Ng(r,e){let t={},n={};for(let i in e)i in r&&(t[i]=e[i](r[i]));for(let i in r)i in e||(n[i]=r[i]);return{refined:t,extra:n}}function Ue(r){return r}const{hasOwnProperty:Ud}=Object.prototype;function Ig(r,e){let t={};if(e){for(let n in e)if(e[n]===pc){let i=[];for(let s=r.length-1;s>=0;s-=1){let a=r[s][n];if(typeof a=="object"&&a)i.unshift(a);else if(a!==void 0){t[n]=a;break}}i.length&&(t[n]=Ig(i))}}for(let n=r.length-1;n>=0;n-=1){let i=r[n];for(let s in i)s in t||(t[s]=i[s])}return t}function Ic(r,e){let t={};for(let n in r)e(r[n],n)&&(t[n]=r[n]);return t}function il(r,e){let t={};for(let n in r)t[n]=e(r[n],n);return t}function Vx(r){let e={};for(let t of r)e[t]=!0;return e}function Lg(r){let e=[];for(let t in r)e.push(r[t]);return e}function eo(r,e){if(r===e)return!0;for(let t in r)if(Ud.call(r,t)&&!(t in e))return!1;for(let t in e)if(Ud.call(e,t)&&r[t]!==e[t])return!1;return!0}const P8=/^on[A-Z]/;function R8(r,e){const t=O8(r,e);for(let n of t)if(!P8.test(n))return!1;return!0}function O8(r,e){let t=[];for(let n in r)Ud.call(r,n)&&(n in e||t.push(n));for(let n in e)Ud.call(e,n)&&r[n]!==e[n]&&t.push(n);return t}function I0(r,e,t={}){if(r===e)return!0;for(let n in e)if(!(n in r&&F8(r[n],e[n],t[n])))return!1;for(let n in r)if(!(n in e))return!1;return!0}function F8(r,e,t){return r===e||t===!0?!0:t?t(r,e):!1}function M8(r,e=0,t,n=1){let i=[];t==null&&(t=Object.keys(r).length);for(let s=e;s<t;s+=n){let a=r[s];a!==void 0&&i.push(a)}return i}let qx={};function B8(r,e){qx[r]=e}function U8(r){return new qx[r]}class z8{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return bs(e)}markerToArray(e){return Pl(e)}}B8("gregory",z8);const H8=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function j8(r){let e=H8.exec(r);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?Number("0.".concat(e[12]))*1e3:0));if(jx(t)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}class W8{constructor(e){let t=this.timeZone=e.timeZone,n=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=U8(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):bs(cy(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=bs(e)),t===null||!jx(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=j8(e);if(t===null)return null;let{marker:n}=t,i=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-t.timeZoneOffset*60*1e3):i=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return Rl(e)===Rl(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return Rl(e)===Rl(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+(n.getMarkerYear(t)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let n=this.diffWholeYears(e,t);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,t),n!==null?{unit:"month",value:n}:(n=c8(e,t),n!==null?{unit:"week",value:n}:(n=Fd(e,t),n!==null?{unit:"day",value:n}:(n=s8(e,t),sd(n)?{unit:"hour",value:n}:(n=a8(e,t),sd(n)?{unit:"minute",value:n}:(n=o8(e,t),sd(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,n){let i;return n.years&&(i=this.diffWholeYears(e,t),i!==null)?i/t8(n):n.months&&(i=this.diffWholeMonths(e,t),i!==null)?i/r8(n):n.days&&(i=Fd(e,t),i!==null)?i/Rh(n):(t.valueOf()-e.valueOf())/Xa(n)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?cn(e):t==="hour"?h8(e):t==="minute"?u8(e):t==="second"?f8(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):d8(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,i={}){return i.isEndExclusive&&(t=Gl(t,-1)),n.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(t)},this,i.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?n=t.forcedTzo:n=this.offsetForMarker(e)),Wx(e,n,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?bs(cy(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):bs(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-hy(Pl(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Pl(e)):null}toDate(e,t){return this.timeZone==="local"?hy(Pl(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Pl(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class nf{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(n in e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return t&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?"".concat(this.baseIconClass," ").concat(n):""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?"".concat(this.baseIconClass," ").concat(this.applyIconOverridePrefix(t)):""}}nf.prototype.classes={};nf.prototype.iconClasses={};nf.prototype.baseIconClass="";nf.prototype.iconOverridePrefix="";function zd(r){r();let e=qt.debounceRendering,t=[];function n(i){t.push(i)}for(qt.debounceRendering=n,Wu(de(V8,{}),document.createElement("div"));t.length;)t.shift()();qt.debounceRendering=e}class V8 extends Js{render(){return de("div",{})}componentDidMount(){this.setState({})}}function Gx(r){let e=pR(r),t=e.Provider;return e.Provider=function(){let n=!this.getChildContext,i=t.apply(this,arguments);if(n){let s=[];this.shouldComponentUpdate=a=>{this.props.value!==a.value&&s.forEach(o=>{o.context=a.value,o.forceUpdate()})},this.sub=a=>{s.push(a);let o=a.componentWillUnmount;a.componentWillUnmount=()=>{s.splice(s.indexOf(a),1),o&&o.call(a)}}}return i},e}class q8{constructor(e,t,n,i){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const ol=Gx({});function G8(r,e,t,n,i,s,a,o,c,h,u,p,g,d){return{dateEnv:i,nowManager:s,options:t,pluginHooks:o,emitter:u,dispatch:c,getCurrentData:h,calendarApi:p,viewSpec:r,viewApi:e,dateProfileGenerator:n,theme:a,isRtl:t.direction==="rtl",addResizeHandler(_){u.on("_resize",_)},removeResizeHandler(_){u.off("_resize",_)},createScrollResponder(_){return new q8(_,u,xr(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:g,unregisterInteractiveComponent:d}}class Zc extends Js{shouldComponentUpdate(e,t){return!I0(this.props,e,this.propEquality)||!I0(this.state,t,this.stateEquality)}safeSetState(e){I0(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}Zc.addPropsEquality=$8;Zc.addStateEquality=Z8;Zc.contextType=ol;Zc.prototype.propEquality={};Zc.prototype.stateEquality={};class Wr extends Zc{}Wr.contextType=ol;function $8(r){let e=Object.create(this.prototype.propEquality);Object.assign(e,r),this.prototype.propEquality=e}function Z8(r){let e=Object.create(this.prototype.stateEquality);Object.assign(e,r),this.prototype.stateEquality=e}function Ao(r,e){typeof r=="function"?r(e):r&&(r.current=e)}class Pg extends Wr{constructor(){super(...arguments),this.id=Gc(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:n}=this.props;(!t.customRenderingReplaces||!Em(n,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Ao(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:n}=t,{customGenerator:i,defaultGenerator:s,renderProps:a}=e,o=$x(e,[],this.handleEl);let c=!1,h,u=[],p;if(i!=null){const g=typeof i=="function"?i(a,de):i;if(g===!0)c=!0;else{const d=g&&typeof g=="object";d&&"html"in g?o.dangerouslySetInnerHTML={__html:g.html}:d&&"domNodes"in g?u=Array.prototype.slice.call(g.domNodes):(d?vx(g):typeof g!="function")?h=g:p=g}}else c=!Em(e.generatorName,n);return c&&s&&(h=s(a)),this.queuedDomNodes=u,this.currentGeneratorMeta=p,de(e.elTag,o,h)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:n,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:a}=i.options;if(s){const o=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:a==null?void 0:a[n.generatorName];o&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},n),{elClasses:(n.elClasses||[]).filter(Y8)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!ql(e,t)){t.forEach(Eg);for(let i of e)n.appendChild(i);this.currentDomNodes=e}}}Pg.addPropsEquality({elClasses:ql,elStyle:eo,elAttrs:R8,renderProps:eo});function Em(r,e){var t;return!!(e.handleCustomRendering&&r&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[r]))}function $x(r,e,t){const n=Object.assign(Object.assign({},r.elAttrs),{ref:t});return(r.elClasses||e)&&(n.className=(r.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),r.elStyle&&(n.style=r.elStyle),n}function Y8(r){return!!r}const Zx=Gx(0);class ra extends Js{constructor(){super(...arguments),this.InnerContent=K8.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(Ao(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=X8(e.classNameGenerator,e.renderProps);if(e.children){const n=$x(e,t,this.handleEl),i=e.children(this.InnerContent,e.renderProps,n);return e.elTag?de(e.elTag,n,i):i}else return de(Pg,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}ra.contextType=Zx;function K8(r,e){const t=r.props;return de(Pg,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:r.context},e))}function X8(r,e){const t=typeof r=="function"?r(e):r||[];return typeof t=="string"?[t]:t}class Hd extends Wr{render(){let{props:e,context:t}=this,{options:n}=t,i={view:t.viewApi};return de(ra,{elRef:e.elRef,elTag:e.elTag||"div",elAttrs:e.elAttrs,elClasses:[...Yx(e.viewSpec),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount},()=>e.children)}}function Yx(r){return["fc-".concat(r.type,"-view"),"fc-view"]}function J8(r,e){let t=null,n=null;return r.start&&(t=e.createMarker(r.start)),r.end&&(n=e.createMarker(r.end)),!t&&!n||t&&n&&n<t?null:{start:t,end:n}}function gy(r,e){let t=[],{start:n}=e,i,s;for(r.sort(Q8),i=0;i<r.length;i+=1)s=r[i],s.start>n&&t.push({start:n,end:s.start}),s.end>n&&(n=s.end);return n<e.end&&t.push({start:n,end:e.end}),t}function Q8(r,e){return r.start.valueOf()-e.start.valueOf()}function Lc(r,e){let{start:t,end:n}=r,i=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(t===null||n===null||t<n)&&(i={start:t,end:n}),i}function eO(r,e){return(r.start===null?null:r.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(r.end===null?null:r.end.valueOf())===(e.end===null?null:e.end.valueOf())}function Rg(r,e){return(r.end===null||e.start===null||r.end>e.start)&&(r.start===null||e.end===null||r.start<e.end)}function vp(r,e){return(r.start===null||e.start!==null&&e.start>=r.start)&&(r.end===null||e.end!==null&&e.end<=r.end)}function Jo(r,e){return(r.start===null||e>=r.start)&&(r.end===null||e<r.end)}function tO(r,e){return e.start!=null&&r<e.start?e.start:e.end!=null&&r>=e.end?new Date(e.end.valueOf()-1):r}function Kx(r){let e=Math.floor($c(r.start,r.end))||1,t=cn(r.start),n=pi(t,e);return{start:t,end:n}}function Xx(r,e=xr(0)){let t=null,n=null;if(r.end){n=cn(r.end);let i=r.end.valueOf()-n.valueOf();i&&i>=Xa(e)&&(n=pi(n,1))}return r.start&&(t=cn(r.start),n&&n<=t&&(n=pi(t,1))),{start:t,end:n}}function xh(r,e,t,n){return n==="year"?xr(t.diffWholeYears(r,e),"year"):n==="month"?xr(t.diffWholeMonths(r,e),"month"):l8(r,e)}class Jx{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,n)}buildNext(e,t,n){let{dateEnv:i}=this.props,s=i.add(i.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,n)}build(e,t,n=!0){let{props:i}=this,s,a,o,c,h,u;return s=this.buildValidRange(),s=this.trimHiddenDays(s),n&&(e=tO(e,s)),a=this.buildCurrentRangeInfo(e,t),o=/^(year|month|week|day)$/.test(a.unit),c=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,o),c=this.trimHiddenDays(c),h=c,i.showNonCurrentDates||(h=Lc(h,a.range)),h=this.adjustActiveRange(h),h=Lc(h,s),u=Rg(a.range,s),Jo(c,e)||(e=c.start),{currentDate:e,validRange:s,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:o,activeRange:h,renderRange:c,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:u,dateIncrement:this.buildDateIncrement(a.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:n}=this,i=null,s=null,a=null,o;return n.duration?(i=n.duration,s=n.durationUnit,a=this.buildRangeFromDuration(e,t,i,s)):(o=this.props.dayCount)?(s="day",a=this.buildRangeFromDayCount(e,t,o)):(a=this.buildCustomVisibleRange(e))?s=n.dateEnv.greatestWholeUnit(a.start,a.end).unit:(i=this.getFallbackDuration(),s=Sm(i).unit,a=this.buildRangeFromDuration(e,t,i,s)),{duration:i,unit:s,range:a}}getFallbackDuration(){return xr({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:i,slotMaxTime:s}=this.props,{start:a,end:o}=e;return n&&(Rh(i)<0&&(a=cn(a),a=t.add(a,i)),Rh(s)>1&&(o=cn(o),o=pi(o,-1),o=t.add(o,s))),{start:a,end:o}}buildRangeFromDuration(e,t,n,i){let{dateEnv:s,dateAlignment:a}=this.props,o,c,h;if(!a){let{dateIncrement:p}=this.props;p&&Xa(p)<Xa(n)?a=Sm(p).unit:a=i}Rh(n)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,t),o=cn(o));function u(){o=s.startOf(e,a),c=s.add(o,n),h={start:o,end:c}}return u(),this.trimHiddenDays(h)||(e=this.skipHiddenDays(e,t),u()),h}buildRangeFromDayCount(e,t,n){let{dateEnv:i,dateAlignment:s}=this.props,a=0,o=e,c;s&&(o=i.startOf(o,s)),o=cn(o),o=this.skipHiddenDays(o,t),c=o;do c=pi(c,1),this.isHiddenDay(c)||(a+=1);while(a<n);return{start:o,end:c}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,i=typeof n=="function"?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,n;return t||((n=this.props.dateAlignment)?xr(1,n):e||xr({days:1}))}refineRange(e){if(e){let t=J8(e,this.props.dateEnv);return t&&(t=Xx(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],n=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(t[i]=e.indexOf(i)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:n}=e;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),t==null||n==null||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=pi(e,t);return e}}function Og(r,e,t,n){return{instanceId:Gc(),defId:r,range:e,forcedStartTzo:t==null?null:t,forcedEndTzo:n==null?null:n}}function rO(r,e,t,n){for(let i=0;i<n.length;i+=1){let s=n[i].parse(r,t);if(s){let{allDay:a}=r;return a==null&&(a=e,a==null&&(a=s.allDayGuess,a==null&&(a=!1))),{allDay:a,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function Pc(r,e,t){let{dateEnv:n,pluginHooks:i,options:s}=t,{defs:a,instances:o}=r;o=Ic(o,c=>!a[c.defId].recurringDef);for(let c in a){let h=a[c];if(h.recurringDef){let{duration:u}=h.recurringDef;u||(u=h.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let p=nO(h,u,e,n,i.recurringTypes);for(let g of p){let d=Og(c,{start:g,end:n.add(g,u)});o[d.instanceId]=d}}}return{defs:a,instances:o}}function nO(r,e,t,n,i){let a=i[r.recurringDef.typeId].expand(r.recurringDef.typeData,{start:n.subtract(t.start,e),end:t.end},n);return r.allDay&&(a=a.map(cn)),a}const od={id:String,groupId:String,title:String,url:String,interactive:Boolean},Qx={start:Ue,end:Ue,date:Ue,allDay:Boolean},iO=Object.assign(Object.assign(Object.assign({},od),Qx),{extendedProps:Ue});function e5(r,e,t,n,i=Fg(t),s,a){let{refined:o,extra:c}=t5(r,t,i),h=aO(e,t),u=rO(o,h,t.dateEnv,t.pluginHooks.recurringTypes);if(u){let g=Am(o,c,e?e.sourceId:"",u.allDay,!!u.duration,t,s);return g.recurringDef={typeId:u.typeId,typeData:u.typeData,duration:u.duration},{def:g,instance:null}}let p=sO(o,h,t,n);if(p){let g=Am(o,c,e?e.sourceId:"",p.allDay,p.hasEnd,t,s),d=Og(g.defId,p.range,p.forcedStartTzo,p.forcedEndTzo);return a&&g.publicId&&a[g.publicId]&&(d.instanceId=a[g.publicId]),{def:g,instance:d}}return null}function t5(r,e,t=Fg(e)){return Ng(r,t)}function Fg(r){return Object.assign(Object.assign(Object.assign({},jd),iO),r.pluginHooks.eventRefiners)}function Am(r,e,t,n,i,s,a){let o={title:r.title||"",groupId:r.groupId||"",publicId:r.id||"",url:r.url||"",recurringDef:null,defId:(a&&r.id?a[r.id]:"")||Gc(),sourceId:t,allDay:n,hasEnd:i,interactive:r.interactive,ui:Wd(r,s),extendedProps:Object.assign(Object.assign({},r.extendedProps||{}),e)};for(let c of s.pluginHooks.eventDefMemberAdders)Object.assign(o,c(r));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function sO(r,e,t,n){let{allDay:i}=r,s,a=null,o=!1,c,h=null,u=r.start!=null?r.start:r.date;if(s=t.dateEnv.createMarkerMeta(u),s)a=s.marker;else if(!n)return null;return r.end!=null&&(c=t.dateEnv.createMarkerMeta(r.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!c||c.isTimeUnspecified)),i&&a&&(a=cn(a)),c&&(h=c.marker,i&&(h=cn(h)),a&&h<=a&&(h=null)),h?o=!0:n||(o=t.options.forceEventDuration||!1,h=t.dateEnv.add(a,i?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:i,hasEnd:o,range:{start:a,end:h},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:c?c.forcedTzo:null}}function aO(r,e){let t=null;return r&&(t=r.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function Vu(r,e,t,n,i,s){let a=Qs(),o=Fg(t);for(let c of r){let h=e5(c,e,t,n,o,i,s);h&&Tm(h,a)}return a}function Tm(r,e=Qs()){return e.defs[r.def.defId]=r.def,r.instance&&(e.instances[r.instance.instanceId]=r.instance),e}function Mg(r,e){let t=r.instances[e];if(t){let n=r.defs[t.defId],i=wp(r,s=>oO(n,s));return i.defs[n.defId]=n,i.instances[t.instanceId]=t,i}return Qs()}function oO(r,e){return!!(r.groupId&&r.groupId===e.groupId)}function Qs(){return{defs:{},instances:{}}}function Bg(r,e){return{defs:Object.assign(Object.assign({},r.defs),e.defs),instances:Object.assign(Object.assign({},r.instances),e.instances)}}function wp(r,e){let t=Ic(r.defs,e),n=Ic(r.instances,i=>t[i.defId]);return{defs:t,instances:n}}function lO(r,e){let{defs:t,instances:n}=r,i={},s={};for(let a in t)e.defs[a]||(i[a]=t[a]);for(let a in n)!e.instances[a]&&i[n[a].defId]&&(s[a]=n[a]);return{defs:i,instances:s}}function cO(r,e){return Array.isArray(r)?Vu(r,null,e,!0):typeof r=="object"&&r?Vu([r],null,e,!0):r!=null?String(r):null}function vy(r){return Array.isArray(r)?r:typeof r=="string"?r.split(/\s+/):[]}const jd={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Ue,overlap:Ue,allow:Ue,className:vy,classNames:vy,color:String,backgroundColor:String,borderColor:String,textColor:String},hO={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Wd(r,e){let t=cO(r.constraint,e);return{display:r.display||null,startEditable:r.startEditable!=null?r.startEditable:r.editable,durationEditable:r.durationEditable!=null?r.durationEditable:r.editable,constraints:t!=null?[t]:[],overlap:r.overlap!=null?r.overlap:null,allows:r.allow!=null?[r.allow]:[],backgroundColor:r.backgroundColor||r.color||"",borderColor:r.borderColor||r.color||"",textColor:r.textColor||"",classNames:(r.className||[]).concat(r.classNames||[])}}function r5(r){return r.reduce(uO,hO)}function uO(r,e){return{display:e.display!=null?e.display:r.display,startEditable:e.startEditable!=null?e.startEditable:r.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:r.durationEditable,constraints:r.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:r.overlap,allows:r.allows.concat(e.allows),backgroundColor:e.backgroundColor||r.backgroundColor,borderColor:e.borderColor||r.borderColor,textColor:e.textColor||r.textColor,classNames:r.classNames.concat(e.classNames)}}const fO={id:String,defaultAllDay:Boolean,url:String,format:String,events:Ue,eventDataTransform:Ue,success:Ue,failure:Ue};function n5(r,e,t=i5(e)){let n;if(typeof r=="string"?n={url:r}:typeof r=="function"||Array.isArray(r)?n={events:r}:typeof r=="object"&&r&&(n=r),n){let{refined:i,extra:s}=Ng(n,t),a=dO(i,e);if(a)return{_raw:r,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Gc(),sourceDefId:a.sourceDefId,meta:a.meta,ui:Wd(i,e),extendedProps:s}}return null}function i5(r){return Object.assign(Object.assign(Object.assign({},jd),fO),r.pluginHooks.eventSourceRefiners)}function dO(r,e){let t=e.pluginHooks.eventSourceDefs;for(let n=t.length-1;n>=0;n-=1){let s=t[n].parseMeta(r);if(s)return{sourceDefId:n,meta:s}}return null}function pO(r,e,t,n,i){switch(e.type){case"RECEIVE_EVENTS":return mO(r,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return gO(r,t[e.sourceId],e.rawEvents,n.activeRange,i);case"ADD_EVENTS":return vO(r,e.eventStore,n?n.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Bg(r,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?Pc(r,n.activeRange,i):r;case"REMOVE_EVENTS":return lO(r,e.eventStore);case"REMOVE_EVENT_SOURCE":return a5(r,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return wp(r,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return Qs();default:return r}}function mO(r,e,t,n,i,s){if(e&&t===e.latestFetchId){let a=Vu(s5(i,e,s),e,s);return n&&(a=Pc(a,n,s)),Bg(a5(r,e.sourceId),a)}return r}function gO(r,e,t,n,i){const{defIdMap:s,instanceIdMap:a}=yO(r);let o=Vu(s5(t,e,i),e,i,!1,s,a);return Pc(o,n,i)}function s5(r,e,t){let n=t.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(r=wy(r,i)),n&&(r=wy(r,n)),r}function wy(r,e){let t;if(!e)t=r;else{t=[];for(let n of r){let i=e(n);i?t.push(i):i==null&&t.push(n)}}return t}function vO(r,e,t,n){return t&&(e=Pc(e,t,n)),Bg(r,e)}function yy(r,e,t){let{defs:n}=r,i=il(r.instances,s=>n[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:t.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:t.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:s.forcedEndTzo}));return{defs:n,instances:i}}function a5(r,e){return wp(r,t=>t.sourceId!==e)}function wO(r,e){return{defs:r.defs,instances:Ic(r.instances,t=>!e[t.instanceId])}}function yO(r){const{defs:e,instances:t}=r,n={},i={};for(let s in e){const a=e[s],{publicId:o}=a;o&&(n[o]=s)}for(let s in t){const a=t[s],o=e[a.defId],{publicId:c}=o;c&&(i[c]=s)}return{defIdMap:n,instanceIdMap:i}}class yp{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){_O(this.handlers,e,t)}off(e,t){bO(this.handlers,e,t)}trigger(e,...t){let n=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],n);for(let a of s)a.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function _O(r,e,t){(r[e]||(r[e]=[])).push(t)}function bO(r,e,t){t?r[e]&&(r[e]=r[e].filter(n=>n!==t)):delete r[e]}const xO={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function SO(r,e){return Vu(EO(r),null,e)}function EO(r){let e;return r===!0?e=[{}]:Array.isArray(r)?e=r.filter(t=>t.daysOfWeek):typeof r=="object"&&r?e=[r]:e=[],e=e.map(t=>Object.assign(Object.assign({},xO),t)),e}function o5(r,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},Ug(r,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function AO(r,e){e.emitter.trigger("unselect",{jsEvent:r?r.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Ug(r,e){let t={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(t,n(r,e));return Object.assign(t,UO(r,e.dateEnv)),t}function _y(r,e,t){let{dateEnv:n,options:i}=t,s=e;return r?(s=cn(s),s=n.add(s,i.defaultAllDayEventDuration)):s=n.add(s,i.defaultTimedEventDuration),s}function zg(r,e,t,n){let i=Vd(r.defs,e),s=Qs();for(let a in r.defs){let o=r.defs[a];s.defs[a]=TO(o,i[a],t,n)}for(let a in r.instances){let o=r.instances[a],c=s.defs[o.defId];s.instances[a]=CO(o,c,i[o.defId],t,n)}return s}function TO(r,e,t,n){let i=t.standardProps||{};i.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},r),i),{ui:Object.assign(Object.assign({},r.ui),i.ui)});t.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),t.extendedProps));for(let a of n.pluginHooks.eventDefMutationAppliers)a(s,t,n);return!s.hasEnd&&n.options.forceEventDuration&&(s.hasEnd=!0),s}function CO(r,e,t,n,i){let{dateEnv:s}=i,a=n.standardProps&&n.standardProps.allDay===!0,o=n.standardProps&&n.standardProps.hasEnd===!1,c=Object.assign({},r);return a&&(c.range=Kx(c.range)),n.datesDelta&&t.startEditable&&(c.range={start:s.add(c.range.start,n.datesDelta),end:s.add(c.range.end,n.datesDelta)}),n.startDelta&&t.durationEditable&&(c.range={start:s.add(c.range.start,n.startDelta),end:c.range.end}),n.endDelta&&t.durationEditable&&(c.range={start:c.range.start,end:s.add(c.range.end,n.endDelta)}),o&&(c.range={start:c.range.start,end:_y(e.allDay,c.range.start,i)}),e.allDay&&(c.range={start:cn(c.range.start),end:cn(c.range.end)}),c.range.end<c.range.start&&(c.range.end=_y(e.allDay,c.range.start,i)),c}class wh{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class xn{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in Qx)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=od[e](t),this.mutate({standardProps:{publicId:t}});else if(e in od)t=od[e](t),this.mutate({standardProps:{[e]:t}});else if(e in jd){let n=jd[e](t);e==="color"?n={backgroundColor:t,borderColor:t}:e==="editable"?n={startEditable:t,durationEditable:t}:n={[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn("Could not set prop '".concat(e,"'. Use setExtendedProp instead."))}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,i=n.createMarker(e);if(i&&this._instance){let s=this._instance.range,a=xh(s.start,i,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:a}):this.mutate({startDelta:a})}}setEnd(e,t={}){let{dateEnv:n}=this._context,i;if(!(e!=null&&(i=n.createMarker(e),!i))&&this._instance)if(i){let s=xh(this._instance.range.end,i,n,t.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let{dateEnv:i}=this._context,s={allDay:n.allDay},a=i.createMarker(e),o;if(a&&!(t!=null&&(o=i.createMarker(t),!o))&&this._instance){let c=this._instance.range;n.allDay===!0&&(c=Kx(c));let h=xh(c.start,a,i,n.granularity);if(o){let u=xh(c.end,o,i,n.granularity);JR(h,u)?this.mutate({datesDelta:h,standardProps:s}):this.mutate({startDelta:h,endDelta:u,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:h,standardProps:s})}}moveStart(e){let t=xr(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=xr(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=xr(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:i}=t;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=i),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,i=Cn(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,i,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,i,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),a=Mg(s,t.instanceId);a=zg(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let c=new xn(i,n,t);this._def=a.defs[n.defId],this._instance=a.instances[t.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:a}),i.emitter.trigger("eventChange",{oldEvent:c,event:this,relatedEvents:Sc(a,i,t),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,t=l5(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new wh(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:i,endStr:s}=this,a={allDay:t.allDay};return t.title&&(a.title=t.title),i&&(a.start=i),s&&(a.end=s),t.publicId&&(a.id=t.publicId),t.groupId&&(a.groupId=t.groupId),t.url&&(a.url=t.url),n.display&&n.display!=="auto"&&(a.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?a.color=n.backgroundColor:(n.backgroundColor&&(a.backgroundColor=n.backgroundColor),n.borderColor&&(a.borderColor=n.borderColor)),n.textColor&&(a.textColor=n.textColor),n.classNames.length&&(a.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,t.extendedProps):a.extendedProps=t.extendedProps),a}toJSON(){return this.toPlainObject()}}function l5(r){let e=r._def,t=r._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function Sc(r,e,t){let{defs:n,instances:i}=r,s=[],a=t?t.instanceId:"";for(let o in i){let c=i[o],h=n[c.defId];c.instanceId!==a&&s.push(new xn(e,h,c))}return s}function by(r,e,t,n){let i={},s={},a={},o=[],c=[],h=Vd(r.defs,e);for(let u in r.defs){let p=r.defs[u];h[p.defId].display==="inverse-background"&&(p.groupId?(i[p.groupId]=[],a[p.groupId]||(a[p.groupId]=p)):s[u]=[])}for(let u in r.instances){let p=r.instances[u],g=r.defs[p.defId],d=h[g.defId],_=p.range,y=!g.allDay&&n?Xx(_,n):_,b=Lc(y,t);b&&(d.display==="inverse-background"?g.groupId?i[g.groupId].push(b):s[p.defId].push(b):d.display!=="none"&&(d.display==="background"?o:c).push({def:g,ui:d,instance:p,range:b,isStart:y.start&&y.start.valueOf()===b.start.valueOf(),isEnd:y.end&&y.end.valueOf()===b.end.valueOf()}))}for(let u in i){let p=i[u],g=gy(p,t);for(let d of g){let _=a[u],y=h[_.defId];o.push({def:_,ui:y,instance:null,range:d,isStart:!1,isEnd:!1})}}for(let u in s){let p=s[u],g=gy(p,t);for(let d of g)o.push({def:r.defs[u],ui:h[u],instance:null,range:d,isStart:!1,isEnd:!1})}return{bg:o,fg:c}}function kO(r){return r.ui.display==="background"||r.ui.display==="inverse-background"}function xy(r,e){r.fcSeg=e}function Bh(r){return r.fcSeg||r.parentNode.fcSeg||null}function Vd(r,e){return il(r,t=>c5(t,e))}function c5(r,e){let t=[];return e[""]&&t.push(e[""]),e[r.defId]&&t.push(e[r.defId]),t.push(r.ui),r5(t)}function h5(r,e){let t=r.map(DO);return t.sort((n,i)=>qR(n,i,e)),t.map(n=>n._seg)}function DO(r){let{eventRange:e}=r,t=e.def,n=e.instance?e.instance.range:e.range,i=n.start?n.start.valueOf():0,s=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:i,end:s,duration:s-i,allDay:Number(t.allDay),_seg:r})}function NO(r,e){let{pluginHooks:t}=e,n=t.isDraggableTransformers,{def:i,ui:s}=r.eventRange,a=s.startEditable;for(let o of n)a=o(a,i,s,e);return a}function IO(r,e){return r.isStart&&r.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function LO(r,e){return r.isEnd&&r.eventRange.ui.durationEditable}function u5(r,e,t,n,i,s,a){let{dateEnv:o,options:c}=t,{displayEventTime:h,displayEventEnd:u}=c,p=r.eventRange.def,g=r.eventRange.instance;h==null&&(h=n!==!1),u==null&&(u=i!==!1);let d=g.range.start,_=g.range.end,y=r.start||r.eventRange.range.start,b=r.end||r.eventRange.range.end,E=cn(d).valueOf()===cn(y).valueOf(),D=cn(Gl(_,-1)).valueOf()===cn(Gl(b,-1)).valueOf();return h&&!p.allDay&&(E||D)?(y=E?d:y,b=D?_:b,u&&p.hasEnd?o.formatRange(y,b,e,{forcedStartTzo:g.forcedStartTzo,forcedEndTzo:g.forcedEndTzo}):o.format(y,e,{forcedTzo:g.forcedStartTzo})):""}function Ml(r,e,t){let n=r.eventRange.range;return{isPast:n.end<=(t||e.start),isFuture:n.start>=(t||e.end),isToday:e&&Jo(e,n.start)}}function PO(r){let e=["fc-event"];return r.isMirror&&e.push("fc-event-mirror"),r.isDraggable&&e.push("fc-event-draggable"),(r.isStartResizable||r.isEndResizable)&&e.push("fc-event-resizable"),r.isDragging&&e.push("fc-event-dragging"),r.isResizing&&e.push("fc-event-resizing"),r.isSelected&&e.push("fc-event-selected"),r.isStart&&e.push("fc-event-start"),r.isEnd&&e.push("fc-event-end"),r.isPast&&e.push("fc-event-past"),r.isToday&&e.push("fc-event-today"),r.isFuture&&e.push("fc-event-future"),e}function f5(r){return r.instance?r.instance.instanceId:"".concat(r.def.defId,":").concat(r.range.start.toISOString())}function d5(r,e){let{def:t,instance:n}=r.eventRange,{url:i}=t;if(i)return{href:i};let{emitter:s,options:a}=e,{eventInteractive:o}=a;return o==null&&(o=t.interactive,o==null&&(o=!!s.hasHandlers("eventClick"))),o?Hx(c=>{s.trigger("eventClick",{el:c.target,event:new xn(e,t,n),jsEvent:c,view:e.viewApi})}):{}}const RO={start:Ue,end:Ue,allDay:Boolean};function OO(r,e,t){let n=FO(r,e),{range:i}=n;if(!i.start)return null;if(!i.end){if(t==null)return null;i.end=e.add(i.start,t)}return n}function FO(r,e){let{refined:t,extra:n}=Ng(r,RO),i=t.start?e.createMarkerMeta(t.start):null,s=t.end?e.createMarkerMeta(t.end):null,{allDay:a}=t;return a==null&&(a=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:a},n)}function MO(r,e){return eO(r.range,e.range)&&r.allDay===e.allDay&&BO(r,e)}function BO(r,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&r[t]!==e[t])return!1;for(let t in r)if(!(t in e))return!1;return!0}function UO(r,e){return Object.assign(Object.assign({},m5(r.range,e,r.allDay)),{allDay:r.allDay})}function p5(r,e,t){return Object.assign(Object.assign({},m5(r,e,t)),{timeZone:e.timeZone})}function m5(r,e,t){return{start:e.toDate(r.start),end:e.toDate(r.end),startStr:e.formatIso(r.start,{omitTime:t}),endStr:e.formatIso(r.end,{omitTime:t})}}function zO(r,e,t){let n=t5({editable:!1},t),i=Am(n.refined,n.extra,"",r.allDay,!0,t);return{def:i,ui:c5(i,e),instance:Og(i.defId,r.range),range:r.range,isStart:!0,isEnd:!0}}function HO(r,e,t){let n=!1,i=function(o){n||(n=!0,e(o))},s=function(o){n||(n=!0,t(o))},a=r(i,s);a&&typeof a.then=="function"&&a.then(i,s)}class Sy extends Error{constructor(e,t){super(e),this.response=t}}function jO(r,e,t){r=r.toUpperCase();const n={method:r};return r==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(n.body=new URLSearchParams(t),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new Sy("Failure parsing JSON",i)});throw new Sy("Request failed",i)})}let L0;function g5(){return L0==null&&(L0=WO()),L0}function WO(){if(typeof document>"u")return!0;let r=document.createElement("div");r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.innerHTML="<table><tr><td><div></div></td></tr></table>",r.querySelector("table").style.height="100px",r.querySelector("div").style.height="100%",document.body.appendChild(r);let t=r.querySelector("div").offsetHeight>0;return document.body.removeChild(r),t}class VO extends Wr{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{zd(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{zd(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,i=n||t.height==="auto"||t.contentHeight==="auto",s=!i&&t.height!=null?t.height:"",a=["fc",n?"fc-media-print":"fc-media-screen","fc-direction-".concat(t.direction),e.theme.getClass("root")];return g5()||a.push("fc-liquid-hack"),e.children(a,s,i,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class Zh{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function qO(r,e){return{component:r,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function Hg(r){return{[r.component.uid]:r}}const Cm={};class Yh extends Js{constructor(e,t){super(e,t),this.handleRefresh=()=>{let n=this.computeTiming();n.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(n.state),this.clearTimeout(),this.setTimeout(n.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:t}=this,n=t.nowManager.getDateMarker(),{nowIndicatorSnap:i}=t.options;i==="auto"&&(i=/year|month|week|day/.test(e.unit)||(e.unitValue||1)===1);let s,a;return i?(s=t.dateEnv.startOf(n,e.unit),a=t.dateEnv.add(s,xr(1,e.unit)).valueOf()-n.valueOf()):(s=n,a=1e3*60),a=Math.min(1e3*60*60*24,a),{state:{nowDate:s,todayRange:GO(s)},waitMs:a}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const t=this.computeTiming();this.setState(t.state,()=>{this.setTimeout(t.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}Yh.contextType=ol;function GO(r){let e=cn(r),t=pi(e,1);return{start:e,end:t}}class $O{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn("Unknown listener name '".concat(e,"'"))}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let n=this.getCurrentData(),i;t=t||"day",i=n.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:n}=this.getCurrentData(),i=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),s,a;for(let o in t)i.push(o);for(s=0;s<i.length;s+=1)if(a=t[i[s]],a&&a.singleUnit===e)return a;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=xr(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),Cn(t))}formatRange(e,t,n){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(t),Cn(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;t==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:t};let i=this.getCurrentData(),s=OO(n,i.dateEnv,xr({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),o5(s,null,i))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),AO(e,t))}addEvent(e,t){if(e instanceof xn){let a=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[a.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Tm({def:a,instance:o})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),i;if(t instanceof wh)i=t.internalEventSource;else if(typeof t=="boolean")t&&([i]=Lg(n.eventSources));else if(t!=null){let a=this.getEventSourceById(t);if(!a)return console.warn('Could not find an event source with ID "'.concat(t,'"')),null;i=a.internalEventSource}let s=e5(e,i,n,!1);if(s){let a=new xn(n,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Tm(s)}),this.triggerEventAdd(a),a}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:l5(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:i}=t.eventStore;e=String(e);for(let s in n){let a=n[s];if(a.publicId===e){if(a.recurringDef)return new xn(t,a,null);for(let o in i){let c=i[o];if(c.defId===a.defId)return new xn(t,a,c)}}}return null}getEvents(){let e=this.getCurrentData();return Sc(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let i in t)n.push(new wh(e,t[i]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;e=String(e);for(let i in n)if(n[i].publicId===e)return new wh(t,n[i]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof wh)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=n5(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new wh(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=xr(e);t&&this.trigger("_scrollRequest",{time:t})}}function ZO(r,e){return r.left>=e.left&&r.left<e.right&&r.top>=e.top&&r.top<e.bottom}function v5(r,e){let t={left:Math.max(r.left,e.left),right:Math.min(r.right,e.right),top:Math.max(r.top,e.top),bottom:Math.min(r.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function YO(r,e){return{left:Math.min(Math.max(r.left,e.left),e.right),top:Math.min(Math.max(r.top,e.top),e.bottom)}}function KO(r){return{left:(r.left+r.right)/2,top:(r.top+r.bottom)/2}}function XO(r,e){return{left:r.left-e.left,top:r.top-e.top}}const P0=Qs();class JO{constructor(){this.getKeysForEventDefs=$t(this._getKeysForEventDefs),this.splitDateSelection=$t(this._splitDateSpan),this.splitEventStore=$t(this._splitEventStore),this.splitIndividualUi=$t(this._splitIndividualUi),this.splitEventDrag=$t(this._splitInteraction),this.splitEventResize=$t(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),i=this.splitDateSelection(e.dateSelection),s=this.splitIndividualUi(e.eventUiBases,n),a=this.splitEventStore(e.eventStore,n),o=this.splitEventDrag(e.eventDrag),c=this.splitEventResize(e.eventResize),h={};this.eventUiBuilders=il(t,(u,p)=>this.eventUiBuilders[p]||$t(QO));for(let u in t){let p=t[u],g=a[u]||P0,d=this.eventUiBuilders[u];h[u]={businessHours:p.businessHours||e.businessHours,dateSelection:i[u]||null,eventStore:g,eventUiBases:d(e.eventUiBases[""],p.ui,s[u]),eventSelection:g.instances[e.eventSelection]?e.eventSelection:"",eventDrag:o[u]||null,eventResize:c[u]||null}}return h}_splitDateSpan(e){let t={};if(e){let n=this.getKeysForDateSpan(e);for(let i of n)t[i]=e}return t}_getKeysForEventDefs(e){return il(e.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(e,t){let{defs:n,instances:i}=e,s={};for(let a in n)for(let o of t[a])s[o]||(s[o]=Qs()),s[o].defs[a]=n[a];for(let a in i){let o=i[a];for(let c of t[o.defId])s[c]&&(s[c].instances[a]=o)}return s}_splitIndividualUi(e,t){let n={};for(let i in e)if(i)for(let s of t[i])n[s]||(n[s]={}),n[s][i]=e[i];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),i=this._getKeysForEventDefs(e.mutatedEvents),s=this._splitEventStore(e.mutatedEvents,i),a=o=>{t[o]||(t[o]={affectedEvents:n[o]||P0,mutatedEvents:s[o]||P0,isEvent:e.isEvent})};for(let o in n)a(o);for(let o in s)a(o)}return t}}function QO(r,e,t){let n=[];r&&n.push(r),e&&n.push(e);let i={"":r5(n)};return t&&Object.assign(i,t),i}function w5(r,e,t,n){return{dow:r.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!Jo(n.activeRange,r))),isOther:!!(n&&!Jo(n.currentRange,r)),isToday:!!(e&&Jo(e,r)),isPast:!!(e&&r<e.start),isFuture:!!(e&&r>=e.end)}}function jg(r,e){let t=["fc-day","fc-day-".concat(n8[r.dow])];return r.isDisabled?t.push("fc-day-disabled"):(r.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),r.isPast&&t.push("fc-day-past"),r.isFuture&&t.push("fc-day-future"),r.isOther&&t.push("fc-day-other")),t}const eF=Cn({year:"numeric",month:"long",day:"numeric"}),tF=Cn({week:"long"});function qd(r,e,t="day",n=!0){const{dateEnv:i,options:s,calendarApi:a}=r;let o=i.format(e,t==="week"?tF:eF);if(s.navLinks){let c=i.toDate(e);const h=u=>{let p=t==="day"?s.navLinkDayClick:t==="week"?s.navLinkWeekClick:null;typeof p=="function"?p.call(a,i.toDate(e),u):(typeof p=="string"&&(t=p),a.zoomTo(e,t))};return Object.assign({title:Cu(s.navLinkHint,[o,c],o),"data-navlink":""},n?zx(h):{onClick:h})}return{"aria-label":o}}let R0=null;function rF(){return R0===null&&(R0=nF()),R0}function nF(){let r=document.createElement("div");Tu(r,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),r.innerHTML="<div></div>",document.body.appendChild(r);let t=r.firstChild.getBoundingClientRect().left>r.getBoundingClientRect().left;return Eg(r),t}let O0;function iF(){return O0||(O0=sF()),O0}function sF(){let r=document.createElement("div");r.style.overflow="scroll",r.style.position="absolute",r.style.top="-9999px",r.style.left="-9999px",document.body.appendChild(r);let e=y5(r);return document.body.removeChild(r),e}function y5(r){return{x:r.offsetHeight-r.clientHeight,y:r.offsetWidth-r.clientWidth}}function aF(r,e=!1){let t=window.getComputedStyle(r),n=parseInt(t.borderLeftWidth,10)||0,i=parseInt(t.borderRightWidth,10)||0,s=parseInt(t.borderTopWidth,10)||0,a=parseInt(t.borderBottomWidth,10)||0,o=y5(r),c=o.y-n-i,h=o.x-s-a,u={borderLeft:n,borderRight:i,borderTop:s,borderBottom:a,scrollbarBottom:h,scrollbarLeft:0,scrollbarRight:0};return rF()&&t.direction==="rtl"?u.scrollbarLeft=c:u.scrollbarRight=c,e&&(u.paddingLeft=parseInt(t.paddingLeft,10)||0,u.paddingRight=parseInt(t.paddingRight,10)||0,u.paddingTop=parseInt(t.paddingTop,10)||0,u.paddingBottom=parseInt(t.paddingBottom,10)||0),u}function oF(r,e=!1,t){let n=Wg(r),i=aF(r,e),s={left:n.left+i.borderLeft+i.scrollbarLeft,right:n.right-i.borderRight-i.scrollbarRight,top:n.top+i.borderTop,bottom:n.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function Wg(r){let e=r.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function lF(r){let e=_5(r),t=r.getBoundingClientRect();for(let n of e){let i=v5(t,n.getBoundingClientRect());if(i)t=i;else return null}return t}function _5(r){let e=[];for(;r instanceof HTMLElement;){let t=window.getComputedStyle(r);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(r),r=r.parentNode}return e}class Uh{constructor(e,t,n,i){this.els=t;let s=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let t=[],n=[];for(let i of this.els){let s=i.getBoundingClientRect();t.push(s.left-e),n.push(s.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let i of this.els){let s=i.getBoundingClientRect();t.push(s.top-e),n.push(s.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let{lefts:t,rights:n}=this,i=t.length,s;for(s=0;s<i;s+=1)if(e>=t[s]&&e<n[s])return s}topToIndex(e){let{tops:t,bottoms:n}=this,i=t.length,s;for(s=0;s<i;s+=1)if(e>=t[s]&&e<n[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return Gf(this.tops||[],e.tops||[])&&Gf(this.bottoms||[],e.bottoms||[])&&Gf(this.lefts||[],e.lefts||[])&&Gf(this.rights||[],e.rights||[])}}function Gf(r,e){const t=r.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(Math.round(r[n])!==Math.round(e[n]))return!1;return!0}class Vg{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class cF extends Vg{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class hF extends Vg{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Co extends Wr{constructor(){super(...arguments),this.uid=Gc()}prepareHits(){}queryHit(e,t,n,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!ji(e,".fc-event-mirror")}isValidDateDownEl(e){return!ji(e,".fc-event:not(.fc-bg-event)")&&!ji(e,".fc-more-link")&&!ji(e,"a[data-navlink]")&&!ji(e,".fc-popover")}}class b5{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){if(this.allowReslicing&&e.touchingEntry){const i=Object.assign(Object.assign({},t),{span:qg(t.span,e.touchingEntry.span)});n.push(i),this.splitEntry(t,e.touchingEntry,n)}else n.push(t)}splitEntry(e,t,n){let i=e.span,s=t.span;i.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:s.start}},n),i.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:i.end}},n)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:i}=this;t.lateral===-1?(F0(i,t.level,t.levelCoord),F0(n,t.level,[e])):F0(n[t.level],t.lateral,e),this.stackCnts[Ec(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:i,stackCnts:s}=this,a=t.length,o=0,c=-1,h=-1,u=null,p=0;for(let _=0;_<a;_+=1){const y=t[_];if(!i&&y>=o+this.getEntryThickness(e))break;let b=n[_],E,D=Dm(b,e.span.start,km),N=D[0]+D[1];for(;(E=b[N])&&E.span.start<e.span.end;){let I=y+this.getEntryThickness(E);I>o&&(o=I,u=E,c=_,h=N),I===o&&(p=Math.max(p,s[Ec(E)]+1)),N+=1}}let g=0;if(u)for(g=c+1;g<a&&t[g]<o;)g+=1;let d=-1;return g<a&&t[g]===o&&(d=Dm(n[g],e.span.end,km)[0]),{touchingLevel:c,touchingLateral:h,touchingEntry:u,stackCnt:p,levelCoord:o,level:g,lateral:d}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,i=[];for(let s=0;s<n;s+=1){let a=e[s],o=t[s];for(let c of a)i.push(Object.assign(Object.assign({},c),{thickness:this.getEntryThickness(c),levelCoord:o}))}return i}}function km(r){return r.span.end}function Ec(r){return r.index+":"+r.span.start}function uF(r){let e=[];for(let t of r){let n=[],i={span:t.span,entries:[t]};for(let s of e)qg(s.span,i.span)?i={entries:s.entries.concat(i.entries),span:fF(s.span,i.span)}:n.push(s);n.push(i),e=n}return e}function fF(r,e){return{start:Math.min(r.start,e.start),end:Math.max(r.end,e.end)}}function qg(r,e){let t=Math.max(r.start,e.start),n=Math.min(r.end,e.end);return t<n?{start:t,end:n}:null}function F0(r,e,t){r.splice(e,0,t)}function Dm(r,e,t){let n=0,i=r.length;if(!i||e<t(r[n]))return[0,0];if(e>t(r[i-1]))return[i,0];for(;n<i;){let s=Math.floor(n+(i-n)/2),a=t(r[s]);if(e<a)i=s;else if(e>a)n=s+1;else return[s,1]}return[n,0]}class dF{constructor(e,t){this.emitter=new yp}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const Gg={};function pF(r,e){return!r||e>10?Cn({weekday:"short"}):e>1?Cn({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Cn({weekday:"long"})}const x5="fc-col-header-cell";function S5(r){return r.text}class mF extends Wr{render(){let{dateEnv:e,options:t,theme:n,viewApi:i}=this.context,{props:s}=this,{date:a,dateProfile:o}=s,c=w5(a,s.todayRange,null,o),h=[x5].concat(jg(c,n)),u=e.format(a,s.dayHeaderFormat),p=!c.isDisabled&&s.colCnt>1?qd(this.context,a):{},g=e.toDate(a);e.namedTimeZoneImpl&&(g=Gl(g,36e5));let d=Object.assign(Object.assign(Object.assign({date:g,view:i},s.extraRenderProps),{text:u}),c);return de(ra,{elTag:"th",elClasses:h,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":c.isDisabled?void 0:kg(a)},s.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:S5,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},_=>de("div",{className:"fc-scrollgrid-sync-inner"},!c.isDisabled&&de(_,{elTag:"a",elAttrs:p,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}}const gF=Cn({weekday:"long"});class vF extends Wr{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:i,options:s}=this.context,a=pi(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},c=t.format(a,e.dayHeaderFormat),h=Object.assign(Object.assign(Object.assign(Object.assign({date:a},o),{view:i}),e.extraRenderProps),{text:c});return de(ra,{elTag:"th",elClasses:[x5,...jg(o,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:S5,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},u=>de("div",{className:"fc-scrollgrid-sync-inner"},de(u,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(a,gF)}})))}}class E5 extends Wr{constructor(){super(...arguments),this.createDayHeaderFormatter=$t(wF)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:i,renderIntro:s}=this.props,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,t.length);return de(Yh,{unit:"day"},(o,c)=>de("tr",{role:"row"},s&&s("day"),t.map(h=>i?de(mF,{key:h.toISOString(),date:h,dateProfile:n,todayRange:c,colCnt:t.length,dayHeaderFormat:a}):de(vF,{key:h.getUTCDay(),dow:h.getUTCDay(),dayHeaderFormat:a}))))}}function wF(r,e,t){return r||pF(e,t)}class A5{constructor(e,t){let n=e.start,{end:i}=e,s=[],a=[],o=-1;for(;n<i;)t.isHiddenDay(n)?s.push(o+.5):(o+=1,s.push(o),a.push(n)),n=pi(n,1);this.dates=a,this.indices=s,this.cnt=a.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(pi(e.end,-1)),i=Math.max(0,t),s=Math.min(this.cnt-1,n);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:t===i,isEnd:n===s}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor($c(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class T5{constructor(e,t){let{dates:n}=e,i,s,a;if(t){for(s=n[0].getUTCDay(),i=1;i<n.length&&n[i].getUTCDay()!==s;i+=1);a=Math.ceil(n.length/i)}else a=1,i=n.length;this.rowCnt=a,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let i=0;i<this.colCnt;i+=1)n.push(this.buildCell(t,i));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),i=[];if(n){let{firstIndex:s,lastIndex:a}=n,o=s;for(;o<=a;){let c=Math.floor(o/t),h=Math.min((c+1)*t,a+1);i.push({row:c,firstCol:o%t,lastCol:(h-1)%t,isStart:n.isStart&&o===s,isEnd:n.isEnd&&h-1===a}),o=h}}return i}}class C5{constructor(){this.sliceBusinessHours=$t(this._sliceBusinessHours),this.sliceDateSelection=$t(this._sliceDateSpan),this.sliceEventStore=$t(this._sliceEventStore),this.sliceEventDrag=$t(this._sliceInteraction),this.sliceEventResize=$t(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,i,...s){let{eventUiBases:a}=e,o=this.sliceEventStore(e.eventStore,a,t,n,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,a,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,i,...s),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,t,n,...s),eventResize:this.sliceEventResize(e.eventResize,a,t,n,...s),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,i,...s){return this._sliceDateSpan({range:{start:e,end:Gl(e,1)},allDay:!1},t,n,{},i,...s)}_sliceBusinessHours(e,t,n,i,...s){return e?this._sliceEventStore(Pc(e,$f(t,!!n),i),{},t,n,...s).bg:[]}_sliceEventStore(e,t,n,i,...s){if(e){let a=by(e,t,$f(n,!!i),i);return{bg:this.sliceEventRanges(a.bg,s),fg:this.sliceEventRanges(a.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,i,...s){if(!e)return null;let a=by(e.mutatedEvents,t,$f(n,!!i),i);return{segs:this.sliceEventRanges(a.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,i,s,...a){if(!e)return[];let o=$f(t,!!n),c=Lc(e.range,o);if(c){e=Object.assign(Object.assign({},e),{range:c});let h=zO(e,i,s),u=this.sliceRange(e.range,...a);for(let p of u)p.eventRange=h;return u}return[]}sliceEventRanges(e,t){let n=[];for(let i of e)n.push(...this.sliceEventRange(i,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:pi(n.start,1)});let i=this.sliceRange(n,...t);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}}function $f(r,e){let t=r.activeRange;return e?t:{start:Gl(t.start,r.slotMinTime.milliseconds),end:Gl(t.end,r.slotMaxTime.milliseconds-864e5)}}function k5(r,e,t){let{instances:n}=r.mutatedEvents;for(let i in n)if(!vp(e.validRange,n[i].range))return!1;return D5({eventDrag:r},t)}function yF(r,e,t){return vp(e.validRange,r.range)?D5({dateSelection:r},t):!1}function D5(r,e){let t=e.getCurrentData(),n=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},r);return(e.pluginHooks.isPropsValid||_F)(n,e)}function _F(r,e,t={},n){return!(r.eventDrag&&!bF(r,e,t,n)||r.dateSelection&&!xF(r,e,t,n))}function bF(r,e,t,n){let i=e.getCurrentData(),s=r.eventDrag,a=s.mutatedEvents,o=a.defs,c=a.instances,h=Vd(o,s.isEvent?r.eventUiBases:{"":i.selectionConfig});n&&(h=il(h,n));let u=wO(r.eventStore,s.affectedEvents.instances),p=u.defs,g=u.instances,d=Vd(p,r.eventUiBases);for(let _ in c){let y=c[_],b=y.range,E=h[y.defId],D=o[y.defId];if(!N5(E.constraints,b,u,r.businessHours,e))return!1;let{eventOverlap:N}=e.options,I=typeof N=="function"?N:null;for(let he in g){let G=g[he];if(Rg(b,G.range)&&(d[G.defId].overlap===!1&&s.isEvent||E.overlap===!1||I&&!I(new xn(e,p[G.defId],G),new xn(e,D,y))))return!1}let X=i.eventStore;for(let he of E.allows){let G=Object.assign(Object.assign({},t),{range:y.range,allDay:D.allDay}),q=X.defs[D.defId],O=X.instances[_],ee;if(q?ee=new xn(e,q,O):ee=new xn(e,D),!he(Ug(G,e),ee))return!1}}return!0}function xF(r,e,t,n){let i=r.eventStore,s=i.defs,a=i.instances,o=r.dateSelection,c=o.range,{selectionConfig:h}=e.getCurrentData();if(n&&(h=n(h)),!N5(h.constraints,c,i,r.businessHours,e))return!1;let{selectOverlap:u}=e.options,p=typeof u=="function"?u:null;for(let g in a){let d=a[g];if(Rg(c,d.range)&&(h.overlap===!1||p&&!p(new xn(e,s[d.defId],d),null)))return!1}for(let g of h.allows){let d=Object.assign(Object.assign({},t),o);if(!g(Ug(d,e),null))return!1}return!0}function N5(r,e,t,n,i){for(let s of r)if(!EF(SF(s,e,t,n,i),e))return!1;return!0}function SF(r,e,t,n,i){return r==="businessHours"?M0(Pc(n,e,i)):typeof r=="string"?M0(wp(t,s=>s.groupId===r)):typeof r=="object"&&r?M0(Pc(r,e,i)):[]}function M0(r){let{instances:e}=r,t=[];for(let n in e)t.push(e[n].range);return t}function EF(r,e){for(let t of r)if(vp(t,e))return!0;return!1}const Zf=/^(visible|hidden)$/;class AF extends Wr{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Ao(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,i=t&&n,s=["fc-scroller"];return t&&(n?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),de("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Zf.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(Zf.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let i=0;i<n.length;i+=1)if(n[i].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return Zf.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Zf.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class $o{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,n)=>{let{depths:i,currentMap:s}=this,a=!1,o=!1;t!==null?(a=n in s,s[n]=t,i[n]=(i[n]||0)+1,o=!0):(i[n]-=1,i[n]||(delete s[n],delete this.callbackMap[n],a=!0)),this.masterCallback&&(a&&this.masterCallback(null,String(n)),o&&this.masterCallback(t,String(n)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),t}collect(e,t,n){return M8(this.currentMap,e,t,n)}getAll(){return Lg(this.currentMap)}}function TF(r){let e=OR(r,".fc-scrollgrid-shrink"),t=0;for(let n of e)t=Math.max(t,YR(n));return Math.ceil(t)}function I5(r,e){return r.liquid&&e.liquid}function CF(r,e){return e.maxHeight!=null||I5(r,e)}function kF(r,e,t,n){let{expandRows:i}=t;return typeof e.content=="function"?e.content(t):de("table",{role:"presentation",className:[e.tableClassName,r.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:i?t.clientHeight:""}},t.tableColGroupNode,de(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function DF(r,e){return ql(r,e,eo)}function NF(r,e){let t=[];for(let n of r){let i=n.span||1;for(let s=0;s<i;s+=1)t.push(de("col",{style:{width:n.width==="shrink"?IF(e):n.width||"",minWidth:n.minWidth||""}}))}return de("colgroup",{},...t)}function IF(r){return r==null?4:r}function LF(r){for(let e of r)if(e.width==="shrink")return!0;return!1}function PF(r,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return r&&t.push("fc-scrollgrid-liquid"),t}function RF(r,e){let t=["fc-scrollgrid-section","fc-scrollgrid-section-".concat(r.type),r.className];return e&&r.liquid&&r.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),r.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function Nm(r){return de("div",{className:"fc-scrollgrid-sticky-shim",style:{width:r.clientWidth,minWidth:r.tableMinWidth}})}function Gd(r){let{stickyHeaderDates:e}=r;return(e==null||e==="auto")&&(e=r.height==="auto"||r.viewHeight==="auto"),e}function L5(r){let{stickyFooterScrollbar:e}=r;return(e==null||e==="auto")&&(e=r.height==="auto"||r.viewHeight==="auto"),e}class $g extends Wr{constructor(){super(...arguments),this.processCols=$t(e=>e,DF),this.renderMicroColGroup=$t(NF),this.scrollerRefs=new $o,this.scrollerElRefs=new $o(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:n}=this,i=e.sections||[],s=this.processCols(e.cols),a=this.renderMicroColGroup(s,t.shrinkWidth),o=PF(e.liquid,n);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let c=i.length,h=0,u,p=[],g=[],d=[];for(;h<c&&(u=i[h]).type==="header";)p.push(this.renderSection(u,a,!0)),h+=1;for(;h<c&&(u=i[h]).type==="body";)g.push(this.renderSection(u,a,!1)),h+=1;for(;h<c&&(u=i[h]).type==="footer";)d.push(this.renderSection(u,a,!0)),h+=1;let _=!g5();const y={role:"rowgroup"};return de("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!_&&p.length)&&de("thead",y,...p),!!(!_&&g.length)&&de("tbody",y,...g),!!(!_&&d.length)&&de("tfoot",y,...d),_&&de("tbody",y,...p,...g,...d))}renderSection(e,t,n){return"outerContent"in e?de(ln,{key:e.key},e.outerContent):de("tr",{key:e.key,role:"presentation",className:RF(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,i){if("outerContent"in n)return n.outerContent;let{props:s}=this,{forceYScrollbars:a,scrollerClientWidths:o,scrollerClientHeights:c}=this.state,h=CF(s,e),u=I5(s,e),p=s.liquid?a?"scroll":h?"auto":"hidden":"visible",g=e.key,d=kF(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&o[g]!==void 0?o[g]:null,clientHeight:c[g]!==void 0?c[g]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return de(i?"th":"td",{ref:n.elRef,role:"presentation"},de("div",{className:"fc-scroller-harness".concat(u?" fc-scroller-harness-liquid":"")},de(AF,{ref:this.scrollerRefs.createRef(g),elRef:this.scrollerElRefs.createRef(g),overflowY:p,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:u,liquidIsAbsolute:!0},d)))}_handleScrollerEl(e,t){let n=OF(this.props.sections,t);n&&Ao(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return LF(this.props.cols)?TF(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=iF(),{scrollerRefs:t,scrollerElRefs:n}=this,i=!1,s={},a={};for(let o in t.currentMap){let c=t.currentMap[o];if(c&&c.needsYScrolling()){i=!0;break}}for(let o of this.props.sections){let c=o.key,h=n.currentMap[c];if(h){let u=h.parentNode;s[c]=Math.floor(u.getBoundingClientRect().width-(i?e.y:0)),a[c]=Math.floor(u.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:a}}}$g.addStateEquality({scrollerClientWidths:eo,scrollerClientHeights:eo});function OF(r,e){for(let t of r)if(t.key===e)return t;return null}class Zg extends Wr{constructor(){super(...arguments),this.buildPublicEvent=$t((e,t,n)=>new xn(e,t,n)),this.handleEl=e=>{this.el=e,Ao(this.props.elRef,e),e&&xy(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:n}=t,{seg:i}=e,{eventRange:s}=i,{ui:a}=s,o={event:this.buildPublicEvent(t,s.def,s.instance),view:t.viewApi,timeText:e.timeText,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,isDraggable:!e.disableDragging&&NO(i,t),isStartResizable:!e.disableResizing&&IO(i,t),isEndResizable:!e.disableResizing&&LO(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return de(ra,{elRef:this.handleEl,elTag:e.elTag,elAttrs:e.elAttrs,elClasses:[...PO(o),...i.eventRange.ui.classNames,...e.elClasses||[]],elStyle:e.elStyle,renderProps:o,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount},e.children)}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&xy(this.el,this.props.seg)}}class Yg extends Wr{render(){let{props:e,context:t}=this,{options:n}=t,{seg:i}=e,{ui:s}=i.eventRange,a=n.eventTimeFormat||e.defaultTimeFormat,o=u5(i,a,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return de(Zg,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:d5(i,t),defaultGenerator:FF,timeText:o}),(c,h)=>de(ln,null,de(c,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:h.textColor}}),!!h.isStartResizable&&de("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!h.isEndResizable&&de("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}Yg.addPropsEquality({seg:eo});function FF(r){return de("div",{className:"fc-event-main-frame"},r.timeText&&de("div",{className:"fc-event-time"},r.timeText),de("div",{className:"fc-event-title-container"},de("div",{className:"fc-event-title fc-sticky"},r.event.title||de(ln,null,""))))}const Kg=r=>de(ol.Consumer,null,e=>{let{options:t}=e,n={isAxis:r.isAxis,date:e.dateEnv.toDate(r.date),view:e.viewApi};return de(ra,{elRef:r.elRef,elTag:r.elTag||"div",elAttrs:r.elAttrs,elClasses:r.elClasses,elStyle:r.elStyle,renderProps:n,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount},r.children)}),MF=Cn({day:"numeric"});class Xg extends Wr{constructor(){super(...arguments),this.refineRenderProps=ad(BF)}render(){let{props:e,context:t}=this,{options:n}=t,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return de(ra,{elRef:e.elRef,elTag:e.elTag,elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":kg(e.date)}),elClasses:[...jg(i,t.theme),...e.elClasses||[]],elStyle:e.elStyle,renderProps:i,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount},e.children)}}function Jg(r){return!!(r.dayCellContent||Em("dayCellContent",r))}function BF(r){let{date:e,dateEnv:t,dateProfile:n,isMonthStart:i}=r,s=w5(e,r.todayRange,null,n),a=r.showDayNumber?t.format(e,i?r.monthStartFormat:MF):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:r.viewApi},s),{isMonthStart:i,dayNumberText:a}),r.extraRenderProps)}class P5 extends Wr{render(){let{props:e}=this,{seg:t}=e;return de(Zg,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:UF,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function UF(r){let{title:e}=r.event;return e&&de("div",{className:"fc-event-title"},r.event.title)}function R5(r){return de("div",{className:"fc-".concat(r)})}const O5=r=>de(ol.Consumer,null,e=>{let{dateEnv:t,options:n}=e,{date:i}=r,s=n.weekNumberFormat||r.defaultFormat,a=t.computeWeekNumber(i),o=t.format(i,s),c={num:a,text:o,date:i};return de(ra,{elRef:r.elRef,elTag:r.elTag,elAttrs:r.elAttrs,elClasses:r.elClasses,elStyle:r.elStyle,renderProps:c,generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:zF,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount},r.children)});function zF(r){return r.text}const B0=10;class HF extends Wr{constructor(){super(...arguments),this.state={titleId:mp()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Ao(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=Bx(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return bR(de("div",Object.assign({},n.extraAttrs,{id:n.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),de("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},de("span",{className:"fc-popover-title",id:i.titleId},n.title),de("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),de("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:i}=this,s=lF(t);if(s){let a=i.getBoundingClientRect(),o=n?ji(t,".fc-scrollgrid").getBoundingClientRect().top:s.top,c=e?s.right-a.width:s.left;o=Math.max(o,B0),c=Math.min(c,document.documentElement.clientWidth-B0-a.width),c=Math.max(c,B0);let h=i.offsetParent.getBoundingClientRect();Tu(i,{top:o-h.top,left:c-h.left})}}}class jF extends Co{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:i,todayRange:s,dateProfile:a}=n,o=t.format(i,e.dayPopoverFormat);return de(Xg,{elRef:this.handleRootEl,date:i,dateProfile:a,todayRange:s},(c,h,u)=>de(HF,{elRef:u.ref,id:n.id,title:o,extraClassNames:["fc-more-popover"].concat(u.className||[]),extraAttrs:u,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},Jg(e)&&de(c,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,t,n,i){let{rootEl:s,props:a}=this;return e>=0&&e<n&&t>=0&&t<i?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:n,bottom:i},layer:1}:null}}class F5 extends Wr{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:mp()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Ao(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:i}=n.options,s=Ey(t).start;function a(o){let{def:c,instance:h,range:u}=o.eventRange;return{event:new xn(n,c,h),start:n.dateEnv.toDate(u.start),end:n.dateEnv.toDate(u.end),isStart:o.isStart,isEnd:o.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!t.allDayDate,allSegs:t.allSegs.map(a),hiddenSegs:t.hiddenSegs.map(a),jsEvent:e,view:n.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&n.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return de(ol.Consumer,null,n=>{let{viewApi:i,options:s,calendarApi:a}=n,{moreLinkText:o}=s,{moreCnt:c}=e,h=Ey(e),u=typeof o=="function"?o.call(a,c):"+".concat(c," ").concat(o),p=Cu(s.moreLinkHint,[c],u),g={num:c,shortText:"+".concat(c),text:u,view:i};return de(ln,null,!!e.moreCnt&&de(ra,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),zx(this.handleClick)),{title:p,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:g,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||WF,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),t.isPopoverOpen&&de(jF,{id:t.popoverId,startDate:h.start,endDate:h.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=ji(this.linkEl,".fc-view-harness"))}}function WF(r){return r.text}function Ey(r){if(r.allDayDate)return{start:r.allDayDate,end:pi(r.allDayDate,1)};let{hiddenSegs:e}=r;return{start:M5(e),end:qF(e)}}function M5(r){return r.reduce(VF).eventRange.range.start}function VF(r,e){return r.eventRange.range.start<e.eventRange.range.start?r:e}function qF(r){return r.reduce(GF).eventRange.range.end}function GF(r,e){return r.eventRange.range.end>e.eventRange.range.end?r:e}const $F=[],B5={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},U5=Object.assign(Object.assign({},B5),{buttonHints:{prev:"Previous $0",next:"Next $0",today(r,e){return e==="day"?"Today":"This ".concat(r)}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(r){return"Show ".concat(r," more event").concat(r===1?"":"s")}});function ZF(r){let e=r.length>0?r[0].code:"en",t=$F.concat(r),n={en:U5};for(let i of t)n[i.code]=i;return{map:n,defaultCode:e}}function z5(r,e){return typeof r=="object"&&!Array.isArray(r)?H5(r.code,[r.code],r):YF(r,e)}function YF(r,e){let t=[].concat(r||[]),n=KF(t,e)||U5;return H5(r,t,n)}function KF(r,e){for(let t=0;t<r.length;t+=1){let n=r[t].toLocaleLowerCase().split("-");for(let i=n.length;i>0;i-=1){let s=n.slice(0,i).join("-");if(e[s])return e[s]}}return null}function H5(r,e,t){let n=Ig([B5,t],["buttonText"]);delete n.code;let{week:i}=n;return delete n.week,{codeArg:r,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(r),options:n}}function ll(r){return{id:Gc(),name:r.name,premiumReleaseDate:r.premiumReleaseDate?new Date(r.premiumReleaseDate):void 0,deps:r.deps||[],reducers:r.reducers||[],isLoadingFuncs:r.isLoadingFuncs||[],contextInit:[].concat(r.contextInit||[]),eventRefiners:r.eventRefiners||{},eventDefMemberAdders:r.eventDefMemberAdders||[],eventSourceRefiners:r.eventSourceRefiners||{},isDraggableTransformers:r.isDraggableTransformers||[],eventDragMutationMassagers:r.eventDragMutationMassagers||[],eventDefMutationAppliers:r.eventDefMutationAppliers||[],dateSelectionTransformers:r.dateSelectionTransformers||[],datePointTransforms:r.datePointTransforms||[],dateSpanTransforms:r.dateSpanTransforms||[],views:r.views||{},viewPropsTransformers:r.viewPropsTransformers||[],isPropsValid:r.isPropsValid||null,externalDefTransforms:r.externalDefTransforms||[],viewContainerAppends:r.viewContainerAppends||[],eventDropTransformers:r.eventDropTransformers||[],componentInteractions:r.componentInteractions||[],calendarInteractions:r.calendarInteractions||[],themeClasses:r.themeClasses||{},eventSourceDefs:r.eventSourceDefs||[],cmdFormatter:r.cmdFormatter,recurringTypes:r.recurringTypes||[],namedTimeZonedImpl:r.namedTimeZonedImpl,initialView:r.initialView||"",elementDraggingImpl:r.elementDraggingImpl,optionChangeHandlers:r.optionChangeHandlers||{},scrollGridImpl:r.scrollGridImpl||null,listenerRefiners:r.listenerRefiners||{},optionRefiners:r.optionRefiners||{},propSetHandlers:r.propSetHandlers||{}}}function XF(r,e){let t={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let a of s){const o=a.name,c=t[o];c===void 0?(t[o]=a.id,i(a.deps),n=QF(n,a)):c!==a.id&&console.warn("Duplicate plugin '".concat(o,"'"))}}return r&&i(r),i(e),n}function JF(){let r=[],e=[],t;return(n,i)=>((!t||!ql(n,r)||!ql(i,e))&&(t=XF(n,i)),r=n,e=i,t)}function QF(r,e){return{premiumReleaseDate:eM(r.premiumReleaseDate,e.premiumReleaseDate),reducers:r.reducers.concat(e.reducers),isLoadingFuncs:r.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:r.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},r.eventRefiners),e.eventRefiners),eventDefMemberAdders:r.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},r.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:r.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:r.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:r.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:r.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:r.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:r.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},r.views),e.views),viewPropsTransformers:r.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||r.isPropsValid,externalDefTransforms:r.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:r.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:r.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:r.calendarInteractions.concat(e.calendarInteractions),componentInteractions:r.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},r.themeClasses),e.themeClasses),eventSourceDefs:r.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||r.cmdFormatter,recurringTypes:r.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||r.namedTimeZonedImpl,initialView:r.initialView||e.initialView,elementDraggingImpl:r.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},r.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||r.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},r.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},r.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},r.propSetHandlers),e.propSetHandlers)}}function eM(r,e){return r===void 0?e:e===void 0?r:new Date(Math.max(r.valueOf(),e.valueOf()))}class Yl extends nf{}Yl.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};Yl.prototype.baseIconClass="fc-icon";Yl.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};Yl.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};Yl.prototype.iconOverrideOption="buttonIcons";Yl.prototype.iconOverrideCustomButtonOption="icon";Yl.prototype.iconOverridePrefix="fc-icon-";function tM(r,e){let t={},n;for(n in r)Im(n,t,r,e);for(n in e)Im(n,t,r,e);return t}function Im(r,e,t,n){if(e[r])return e[r];let i=rM(r,e,t,n);return i&&(e[r]=i),i}function rM(r,e,t,n){let i=t[r],s=n[r],a=u=>i&&i[u]!==null?i[u]:s&&s[u]!==null?s[u]:null,o=a("component"),c=a("superType"),h=null;if(c){if(c===r)throw new Error("Can't have a custom view type that references itself");h=Im(c,e,t,n)}return!o&&h&&(o=h.component),o?{type:r,component:o,defaults:Object.assign(Object.assign({},h?h.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},h?h.overrides:{}),s?s.rawOptions:{})}:null}function Ay(r){return il(r,nM)}function nM(r){let e=typeof r=="function"?{component:r}:r,{component:t}=e;return e.content?t=Ty(e):t&&!(t.prototype instanceof Wr)&&(t=Ty(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function Ty(r){return e=>de(ol.Consumer,null,t=>de(ra,{elTag:"div",elClasses:Yx(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:r.content,classNameGenerator:r.classNames,didMount:r.didMount,willUnmount:r.willUnmount}))}function iM(r,e,t,n){let i=Ay(r),s=Ay(e.views),a=tM(i,s);return il(a,o=>sM(o,s,e,t,n))}function sM(r,e,t,n,i){let s=r.overrides.duration||r.defaults.duration||n.duration||t.duration,a=null,o="",c="",h={};if(s&&(a=aM(s),a)){let g=Sm(a);o=g.unit,g.value===1&&(c=o,h=e[o]?e[o].rawOptions:{})}let u=g=>{let d=g.buttonText||{},_=r.defaults.buttonTextKey;return _!=null&&d[_]!=null?d[_]:d[r.type]!=null?d[r.type]:d[c]!=null?d[c]:null},p=g=>{let d=g.buttonHints||{},_=r.defaults.buttonTextKey;return _!=null&&d[_]!=null?d[_]:d[r.type]!=null?d[r.type]:d[c]!=null?d[c]:null};return{type:r.type,component:r.component,duration:a,durationUnit:o,singleUnit:c,optionDefaults:r.defaults,optionOverrides:Object.assign(Object.assign({},h),r.overrides),buttonTextOverride:u(n)||u(t)||r.overrides.buttonText,buttonTextDefault:u(i)||r.defaults.buttonText||u(ku)||r.type,buttonTitleOverride:p(n)||p(t)||r.overrides.buttonHint,buttonTitleDefault:p(i)||r.defaults.buttonHint||p(ku)}}let Cy={};function aM(r){let e=JSON.stringify(r),t=Cy[e];return t===void 0&&(t=xr(r),Cy[e]=t),t}function oM(r,e){switch(e.type){case"CHANGE_VIEW_TYPE":r=e.viewType}return r}function lM(r,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return r}}function cM(r,e,t){let n=r.initialDate;return n!=null?e.createMarker(n):t.getDateMarker()}function hM(r,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},r),{[e.optionName]:e.rawOptionValue});default:return r}}function uM(r,e,t,n){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||t);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(i=n.buildPrev(r,t),i.isValid)return i;break;case"NEXT":if(i=n.buildNext(r,t),i.isValid)return i;break}return r}function fM(r,e,t){let n=e?e.activeRange:null;return W5({},yM(r,t),n,t)}function dM(r,e,t,n){let i=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return W5(r,e.sources,i,n);case"REMOVE_EVENT_SOURCE":return mM(r,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?V5(r,i,n):r;case"FETCH_EVENT_SOURCES":return Qg(r,e.sourceIds?Vx(e.sourceIds):q5(r,n),i,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return wM(r,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return r}}function pM(r,e,t){let n=e?e.activeRange:null;return Qg(r,q5(r,t),n,!0,t)}function j5(r){for(let e in r)if(r[e].isFetching)return!0;return!1}function W5(r,e,t,n){let i={};for(let s of e)i[s.sourceId]=s;return t&&(i=V5(i,t,n)),Object.assign(Object.assign({},r),i)}function mM(r,e){return Ic(r,t=>t.sourceId!==e)}function V5(r,e,t){return Qg(r,Ic(r,n=>gM(n,e,t)),e,!1,t)}function gM(r,e,t){return G5(r,t)?!t.options.lazyFetching||!r.fetchRange||r.isFetching||e.start<r.fetchRange.start||e.end>r.fetchRange.end:!r.latestFetchId}function Qg(r,e,t,n,i){let s={};for(let a in r){let o=r[a];e[a]?s[a]=vM(o,t,n,i):s[a]=o}return s}function vM(r,e,t,n){let{options:i,calendarApi:s}=n,a=n.pluginHooks.eventSourceDefs[r.sourceDefId],o=Gc();return a.fetch({eventSource:r,range:e,isRefetch:t,context:n},c=>{let{rawEvents:h}=c;i.eventSourceSuccess&&(h=i.eventSourceSuccess.call(s,h,c.response)||h),r.success&&(h=r.success.call(s,h,c.response)||h),n.dispatch({type:"RECEIVE_EVENTS",sourceId:r.sourceId,fetchId:o,fetchRange:e,rawEvents:h})},c=>{let h=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,c),h=!0),r.failure&&(r.failure(c),h=!0),h||console.warn(c.message,c),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:r.sourceId,fetchId:o,fetchRange:e,error:c})}),Object.assign(Object.assign({},r),{isFetching:!0,latestFetchId:o})}function wM(r,e,t,n){let i=r[e];return i&&t===i.latestFetchId?Object.assign(Object.assign({},r),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:n})}):r}function q5(r,e){return Ic(r,t=>G5(t,e))}function yM(r,e){let t=i5(e),n=[].concat(r.eventSources||[]),i=[];r.initialEvents&&n.unshift(r.initialEvents),r.events&&n.unshift(r.events);for(let s of n){let a=n5(s,e,t);a&&i.push(a)}return i}function G5(r,e){return!e.pluginHooks.eventSourceDefs[r.sourceDefId].ignoreRange}function _M(r,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return r}}function bM(r,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return r}}function xM(r,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return r}}function SM(r,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return r}}function EM(r,e,t,n,i){let s=r.headerToolbar?ky(r.headerToolbar,r,e,t,n,i):null,a=r.footerToolbar?ky(r.footerToolbar,r,e,t,n,i):null;return{header:s,footer:a}}function ky(r,e,t,n,i,s){let a={},o=[],c=!1;for(let h in r){let u=r[h],p=AM(u,e,t,n,i,s);a[h]=p.widgets,o.push(...p.viewsWithButtons),c=c||p.hasTitle}return{sectionWidgets:a,viewsWithButtons:o,hasTitle:c}}function AM(r,e,t,n,i,s){let a=e.direction==="rtl",o=e.customButtons||{},c=t.buttonText||{},h=e.buttonText||{},u=t.buttonHints||{},p=e.buttonHints||{},g=r?r.split(" "):[],d=[],_=!1;return{widgets:g.map(b=>b.split(",").map(E=>{if(E==="title")return _=!0,{buttonName:E};let D,N,I,X,he,G;if(D=o[E])I=q=>{D.click&&D.click.call(q.target,q,q.target)},(X=n.getCustomButtonIconClass(D))||(X=n.getIconClass(E,a))||(he=D.text),G=D.hint||D.text;else if(N=i[E]){d.push(E),I=()=>{s.changeView(E)},(he=N.buttonTextOverride)||(X=n.getIconClass(E,a))||(he=N.buttonTextDefault);let q=N.buttonTextOverride||N.buttonTextDefault;G=Cu(N.buttonTitleOverride||N.buttonTitleDefault||e.viewHint,[q,E],q)}else if(s[E])if(I=()=>{s[E]()},(he=c[E])||(X=n.getIconClass(E,a))||(he=h[E]),E==="prevYear"||E==="nextYear"){let q=E==="prevYear"?"prev":"next";G=Cu(u[q]||p[q],[h.year||"year","year"],h[E])}else G=q=>Cu(u[E]||p[E],[h[q]||q,q],h[E]);return{buttonName:E,buttonClick:I,buttonIcon:X,buttonText:he,buttonHint:G}})),viewsWithButtons:d,hasTitle:_}}class TM{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let CM={ignoreRange:!0,parseMeta(r){return Array.isArray(r.events)?r.events:null},fetch(r,e){e({rawEvents:r.eventSource.meta})}};const kM=ll({name:"array-event-source",eventSourceDefs:[CM]});let DM={parseMeta(r){return typeof r.events=="function"?r.events:null},fetch(r,e,t){const{dateEnv:n}=r.context,i=r.eventSource.meta;HO(i.bind(null,p5(r.range,n)),s=>e({rawEvents:s}),t)}};const NM=ll({name:"func-event-source",eventSourceDefs:[DM]}),IM={method:String,extraParams:Ue,startParam:String,endParam:String,timeZoneParam:String};let LM={parseMeta(r){return r.url&&(r.format==="json"||!r.format)?{url:r.url,format:"json",method:(r.method||"GET").toUpperCase(),extraParams:r.extraParams,startParam:r.startParam,endParam:r.endParam,timeZoneParam:r.timeZoneParam}:null},fetch(r,e,t){const{meta:n}=r.eventSource,i=RM(n,r.range,r.context);jO(n.method,n.url,i).then(([s,a])=>{e({rawEvents:s,response:a})},t)}};const PM=ll({name:"json-event-source",eventSourceRefiners:IM,eventSourceDefs:[LM]});function RM(r,e,t){let{dateEnv:n,options:i}=t,s,a,o,c,h={};return s=r.startParam,s==null&&(s=i.startParam),a=r.endParam,a==null&&(a=i.endParam),o=r.timeZoneParam,o==null&&(o=i.timeZoneParam),typeof r.extraParams=="function"?c=r.extraParams():c=r.extraParams||{},Object.assign(h,c),h[s]=n.formatIso(e.start),h[a]=n.formatIso(e.end),n.timeZone!=="local"&&(h[o]=n.timeZone),h}const OM={daysOfWeek:Ue,startTime:xr,endTime:xr,duration:xr,startRecur:Ue,endRecur:Ue};let FM={parse(r,e){if(r.daysOfWeek||r.startTime||r.endTime||r.startRecur||r.endRecur){let t={daysOfWeek:r.daysOfWeek||null,startTime:r.startTime||null,endTime:r.endTime||null,startRecur:r.startRecur?e.createMarker(r.startRecur):null,endRecur:r.endRecur?e.createMarker(r.endRecur):null,dateEnv:e},n;return r.duration&&(n=r.duration),!n&&r.startTime&&r.endTime&&(n=QR(r.endTime,r.startTime)),{allDayGuess:!r.startTime&&!r.endTime,duration:n,typeData:t}}return null},expand(r,e,t){let n=Lc(e,{start:r.startRecur,end:r.endRecur});return n?BM(r.daysOfWeek,r.startTime,r.dateEnv,t,n):[]}};const MM=ll({name:"simple-recurring-event",recurringTypes:[FM],eventRefiners:OM});function BM(r,e,t,n,i){let s=r?Vx(r):null,a=cn(i.start),o=i.end,c=[];for(e&&(e.milliseconds<0?o=pi(o,1):e.milliseconds>=1e3*60*60*24&&(a=pi(a,-1)));a<o;){let h;(!s||s[a.getUTCDay()])&&(e?h=n.add(a,e):h=a,c.push(n.createMarker(t.toDate(h)))),a=pi(a,1)}return c}const UM=ll({name:"change-handler",optionChangeHandlers:{events(r,e){Dy([r],e)},eventSources:Dy}});function Dy(r,e){let t=Lg(e.getCurrentData().eventSources);if(t.length===1&&r.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(r[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:r[0]});return}let n=[];for(let i of r){let s=!1;for(let a=0;a<t.length;a+=1)if(t[a]._raw===i){t.splice(a,1),s=!0;break}s||n.push(i)}for(let i of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of n)e.calendarApi.addEventSource(i)}function zM(r,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},p5(r.activeRange,e.dateEnv)),{view:e.viewApi}))}function HM(r,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",Sc(r,e))}const jM=[kM,NM,PM,MM,UM,ll({name:"misc",isLoadingFuncs:[r=>j5(r.eventSources)],propSetHandlers:{dateProfile:zM,eventStore:HM}})];class WM{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new Sg(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],n;for(;n=e.shift();)this.runTask(n),t.push(n);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function VM(r,e,t){let n;return/^(year|month)$/.test(r.currentRangeUnit)?n=r.currentRange:n=r.activeRange,t.formatRange(n.start,n.end,Cn(e.titleFormat||qM(r)),{isEndExclusive:r.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function qM(r){let{currentRangeUnit:e}=r;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=Fd(r.currentRange.start,r.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class Ny{constructor(){this.resetListeners=new Set}handleInput(e,t){const n=this.dateEnv;if(e!==n&&(typeof t=="function"?this.nowFn=t:n||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const i of this.resetListeners.values())i()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class GM{constructor(e){this.computeCurrentViewData=$t(this._computeCurrentViewData),this.organizeRawLocales=$t(ZF),this.buildLocale=$t(z5),this.buildPluginHooks=JF(),this.buildDateEnv=$t($M),this.buildTheme=$t(ZM),this.parseToolbars=$t(EM),this.buildViewSpecs=$t(iM),this.buildDateProfileGenerator=ad(YM),this.buildViewApi=$t(KM),this.buildViewUiProps=ad(QM),this.buildEventUiBySource=$t(XM,eo),this.buildEventUiBases=$t(JM),this.parseContextBusinessHours=ad(e7),this.buildTitle=$t(VM),this.nowManager=new Ny,this.emitter=new yp,this.actionRunner=new WM(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=g=>{this.actionRunner.request(g)},this.props=e,this.actionRunner.pause(),this.nowManager=new Ny;let t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),i=n.calendarOptions.initialView||n.pluginHooks.initialView,s=this.computeCurrentViewData(i,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let a={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=cM(n.calendarOptions,n.dateEnv,this.nowManager),c=s.dateProfileGenerator.build(o);Jo(c.activeRange,o)||(o=c.currentRange.start);for(let g of n.pluginHooks.contextInit)g(a);let h=fM(n.calendarOptions,c,a),u={dynamicOptionOverrides:t,currentViewType:i,currentDate:o,dateProfile:c,businessHours:this.parseContextBusinessHours(a),eventSources:h,eventUiBases:{},eventStore:Qs(),renderableEventStore:Qs(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},p=Object.assign(Object.assign({},a),u);for(let g of n.pluginHooks.reducers)Object.assign(u,g(null,null,p));U0(u,a)&&this.emitter.trigger("loading",!0),this.state=u,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;t===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:n,emitter:i}=this,s=hM(n.dynamicOptionOverrides,e),a=this.computeOptionsData(t.optionOverrides,s,t.calendarApi),o=oM(n.currentViewType,e),c=this.computeCurrentViewData(o,a,t.optionOverrides,s);t.calendarApi.currentDataManager=this,i.setThisContext(t.calendarApi),i.setOptions(c.options);let h={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:u,dateProfile:p}=n;this.data&&this.data.dateProfileGenerator!==c.dateProfileGenerator&&(p=c.dateProfileGenerator.build(u)),u=lM(u,e),p=uM(p,e,u,c.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!Jo(p.currentRange,u))&&(u=p.currentRange.start);let g=dM(n.eventSources,e,p,h),d=pO(n.eventStore,e,g,p,h),y=j5(g)&&!c.options.progressiveEventRendering&&n.renderableEventStore||d,{eventUiSingleBase:b,selectionConfig:E}=this.buildViewUiProps(h),D=this.buildEventUiBySource(g),N=this.buildEventUiBases(y.defs,b,D),I={dynamicOptionOverrides:s,currentViewType:o,currentDate:u,dateProfile:p,eventSources:g,eventStore:d,renderableEventStore:y,selectionConfig:E,eventUiBases:N,businessHours:this.parseContextBusinessHours(h),dateSelection:_M(n.dateSelection,e),eventSelection:bM(n.eventSelection,e),eventDrag:xM(n.eventDrag,e),eventResize:SM(n.eventResize,e)},X=Object.assign(Object.assign({},h),I);for(let q of a.pluginHooks.reducers)Object.assign(I,q(n,e,X));let he=U0(n,h),G=U0(I,h);!he&&G?i.trigger("loading",!0):he&&!G&&i.trigger("loading",!1),this.state=I,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,i=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(t.currentViewType,i,e.optionOverrides,t.dynamicOptionOverrides),a=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),t),o=i.pluginHooks.optionChangeHandlers,c=n&&n.calendarOptions,h=i.calendarOptions;if(c&&c!==h){c.timeZone!==h.timeZone&&(t.eventSources=a.eventSources=pM(a.eventSources,t.dateProfile,a),t.eventStore=a.eventStore=yy(a.eventStore,n.dateEnv,a.dateEnv),t.renderableEventStore=a.renderableEventStore=yy(a.renderableEventStore,n.dateEnv,a.dateEnv));for(let u in o)(this.optionsForHandling.indexOf(u)!==-1||c[u]!==h[u])&&o[u](h[u],a)}this.optionsForHandling=[],e.onData&&e.onData(a)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:a,availableLocaleData:o,extra:c}=this.processRawCalendarOptions(e,t);Iy(c);let h=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,o,i.defaultRangeSeparator),u=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),p=this.buildTheme(i,s),g=this.parseToolbars(i,this.stableOptionOverrides,p,u,n);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:h,viewSpecs:u,theme:p,toolbarConfig:g,localeDefaults:a,availableRawLocales:o.map}}processRawCalendarOptions(e,t){let{locales:n,locale:i}=N0([ku,e,t]),s=this.organizeRawLocales(n),a=s.map,o=this.buildLocale(i||s.defaultCode,a).options,c=this.buildPluginHooks(e.plugins||[],jM),h=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},dy),py),my),c.listenerRefiners),c.optionRefiners),u={},p=N0([ku,o,e,t]),g={},d=this.currentCalendarOptionsInput,_=this.currentCalendarOptionsRefined,y=!1;for(let b in p)this.optionsForRefining.indexOf(b)===-1&&(p[b]===d[b]||dc[b]&&b in d&&dc[b](d[b],p[b]))?g[b]=_[b]:h[b]?(g[b]=h[b](p[b]),y=!0):u[b]=d[b];return y&&(this.currentCalendarOptionsInput=p,this.currentCalendarOptionsRefined=g,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:c,availableLocaleData:s,localeDefaults:o,extra:u}}_computeCurrentViewData(e,t,n,i){let s=t.viewSpecs[e];if(!s)throw new Error('viewType "'.concat(e,"\" is not available. Please make sure you've loaded all neccessary plugins"));let{refinedOptions:a,extra:o}=this.processRawViewOptions(s,t.pluginHooks,t.localeDefaults,n,i);Iy(o),this.nowManager.handleInput(t.dateEnv,a.now);let c=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount}),h=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:s,options:a,dateProfileGenerator:c,viewApi:h}}processRawViewOptions(e,t,n,i,s){let a=N0([ku,e.optionDefaults,n,i,e.optionOverrides,s]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},dy),py),my),L8),t.listenerRefiners),t.optionRefiners),c={},h=this.currentViewOptionsInput,u=this.currentViewOptionsRefined,p=!1,g={};for(let d in a)a[d]===h[d]||dc[d]&&dc[d](a[d],h[d])?c[d]=u[d]:(a[d]===this.currentCalendarOptionsInput[d]||dc[d]&&dc[d](a[d],this.currentCalendarOptionsInput[d])?d in this.currentCalendarOptionsRefined&&(c[d]=this.currentCalendarOptionsRefined[d]):o[d]?c[d]=o[d](a[d]):g[d]=a[d],p=!0);return p&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=c),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:g}}}function $M(r,e,t,n,i,s,a,o){let c=z5(e||a.defaultCode,a.map);return new W8({calendarSystem:"gregory",timeZone:r,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:c,weekNumberCalculation:t,firstDay:n,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:o})}function ZM(r,e){let t=e.themeClasses[r.themeSystem]||Yl;return new t(r)}function YM(r){let e=r.dateProfileGeneratorClass||Jx;return new e(r)}function KM(r,e,t){return new TM(r,e,t)}function XM(r){return il(r,e=>e.ui)}function JM(r,e,t){let n={"":e};for(let i in r){let s=r[i];s.sourceId&&t[s.sourceId]&&(n[i]=t[s.sourceId])}return n}function QM(r){let{options:e}=r;return{eventUiSingleBase:Wd({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},r),selectionConfig:Wd({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},r)}}function U0(r,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(r))return!0;return!1}function e7(r){return SO(r.options.businessHours,r)}function Iy(r,e){for(let t in r)console.warn("Unknown option '".concat(t,"'")+"")}class t7 extends Wr{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return de("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,i=[],s=!0;for(let a of e){let{buttonName:o,buttonClick:c,buttonText:h,buttonIcon:u,buttonHint:p}=a;if(o==="title")s=!1,i.push(de("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let g=o===t.activeButton,d=!t.isTodayEnabled&&o==="today"||!t.isPrevEnabled&&o==="prev"||!t.isNextEnabled&&o==="next",_=["fc-".concat(o,"-button"),n.getClass("button")];g&&_.push(n.getClass("buttonActive")),i.push(de("button",{type:"button",title:typeof p=="function"?p(t.navUnit):p,disabled:d,"aria-pressed":g,className:_.join(" "),onClick:c},h||(u?de("span",{className:u,role:"img"}):"")))}}if(i.length>1){let a=s&&n.getClass("buttonGroup")||"";return de("div",{className:a},...i)}return i[0]}}class Ly extends Wr{render(){let{model:e,extraClassName:t}=this.props,n=!1,i,s,a=e.sectionWidgets,o=a.center;return a.left?(n=!0,i=a.left):i=a.start,a.right?(n=!0,s=a.right):s=a.end,de("div",{className:[t||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",o||[]),this.renderSection("end",s||[]))}renderSection(e,t){let{props:n}=this;return de(t7,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class r7 extends Wr{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Ao(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,i=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",a="";return n?t.availableWidth!==null?s=t.availableWidth/n:a="".concat(1/n*100,"%"):s=e.height||"",de("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:a}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class n7 extends Zh{constructor(e){super(e),this.handleSegClick=(t,n)=>{let{component:i}=this,{context:s}=i,a=Bh(n);if(a&&i.isValidSegDownEl(t.target)){let o=ji(t.target,".fc-event-forced-url"),c=o?o.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:n,event:new xn(i.context,a.eventRange.def,a.eventRange.instance),jsEvent:t,view:s.viewApi}),c&&!t.defaultPrevented&&(window.location.href=c)}},this.destroy=Ux(e.el,"click",".fc-event",this.handleSegClick)}}class i7 extends Zh{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,n)=>{Bh(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",t,n))},this.handleSegLeave=(t,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,n))},this.removeHoverListeners=BR(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:i}=this,{context:s}=i,a=Bh(n);(!t||i.isValidSegDownEl(t.target))&&s.emitter.trigger(e,{el:n,event:new xn(s,a.eventRange.def,a.eventRange.instance),jsEvent:t,view:s.viewApi})}}class s7 extends Zc{constructor(){super(...arguments),this.buildViewContext=$t(G8),this.buildViewPropTransformers=$t(o7),this.buildToolbarProps=$t(a7),this.headerRef=ns(),this.footerRef=ns(),this.interactionsStore={},this.state={viewLabelId:mp()},this.registerInteractiveComponent=(e,t)=>{let n=qO(e,t),a=[n7,i7].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(n));this.interactionsStore[e.uid]=a,Cm[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let n of t)n.destroy();delete this.interactionsStore[e.uid]}delete Cm[e.uid]},this.resizeRunner=new Sg(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:n}=e,i=!1,s="",a;e.isHeightAuto||e.forPrint?s="":n.height!=null?i=!0:n.contentHeight!=null?s=n.contentHeight:a=Math.max(n.aspectRatio,.5);let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),c=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return de(ol.Provider,{value:o},de(Yh,{unit:"day"},h=>{let u=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,h,e.viewTitle);return de(ln,null,t.header&&de(Ly,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:c},u)),de(r7,{liquid:i,height:s,aspectRatio:a,labeledById:c},this.renderView(e),this.buildAppendContent()),t.footer&&de(Ly,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},u)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let i in n)t[i]!==e[i]&&n[i](t[i],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(n=>n(e));return de(ln,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(t.viewPropsTransformers);for(let o of s)Object.assign(i,o.transform(i,e));let a=n.component;return de(a,Object.assign({},i))}}function a7(r,e,t,n,i,s){let a=t.build(i,void 0,!1),o=t.buildPrev(e,n,!1),c=t.buildNext(e,n,!1);return{title:s,activeButton:r.type,navUnit:r.singleUnit,isTodayEnabled:a.isValid&&!Jo(e.currentRange,i),isPrevEnabled:o.isValid,isNextEnabled:c.isValid}}function o7(r){return r.map(e=>new e)}class $5 extends $O{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;zd(()=>{Wu(de(VO,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(i,s,a,o)=>(this.setClassNames(i),this.setHeight(s),de(Zx.Provider,{value:this.customContentRenderId},de(s7,Object.assign({isHeightAuto:a,forPrint:o},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Wu(null,this.el),this.setClassNames([]),this.setHeight(""))},DR(e),this.el=e,this.renderRunner=new Sg(this.handleRenderRequest),new GM({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){zd(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!ql(e,this.currentClassNames)){let{classList:t}=this.el;for(let n of this.currentClassNames)t.remove(n);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){Mx(this.el,"height",e)}}class l7 extends Co{constructor(){super(...arguments),this.headerElRef=ns()}renderSimpleLayout(e,t){let{props:n,context:i}=this,s=[],a=Gd(i.options);return e&&s.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),de(Hd,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},de($g,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,t,n,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:a,context:o}=this,c=!a.forPrint&&Gd(o.options),h=!a.forPrint&&L5(o.options),u=[];return e&&u.push({type:"header",key:"header",isSticky:c,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),u.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),h&&u.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Nm}]}),de(Hd,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},de(s,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:n,minWidth:i}]}],sections:u}))}}function ld(r,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of r)t[n.row].push(n);return t}function Yf(r,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of r)t[n.firstCol].push(n);return t}function Py(r,e){let t=[];if(r){for(let n=0;n<e;n+=1)t[n]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let n of r.segs)t[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}const Z5=Cn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Y5(r){let{display:e}=r.eventRange.ui;return e==="list-item"||e==="auto"&&!r.eventRange.def.allDay&&r.firstCol===r.lastCol&&r.isStart&&r.isEnd}class K5 extends Wr{render(){let{props:e}=this;return de(Yg,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Z5,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class X5 extends Wr{render(){let{props:e,context:t}=this,{options:n}=t,{seg:i}=e,s=n.eventTimeFormat||Z5,a=u5(i,s,t,!0,e.defaultDisplayEventEnd);return de(Zg,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:d5(e.seg,t),defaultGenerator:c7,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function c7(r){return de(ln,null,de("div",{className:"fc-daygrid-event-dot",style:{borderColor:r.borderColor||r.backgroundColor}}),r.timeText&&de("div",{className:"fc-event-time"},r.timeText),de("div",{className:"fc-event-title"},r.event.title||de(ln,null,"")))}class h7 extends Wr{constructor(){super(...arguments),this.compileSegs=$t(u7)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return de(F5,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return de(ln,null,t.map(s=>{let a=s.eventRange.instance.instanceId;return de("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:i[a]?"hidden":""}},Y5(s)?de(X5,Object.assign({seg:s,isDragging:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},Ml(s,e.todayRange))):de(K5,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},Ml(s,e.todayRange))))}))}})}}function u7(r){let e=[],t=[];for(let n of r)e.push(n.seg),n.isVisible||t.push(n.seg);return{allSegs:e,invisibleSegs:t}}const f7=Cn({week:"narrow"});class d7 extends Co{constructor(){super(...arguments),this.rootElRef=ns(),this.state={dayNumberId:mp()},this.handleRootEl=e=>{Ao(this.rootElRef,e),Ao(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:i}=this,{options:s,dateEnv:a}=e,{date:o,dateProfile:c}=t;const h=t.showDayNumber&&m7(o,c.currentRange,a);return de(Xg,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:p7,date:o,dateProfile:c,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:h,extraRenderProps:t.extraRenderProps},(u,p)=>de("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&de(O5,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:qd(e,o,"week"),date:o,defaultFormat:f7}),!p.isDisabled&&(t.showDayNumber||Jg(s)||t.forceDayTop)?de("div",{className:"fc-daygrid-day-top"},de(u,{elTag:"a",elClasses:["fc-daygrid-day-number",h&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},qd(e,o)),{id:n.dayNumberId})})):t.showDayNumber?de("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},de("a",{className:"fc-daygrid-day-number"},"")):void 0,de("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,de("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},de(h7,{allDayDate:o,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:i,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),de("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function p7(r){return r.dayNumberText||de(ln,null,"")}function m7(r,e,t){const{start:n,end:i}=e,s=Gl(i,-1),a=t.getYear(n),o=t.getMonth(n),c=t.getYear(s),h=t.getMonth(s);return!(a===c&&o===h)&&(r.valueOf()===n.valueOf()||t.getDay(r)===1&&r.valueOf()<i.valueOf())}function J5(r){return r.eventRange.instance.instanceId+":"+r.firstCol}function Q5(r){return J5(r)+":"+r.lastCol}function g7(r,e,t,n,i,s,a){let o=new y7(E=>{let D=r[E.index].eventRange.instance.instanceId+":"+E.span.start+":"+(E.span.end-1);return i[D]||1});o.allowReslicing=!0,o.strictOrder=n,e===!0||t===!0?(o.maxCoord=s,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof t=="number"&&(o.maxStackCnt=t,o.hiddenConsumes=!0);let c=[],h=[];for(let E=0;E<r.length;E+=1){let D=r[E],N=Q5(D);i[N]!=null?c.push({index:E,span:{start:D.firstCol,end:D.lastCol+1}}):h.push(D)}let u=o.addSegs(c),p=o.toRects(),{singleColPlacements:g,multiColPlacements:d,leftoverMargins:_}=v7(p,r,a),y=[],b=[];for(let E of h){d[E.firstCol].push({seg:E,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let D=E.firstCol;D<=E.lastCol;D+=1)g[D].push({seg:Oh(E,D,D+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let E=0;E<a.length;E+=1)y.push(0);for(let E of u){let D=r[E.index],N=E.span;d[N.start].push({seg:Oh(D,N.start,N.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let I=N.start;I<N.end;I+=1)y[I]+=1,g[I].push({seg:Oh(D,I,I+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let E=0;E<a.length;E+=1)b.push(_[E]);return{singleColPlacements:g,multiColPlacements:d,moreCnts:y,moreMarginTops:b}}function v7(r,e,t){let n=w7(r,t.length),i=[],s=[],a=[];for(let o=0;o<t.length;o+=1){let c=n[o],h=[],u=0,p=0;for(let d of c){let _=e[d.index];h.push({seg:Oh(_,o,o+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:d.levelCoord,marginTop:d.levelCoord-u}),u=d.levelCoord+d.thickness}let g=[];u=0,p=0;for(let d of c){let _=e[d.index],y=d.span.end-d.span.start>1,b=d.span.start===o;p+=d.levelCoord-u,u=d.levelCoord+d.thickness,y?(p+=d.thickness,b&&g.push({seg:Oh(_,d.span.start,d.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:d.levelCoord,marginTop:0})):b&&(g.push({seg:Oh(_,d.span.start,d.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:d.levelCoord,marginTop:p}),p=0)}i.push(h),s.push(g),a.push(p)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:a}}function w7(r,e){let t=[];for(let n=0;n<e;n+=1)t.push([]);for(let n of r)for(let i=n.span.start;i<n.span.end;i+=1)t[i].push(n);return t}function Oh(r,e,t,n){if(r.firstCol===e&&r.lastCol===t-1)return r;let i=r.eventRange,s=i.range,a=Lc(s,{start:n[e].date,end:pi(n[t-1].date,1)});return Object.assign(Object.assign({},r),{firstCol:e,lastCol:t-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:a},isStart:r.isStart&&a.start.valueOf()===s.start.valueOf(),isEnd:r.isEnd&&a.end.valueOf()===s.end.valueOf()})}class y7 extends b5{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:n}=this,i=s=>!this.forceHidden[Ec(s)];for(let s=0;s<n.length;s+=1)n[s]=n[s].filter(i);return t}handleInvalidInsertion(e,t,n){const{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:a,touchingLevel:o,touchingLateral:c}=e;if(this.hiddenConsumes&&a){const h=Ec(a);if(!s[h])if(this.allowReslicing){const u=Object.assign(Object.assign({},a),{span:qg(a.span,t.span)}),p=Ec(u);s[p]=!0,i[o][c]=u,n.push(u),this.splitEntry(a,t,n)}else s[h]=!0,n.push(a)}super.handleInvalidInsertion(e,t,n)}}class eS extends Co{constructor(){super(...arguments),this.cellElRefs=new $o,this.frameElRefs=new $o,this.fgElRefs=new $o,this.segHarnessRefs=new $o,this.rootElRef=ns(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:i}=n,s=e.cells.length,a=Yf(e.businessHourSegs,s),o=Yf(e.bgEventSegs,s),c=Yf(this.getHighlightSegs(),s),h=Yf(this.getMirrorSegs(),s),{singleColPlacements:u,multiColPlacements:p,moreCnts:g,moreMarginTops:d}=g7(h5(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),_=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return de("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((y,b)=>{let E=this.renderFgSegs(b,e.forPrint?u[b]:p[b],e.todayRange,_),D=this.renderFgSegs(b,_7(h[b],p),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return de(d7,{key:y.key,elRef:this.cellElRefs.createRef(y.key),innerElRef:this.frameElRefs.createRef(y.key),dateProfile:e.dateProfile,date:y.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&b===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:y.extraRenderProps,extraDataAttrs:y.extraDataAttrs,extraClassNames:y.extraClassNames,extraDateSpan:y.extraDateSpan,moreCnt:g[b],moreMarginTop:d[b],singlePlacements:u[b],fgContentElRef:this.fgElRefs.createRef(y.key),fgContent:de(ln,null,de(ln,null,E),de(ln,null,D)),bgContent:de(ln,null,this.renderFillSegs(c[b],"highlight"),this.renderFillSegs(a[b],"non-business"),this.renderFillSegs(o[b],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!eo(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,i,s,a,o){let{context:c}=this,{eventSelection:h}=this.props,{framePositions:u}=this.state,p=this.props.cells.length===1,g=s||a||o,d=[];if(u)for(let _ of t){let{seg:y}=_,{instanceId:b}=y.eventRange.instance,E=_.isVisible&&!i[b],D=_.isAbsolute,N="",I="";D&&(c.isRtl?(I=0,N=u.lefts[y.lastCol]-u.lefts[y.firstCol]):(N=0,I=u.rights[y.firstCol]-u.rights[y.lastCol])),d.push(de("div",{className:"fc-daygrid-event-harness"+(D?" fc-daygrid-event-harness-abs":""),key:J5(y),ref:g?null:this.segHarnessRefs.createRef(Q5(y)),style:{visibility:E?"":"hidden",marginTop:D?"":_.marginTop,top:D?_.absoluteTop:"",left:N,right:I}},Y5(y)?de(X5,Object.assign({seg:y,isDragging:s,isSelected:b===h,defaultDisplayEventEnd:p},Ml(y,n))):de(K5,Object.assign({seg:y,isDragging:s,isResizing:a,isDateSelecting:o,isSelected:b===h,defaultDisplayEventEnd:p},Ml(y,n)))))}return d}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,a=[];if(s)for(let o of e){let c=n?{right:0,left:s.lefts[o.lastCol]-s.lefts[o.firstCol]}:{left:0,right:s.rights[o.firstCol]-s.rights[o.lastCol]};a.push(de("div",{key:f5(o.eventRange),className:"fc-daygrid-bg-harness",style:c},t==="bg-event"?de(P5,Object.assign({seg:o},Ml(o,i))):R5(t)))}return de(ln,{},...a)}updateSizing(e){let{props:t,state:n,frameElRefs:i}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let c=t.cells.map(h=>i.currentMap[h.key]);if(c.length){let h=this.rootElRef.current,u=new Uh(h,c,!0,!1);(!n.framePositions||!n.framePositions.similarTo(u))&&this.setState({framePositions:new Uh(h,c,!0,!1)})}}const s=this.state.segHeights,a=this.querySegHeights(),o=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),a),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let i=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,i)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}eS.addStateEquality({segHeights:eo});function _7(r,e){if(!r.length)return[];let t=b7(e);return r.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:t[n.eventRange.instance.instanceId],marginTop:0}))}function b7(r){let e={};for(let t of r)for(let n of t)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}class x7 extends Co{constructor(){super(...arguments),this.splitBusinessHourSegs=$t(ld),this.splitBgEventSegs=$t(S7),this.splitFgEventSegs=$t(ld),this.splitDateSelectionSegs=$t(ld),this.splitEventDrag=$t(Py),this.splitEventResize=$t(Py),this.rowRefs=new $o}render(){let{props:e,context:t}=this,n=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,n),s=this.splitBgEventSegs(e.bgEventSegs,n),a=this.splitFgEventSegs(e.fgEventSegs,n),o=this.splitDateSelectionSegs(e.dateSelectionSegs,n),c=this.splitEventDrag(e.eventDrag,n),h=this.splitEventResize(e.eventResize,n),u=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return de(Yh,{unit:"day"},(p,g)=>de(ln,null,e.cells.map((d,_)=>de(eS,{ref:this.rowRefs.createRef(_),key:d.length?d[0].date.toISOString():_,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:g,dateProfile:e.dateProfile,cells:d,renderIntro:e.renderRowIntro,businessHourSegs:i[_],eventSelection:e.eventSelection,bgEventSegs:s[_],fgEventSegs:a[_],dateSelectionSegs:o[_],eventDrag:c[_],eventResize:h[_],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:u,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new Uh(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new Uh(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:i}=this,s=n.leftToIndex(e),a=i.topToIndex(t);if(a!=null&&s!=null){let o=this.props.cells[a][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,s),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(a,s),rect:{left:n.lefts[s],right:n.rights[s],top:i.tops[a],bottom:i.bottoms[a]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date,i=pi(n,1);return{start:n,end:i}}}function S7(r,e){return ld(r.filter(E7),e)}function E7(r){return r.eventRange.def.allDay}class A7 extends Co{constructor(){super(...arguments),this.elRef=ns(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:i}=e,s=n===!0||t===!0;s&&!i&&(s=!1,t=null,n=null);let a=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return de("div",{ref:this.elRef,className:a.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},de("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,de("tbody",{role:"presentation"},de(x7,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=T7(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),n=t.closest(".fc-scroller"),i=e.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=i?i+1:0}this.needsScrollReset=!1}}}function T7(r,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=r.querySelector('[data-date="'.concat(m8(e.currentDate),'-01"]'))),t||(t=r.querySelector('[data-date="'.concat(kg(e.currentDate),'"]'))),t}class C7 extends C5{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class tS extends Co{constructor(){super(...arguments),this.slicer=new C7,this.tableRef=ns()}render(){let{props:e,context:t}=this;return de(A7,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class k7 extends l7{constructor(){super(...arguments),this.buildDayTableModel=$t(D7),this.headerRef=ns(),this.tableRef=ns()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,i=this.buildDayTableModel(n.dateProfile,t),s=e.dayHeaders&&de(E5,{ref:this.headerRef,dateProfile:n.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),a=o=>de(tS,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:i,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,a,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,a)}}function D7(r,e){let t=new A5(r.renderRange,e);return new T5(t,/year|month|week/.test(r.currentRangeUnit))}class N7 extends Jx{buildRenderRange(e,t,n){let i=super.buildRenderRange(e,t,n),{props:s}=this;return I7({currentRange:i,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}function I7(r){let{dateEnv:e,currentRange:t}=r,{start:n,end:i}=t,s;if(r.snapToWeek&&(n=e.startOfWeek(n),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=ly(s,1))),r.fixedWeekCount){let a=e.startOfWeek(e.startOfMonth(pi(t.end,-1))),o=Math.ceil(i8(a,i));i=ly(i,6-o)}return{start:n,end:i}}var L7=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';xg(L7);var rS=ll({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:k7,dateProfileGeneratorClass:N7},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class P7 extends JO{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?kO(e)?["timed","allDay"]:["allDay"]:["timed"]}}const R7=Cn({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function nS(r){let e=["fc-timegrid-slot","fc-timegrid-slot-label",r.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return de(ol.Consumer,null,t=>{if(!r.isLabeled)return de("td",{className:e.join(" "),"data-time":r.isoTimeStr});let{dateEnv:n,options:i,viewApi:s}=t,a=i.slotLabelFormat==null?R7:Array.isArray(i.slotLabelFormat)?Cn(i.slotLabelFormat[0]):Cn(i.slotLabelFormat),o={level:0,time:r.time,date:n.toDate(r.date),view:s,text:n.format(r.date,a)};return de(ra,{elTag:"td",elClasses:e,elAttrs:{"data-time":r.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:i.slotLabelContent,defaultGenerator:O7,classNameGenerator:i.slotLabelClassNames,didMount:i.slotLabelDidMount,willUnmount:i.slotLabelWillUnmount},c=>de("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},de(c,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function O7(r){return r.text}class F7 extends Wr{render(){return this.props.slatMetas.map(e=>de("tr",{key:e.key},de(nS,Object.assign({},e))))}}const M7=Cn({week:"short"}),B7=5;class U7 extends Co{constructor(){super(...arguments),this.allDaySplitter=new P7,this.headerElRef=ns(),this.rootElRef=ns(),this.scrollerElRef=ns(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:n}=this.context,{dateProfile:i}=this.props,s=i.renderRange,o=$c(s.start,s.end)===1?qd(this.context,s.start,"week"):{};return n.weekNumbers&&e==="day"?de(O5,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:M7},c=>de("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},de(c,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o}))):de("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},de("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:n}=this.context,i={text:t.allDayText,view:n};return de(ra,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:i,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:z7,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},s=>de("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},de(s,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){let{context:i,props:s}=this,a=[],o=Gd(i.options);return e&&a.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(a.push({type:"body",key:"all-day",chunk:{content:t}}),a.push({type:"body",key:"all-day-divider",outerContent:de("tr",{role:"presentation",className:"fc-scrollgrid-section"},de("td",{className:"fc-timegrid-divider "+i.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:!!i.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),de(Hd,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:i.viewSpec},de($g,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(e,t,n,i,s,a,o){let c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");let{context:h,props:u}=this,p=!u.forPrint&&Gd(h.options),g=!u.forPrint&&L5(h.options),d=[];e&&d.push({type:"header",key:"header",isSticky:p,syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>de("tr",{role:"presentation"},this.renderHeadAxis("day",y.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(d.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>de("tr",{role:"presentation"},this.renderTableRowAxis(y.rowSyncHeights[0]))},{key:"cols",content:t}]}),d.push({key:"all-day-divider",type:"body",outerContent:de("tr",{role:"presentation",className:"fc-scrollgrid-section"},de("td",{colSpan:2,className:"fc-timegrid-divider "+h.theme.getClass("tableCellShaded")}))}));let _=h.options.nowIndicator;return d.push({type:"body",key:"body",liquid:!0,expandRows:!!h.options.expandRows,chunks:[{key:"axis",content:y=>de("div",{className:"fc-timegrid-axis-chunk"},de("table",{"aria-hidden":!0,style:{height:y.expandRows?y.clientHeight:""}},y.tableColGroupNode,de("tbody",null,de(F7,{slatMetas:a}))),de("div",{className:"fc-timegrid-now-indicator-container"},de(Yh,{unit:_?"minute":"day"},b=>{let E=_&&o&&o.safeComputeTop(b);return typeof E=="number"?de(Kg,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:E},isAxis:!0,date:b}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),g&&d.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Nm},{key:"cols",content:Nm}]}),de(Hd,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:h.viewSpec},de(c,{liquid:!u.isHeightAuto&&!u.forPrint,forPrint:u.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:i,minWidth:s}]}],sections:d}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=B7),{dayMaxEvents:e,dayMaxEventRows:t}}}function z7(r){return r.text}class H7{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){let{dateProfile:t}=this;if(Jo(t.currentRange,e)){let n=cn(e),i=e.valueOf()-n.valueOf();if(i>=Xa(t.slotMinTime)&&i<Xa(t.slotMaxTime))return this.computeTimeTop(xr(i))}return null}computeDateTop(e,t){return t||(t=cn(e)),this.computeTimeTop(xr(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:n}=this,i=t.els.length,s=(e.milliseconds-Xa(n.slotMinTime))/Xa(this.slotDuration),a,o;return s=Math.max(0,s),s=Math.min(i,s),a=Math.floor(s),a=Math.min(a,i-1),o=s-a,t.tops[a]+t.getHeight(a)*o}}class j7 extends Wr{render(){let{props:e,context:t}=this,{options:n}=t,{slatElRefs:i}=e;return de("tbody",null,e.slatMetas.map((s,a)=>{let o={time:s.time,date:t.dateEnv.toDate(s.date),view:t.viewApi};return de("tr",{key:s.key,ref:i.createRef(s.key)},e.axis&&de(nS,Object.assign({},s)),de(ra,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class W7 extends Wr{constructor(){super(...arguments),this.rootElRef=ns(),this.slatElRefs=new $o}render(){let{props:e,context:t}=this;return de("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},de("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,de(j7,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new H7(new Uh(this.rootElRef.current,V7(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function V7(r,e){return e.map(t=>r[t.key])}function pu(r,e){let t=[],n;for(n=0;n<e;n+=1)t.push([]);if(r)for(n=0;n<r.length;n+=1)t[r[n].col].push(r[n]);return t}function Ry(r,e){let t=[];if(r){for(let n=0;n<e;n+=1)t[n]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let n of r.segs)t[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}class q7 extends Wr{render(){let{props:e}=this;return de(F5,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>sS(e.hiddenSegs,e),defaultGenerator:G7,forceTimed:!0},t=>de(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function G7(r){return r.shortText}function $7(r,e,t){let n=new b5;e!=null&&(n.strictOrder=e),t!=null&&(n.maxStackCnt=t);let i=n.addSegs(r),s=uF(i),a=Z7(n);return a=J7(a,1),{segRects:Q7(a),hiddenGroups:s}}function Z7(r){const{entriesByLevel:e}=r,t=e1((n,i)=>n+":"+i,(n,i)=>{let s=X7(r,n,i),a=Oy(s,t),o=e[n][i];return[Object.assign(Object.assign({},o),{nextLevelNodes:a[0]}),o.thickness+a[1]]});return Oy(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function Oy(r,e){if(!r)return[[],0];let{level:t,lateralStart:n,lateralEnd:i}=r,s=n,a=[];for(;s<i;)a.push(e(t,s)),s+=1;return a.sort(Y7),[a.map(K7),a[0][1]]}function Y7(r,e){return e[1]-r[1]}function K7(r){return r[0]}function X7(r,e,t){let{levelCoords:n,entriesByLevel:i}=r,s=i[e][t],a=n[e]+s.thickness,o=n.length,c=e;for(;c<o&&n[c]<a;c+=1);for(;c<o;c+=1){let h=i[c],u,p=Dm(h,s.span.start,km),g=p[0]+p[1],d=g;for(;(u=h[d])&&u.span.start<s.span.end;)d+=1;if(g<d)return{level:c,lateralStart:g,lateralEnd:d}}return null}function J7(r,e){const t=e1((n,i,s)=>Ec(n),(n,i,s)=>{let{nextLevelNodes:a,thickness:o}=n,c=o+s,h=o/c,u,p=[];if(!a.length)u=e;else for(let d of a)if(u===void 0){let _=t(d,i,c);u=_[0],p.push(_[1])}else{let _=t(d,u,0);p.push(_[1])}let g=(u-i)*h;return[u-g,Object.assign(Object.assign({},n),{thickness:g,nextLevelNodes:p})]});return r.map(n=>t(n,0,0)[1])}function Q7(r){let e=[];const t=e1((i,s,a)=>Ec(i),(i,s,a)=>{let o=Object.assign(Object.assign({},i),{levelCoord:s,stackDepth:a,stackForward:0});return e.push(o),o.stackForward=n(i.nextLevelNodes,s+i.thickness,a+1)+1});function n(i,s,a){let o=0;for(let c of i)o=Math.max(t(c,s,a),o);return o}return n(r,0,0),e}function e1(r,e){const t={};return(...n)=>{let i=r(...n);return i in t?t[i]:t[i]=e(...n)}}function Fy(r,e,t=null,n=0){let i=[];if(t)for(let s=0;s<r.length;s+=1){let a=r[s],o=t.computeDateTop(a.start,e),c=Math.max(o+(n||0),t.computeDateTop(a.end,e));i.push({start:Math.round(o),end:Math.round(c)})}return i}function eB(r,e,t,n){let i=[],s=[];for(let h=0;h<r.length;h+=1){let u=e[h];u?i.push({index:h,thickness:1,span:u}):s.push(r[h])}let{segRects:a,hiddenGroups:o}=$7(i,t,n),c=[];for(let h of a)c.push({seg:r[h.index],rect:h});for(let h of s)c.push({seg:h,rect:null});return{segPlacements:c,hiddenGroups:o}}const tB=Cn({hour:"numeric",minute:"2-digit",meridiem:!1});class iS extends Wr{render(){return de(Yg,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:tB}))}}class rB extends Wr{constructor(){super(...arguments),this.sortEventSegs=$t(h5)}render(){let{props:e,context:t}=this,{options:n}=t,i=n.selectMirror,s=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||i&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return de(Xg,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},c=>de("div",{className:"fc-timegrid-col-frame"},de("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),de("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,a,!1,!1,!1)),de("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},!!e.eventDrag,!!e.eventResize,!!i,"mirror")),de("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Jg(n)&&de(c,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,n,i,s,a){let{props:o}=this;return o.forPrint?sS(e,o):this.renderPositionedFgSegs(e,t,n,i,s,a)}renderPositionedFgSegs(e,t,n,i,s,a){let{eventMaxStack:o,eventShortHeight:c,eventOrderStrict:h,eventMinHeight:u}=this.context.options,{date:p,slatCoords:g,eventSelection:d,todayRange:_,nowDate:y}=this.props,b=n||i||s,E=Fy(e,p,g,u),{segPlacements:D,hiddenGroups:N}=eB(e,E,h,o);return de(ln,null,this.renderHiddenGroups(N,e),D.map(I=>{let{seg:X,rect:he}=I,G=X.eventRange.instance.instanceId,q=b||!!(!t[G]&&he),O=z0(he&&he.span),ee=!b&&he?this.computeSegHStyle(he):{left:0,right:0},P=!!he&&he.stackForward>0,z=!!he&&he.span.end-he.span.start<c;return de("div",{className:"fc-timegrid-event-harness"+(P?" fc-timegrid-event-harness-inset":""),key:a||G,style:Object.assign(Object.assign({visibility:q?"":"hidden"},O),ee)},de(iS,Object.assign({seg:X,isDragging:n,isResizing:i,isDateSelecting:s,isSelected:G===d,isShort:z},Ml(X,_,y))))}))}renderHiddenGroups(e,t){let{extraDateSpan:n,dateProfile:i,todayRange:s,nowDate:a,eventSelection:o,eventDrag:c,eventResize:h}=this.props;return de(ln,null,e.map(u=>{let p=z0(u.span),g=nB(u.entries,t);return de(q7,{key:Wx(M5(g)),hiddenSegs:g,top:p.top,bottom:p.bottom,extraDateSpan:n,dateProfile:i,todayRange:s,nowDate:a,eventSelection:o,eventDrag:c,eventResize:h})}))}renderFillSegs(e,t){let{props:n,context:i}=this,a=Fy(e,n.date,n.slatCoords,i.options.eventMinHeight).map((o,c)=>{let h=e[c];return de("div",{key:f5(h.eventRange),className:"fc-timegrid-bg-harness",style:z0(o)},t==="bg-event"?de(P5,Object.assign({seg:h},Ml(h,n.todayRange,n.nowDate))):R5(t))});return de(ln,null,a)}renderNowIndicator(e){let{slatCoords:t,date:n}=this.props;return t?e.map((i,s)=>de(Kg,{key:s,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(i.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:t,options:n}=this.context,i=n.slotEventOverlap,s=e.levelCoord,a=e.levelCoord+e.thickness,o,c;i&&(a=Math.min(1,s+(a-s)*2)),t?(o=1-a,c=s):(o=s,c=1-a);let h={zIndex:e.stackDepth+1,left:o*100+"%",right:c*100+"%"};return i&&!e.stackForward&&(h[t?"marginLeft":"marginRight"]=10*2),h}}function sS(r,{todayRange:e,nowDate:t,eventSelection:n,eventDrag:i,eventResize:s}){let a=(i?i.affectedInstances:null)||(s?s.affectedInstances:null)||{};return de(ln,null,r.map(o=>{let c=o.eventRange.instance.instanceId;return de("div",{key:c,style:{visibility:a[c]?"hidden":""}},de(iS,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:c===n,isShort:!1},Ml(o,e,t))))}))}function z0(r){return r?{top:r.start,bottom:-r.end}:{top:"",bottom:""}}function nB(r,e){return r.map(t=>e[t.index])}class iB extends Wr{constructor(){super(...arguments),this.splitFgEventSegs=$t(pu),this.splitBgEventSegs=$t(pu),this.splitBusinessHourSegs=$t(pu),this.splitNowIndicatorSegs=$t(pu),this.splitDateSelectionSegs=$t(pu),this.splitEventDrag=$t(Ry),this.splitEventResize=$t(Ry),this.rootElRef=ns(),this.cellElRefs=new $o}render(){let{props:e,context:t}=this,n=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),i=e.cells.length,s=this.splitFgEventSegs(e.fgEventSegs,i),a=this.splitBgEventSegs(e.bgEventSegs,i),o=this.splitBusinessHourSegs(e.businessHourSegs,i),c=this.splitNowIndicatorSegs(e.nowIndicatorSegs,i),h=this.splitDateSelectionSegs(e.dateSelectionSegs,i),u=this.splitEventDrag(e.eventDrag,i),p=this.splitEventResize(e.eventResize,i);return de("div",{className:"fc-timegrid-cols",ref:this.rootElRef},de("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,de("tbody",{role:"presentation"},de("tr",{role:"row"},e.axis&&de("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},de("div",{className:"fc-timegrid-col-frame"},de("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&de(Kg,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((g,d)=>de(rB,{key:g.key,elRef:this.cellElRefs.createRef(g.key),dateProfile:e.dateProfile,date:g.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:g.extraRenderProps,extraDataAttrs:g.extraDataAttrs,extraClassNames:g.extraClassNames,extraDateSpan:g.extraDateSpan,fgEventSegs:s[d],bgEventSegs:a[d],businessHourSegs:o[d],nowIndicatorSegs:c[d],dateSelectionSegs:h[d],eventDrag:u[d],eventResize:p[d],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new Uh(this.rootElRef.current,sB(this.cellElRefs.currentMap,e.cells),!0,!1))}}function sB(r,e){return e.map(t=>r[t.key])}class aB extends Co{constructor(){super(...arguments),this.processSlotOptions=$t(oB),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(e.time){let i=n.computeTimeTop(e.time);i=Math.ceil(i),i&&(i+=1),t(i)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return de("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},de(W7,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),de(iB,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:n,options:i}=this.context,{colCoords:s}=this,{dateProfile:a}=this.props,{slatCoords:o}=this.state,{snapDuration:c,snapsPerSlot:h}=this.processSlotOptions(this.props.slotDuration,i.snapDuration),u=s.leftToIndex(e),p=o.positions.topToIndex(t);if(u!=null&&p!=null){let g=this.props.cells[u],d=o.positions.tops[p],_=o.positions.getHeight(p),y=(t-d)/_,b=Math.floor(y*h),E=p*h+b,D=this.props.cells[u].date,N=xm(a.slotMinTime,e8(c,E)),I=n.add(D,N),X=n.add(I,c);return{dateProfile:a,dateSpan:Object.assign({range:{start:I,end:X},allDay:!1},g.extraDateSpan),dayEl:s.els[u],rect:{left:s.lefts[u],right:s.rights[u],top:d,bottom:d+_},layer:0}}return null}}function oB(r,e){let t=e||r,n=Cg(r,t);return n===null&&(t=r,n=1),{snapDuration:t,snapsPerSlot:n}}class lB extends C5{sliceRange(e,t){let n=[];for(let i=0;i<t.length;i+=1){let s=Lc(e,t[i]);s&&n.push({start:s.start,end:s.end,isStart:s.start.valueOf()===e.start.valueOf(),isEnd:s.end.valueOf()===e.end.valueOf(),col:i})}return n}}class cB extends Co{constructor(){super(...arguments),this.buildDayRanges=$t(hB),this.slicer=new lB,this.timeColsRef=ns()}render(){let{props:e,context:t}=this,{dateProfile:n,dayTableModel:i}=e,{nowIndicator:s,nextDayThreshold:a}=t.options,o=this.buildDayRanges(i,n,t.dateEnv);return de(Yh,{unit:s?"minute":"day"},(c,h)=>de(aB,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,t,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:i.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:c,nowIndicatorSegs:s&&this.slicer.sliceNowDate(c,n,a,t,o),todayRange:h,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function hB(r,e,t){let n=[];for(let i of r.headerDates)n.push({start:t.add(i,e.slotMinTime),end:t.add(i,e.slotMaxTime)});return n}const My=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function uB(r,e,t,n,i){let s=new Date(0),a=r,o=xr(0),c=t||fB(n),h=[];for(;Xa(a)<Xa(e);){let u=i.add(s,a),p=Cg(o,c)!==null;h.push({date:u,time:a,key:u.toISOString(),isoTimeStr:g8(u),isLabeled:p}),a=xm(a,n),o=xm(o,n)}return h}function fB(r){let e,t,n;for(e=My.length-1;e>=0;e-=1)if(t=xr(My[e]),n=Cg(t,r),n!==null&&n>1)return t;return r}class dB extends U7{constructor(){super(...arguments),this.buildTimeColsModel=$t(pB),this.buildSlatMetas=$t(uB)}render(){let{options:e,dateEnv:t,dateProfileGenerator:n}=this.context,{props:i}=this,{dateProfile:s}=i,a=this.buildTimeColsModel(s,n),o=this.allDaySplitter.splitProps(i),c=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:h}=e,u=!h,p=h,g=e.dayHeaders&&de(E5,{dates:a.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:u?this.renderHeadAxis:null}),d=e.allDaySlot!==!1&&(y=>de(tS,Object.assign({},o.allDay,{dateProfile:s,dayTableModel:a,nextDayThreshold:e.nextDayThreshold,tableMinWidth:y.tableMinWidth,colGroupNode:y.tableColGroupNode,renderRowIntro:u?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:y.clientWidth,clientHeight:y.clientHeight,forPrint:i.forPrint},this.getAllDayMaxEventProps()))),_=y=>de(cB,Object.assign({},o.timed,{dayTableModel:a,dateProfile:s,axis:u,slotDuration:e.slotDuration,slatMetas:c,forPrint:i.forPrint,tableColGroupNode:y.tableColGroupNode,tableMinWidth:y.tableMinWidth,clientWidth:y.clientWidth,clientHeight:y.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:y.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return p?this.renderHScrollLayout(g,d,_,a.colCnt,h,c,this.state.slatCoords):this.renderSimpleLayout(g,d,_)}}function pB(r,e){let t=new A5(r.renderRange,e);return new T5(t,!1)}var mB='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';xg(mB);const gB={allDaySlot:Boolean};var aS=ll({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:gB,views:{timeGrid:{component:dB,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});Gg.touchMouseIgnoreWait=500;let Lm=0,$d=0,Pm=!1;class oS{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&vB(t)&&this.tryStart(t)){let n=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let n=this.createEventFromMouse(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let n=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let i=t.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let n=this.createEventFromTouch(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=t=>{if(this.isDragging){let n=t.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,wB()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:i,deltaX:n-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new yp,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),yB()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),_B()}tryStart(e){let t=this.querySubjectEl(e),n=e.target;return t&&(!this.handleSelector||ji(n,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){Pm=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?ji(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Lm||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(Pm=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,i=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:i}}createEventFromTouch(e,t){let n=e.touches,i,s,a=0,o=0;return n&&n.length?(i=n[0].pageX,s=n[0].pageY):(i=e.pageX,s=e.pageY),t?(this.origPageX=i,this.origPageY=s):(a=i-this.origPageX,o=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:a,deltaY:o}}}function vB(r){return r.button===0&&!r.ctrlKey}function wB(){Lm+=1,setTimeout(()=>{Lm-=1},Gg.touchMouseIgnoreWait)}function yB(){$d+=1,$d===1&&window.addEventListener("touchmove",lS,{passive:!1})}function _B(){$d-=1,$d||window.removeEventListener("touchmove",lS,{passive:!1})}function lS(r){Pm&&r.preventDefault()}class bB{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",Tu(n,{left:i.left,top:i.top}),UR(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(Eg(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Tu(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Tu(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class cS extends Vg{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class hS extends cS{constructor(e,t){super(new cF(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return oF(this.scrollController.el)}}class xB extends cS{constructor(e){super(new hF,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const By=typeof performance=="function"?performance.now:Date.now;class SB{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=By();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let n=e-window.scrollX,i=t-window.scrollY,s=this.pointerScreenY===null?0:i-this.pointerScreenY,a=this.pointerScreenX===null?0:n-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(By()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:n}=e,{edgeThreshold:i}=this,s=i-e.distance,a=s*s/(i*i)*this.maxVelocity*t,o=1;switch(e.name){case"left":o=-1;case"right":n.setScrollLeft(n.getScrollLeft()+a*o);break;case"top":o=-1;case"bottom":n.setScrollTop(n.getScrollTop()+a*o);break}}computeBestEdge(e,t){let{edgeThreshold:n}=this,i=null,s=this.scrollCaches||[];for(let a of s){let o=a.clientRect,c=e-o.left,h=o.right-e,u=t-o.top,p=o.bottom-t;c>=0&&h>=0&&u>=0&&p>=0&&(u<=n&&this.everMovedUp&&a.canScrollUp()&&(!i||i.distance>u)&&(i={scrollCache:a,name:"top",distance:u}),p<=n&&this.everMovedDown&&a.canScrollDown()&&(!i||i.distance>p)&&(i={scrollCache:a,name:"bottom",distance:p}),c<=n&&this.everMovedLeft&&a.canScrollLeft()&&(!i||i.distance>c)&&(i={scrollCache:a,name:"left",distance:c}),h<=n&&this.everMovedRight&&a.canScrollRight()&&(!i||i.distance>h)&&(i={scrollCache:a,name:"right",distance:h}))}return i}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new xB(!1):new hS(t,!1))}queryScrollEls(e){let t=[];for(let n of this.scrollQuery)typeof n=="object"?t.push(n):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return t}}class sf extends dF{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,zR(document.body),jR(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,a,{deltaX:o,deltaY:c}=i;a=o*o+c*c,a>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,HR(document.body),WR(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new oS(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),t&&(n.selector=t),this.mirror=new bB,this.autoScroller=new SB}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class EB{constructor(e){this.el=e,this.origRect=Wg(e),this.scrollCaches=_5(e).map(t=>new hS(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let n={left:e,top:t};for(let i of this.scrollCaches)if(!AB(i.getEventTarget())&&!ZO(n,i.clientRect))return!1;return!0}}function AB(r){let e=r.tagName;return e==="HTML"||e==="BODY"}class _p{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):i.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new yp}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},n=t,i=e.subjectEl,s;i instanceof HTMLElement&&(s=Wg(i),n=YO(n,s));let a=this.initialHit=this.queryHitForOffset(n.left,n.top);if(a){if(this.useSubjectCenter&&s){let o=v5(s,a.rect);o&&(n=KO(o))}this.coordAdjust=XO(n,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!bp(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=il(this.droppableStore,e=>(e.component.prepareHits(),new EB(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:i}=this,s=null;for(let a in n){let o=n[a].component,c=i[a];if(c&&c.isWithinClipping(e,t)){let h=c.computeLeft(),u=c.computeTop(),p=e-h,g=t-u,{origRect:d}=c,_=d.right-d.left,y=d.bottom-d.top;if(p>=0&&p<_&&g>=0&&g<y){let b=o.queryHit(p,g,_,y);b&&vp(b.dateProfile.activeRange,b.dateSpan.range)&&(this.disablePointCheck||c.el.contains(c.el.getRootNode().elementFromPoint(p+h-window.scrollX,g+u-window.scrollY)))&&(!s||b.layer>s.layer)&&(b.componentId=a,b.context=o.context,b.rect.left+=h,b.rect.right+=h,b.rect.top+=u,b.rect.bottom+=u,s=b)}}}return s}}function bp(r,e){return!r&&!e?!0:!!r!=!!e?!1:MO(r.dateSpan,e.dateSpan)}function uS(r,e){let t={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(t,n(r,e));return Object.assign(t,TB(r,e.dateEnv)),t}function TB(r,e){return{date:e.toDate(r.range.start),dateStr:e.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay}}class CB extends Zh{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:i}=this,s=n.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=n=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:a,finalHit:o}=this.hitDragging;if(a&&o&&bp(a,o)){let{context:c}=i,h=Object.assign(Object.assign({},uS(a.dateSpan,c)),{dayEl:a.dayEl,jsEvent:n.origEvent,view:c.viewApi||c.calendarApi.view});c.emitter.trigger("dateClick",h)}}},this.dragging=new sf(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new _p(this.dragging,Hg(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class kB extends Zh{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=a=>{let{component:o,dragging:c}=this,{options:h}=o.context,u=h.selectable&&o.isValidDateDownEl(a.origEvent.target);c.setIgnoreMove(!u),c.delay=a.isTouch?DB(o):null},this.handleDragStart=a=>{this.component.context.calendarApi.unselect(a)},this.handleHitUpdate=(a,o)=>{let{context:c}=this.component,h=null,u=!1;if(a){let p=this.hitDragging.initialHit;a.componentId===p.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(p,a)||(h=NB(p,a,c.pluginHooks.dateSelectionTransformers)),(!h||!yF(h,a.dateProfile,c))&&(u=!0,h=null)}h?c.dispatch({type:"SELECT_DATES",selection:h}):o||c.dispatch({type:"UNSELECT_DATES"}),u?Ag():Tg(),o||(this.dragSelection=h)},this.handlePointerUp=a=>{this.dragSelection&&(o5(this.dragSelection,a,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:n}=t.context,i=this.dragging=new sf(e.el);i.touchScrollAllowed=!1,i.minDistance=n.selectMinDistance||0,i.autoScroller.isEnabled=n.dragScroll;let s=this.hitDragging=new _p(this.dragging,Hg(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function DB(r){let{options:e}=r.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function NB(r,e,t){let n=r.dateSpan,i=e.dateSpan,s=[n.range.start,n.range.end,i.range.start,i.range.end];s.sort(ZR);let a={};for(let o of t){let c=o(r,e);if(c===!1)return null;c&&Object.assign(a,c)}return a.range={start:s[0],end:s[3]},a.allDay=n.allDay,a}class af extends Zh{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let o=a.origEvent.target,{component:c,dragging:h}=this,{mirror:u}=h,{options:p}=c.context,g=c.context;this.subjectEl=a.subjectEl;let d=this.subjectSeg=Bh(a.subjectEl),y=(this.eventRange=d.eventRange).instance.instanceId;this.relevantEvents=Mg(g.getCurrentData().eventStore,y),h.minDistance=a.isTouch?0:p.eventDragMinDistance,h.delay=a.isTouch&&y!==c.props.eventSelection?LB(c):null,p.fixedMirrorParent?u.parentNode=p.fixedMirrorParent:u.parentNode=ji(o,".fc"),u.revertDuration=p.dragRevertDuration;let b=c.isValidSegDownEl(o)&&!ji(o,".fc-event-resizer");h.setIgnoreMove(!b),this.isDragging=b&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let o=this.component.context,c=this.eventRange,h=c.instance.instanceId;a.isTouch?h!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:h}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(a),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new xn(o,c.def,c.instance),jsEvent:a.origEvent,view:o.viewApi}))},this.handleHitUpdate=(a,o)=>{if(!this.isDragging)return;let c=this.relevantEvents,h=this.hitDragging.initialHit,u=this.component.context,p=null,g=null,d=null,_=!1,y={affectedEvents:c,mutatedEvents:Qs(),isEvent:!0};if(a){p=a.context;let b=p.options;u===p||b.editable&&b.droppable?(g=IB(h,a,this.eventRange.instance.range.start,p.getCurrentData().pluginHooks.eventDragMutationMassagers),g&&(d=zg(c,p.getCurrentData().eventUiBases,g,p),y.mutatedEvents=d,k5(y,a.dateProfile,p)||(_=!0,g=null,d=null,y.mutatedEvents=Qs()))):p=null}this.displayDrag(p,y),_?Ag():Tg(),o||(u===p&&bp(h,a)&&(g=null),this.dragging.setMirrorNeedsRevert(!g),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=p,this.validMutation=g,this.mutatedRelevantEvents=d)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let o=this.component.context,c=o.viewApi,{receivingContext:h,validMutation:u}=this,p=this.eventRange.def,g=this.eventRange.instance,d=new xn(o,p,g),_=this.relevantEvents,y=this.mutatedRelevantEvents,{finalHit:b}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:d,jsEvent:a.origEvent,view:c}),u){if(h===o){let E=new xn(o,y.defs[p.defId],g?y.instances[g.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:y});let D={oldEvent:d,event:E,relatedEvents:Sc(y,o,g),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:_})}},N={};for(let I of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(N,I(u,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},D),N),{el:a.subjectEl,delta:u.datesDelta,jsEvent:a.origEvent,view:c})),o.emitter.trigger("eventChange",D)}else if(h){let E={event:d,relatedEvents:Sc(_,o,g),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:_})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},E),{draggedEl:a.subjectEl,view:c})),o.dispatch({type:"REMOVE_EVENTS",eventStore:_}),o.emitter.trigger("eventRemove",E);let D=y.defs[p.defId],N=y.instances[g.instanceId],I=new xn(h,D,N);h.dispatch({type:"MERGE_EVENTS",eventStore:y});let X={event:I,relatedEvents:Sc(y,h,N),revert(){h.dispatch({type:"REMOVE_EVENTS",eventStore:y})}};h.emitter.trigger("eventAdd",X),a.isTouch&&h.dispatch({type:"SELECT_EVENT",eventInstanceId:g.instanceId}),h.emitter.trigger("drop",Object.assign(Object.assign({},uS(b.dateSpan,h)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:b.context.viewApi})),h.emitter.trigger("eventReceive",Object.assign(Object.assign({},X),{draggedEl:a.subjectEl,view:b.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:n}=t.context,i=this.dragging=new sf(e.el);i.pointer.selector=af.SELECTOR,i.touchScrollAllowed=!1,i.autoScroller.isEnabled=n.dragScroll;let s=this.hitDragging=new _p(this.dragging,Cm);s.useSubjectCenter=e.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let n=this.component.context,i=this.receivingContext;i&&i!==e&&(i===n?i.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Qs(),isEvent:!0}}):i.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}af.SELECTOR=".fc-event-draggable, .fc-event-resizable";function IB(r,e,t,n){let i=r.dateSpan,s=e.dateSpan,a=i.range.start,o=s.range.start,c={};i.allDay!==s.allDay&&(c.allDay=s.allDay,c.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?a=cn(t):a=t);let h=xh(a,o,r.context.dateEnv,r.componentId===e.componentId?r.largeUnit:null);h.milliseconds&&(c.allDay=!1);let u={datesDelta:h,standardProps:c};for(let p of n)p(u,r,e);return u}function LB(r){let{options:e}=r.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class PB extends Zh{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:a}=this,o=this.querySegEl(s),c=Bh(o),h=this.eventRange=c.eventRange;this.dragging.minDistance=a.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==h.instance.instanceId)},this.handleDragStart=s=>{let{context:a}=this.component,o=this.eventRange;this.relevantEvents=Mg(a.getCurrentData().eventStore,this.eventRange.instance.instanceId);let c=this.querySegEl(s);this.draggingSegEl=c,this.draggingSeg=Bh(c),a.calendarApi.unselect(),a.emitter.trigger("eventResizeStart",{el:c,event:new xn(a,o.def,o.instance),jsEvent:s.origEvent,view:a.viewApi})},this.handleHitUpdate=(s,a,o)=>{let{context:c}=this.component,h=this.relevantEvents,u=this.hitDragging.initialHit,p=this.eventRange.instance,g=null,d=null,_=!1,y={affectedEvents:h,mutatedEvents:Qs(),isEvent:!0};s&&(s.componentId===u.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(u,s)||(g=RB(u,s,o.subjectEl.classList.contains("fc-event-resizer-start"),p.range))),g&&(d=zg(h,c.getCurrentData().eventUiBases,g,c),y.mutatedEvents=d,k5(y,s.dateProfile,c)||(_=!0,g=null,d=null,y.mutatedEvents=null)),d?c.dispatch({type:"SET_EVENT_RESIZE",state:y}):c.dispatch({type:"UNSET_EVENT_RESIZE"}),_?Ag():Tg(),a||(g&&bp(u,s)&&(g=null),this.validMutation=g,this.mutatedRelevantEvents=d)},this.handleDragEnd=s=>{let{context:a}=this.component,o=this.eventRange.def,c=this.eventRange.instance,h=new xn(a,o,c),u=this.relevantEvents,p=this.mutatedRelevantEvents;if(a.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:h,jsEvent:s.origEvent,view:a.viewApi}),this.validMutation){let g=new xn(a,p.defs[o.defId],c?p.instances[c.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:p});let d={oldEvent:h,event:g,relatedEvents:Sc(p,a,c),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:u})}};a.emitter.trigger("eventResize",Object.assign(Object.assign({},d),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||xr(0),endDelta:this.validMutation.endDelta||xr(0),jsEvent:s.origEvent,view:a.viewApi})),a.emitter.trigger("eventChange",d)}else a.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,n=this.dragging=new sf(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let i=this.hitDragging=new _p(this.dragging,Hg(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return ji(e.subjectEl,".fc-event")}}function RB(r,e,t,n){let i=r.context.dateEnv,s=r.dateSpan.range.start,a=e.dateSpan.range.start,o=xh(s,a,i,r.largeUnit);if(t){if(i.add(n.start,o)<n.end)return{startDelta:o}}else if(i.add(n.end,o)>n.start)return{endDelta:o};return null}class OB{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let i=this.context.options.unselectCancel,s=Bx(n.origEvent);this.matchesCancel=!!ji(s,i),this.matchesEvent=!!ji(s,af.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:i}=this,{documentPointer:s}=this,a=i.getCurrentData();if(!s.wasTouchScroll){if(a.dateSelection&&!this.isRecentPointerDateSelect){let o=i.options.unselectAuto;o&&(!o||!this.matchesCancel)&&i.calendarApi.unselect(n)}a.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new oS(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const FB={fixedMirrorParent:Ue},MB={dateClick:Ue,eventDragStart:Ue,eventDragStop:Ue,eventDrop:Ue,eventResizeStart:Ue,eventResizeStop:Ue,eventResize:Ue,drop:Ue,eventReceive:Ue,eventLeave:Ue};Gg.dataAttrPrefix="";var fS=ll({name:"@fullcalendar/interaction",componentInteractions:[CB,kB,af,PB],calendarInteractions:[OB],elementDraggingImpl:sf,optionRefiners:FB,listenerRefiners:MB}),dS={code:"pt-br",buttonText:{prev:"Anterior",next:"Prximo",prevYear:"Ano anterior",nextYear:"Prximo ano",year:"Ano",today:"Hoje",month:"Ms",week:"Semana",day:"Dia",list:"Lista"},buttonHints:{prev:"$0 Anterior",next:"Prximo $0",today(r){return r==="Dia"?"Hoje":(r==="Semana"?"Esta":"Este")+" "+r.toLocaleLowerCase()}},viewHint(r){return"Visualizar "+(r==="Semana"?"a":"o")+" "+r.toLocaleLowerCase()},weekText:"Sm",weekTextLong:"Semana",allDayText:"dia inteiro",moreLinkText(r){return"mais +"+r},moreLinkHint(r){return"Mostrar mais ".concat(r," eventos")},noEventsText:"No h eventos para mostrar",navLinkHint:"Ir para $0",closeHint:"Fechar",timeHint:"A hora",eventHint:"Evento"};class pS extends ge{createTaskCard(e,t={}){const{compactMode:n=!1,showAssignee:i=!0,showDueDate:s=!0,showPriority:a=!0,showStatus:o=!0,onClick:c=()=>{}}=t,h=n?this.createCompactBody(e,t):this.createDetailedBody(e,t);return new kn({className:["task-card",e.overdue?"task-overdue":"",e.priority?"priority-".concat(e.priority.toLowerCase()):""],bodyClassName:["task-card-body"],events:{click:()=>c(e)},body:h})}createCompactBody(e,t){var n,i;return new Ge({className:["task-card-body-compact"],gap:"10px",style:{padding:"12px"},children:[new Je({className:["task-compact-header"],children:[new Ge({flex:1,children:[new ze({text:e.title,className:["task-compact-title"]}),e.description&&new ze({text:e.description,className:["task-compact-description"],style:{fontSize:"0.8rem",color:"var(--vc-color-text-light)",marginTop:"4px"}})]}),t.showStatus&&$e.createBadge(e.status,{size:"small"})]}),new Je({className:["task-compact-footer"],children:[new Je({children:[this._avatar(e.users||e.users),new ze({text:((n=e.users)==null?void 0:n.name)||((i=e.users)==null?void 0:i.name)||"No atribudo",className:["task-compact-assignee"]})],gap:"8px",style:{alignItems:"center"}}),new Je({flex:1,justifyContent:"flex-end",children:[new Je({children:[new et({icon:"fa-regular fa-clock",style:{fontSize:"0.8rem",color:e.overdue?"var(--vc-color-danger)":"inherit"}}),new ze({text:bn.formatDate(e.due_date),className:["task-compact-due-date",e.overdue?"overdue":""]})],gap:"6px"})]})]})]})}createDetailedBody(e,t){const n=[];return n.push(new Ge({gap:"8px",children:[new ze({text:e.title,className:["task-detail-title"]}),e.description&&new ze({text:e.description,className:["task-detail-description"]})]})),t.showDueDate&&n.push(this.createDueDateSection(e)),t.showAssignee&&n.push(this.createAssigneeSection(e)),t.showPriority&&e.priority&&n.push(this.createPrioritySection(e)),e.notes&&n.push(this.createNotesSection(e)),n.push(this.createFooter(e)),new Ge({className:["task-card-body-normal"],gap:"16px",style:{padding:"16px"},children:n})}createDueDateSection(e){const t=e.overdue||e.due_date&&new Date(e.due_date)<new Date&&e.status!=="completed";return new yt({className:["task-due-section"],children:new Je({children:[new et({icon:"fa-regular fa-calendar",className:["task-due-icon"]}),new Ge({children:[new ze({text:"Prazo",className:["task-section-label"]}),new ze({text:"".concat(bn.formatDate(e.due_date)," ").concat(e.due_time||"").trim(),className:["task-due-text",t?"overdue":""]}),e.reminder&&new ze({text:"Lembrete: ".concat(this.formatReminder(e.reminder)),className:["task-reminder-text"]})]})],gap:"12px",style:{alignItems:"center"}})})}createAssigneeSection(e){var t;return new Je({className:["task-assignee-section"],children:[this._avatar(e.users),new Ge({children:[new ze({text:"Responsvel",className:["task-section-label"]}),new ze({text:((t=e.users)==null?void 0:t.name)||"No atribudo",className:["task-assignee-name"]})]})],gap:"12px",style:{alignItems:"center"}})}createPrioritySection(e){const t=(e.priority||"normal").toLowerCase(),n={low:"Baixa",medium:"Mdia",high:"Alta",urgent:"Urgente"},i={low:"fa-arrow-down",medium:"fa-minus",high:"fa-exclamation",urgent:"fa-bolt"};return new Je({children:[new et({icon:"fa-solid ".concat(i[t]||"fa-minus"),className:["task-priority-icon","priority-".concat(t)]}),new ze({text:n[t]||"Normal",className:["task-priority-text","priority-".concat(t)]})],gap:"8px",style:{alignItems:"center"}})}createNotesSection(e){return new Ge({gap:"8px",children:[new ze({text:"Observaes",className:["task-section-label"]}),new yt({className:["task-notes-box"],children:new ze({text:e.notes,style:{whiteSpace:"pre-line"}})})]})}createFooter(e){return new Je({className:["task-footer"],justifyContent:"space-between",children:[new ze({text:"Criado em ".concat(bn.formatDate(e.created_at)),className:["task-meta"]}),new Je({children:[new et({icon:"fa-solid fa-arrow-right",className:["task-details-icon"]}),new ze({text:"Ver detalhes",className:["task-details-link"]})],gap:"6px"})]})}formatReminder(e){return{"30_min":"30 minutos antes","1_hour":"1 hora antes","1_day":"1 dia antes","2_days":"2 dias antes"}[e]||e}_avatar(e){const t=(e==null?void 0:e.name)||"?";return bn.createAvatarBadge(t,{size:"medium",emptyName:"?",emptyBackgroundColor:"#e9ecef"})}}class BB extends ge{constructor({onCreateTask:e,onClose:t,onScheduleTask:n=null,initialValues:i={}}){super(),this.onCreateTask=e,this.onClose=t;const s={...i};console.log(s),this.initialValues=s,this.formData=s,this.onScheduleTask=n,this.controller=new ta}create(){return new Ge({style:{padding:"1rem",height:"100%",overflowY:"auto"},children:[new Es({title:"Nova Tarefa",subtitle:"Crie e organize suas atividades"}),this._form()]})}_form(){return new to({controller:this.controller,initialValues:this.initialValues,children:[new Je({children:[new ft({breakpoints:{lg:12},style:{marginBottom:"1rem"},children:[new ts({style:{height:"4rem"},label:"Ttulo da Tarefa",name:"title",required:!0,onChange:e=>this.formData.title=e})]}),new ft({breakpoints:{lg:12},style:{marginBottom:"1rem"},children:[new Bc({label:"Descrio",name:"description",placeholder:"Detalhes sobre o que precisa ser feito...",onChange:e=>this.formData.description=e})]}),new ft({breakpoints:{lg:12},style:{marginBottom:"1rem"},children:[new rd({title:"Responsvel",placeholder:"Buscar utilizadores...",endpoint:"/users",dataMapper:e=>(e==null?void 0:e.users)||[],itemBuilder:e=>{var t;return new _n({leadingStyle:{background:"none"},title:e.name,subtitle:(t=e.roles)==null?void 0:t.role,leading:bn.createAvatarBadge(e.name)})},onItemSelected:e=>this.formData.agent_id=e.id,onInit:()=>this.formData.users})]}),new ft({breakpoints:{lg:6},style:{marginBottom:"1rem"},children:[new Zo({style:{height:"4rem"},label:"Prazo",name:"due_date",required:!0,props:{minDate:new Date().toISOString().split("T")[0]},onChange:e=>this.formData.due_date=e})]}),new ft({breakpoints:{lg:6},style:{marginBottom:"1rem"},children:[new Ai({label:"Prioridade",name:"priority",style:{height:"4rem"},data:[{label:" Baixa",value:"low"},{label:" Mdia",value:"medium"},{label:" Alta",value:"high"},{label:" Urgente",value:"urgent"}],defaultValue:"medium",onChange:e=>{this.formData={...this.formData,priority:e}}})]}),new ft({breakpoints:{lg:6},style:{marginBottom:"1rem"},children:[new Ai({label:"Lembrete",name:"reminder",style:{height:"4rem"},data:[{label:"Sem lembrete",value:"none"},{label:"30 minutos antes",value:"30_min"},{label:"1 hora antes",value:"1_hour"},{label:"1 dia antes",value:"1_day"}],value:"1_hour",onChange:e=>{this.formData={...this.formData,reminder:e}}})]}),new ft({breakpoints:{lg:6},style:{marginBottom:"1rem"},children:[new Ai({label:"Status",name:"status",style:{height:"4rem"},data:[{label:" Agendada",value:"scheduled"},{label:" Confirmada",value:"confirmed"},{label:" Pendente",value:"pending"},{label:" Em Andamento",value:"in_progress"},{label:" Concluda",value:"completed"},{label:" Cancelada",value:"cancelled"},{label:" Remarcada",value:"rescheduled"},{label:" No Compareceu",value:"no_show"}],value:"scheduled",onChange:e=>{this.formData={...this.formData,status:e}}})]}),this._createActionButtons()]})]})}_createActionButtons(){return new ft({breakpoints:{lg:12},children:[new Je({children:[new Qr({label:"Agendar Tarefa",theme:ht.button.type.primary,onPressed:async()=>{var t;await this.controller.isValid()&&(this.formData.hasOwnProperty("users")&&delete this.formData.users,this.formData.hasOwnProperty("taskTypes")&&delete this.formData.taskTypes,await((t=this.onScheduleTask)==null?void 0:t.call(this,this.formData)))}}),new Qr({label:"Fechar",theme:ht.button.type.secondary,onPressed:this.onClose})]})]})}}class UB extends ge{constructor(e){super(),this.task=e.task,this.onClick=e.onClick||(()=>{}),this.compactMode=e.compactMode||!1,this.showAssignee=e.showAssignee!==!1,this.showDueDate=e.showDueDate!==!1,this.showPriority=e.showPriority!==!1,this.showStatus=e.showStatus!==!1,this.shared=new pS}create(){return this.shared.createTaskCard(this.task,{compactMode:this.compactMode,showAssignee:this.showAssignee,showDueDate:this.showDueDate,showPriority:this.showPriority,showStatus:this.showStatus,onClick:this.onClick})}}class zB extends ge{constructor({tasks:e=[],onTaskClick:t=()=>{},onStatusChange:n=()=>{},onAddTask:i=()=>{},onTaskDelete:s=()=>{},statuses:a=["pending","in_progress","completed","cancelled"]}={}){super(),this.tasks=e,this.onTaskClick=t,this.onStatusChange=n,this.onAddTask=i,this.onTaskDelete=s,this.statuses=a,this.statusLabels={pending:{label:"A Fazer",color:"#6c757d",icon:"fa fa-clock",gradient:"linear-gradient(135deg, #6c757d 0%, #495057 100%)"},in_progress:{label:"Em Andamento",color:"#ffc107",icon:"fa fa-activity",gradient:"linear-gradient(135deg, #ffc107 0%, #ff9800 100%)"},completed:{label:"Concludas",color:"#28a745",icon:"fa fa-check-circle",gradient:"linear-gradient(135deg, #28a745 0%, #1e7e34 100%)"},cancelled:{label:"Canceladas",color:"#dc3545",icon:"fa fa-x-circle",gradient:"linear-gradient(135deg, #dc3545 0%, #c82333 100%)"}},this.draggedTask=null,this.activeFilter="all"}create(){return new yt({className:["task-kanban-board"],children:[new Je({className:["kanban-columns"],containerPadding:!0,rowContainerStyle:{padding:0},children:this.statuses.map(e=>this.createColumn(e))}),this.tasks.length===0&&new yt({className:["kanban-empty-board"],children:[new et({icon:"fa fa-inbox"}),new ze({text:"Nenhuma tarefa encontrada",className:["empty-board-title"],style:{fontSize:"1.2rem",marginTop:"20px",color:"#495057"}})]})]})}createColumn(e){const t=this.statusLabels[e]||{label:e,icon:"circle",gradient:"linear-gradient(135deg, #6c757d 0%, #495057 100%)"},n=this.tasks.filter(i=>i.status===e);return new Ge({className:["kanban-column","column-".concat(e)],gap:"15px",children:[new yt({className:["kanban-column-header"],style:{background:t.gradient},children:new Je({children:[new Je({alignItems:"center",gap:"10px",children:[new et({name:t.icon,size:18,color:"white"}),new ze({text:t.label.toUpperCase(),className:["kanban-column-title"],style:{fontWeight:"600",letterSpacing:"0.5px"}})]}),new yt({className:["kanban-task-count"],children:new ze({text:"".concat(n.length),style:{fontWeight:"700"}})})],style:{padding:"15px 20px",justifyContent:"space-between"}})}),new yt({className:["kanban-task-list"],style:{background:n.length===0?"#f8f9fa":"white",minHeight:"150px",padding:"20px"},children:n.length===0?[this.createEmptyColumnState(e)]:n.map(i=>this.createTaskCard(i))})]})}createEmptyColumnState(e){const t=this.statusLabels[e];return new yt({className:["kanban-empty-state"],children:[new et({icon:t.icon}),new ze({text:"Nenhuma tarefa",style:{color:"#adb5bd",fontStyle:"italic",marginTop:"10px",fontSize:"0.9rem"}})]})}createTaskCard(e){const t=e.due_date&&new Date(e.due_date)<new Date&&e.status!=="completed",n=e.priority==="high";return new yt({className:["kanban-task-wrapper",t?"task-overdue":"",n?"task-high-priority":""],style:{position:"relative"},children:[n&&new yt({className:["priority-indicator"],style:{position:"absolute",left:"0",top:"0",bottom:"0",width:"4px",background:"linear-gradient(to bottom, #ff6b6b, #ff4757)",borderTopLeftRadius:"8px",borderBottomLeftRadius:"8px"}}),new UB({task:e,compactMode:!0,showAssignee:!0,showDueDate:!0,showPriority:!0,showStatus:!1,showDelete:!0,onClick:()=>this.onTaskClick(e),onDelete:()=>this.onTaskDelete(e),className:[]}).create()]})}}let HB=class extends Sa{constructor(){super({pageTitle:"Tarefas",endpoint:"/tasks",dataMapper:({tasks:e})=>e,handleAddOrUpdatePageType:Hu.NEW_PAGE,onBack:()=>sr.instance.back(),onFilter:()=>{this.createOnFilterInputs()},displayType:"grid",downloadEndpoint:"/tasks/download",downloadLabel:"tarefas"}),this.formElements=new ba,this.calendarRef=null,this.selectedTaskId=null,this.notes="",this.tasksComponents=new pS({onTypingNote:e=>{this.notes=e},onAddNote:async()=>{await this._addTaskNotes()}})}async toNewPage(){const e=new ui;try{e==null||e.show();const{result:t,status:n}=await S0.createTask();if(n!==200||t.status==="error")return $e.showErrorNotification({message:"Ocorreu um erro ao criar uma nova tarefa"});await this._scheduleTask({initialValues:t.data[0]})}catch(t){console.log(t),$e.showErrorNotification({message:"Ocorreu um erro ao criar uma nova tarefa"})}finally{e==null||e.close()}}createOnFilterInputs(){this.filtersOffCanvas=new qn({content:new Ge({style:{overflowY:"auto",height:"100%",padding:"1rem"},children:[new mi({text:"Filtros"}),...bn.createFilterInputs(this.formElements,this.controller,Yb,()=>this._applyFilters(),()=>this._clearFilters(),this.formData)]})}),this.filtersOffCanvas.show()}createFilterInputs(){return[new jr({watch:()=>{const e=this.state.tags;return new Ea({tags:e,onRemoveTag:(t,n)=>{var i;this.formData=this.formElements.getFormData(),delete this.formData[n],(i=this.formElements.removeFormDataKey)==null||i[n],this.setState(s=>({tags:Object.fromEntries(Object.entries(s.tags||{}).filter(([a])=>a!==t))})),this.refreshData()},onClearAll:()=>{this._clearFilters(),this.setState({tags:{}})},emptyMessage:"Nenhum filtro aplicado"}).create()}}),new el({label:"Mostrar por estado",onChange:e=>{this.setState(()=>({calendarMode:!!e})),!e&&this.calendarRef&&(this.calendarRef.destroy(),this.calendarRef=null)}})]}_showTagRemovedFeedback(e){$e.showInfoNotification({message:'Filtro "'.concat(e,'" removido')})}createGridItem(e){return this.state.calendarMode?new zB({tasks:e,compactMode:!1,showAssignee:!0,showDueDate:!0,showPriority:!0,showStatus:!0}).create():this.tasksComponents.createTaskCard(e,{compactMode:!1,showAssignee:!0,showDueDate:!0,showPriority:!0,showStatus:!0,onClick:t=>{this.openMenuContext(t)}})}openMenuContext(e){this.menuContext=new up({items:fp({view:{onTap:()=>{var t;this.openTaskProfile(e),(t=this.menuContext)==null||t.close()}},edit:{onTap:async()=>{var t;await this._scheduleTask({initialValues:e}),(t=this.menuContext)==null||t.close()}},remove:{onTap:()=>{}}})}),this.menuContext.show()}openTaskProfile(e){var t;this.selectedTaskId=e.id,this.taskProfileOffCanvas=new qn({style:{width:"100vw",alignItems:"start"},content:[]}),(t=this.taskProfileOffCanvas)==null||t.show()}mapTasksToEvents(e=[]){return!e||!Array.isArray(e)?[]:e.map(t=>{var n;return{id:t.id,title:"".concat(((n=t.properties)==null?void 0:n.title)||"Sem titulo definido"),start:t.scheduled_date,end:t.scheduled_date,allDay:!1,extendedProps:{taskData:t},backgroundColor:this.getEventColor(t.status),borderColor:this.getEventColor(t.status),textColor:"#ffffff"}})}getEventColor(e){const t={scheduled:"#3498db",confirmed:"#2ecc71",cancelled:"#e74c3c",completed:"#9b59b6",default:"#95a5a6"};return t[e]||t.default}createCalendar(e){return new yt({style:{minHeight:"500px",position:"relative"},onAttached:t=>{this.calendarRef&&this.calendarRef.destroy();const n=this.mapTasksToEvents(e);this.calendarRef=new $5(t,{plugins:[rS,aS,fS],initialView:"dayGridMonth",locale:dS,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},events:n,eventClick:i=>{const s=i.event.extendedProps.taskData;s&&s.id&&this.openMenuContext(s)},eventDisplay:"block",editable:!1,selectable:!1,height:"auto",contentHeight:"auto"}),requestAnimationFrame(()=>{this.calendarRef.render()})}})}async _scheduleTask({initialValues:e}){var n;const t=new BB({initialValues:e,onScheduleTask:async i=>{var s;try{const a=Ss.getCurrentUser();await S0.saveTask({...i,created_by:a.id}),this.refreshData()}catch(a){$e.showErrorNotification({message:"Ocorreu um erro ao salvar Tarefa"})}finally{(s=this.scheduleTaskOffcanvas)==null||s.close()}},onClose:()=>{var i;(i=this.scheduleTaskOffcanvas)==null||i.close()}});this.scheduleTaskOffcanvas=new qn({content:[t.create()]}),(n=this.scheduleTaskOffcanvas)==null||n.show()}async _addTaskNotes(){var e;try{const t=Ss.getCurrentUser();await S0.addNotes({task_id:this.selectedTaskId,action:"Adicionou uma nova nota",description:this.notes,created_by:t.id})}catch(t){$e.showErrorNotification({message:"Ocorreu um erro ao salvar notas"})}finally{(e=this.scheduleTaskOffcanvas)==null||e.close()}}_renderAvatarBadgeCell(e,t=!1){const n=(e==null?void 0:e.name)||"NA";return bn.createAvatarBadge(n,{emptyName:"NA",emptyBackgroundColor:"#e9ecef",emptyTextColor:"#6c757d",size:t?"small":"medium",style:t?{width:"24px",height:"24px",fontSize:"0.6rem"}:void 0})}_applyFilters(){var e;this.formData=this.formElements.getFormData(),this.refreshData(),(e=this.filtersOffCanvas)==null||e.close(),this.setState(t=>({tags:{...this.formElements.getSearchTagData()}}))}_clearFilters(){var e;this.formData={},this.refreshData(),this.formElements.resetFormData(),this.formElements.resetSearchTagData(),(e=this.filtersOffCanvas)==null||e.close()}},jB=class extends ge{constructor({args:e}){super(),this.taskId=e==null?void 0:e.taskId,this.formData={},this.controller=new ta,this.initState({isLoading:!0})}async mounted(){try{if(this.taskId){const{result:e}=await Ut.instance.get("/tasks/".concat(this.taskId));this.formData={...this.formData,...e.data[0]},this.controller.setInitialValues(this.formData)}}catch(e){$e.showErrorNotification({message:"Erro ao carregar tarefa"})}finally{this.setState({isLoading:!1})}}async saveTask(){try{const e={...this.formData};await Ut.instance.post("/tasks",e),$e.showSuccessMessage("Tarefa criada com sucesso!")}catch(e){$e.showErrorNotification({message:"Erro ao guardar tarefa"})}}render(){return this.children=[new Ge({children:[new Es({title:"Actualizar Tarafa",subtitle:"Organize e acompanhe todas as atividades da equipa",onBack:()=>sr.instance.back()}),new kn({style:{borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},body:new to({controller:this.controller,children:[new Ge({style:{padding:"1.5rem",gap:"1.5rem"},children:[new Je({children:[new ft({breakpoints:{lg:8},children:[new ts({label:"Ttulo da Tarefa",placeholder:"Ex: Ligar para Sr. Joo  Interesse no T3 Campo Grande",name:"title",value:this.formData.title,onChange:e=>this.formData.title=e})]}),new ft({breakpoints:{lg:4},children:[new ya({future:()=>Ut.instance.get("/task-types"),label:"Tipo de Tarefa",placeholder:"Selecione o tipo",name:"type",value:this.formData.type,proxyData:e=>{var t;return(((t=e.result)==null?void 0:t.task_types)||[]).map(n=>({label:n.name,value:n.id})).sort((n,i)=>i.sort_order-n.sort_order)},onChange:e=>this.formData.type=e})]})]}),new Je({children:[new ft({breakpoints:{lg:4},children:[new Ai({label:"Prioridade",name:"priority",value:this.formData.priority,data:[{label:"Baixa",value:"low"},{label:"Normal",value:"normal"},{label:"Alta",value:"high"},{label:"Urgente",value:"urgent"}],onChange:e=>this.formData.priority=e})]}),new ft({breakpoints:{lg:4},children:[new Ai({label:"Estado",name:"status",value:this.formData.status,data:[{label:"Pendente",value:"pending"},{label:"Em Progresso",value:"in_progress"},{label:"Concluda",value:"completed"},{label:"Cancelada",value:"cancelled"}],onChange:e=>this.formData.status=e})]}),new ft({breakpoints:{lg:2},children:[new Zo({placeholder:"Data",name:"due_date",value:this.formData.due_date,onChange:e=>this.formData.due_date=e})]}),new ft({breakpoints:{lg:2},children:[new Zo({placeholder:"Hora",props:{type:"time"},name:"due_date",value:this.formData.due_date,onChange:e=>this.formData.due_date=e})]})]}),new Je({children:[new ft({breakpoints:{lg:6},children:[new ya({future:()=>Ut.instance.get("/users"),label:"Atribudo a",placeholder:"Selecione o responsvel",name:"assigned_to",value:this.formData.assigned_to,proxyData:e=>{var t;return(((t=e.result)==null?void 0:t.users)||[]).map(n=>({label:n.name,value:n.id}))},onChange:e=>this.formData.assigned_to=e})]}),new ft({breakpoints:{lg:3},children:[new Ai({label:"Relacionado com",name:"related_type",value:this.formData.related_type,data:[{label:"Lead",value:"lead"},{label:"Cliente",value:"client"},{label:"Imvel",value:"property"},{label:"Proprietrio",value:"owner"},{label:"Negcio",value:"deal"}],onChange:e=>this.formData.related_type=e})]}),new ft({breakpoints:{lg:3},children:[new ts({label:"ID Relacionado",name:"related_id",placeholder:"Ex: 1234",value:this.formData.related_id,onChange:e=>this.formData.related_id=e})]})]}),new Hh({label:"Descrio / Notas",placeholder:"Detalhes sobre o que precisa ser feito...",name:"description",value:this.formData.description,style:{height:"120px"},onChange:e=>this.formData.description=e}),new Je({children:[new ft({breakpoints:{lg:6},children:[new el({label:"Ativar lembrete",name:"reminder_enabled",checked:this.formData.reminder_enabled,onChange:e=>this.formData.reminder_enabled=e})]}),new ft({breakpoints:{lg:6},children:[this.formData.reminder_enabled?new Ai({label:"Notificar antes",value:this.formData.reminder_time,name:"reminder_time",data:[{label:"15 minutos",value:"15m"},{label:"1 hora",value:"1h"},{label:"1 dia",value:"1d"},{label:"2 dias",value:"2d"}],onChange:e=>this.formData.reminder_time=e}):new Ge]})]}),new Je({children:[new Qr({label:"Salvar",prefixIcon:new et({icon:"fa-solid fa-check"}),onPressed:()=>this.saveTask()})]})]})]})})]})],super.render()}};class WB extends ge{constructor({args:e}){super(),this.taskId=e==null?void 0:e.taskId,this.initState({isLoading:!0,taskData:{},logs:[]})}async mounted(){try{if(this.taskId){const{result:e}=await Ut.instance.get("/tasks/".concat(this.taskId));this.state.taskData=e.data[0]}else $e.showErrorNotification({message:"ID da tarefa no fornecido"}),sr.instance.back()}catch(e){$e.showErrorNotification({message:"Erro ao carregar detalhes da tarefa"})}finally{this.setState({isLoading:!1})}}_renderInfoItem(e,t,n=null){return new Ge({style:{gap:"0.25rem",marginBottom:"1rem"},children:[new ze({text:e,style:{fontSize:"0.85rem",color:"#6c757d",fontWeight:"600"}}),new Je({style:{alignItems:"center",gap:"0.5rem"},children:[n?new et({icon:n,style:{fontSize:"0.9rem",color:"#495057"}}):null,new ze({text:"".concat(t)||"-",style:{fontSize:"1rem",color:"#212529"}})].filter(Boolean)})]})}_renderActivityLogs(){return new kn({style:{marginTop:"1.5rem",padding:"1.5rem",borderRadius:"8px",border:"none!important"},body:new Ge({children:[new ze({text:"Histrico de Actividade",tag:"h3",style:{fontSize:"1.1rem",fontWeight:"bold",marginBottom:"1rem"}}),new Ge({style:{gap:"15px",borderLeft:"2px solid #e9ecef",paddingLeft:"20px",marginLeft:"10px"},children:this.state.logs.length>0?this.state.logs.map(e=>this._renderLogItem(e)):[new ze({text:"Nenhuma actividade registada.",style:{color:"#999",fontStyle:"italic"}})]})]})})}_renderLogItem(e){return new yt({style:{position:"relative"},children:[new yt({style:{position:"absolute",left:"-26px",top:"5px",width:"10px",height:"10px",borderRadius:"50%",backgroundColor:"#adb5bd"}}),new Ge({children:[new ze({text:e.description||"Atualizao do sistema",style:{fontSize:"0.95rem",color:"#333"}}),new ze({text:"".concat(e.created_at,"  ").concat(e.user_name||"Sistema"),style:{fontSize:"0.8rem",color:"#888",marginTop:"4px"}})]})]})}_renderBadge(e,t){var a;const i={urgent:"#dc3545",high:"#fd7e14",normal:"#0d6efd",low:"#6c757d",completed:"#198754",pending:"#ffc107",cancelled:"#dc3545",in_progress:"#0dcaf0"}[t]||"#6c757d",s=t==="pending"?"#000":"#fff";return new Ge({style:{gap:"0.25rem",marginBottom:"1rem"},children:[new Je({children:[new ze({text:e,style:{fontSize:"0.85rem",color:"#6c757d",fontWeight:"600"}}),new yt({style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"5px",cursor:"pointer",color:"#342993"},children:[new et({icon:"fa fa-edit"}),new ze({text:"Alrerar",style:{fontSize:"0.65rem",color:"#6c757d",fontWeight:"600"}})]})]}),new yt({style:{backgroundColor:i,padding:"0.25rem 0.75rem",borderRadius:"12px",display:"inline-block",width:"fit-content"},children:[new ze({text:(a=mu[t])==null?void 0:a.label,style:{color:"".concat(s,"!important"),fontSize:"0.85rem",fontWeight:"bold"}})]})]})}render(){return this.children=[new jr({watch:()=>{var t,n;const e=this.state.taskData;return new Ge({gap:"20px",children:[new Es({title:"Tarefa #".concat(this.taskId),subtitle:"Detalhes e informaes da atividade",onBack:()=>sr.instance.back(),actions:[new Qr({label:"Editar",prefixIcon:new et({icon:"fa-solid fa-pen"}),onPressed:()=>sr.instance.to("/activities/tasks/save/".concat(this.taskId))})]}),new kn({style:{borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",padding:"2rem"},body:new Ge({style:{gap:"2rem"},children:[new Je({style:{borderBottom:"1px solid #dee2e6",paddingBottom:"1rem"},children:[new ft({breakpoints:{lg:6},children:[new ze({text:e.title,tag:"h2",style:{fontSize:"1.5rem",fontWeight:"bold",margin:0}})]}),new ft({breakpoints:{lg:6},children:[new Je({gap:"10px",children:[new et({icon:"fa-solid fa-tag",style:{color:"#6c757d"}}),new ze({text:((t=e.taskTypes)==null?void 0:t.name)||"Sem Tipo",style:{color:"#6c757d"}})]})]})]}),new Je({children:[new ft({breakpoints:{lg:3},children:[this._renderBadge("Prioridade",e.priority)]}),new ft({breakpoints:{lg:3},children:[this._renderBadge("Estado",e.status)]}),new ft({breakpoints:{lg:3},children:[this._renderInfoItem("Data de Vencimento",e.due_date,"fa-regular fa-calendar")]}),new ft({breakpoints:{lg:3},children:[this._renderInfoItem("Responsvel",((n=e.users)==null?void 0:n.name)||"No atribudo","fa-regular fa-user")]})]}),new Je({children:[new ft({breakpoints:{lg:8},children:[new Ge({children:[new ze({text:"Descrio",style:{fontSize:"1.1rem",fontWeight:"bold",marginBottom:"0.5rem"}}),new yt({style:{backgroundColor:"#f8f9fa",padding:"1rem",borderRadius:"4px",minHeight:"100px"},children:[new ze({text:e.description||"Sem descrio fornecida.",style:{whiteSpace:"pre-wrap"}})]}),new Hh({label:"Notas adicionais"}),new Qr({label:"Salvar"}),this._renderActivityLogs()]})]}),new ft({breakpoints:{lg:4},children:[new kn({style:{backgroundColor:"#fff",border:"1px solid #dee2e6",padding:"1rem"},body:new Ge({children:[new ze({text:"Detalhes Relacionados",style:{fontWeight:"bold",marginBottom:"1rem"}}),this._renderInfoItem("Relacionado com",e.related_type),this._renderInfoItem("ID Relacionado",e.related_id),this._renderInfoItem("Lembrete Ativo",e.reminder_enabled?"Sim":"No",e.reminder_enabled?"fa-solid fa-bell":"fa-regular fa-bell-slash"),e.reminder_enabled?this._renderInfoItem("Tempo Lembrete",e.reminder_time):null].filter(Boolean)})})]})]})]})})]})}})],super.render()}}let VB=class extends Sa{constructor(){super({pageTitle:"Visitas",endpoint:"/visits",dataMapper:({visits:e})=>e,handleAddOrUpdatePageType:Hu.NEW_PAGE,onBack:()=>sr.instance.back(),onFilter:()=>{this.createOnFilterInputs()},displayType:"grid",downloadEndpoint:"/visits/download",downloadLabel:"visitas"}),this.formElements=new ba,this.calendarRef=null,this.selectedVisitId=null,this.notes="",this.visitsComponents=new mx({onTypingNote:e=>{this.notes=e},onAddNote:async()=>{await this._addVisitNotes()}})}async toNewPage(){const e=new ui;try{e==null||e.show();const{result:t,status:n}=await bh.createVisit();if(n!==200||t.status==="error")return $e.showErrorNotification({message:"Ocorreu um erro ao criar uma nova visita"});await this._scheduleVisit({initialValues:t.data[0]})}catch(t){console.log(t),$e.showErrorNotification({message:"Ocorreu um erro ao criar uma nova visita"})}finally{e==null||e.close()}}createOnFilterInputs(){this.filtersOffCanvas=new qn({content:new Ge({style:{overflowY:"auto",height:"100%",padding:"1rem"},children:[new mi({text:"Filtros"}),...bn.createFilterInputs(this.formElements,this.controller,Yb,()=>this._applyFilters(),()=>this._clearFilters(),this.formData)]})}),this.filtersOffCanvas.show()}createFilterInputs(){return[new jr({watch:()=>{const e=this.state.tags;return new Ea({tags:e,onRemoveTag:(t,n)=>{var i;this.formData=this.formElements.getFormData(),delete this.formData[n],(i=this.formElements.removeFormDataKey)==null||i[n],this.setState(s=>({tags:Object.fromEntries(Object.entries(s.tags||{}).filter(([a])=>a!==t))})),this.refreshData()},onClearAll:()=>{this._clearFilters(),this.setState({tags:{}})},emptyMessage:"Nenhum filtro aplicado"}).create()}}),new el({label:"Mostrar no modo calendario",onChange:e=>{this.setState(()=>({calendarMode:!!e})),!e&&this.calendarRef&&(this.calendarRef.destroy(),this.calendarRef=null)}})]}_showTagRemovedFeedback(e){$e.showInfoNotification({message:'Filtro "'.concat(e,'" removido')})}createGridItem(e){return this.state.calendarMode?this.createCalendar(e):this.visitsComponents.createVisitCard(e,{compactMode:!1,onClick:t=>{this.openMenuContext(t)}})}openMenuContext(e){this.menuContext=new up({items:fp({view:{onTap:()=>{var t;this.openVisitProfile(e),(t=this.menuContext)==null||t.close()}},edit:{onTap:async()=>{var t;await this._scheduleVisit({initialValues:e}),(t=this.menuContext)==null||t.close()}},remove:{onTap:()=>{const t=$e.showConfirmationDialog({title:"Deseja realmente remover esse registo?",subtitle:"Esta ao  irreversvel. Toda informao relacionado com este registo vai ser removido do sistema permanentemente, confirme antes de continuar.",confirmText:"Sim, remover",cancelText:"Cancelar",onConfirm:async()=>{var n;await bh.removeVisit(e.id),this.refreshData(),t==null||t.close(),(n=this.menuContext)==null||n.close()},onCancel:()=>{t==null||t.close()}})}}})}),this.menuContext.show()}openVisitProfile(e){var t;this.selectedVisitId=e.id,this.visitProfileOffCanvas=new qn({style:{width:"100vw",alignItems:"start"},content:[this.visitsComponents.createVisitProfileView(e,{showHeader:!0,showHistory:!0,showAddNote:!0,showPriority:!0,showMeetingPoint:!0,showContactPhone:!0,showNotes:!0})]}),(t=this.visitProfileOffCanvas)==null||t.show()}mapVisitsToEvents(e=[]){return!e||!Array.isArray(e)?[]:e.map(t=>{var n,i;return{id:t.id,title:"".concat(((n=t.properties)==null?void 0:n.title)||"Sem imvel definido"," - ").concat(((i=t.clients)==null?void 0:i.name)||"N/A"),start:t.scheduled_date,end:t.scheduled_date,allDay:!1,extendedProps:{visitData:t},backgroundColor:this.getEventColor(t.status),borderColor:this.getEventColor(t.status),textColor:"#ffffff"}})}getEventColor(e){const t={scheduled:"#3498db",confirmed:"#2ecc71",cancelled:"#e74c3c",completed:"#9b59b6",default:"#95a5a6"};return t[e]||t.default}createCalendar(e){return new yt({style:{minHeight:"500px",position:"relative"},onAttached:t=>{this.calendarRef&&this.calendarRef.destroy();const n=this.mapVisitsToEvents(e);this.calendarRef=new $5(t,{plugins:[rS,aS,fS],initialView:"dayGridMonth",locale:dS,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},events:n,eventClick:i=>{const s=i.event.extendedProps.visitData;s&&s.id&&this.openMenuContext(s)},eventDisplay:"block",editable:!1,selectable:!1,height:"auto",contentHeight:"auto"}),requestAnimationFrame(()=>{this.calendarRef.render()})}})}async _scheduleVisit({initialValues:e}){var n;const t=new Jb({initialValues:e,onScheduleVisit:async i=>{var s;try{const a=Ss.getCurrentUser();await bh.saveVisit({...i,created_by:a.id}),this.refreshData()}catch(a){$e.showErrorNotification({message:"Ocorreu um erro ao salvar Visita"})}finally{(s=this.scheduleVisitOffcanvas)==null||s.close()}},onClose:()=>{var i;(i=this.scheduleVisitOffcanvas)==null||i.close()}});this.scheduleVisitOffcanvas=new qn({content:[t.create()]}),(n=this.scheduleVisitOffcanvas)==null||n.show()}async _addVisitNotes(){var e;try{const t=Ss.getCurrentUser();await bh.addNotes({visit_id:this.selectedVisitId,action:"Adicionou uma nova nota",description:this.notes,created_by:t.id})}catch(t){$e.showErrorNotification({message:"Ocorreu um erro ao salvar notas"})}finally{(e=this.scheduleVisitOffcanvas)==null||e.close()}}_renderAvatarBadgeCell(e,t=!1){const n=(e==null?void 0:e.name)||"NA";return bn.createAvatarBadge(n,{emptyName:"NA",emptyBackgroundColor:"#e9ecef",emptyTextColor:"#6c757d",size:t?"small":"medium",style:t?{width:"24px",height:"24px",fontSize:"0.6rem"}:void 0})}_applyFilters(){var e;this.formData=this.formElements.getFormData(),this.refreshData(),(e=this.filtersOffCanvas)==null||e.close(),this.setState(t=>({tags:{...this.formElements.getSearchTagData()}}))}_clearFilters(){var e;this.formData={},this.refreshData(),this.formElements.resetFormData(),this.formElements.resetSearchTagData(),(e=this.filtersOffCanvas)==null||e.close()}};class qB extends ge{constructor({args:e}){super(),this.visitId=e==null?void 0:e.visitId,this.formData={status:"scheduled",reminder_enabled:!0,reminder_time:"1h"},this.controller=new ta,this.initState({isLoading:!0})}async mounted(){try{if(this.visitId){const{result:e}=await Ut.instance.get("/visits/".concat(this.visitId));this.formData={...this.formData,...e.data[0]},this.controller.setInitialValues(this.formData)}}catch(e){$e.showErrorNotification({message:"Erro ao carregar visita"})}finally{this.setState({isLoading:!1})}}async saveVisit(){try{const e={...this.formData};if(!e.property_id||!e.client_id||!e.visit_date){$e.showErrorNotification({message:"Por favor preencha os campos obrigatrios."});return}this.visitId?(await Ut.instance.put("/visits/".concat(this.visitId),e),$e.showSuccessMessage("Visita atualizada com sucesso!")):(await Ut.instance.post("/visits",e),$e.showSuccessMessage("Visita agendada com sucesso!")),sr.instance.back()}catch(e){$e.showErrorNotification({message:"Erro ao guardar visita"})}}render(){return this.children=[new Ge({children:[new Es({title:this.visitId?"Editar Visita":"Agendar Visita",subtitle:"Gerencie os agendamentos de visitas aos imveis",onBack:()=>sr.instance.back()}),new kn({style:{borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},body:new to({controller:this.controller,children:[new Ge({style:{padding:"1.5rem",gap:"1.5rem"},children:[new Je({children:[new ft({breakpoints:{lg:6},children:[new ya({future:()=>Ut.instance.get("/properties"),label:"Imvel",placeholder:"Selecione o imvel",name:"property_id",value:this.formData.property_id,proxyData:e=>{var t;return(((t=e.result)==null?void 0:t.properties)||[]).map(n=>({label:"".concat(n.reference," - ").concat(n.title),value:n.id}))},onChange:e=>this.formData.property_id=e})]}),new ft({breakpoints:{lg:6},children:[new ya({future:()=>Ut.instance.get("/clients"),label:"Cliente / Lead",placeholder:"Selecione o cliente",name:"client_id",value:this.formData.client_id,proxyData:e=>{var t;return(((t=e.result)==null?void 0:t.clients)||[]).map(n=>({label:n.name,value:n.id}))},onChange:e=>this.formData.client_id=e})]})]}),new Je({children:[new ft({breakpoints:{lg:3},children:[new Zo({label:"Data da Visita",placeholder:"Data",name:"visit_date",value:this.formData.visit_date,onChange:e=>this.formData.visit_date=e})]}),new ft({breakpoints:{lg:2},children:[new Zo({label:"Incio",placeholder:"Hora",props:{type:"time"},name:"start_time",value:this.formData.start_time,onChange:e=>this.formData.start_time=e})]}),new ft({breakpoints:{lg:2},children:[new Zo({label:"Fim",placeholder:"Hora",props:{type:"time"},name:"end_time",value:this.formData.end_time,onChange:e=>this.formData.end_time=e})]}),new ft({breakpoints:{lg:3},children:[new ya({future:()=>Ut.instance.get("/users?role=agent"),label:"Corretor Responsvel",placeholder:"Selecione",name:"agent_id",value:this.formData.agent_id,proxyData:e=>{var t;return(((t=e.result)==null?void 0:t.users)||[]).map(n=>({label:n.name,value:n.id}))},onChange:e=>this.formData.agent_id=e})]}),new ft({breakpoints:{lg:2},children:[new Ai({label:"Estado",name:"status",value:this.formData.status,data:[{label:"Agendada",value:"scheduled"},{label:"Realizada",value:"completed"},{label:"Cancelada",value:"cancelled"},{label:"No Show",value:"no_show"}],onChange:e=>this.formData.status=e})]})]}),new Hh({label:"Notas Internas / Feedback da Visita",placeholder:"Detalhes de acesso, chaves, ou feedback do cliente aps a visita...",name:"notes",value:this.formData.notes,style:{height:"120px"},onChange:e=>this.formData.notes=e}),new Je({children:[new ft({breakpoints:{lg:6},children:[new el({label:"Enviar lembrete ao cliente/corretor",name:"reminder_enabled",checked:this.formData.reminder_enabled,onChange:e=>this.formData.reminder_enabled=e})]}),new ft({breakpoints:{lg:6},children:[this.formData.reminder_enabled?new Ai({label:"Notificar com antecedncia de",value:this.formData.reminder_time,name:"reminder_time",data:[{label:"1 hora",value:"1h"},{label:"2 horas",value:"2h"},{label:"1 dia",value:"1d"}],onChange:e=>this.formData.reminder_time=e}):new Ge]})]}),new Je({children:[new Qr({label:"Salvar Agendamento",prefixIcon:new et({icon:"fa-solid fa-calendar-check"}),onPressed:()=>this.saveVisit()})]})]})]})})]})],super.render()}}let GB=class extends ge{constructor(){super()}async mounted(){}createContent(){return new Ge({style:{padding:"1rem",gap:"1.5rem"},children:[new Es({title:"Configuraes",subtitle:"Gerencie e personalize as configuraes do sistema imobilirio",style:{marginBottom:"1rem"}}),new kn({header:new Je({children:[new et({icon:"fa-solid fa-users-gear"}),new ze({text:"Gerenciamento de Usurios e Stakeholders"})]}),style:{borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"1rem"},body:new Ge({style:{padding:"1rem"},children:[new _n({title:"Privilgios e Permisses",subtitle:"Controle nveis de acesso e permisses de usurios",leading:new et({icon:"fa-solid fa-user-shield"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",marginBottom:"0.5rem"},onTap:()=>sr.instance.to("/configurations/roles")}),new _n({title:"Utilizadores",subtitle:"Gerencie criao e edio de contas de utilizadores",leading:new et({icon:"fa-solid fa-users"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",marginBottom:"0.5rem"},onTap:()=>sr.instance.to("/configurations/users")}),new _n({title:"Proprietrios",subtitle:"Administre registros de proprietrios de imveis",leading:new et({icon:"fa-solid fa-user-tie"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",marginBottom:"0.5rem"},onTap:()=>sr.instance.to("/configurations/owners")}),new _n({title:"Agentes",subtitle:"Configure perfis de agentes imobilirios",leading:new et({icon:"fa-solid fa-user-secret"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",marginBottom:"0.5rem"},onTap:()=>sr.instance.to("/configurations/agents")}),new _n({title:"Clientes",subtitle:"Gerencie perfis de clientes imobilirios",leading:new et({icon:"fa-solid fa-user-group"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem"},onTap:()=>sr.instance.to("/configurations/clients")})]})}),new kn({header:new Je({children:[new et({icon:"fa-solid fa-house"}),new ze({text:"Configuraes de Imveis"})]}),style:{borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"1rem"},body:new Ge({style:{padding:"1rem"},children:[new _n({title:"Categorias",subtitle:"Configure categorias para classificao de imveis",leading:new et({icon:"fa-solid fa-sliders"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",marginBottom:"0.5rem"},onTap:()=>sr.instance.to("/configurations/categories")}),new _n({title:"Comodidades",subtitle:"Personalize comodidades disponveis para imveis",leading:new et({icon:"fa-solid fa-tags"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",marginBottom:"0.5rem"},onTap:()=>sr.instance.to("/configurations/property-features")}),new _n({title:"Finalidades",subtitle:"Defina finalidades para uso de imveis",leading:new et({icon:"fa-solid fa-bullseye"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",marginBottom:"0.5rem"},onTap:()=>sr.instance.to("/configurations/finalities")}),new _n({title:"Bairros",subtitle:"Gerencie informaes de bairros e localizaes",leading:new et({icon:"fa-solid fa-map-location-dot"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem"},onTap:()=>sr.instance.to("/configurations/neighborhoods")})]})}),new kn({header:new Je({children:[new et({icon:"fa-solid fa-gears"}),new ze({text:"Configuraes do Sistema"})]}),style:{borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},body:new Ge({style:{padding:"1rem"},children:[new _n({title:"Sair da Aplicao",subtitle:"Encerre a sesso atual com segurana",leading:new et({icon:"fa-solid fa-right-from-bracket"}),trailing:new et({icon:"fa-solid fa-chevron-right"}),style:{padding:"0.75rem",borderRadius:"6px"},onTap:async()=>{await Ss.logout(),sr.instance.to("/auth")}})]})})]})}render(){return this.children=[this.createContent()],super.render()}};const $B=[{type:"Imovel",roles:[{label:"Informao geral",value:"general_info"},{label:"Endereo e geolocalizao",value:"address_geolocation"},{label:"Imagens do Imvel",value:"property_images"},{label:"Fleyers",value:"assets"}]},{type:"Actividades",roles:[{label:"Gerir tarefas",value:"manage_tasks"},{label:"Gerir visitas",value:"manage_visits"}]},{type:"Configuraes",roles:[{label:"Gerir utilizadores",value:"manage_users"},{label:"Gerir agentes",value:"manage_agents"},{label:"Gerir proprietrios",value:"manage_owners"},{label:"Gerir clientes",value:"manage_clients"},{label:"Gerir categorias",value:"manage_categories"},{label:"Gerir comodidades",value:"manage_features"},{label:"Gerir finalidades",value:"manage_finalities"},{label:"Gerir bairros",value:"manage_neighborhoods"},{label:"Gerir parmetros do sistema",value:"manage_system_parameters"},{label:"Gerir API's e integraes",value:"manage_apis_and_integrations"}]}];let ZB=class extends Sa{constructor(){super({pageTitle:"Privilgios e Permisses",endpoint:"/roles",primaryKey:"id",dataMapper:"roles",onBack:()=>{sr.instance.back()},onFilter:()=>{this.createOnFilterInputs()}}),this.permissions={},this.formElements=new ba}createOnFilterInputs(){this.filtersOffCanvas=new qn({content:new Ge({style:{overflowY:"auto",height:"100%"},children:[new mi({text:"Filtros"}),...bn.createFilterInputs(this.formElements,this.controller,t6,()=>this._applyFilters(),()=>this._clearFilters(),this.formData)]})}),this.filtersOffCanvas.show()}createFilterInputs(){return[new jr({watch:()=>{const e=this.state.tags;return new Ea({tags:e,onRemoveTag:(t,n)=>{var i;this.formData=this.formElements.getFormData(),delete this.formData[n],(i=this.formElements.removeFormDataKey)==null||i[n],this.setState(s=>({tags:Object.fromEntries(Object.entries(s.tags||{}).filter(([a])=>a!==t))})),this.refreshData()},onClearAll:()=>{this._clearFilters(),this.setState({tags:{}})},emptyMessage:"Nenhum filtro aplicado"}).create()}})]}createTableColumns(){return[$e.createTextColumn({label:"Privilgio",key:"role"}),$e.createStatusColumn({label:"Status",key:"status"}),$e.createActionsColumn({width:"200px",actions:[{label:"Editar",onAction:(e,t)=>{try{this.permissions=JSON.parse(t.permissions)}catch(n){}this.formData={...t,status:!!t.status},this.showUpdateForm(),this.permissions&&Object.entries(this.permissions).forEach(([n,i])=>{this.controller.setFieldValue(n,i)})}},{label:"Remover",theme:ht.button.type.danger,onAction:(e,t)=>{this.formData=t;const n=$e.showConfirmationDialog({title:"Deseja realmente remover esse registo?",subtitle:"Esta ao  irreversvel. Toda informao relacionado com este registo vai ser removido do sistema permanentemente, confirme antes de continuar.",confirmLabel:"Sim, remover",cancelLabel:"Fechar",onConfirm:async()=>{n==null||n.close(),await this.handleRemoveRecord()},onCancel:()=>{n==null||n.close()}})}}]})]}createFormInputs(){var e;return[this.formElements.createTextInput({label:"Nome do Privilgio",name:"role",placeholder:"Ex: Gestor de Imveis, Administrador",required:!0,value:((e=this.formData)==null?void 0:e.role)||"",onChange:t=>{this.updateFormData("role",t)}}),this.formElements.createCheckBoxInput({label:"Status",name:"status",onChange:t=>{this.updateFormData("status",t?1:0)}}),...$B.map(t=>new Ge({children:[new ze({text:t==null?void 0:t.type}),...t==null?void 0:t.roles.map(n=>this.formElements.createCheckBoxInput({label:n==null?void 0:n.label,name:n==null?void 0:n.value,onChange:i=>{i?this.permissions={...this.permissions,[n==null?void 0:n.value]:!0}:delete this.permissions[n==null?void 0:n.value],this.updateFormData("permissions",JSON.stringify(this.permissions))}}))]}))]}_applyFilters(){var e;this.formData=this.formElements.getFormData(),this.refreshData(),(e=this.filtersOffCanvas)==null||e.close(),this.setState(t=>({tags:{...this.formElements.getSearchTagData()}}))}_clearFilters(){var e;this.formData={},this.refreshData(),this.formElements.resetFormData(),this.formElements.resetSearchTagData(),(e=this.filtersOffCanvas)==null||e.close()}},YB=class extends Sa{constructor(){super({pageTitle:"Utilizadores",endpoint:"/users",primaryKey:"id",dataMapper:"users",onBack:()=>{sr.instance.back()},onFilter:()=>{this.createOnFilterInputs()}});dt(this,"_handlePasswordUpdate",async({values:t,id:n})=>{var i;console.log(t);try{const{result:s,status:a}=await Ut.instance.put("users/update-password",{password:t.password,id:n});s.status==="success"&&$e.showSuccessNotification({message:"Senha actualizada com sucesso"})}catch(s){$e.showErrorNotification({message:"Ocorreu um erro ao actualizar a senha"})}finally{(i=this.updatePasswordForm)==null||i.close()}});this.formElements=new ba}createOnFilterInputs(){this.filtersOffCanvas=new qn({content:new Ge({style:{overflowY:"auto",height:"100%"},children:[new mi({text:"Filtros"}),...bn.createFilterInputs(this.formElements,this.controller,r6,()=>this._applyFilters(),()=>this._clearFilters(),this.formData)]})}),this.filtersOffCanvas.show()}createFilterInputs(){return[new jr({watch:()=>{const t=this.state.tags;return new Ea({tags:t,onRemoveTag:(n,i)=>{var s;this.formData=this.formElements.getFormData(),delete this.formData[i],(s=this.formElements.removeFormDataKey)==null||s[i],this.setState(a=>({tags:Object.fromEntries(Object.entries(a.tags||{}).filter(([o])=>o!==n))})),this.refreshData()},onClearAll:()=>{this._clearFilters(),this.setState({tags:{}})},emptyMessage:"Nenhum filtro aplicado"}).create()}})]}showUpdatePasswordForm(t){var i;const n=new ta;this.updatePasswordForm=$e.showBottomSheet({content:[new Es({title:"Actualizar Senha",subtitle:"Coloque uma senha facil de lembrar e evite caracteres sequenciados"}),new to({controller:n,onSubmit:this._handlePasswordUpdate,payload:{id:t.id},children:[new Ge({children:[this.formElements.createPasswordInput({label:"Senha",name:"password",required:!0}),this.formElements.createPasswordInput({label:"Confirmar Senha",required:!0,validation:s=>{const{password:a}=n.getField("password");return a!==s?"As senhas no conferem":null}}),new Je({children:[new Qr({label:"Salvar",onPressed:async()=>{await n.isValid()&&n.submit()}}),new Qr({label:"Fechar",theme:ht.button.type.danger,onPressed:()=>{var s;(s=this.updatePasswordForm)==null||s.close()}})]})]})]})]}),(i=this.updatePasswordForm)==null||i.show()}createTableColumns(){return[$e.createTextColumn({label:"Nome",key:"name"}),$e.createTextColumn({label:"Email",key:"email"}),$e.createTextColumn({label:"Utilizador",key:"username"}),$e.createTextColumn({label:"Privilgio",key:({roles:t})=>t==null?void 0:t.role}),$e.createActionsColumn({width:"400px",actions:[{label:"Alterar senha",onAction:(t,n)=>{this.showUpdatePasswordForm(n)}},{label:"Editar",theme:ht.button.type.primary,onAction:(t,n)=>{this.formData=n,this.showUpdateForm()}},{label:"Remover",theme:ht.button.type.danger,onAction:(t,n)=>{this.formData=n;const i=$e.showConfirmationDialog({title:"Deseja realmente remover esse registo?",subtitle:"Esta ao  irreversvel. Toda informao relacionado com este registo vai ser removido do sistema permanentemente, confirme antes de continuar.",confirmLabel:"Sim, remover",cancelLabel:"Fechar",onConfirm:async()=>{i==null||i.close(),await this.handleRemoveRecord()},onCancel:()=>{i==null||i.close()}})}}]})]}createFormInputs(){return[this.formElements.createTextInput({label:"Utilizador",name:"username",onChange:t=>{this.updateFormData("username",t)}}),this.formElements.createTextInput({label:"Nome",name:"name",onChange:t=>{this.updateFormData("name",t)}}),this.formElements.createTextInput({label:"Email",name:"email",onChange:t=>{this.updateFormData("email",t)}}),this.formElements.createSelectBuilder({endpoint:"/roles",label:"Privilgio",name:"role_id",dataMapper:({result:t})=>t.roles,onChange:t=>{this.updateFormData("role_id",t)}})]}_applyFilters(){var t;this.formData=this.formElements.getFormData(),this.refreshData(),(t=this.filtersOffCanvas)==null||t.close(),this.setState(n=>({tags:{...this.formElements.getSearchTagData()}}))}_clearFilters(){var t;this.formData={},this.refreshData(),this.formElements.resetFormData(),this.formElements.resetSearchTagData(),(t=this.filtersOffCanvas)==null||t.close()}},KB=class extends Sa{constructor(){super({pageTitle:"Agentes",endpoint:"/agents",primaryKey:"id",dataMapper:"agents",onBack:()=>{sr.instance.back()},onFilter:()=>{this.createOnFilterInputs()}}),this.controller=new ta,this.formElements=new ba}createOnFilterInputs(){this.filtersOffCanvas=new qn({content:new Ge({style:{overflowY:"auto",height:"100%"},children:[new mi({text:"Filtros"}),...bn.createFilterInputs(this.formElements,this.controller,n6,()=>this._applyFilters(),()=>this._clearFilters(),this.formData)]})}),this.filtersOffCanvas.show()}createFilterInputs(){return[new jr({watch:()=>{const e=this.state.tags;return new Ea({tags:e,onRemoveTag:(t,n)=>{var i;this.formData=this.formElements.getFormData(),delete this.formData[n],(i=this.formElements.removeFormDataKey)==null||i[n],this.setState(s=>({tags:Object.fromEntries(Object.entries(s.tags||{}).filter(([a])=>a!==t))})),this.refreshData()},onClearAll:()=>{this._clearFilters(),this.setState({tags:{}})},emptyMessage:"Nenhum filtro aplicado"}).create()}})]}createTableColumns(){return[$e.createTextColumn({label:"Nome",key:"name",width:"40%",style:{textAlign:"center"}}),$e.createTextColumn({label:"Email",key:"email"}),$e.createTextColumn({label:"Contacto",key:"contact_1"}),$e.createActionsColumn({width:"200px",actions:[{label:"Editar",theme:ht.button.type.primary,onAction:(e,t)=>{this.formData=t,this.showUpdateForm()}},{label:"Remover",theme:ht.button.type.danger,onAction:(e,t)=>{this.formData=t;const n=$e.showConfirmationDialog({title:"Deseja realmente remover esse registo?",subtitle:"Esta ao  irreversvel. Toda informao relacionado com este registo vai ser removido do sistema permanentemente, confirme antes de continuar.",confirmLabel:"Sim, remover",cancelLabel:"Fechar",onConfirm:async()=>{n==null||n.close(),await this.handleRemoveRecord()},onCancel:()=>{n==null||n.close()}})}}]})]}createFormInputs(){return[this.formElements.createTextInput({label:"Nome",name:"name",onChange:e=>{this.updateFormData("name",e)}}),this.formElements.createTextInput({label:"email",name:"email",onChange:e=>{this.updateFormData("email",e)}}),this.formElements.createTextInput({label:"Contacto",name:"contact_1",onChange:e=>{this.updateFormData("contact_1",e)}}),this.formElements.createTextInput({label:"Contacto alternativo",name:"contact_2",onChange:e=>{this.updateFormData("contact_2",e)}})]}_applyFilters(){var e;this.formData=this.formElements.getFormData(),this.refreshData(),(e=this.filtersOffCanvas)==null||e.close(),this.setState(t=>({tags:{...this.formElements.getSearchTagData()}}))}_clearFilters(){var e;this.formData={},this.refreshData(),this.formElements.resetFormData(),this.formElements.resetSearchTagData(),(e=this.filtersOffCanvas)==null||e.close()}},XB=class extends Sa{constructor(){super({pageTitle:"Proprietrios",endpoint:"/owners",primaryKey:"id",dataMapper:"owners",onBack:()=>{sr.instance.back()},onFilter:()=>{this.createOnFilterInputs()}}),this.controller=new ta,this.formElements=new ba}createOnFilterInputs(){this.filtersOffCanvas=new qn({content:new Ge({style:{overflowY:"auto",height:"100%"},children:[new mi({text:"Filtros"}),...bn.createFilterInputs(this.formElements,this.controller,Kb,()=>this._applyFilters(),()=>this._clearFilters(),this.formData)]})}),this.filtersOffCanvas.show()}createFilterInputs(){return[new jr({watch:()=>{const e=this.state.tags;return new Ea({tags:e,onRemoveTag:(t,n)=>{var i;this.formData=this.formElements.getFormData(),delete this.formData[n],(i=this.formElements.removeFormDataKey)==null||i[n],this.setState(s=>({tags:Object.fromEntries(Object.entries(s.tags||{}).filter(([a])=>a!==t))})),this.refreshData()},onClearAll:()=>{this._clearFilters(),this.setState({tags:{}})},emptyMessage:"Nenhum filtro aplicado"}).create()}})]}createTableColumns(){return[$e.createTextColumn({label:"Nome",key:"name",width:"500px"}),$e.createTextColumn({label:"Email",key:"email",width:"400px"}),$e.createTextColumn({label:"Contacto",key:"contact_1",width:"200px",style:{textAlign:"center"}}),$e.createActionsColumn({width:"200px",actions:[{label:"Editar",theme:ht.button.type.primary,onAction:(e,t)=>{this.formData=t,this.showUpdateForm()}},{label:"Remover",theme:ht.button.type.danger,onAction:(e,t)=>{this.formData=t;const n=$e.showConfirmationDialog({title:"Deseja realmente remover esse registo?",subtitle:"Esta ao  irreversvel. Toda informao relacionado com este registo vai ser removido do sistema permanentemente, confirme antes de continuar.",confirmLabel:"Sim, remover",cancelLabel:"Fechar",onConfirm:async()=>{n==null||n.close(),await this.handleRemoveRecord()},onCancel:()=>{n==null||n.close()}})}}]})]}createFormInputs(){return[this.formElements.createTextInput({label:"Nome",name:"name",onChange:e=>{this.updateFormData("name",e)}}),this.formElements.createTextInput({label:"email",name:"email",onChange:e=>{this.updateFormData("email",e)}}),this.formElements.createTextInput({label:"Contacto",name:"contact_1",onChange:e=>{this.updateFormData("contact_1",e)}}),this.formElements.createTextInput({label:"Contacto alternativo",name:"contact_2",onChange:e=>{this.updateFormData("contact_2",e)}}),new Bc({label:"Endereo",name:"address",onChange:e=>{this.updateFormData("address",e)}})]}_applyFilters(){var e;this.formData=this.formElements.getFormData(),this.refreshData(),(e=this.filtersOffCanvas)==null||e.close(),this.setState(t=>({tags:{...this.formElements.getSearchTagData()}}))}_clearFilters(){var e;this.formData={},this.refreshData(),this.formElements.resetFormData(),this.formElements.resetSearchTagData(),(e=this.filtersOffCanvas)==null||e.close()}},JB=class extends Sa{constructor(){super({pageTitle:"Clientes",endpoint:"/clients",primaryKey:"id",dataMapper:"clients",onBack:()=>{sr.instance.back()},onFilter:()=>{this.createOnFilterInputs()}}),this.controller=new ta,this.formElements=new ba}createOnFilterInputs(){this.filtersOffCanvas=new qn({content:new Ge({style:{overflowY:"auto",height:"100%"},children:[new mi({text:"Filtros"}),...bn.createFilterInputs(this.formElements,this.controller,Kb,()=>this._applyFilters(),()=>this._clearFilters(),this.formData)]})}),this.filtersOffCanvas.show()}createFilterInputs(){return[new jr({watch:()=>{const e=this.state.tags;return new Ea({tags:e,onRemoveTag:(t,n)=>{var i;this.formData=this.formElements.getFormData(),delete this.formData[n],(i=this.formElements.removeFormDataKey)==null||i[n],this.setState(s=>({tags:Object.fromEntries(Object.entries(s.tags||{}).filter(([a])=>a!==t))})),this.refreshData()},onClearAll:()=>{this._clearFilters(),this.setState({tags:{}})},emptyMessage:"Nenhum filtro aplicado"}).create()}})]}createTableColumns(){return[$e.createTextColumn({label:"Nome",key:"name",width:"500px"}),$e.createTextColumn({label:"Email",key:"email",width:"400px"}),$e.createTextColumn({label:"Contacto",key:"contact_1",width:"200px",style:{textAlign:"center"}}),$e.createActionsColumn({width:"200px",actions:[{label:"Editar",theme:ht.button.type.primary,onAction:(e,t)=>{this.formData=t,this.showUpdateForm()}},{label:"Remover",theme:ht.button.type.danger,onAction:(e,t)=>{this.formData=t;const n=$e.showConfirmationDialog({title:"Deseja realmente remover esse registo?",subtitle:"Esta ao  irreversvel. Toda informao relacionado com este registo vai ser removido do sistema permanentemente, confirme antes de continuar.",confirmLabel:"Sim, remover",cancelLabel:"Fechar",onConfirm:async()=>{n==null||n.close(),await this.handleRemoveRecord()},onCancel:()=>{n==null||n.close()}})}}]})]}createFormInputs(){return[this.formElements.createTextInput({label:"Nome",name:"name",onChange:e=>{this.updateFormData("name",e)}}),this.formElements.createTextInput({label:"email",name:"email",onChange:e=>{this.updateFormData("email",e)}}),this.formElements.createTextInput({label:"Contacto",name:"contact_1",onChange:e=>{this.updateFormData("contact_1",e)}}),this.formElements.createTextInput({label:"Contacto alternativo",name:"contact_2",onChange:e=>{this.updateFormData("contact_2",e)}}),new Bc({label:"Endereo",name:"address",onChange:e=>{this.updateFormData("address",e)}})]}_applyFilters(){var e;this.formData=this.formElements.getFormData(),this.refreshData(),(e=this.filtersOffCanvas)==null||e.close(),this.setState(t=>({tags:{...this.formElements.getSearchTagData()}}))}_clearFilters(){var e;this.formData={},this.refreshData(),this.formElements.resetFormData(),this.formElements.resetSearchTagData(),(e=this.filtersOffCanvas)==null||e.close()}},QB=class extends Sa{constructor(){super({pageTitle:"Categorias",endpoint:"/categories",primaryKey:"id",dataMapper:"categories",onBack:()=>{sr.instance.back()},onFilter:()=>{this.createOnFilterInputs()}}),this.formElements=new ba}createOnFilterInputs(){this.filtersOffCanvas=new qn({content:new Ge({style:{overflowY:"auto",height:"100%"},children:[new mi({text:"Filtros"}),...bn.createFilterInputs(this.formElements,this.controller,cp,()=>this._applyFilters(),()=>this._clearFilters(),this.formData)]})}),this.filtersOffCanvas.show()}createFilterInputs(){return[new jr({watch:()=>{const e=this.state.tags;return new Ea({tags:e,onRemoveTag:(t,n)=>{var i;this.formData=this.formElements.getFormData(),delete this.formData[n],(i=this.formElements.removeFormDataKey)==null||i[n],this.setState(s=>({tags:Object.fromEntries(Object.entries(s.tags||{}).filter(([a])=>a!==t))})),this.refreshData()},onClearAll:()=>{this._clearFilters(),this.setState({tags:{}})},emptyMessage:"Nenhum filtro aplicado"}).create()}})]}createTableColumns(){return[$e.createTextColumn({label:"Nome",key:"name",width:"70%"}),$e.createStatusColumn({label:"Estado",key:"status"}),$e.createActionsColumn({width:"200px",actions:[{label:"Editar",theme:ht.button.type.primary,onAction:(e,t)=>{this.formData=t,this.showUpdateForm()}},{label:"Remover",theme:ht.button.type.danger,onAction:(e,t)=>{this.formData=t;const n=$e.showConfirmationDialog({title:"Deseja realmente remover esse registo?",subtitle:"Esta ao  irreversvel. Toda informao relacionado com este registo vai ser removido do sistema permanentemente, confirme antes de continuar.",confirmLabel:"Sim, remover",cancelLabel:"Fechar",onConfirm:async()=>{n==null||n.close(),await this.handleRemoveRecord()},onCancel:()=>{n==null||n.close()}})}}]})]}createFormInputs(){return[this.formElements.createTextInput({label:"Nome",name:"name",onChange:e=>{this.updateFormData("name",e)}})]}_applyFilters(){var e;this.formData=this.formElements.getFormData(),this.refreshData(),(e=this.filtersOffCanvas)==null||e.close(),this.setState(t=>({tags:{...this.formElements.getSearchTagData()}}))}_clearFilters(){var e;this.formData={},this.refreshData(),this.formElements.resetFormData(),this.formElements.resetSearchTagData(),(e=this.filtersOffCanvas)==null||e.close()}},e9=class extends Sa{constructor(){super({pageTitle:"Comodidades",endpoint:"/features",primaryKey:"id",dataMapper:"features",onBack:()=>{sr.instance.back()},onFilter:()=>{this.createOnFilterInputs()}}),this.formElements=new ba}createOnFilterInputs(){this.filtersOffCanvas=new qn({content:new Ge({style:{overflowY:"auto",height:"100%"},children:[new mi({text:"Filtros"}),...bn.createFilterInputs(this.formElements,this.controller,cp,()=>this._applyFilters(),()=>this._clearFilters(),this.formData)]})}),this.filtersOffCanvas.show()}createFilterInputs(){return[new jr({watch:()=>{const e=this.state.tags;return new Ea({tags:e,onRemoveTag:(t,n)=>{var i;this.formData=this.formElements.getFormData(),delete this.formData[n],(i=this.formElements.removeFormDataKey)==null||i[n],this.setState(s=>({tags:Object.fromEntries(Object.entries(s.tags||{}).filter(([a])=>a!==t))})),this.refreshData()},onClearAll:()=>{this._clearFilters(),this.setState({tags:{}})},emptyMessage:"Nenhum filtro aplicado"}).create()}})]}createTableColumns(){return[$e.createTextColumn({label:"Icon",key:"icon_svg",renderFn:e=>new ge({tagName:"span",onMounted:t=>{t.insertAdjacentHTML("afterbegin",e)}})}),$e.createTextColumn({label:"Nome",key:"name",width:"80%"}),$e.createActionsColumn({width:"200px",actions:[{label:"Editar",theme:ht.button.type.primary,onAction:(e,t)=>{this.formData=t,this.showUpdateForm()}},{label:"Remover",theme:ht.button.type.danger,onAction:(e,t)=>{this.formData=t;const n=$e.showConfirmationDialog({title:"Deseja realmente remover esse registo?",subtitle:"Esta ao  irreversvel. Toda informao relacionado com este registo vai ser removido do sistema permanentemente, confirme antes de continuar.",confirmLabel:"Sim, remover",cancelLabel:"Fechar",onConfirm:async()=>{n==null||n.close(),await this.handleRemoveRecord()},onCancel:()=>{n==null||n.close()}})}}]})]}createFormInputs(){return[this.formElements.createTextInput({label:"Nome",name:"name",onChange:e=>{this.updateFormData("name",e)}}),new Ge({children:[new ze({text:"Gerar Icon"}),new Je({rowStyle:{alignItems:"center",justifyContent:"space-between"},children:[new ge({tagName:"span",onAttached:e=>{this.formData.icon_svg&&e.insertAdjacentHTML("afterbegin",this.formData.icon_svg)}}),new Fl({style:{padding:"1rem"},icon:new et({icon:"fa fa-refresh"})})]})]}),new Bc({label:"Codigo SVG do Icon",name:"icon_svg",onChange:e=>{this.updateFormData("icon_svg",e)}})]}_applyFilters(){var e;this.formData=this.formElements.getFormData(),this.refreshData(),(e=this.filtersOffCanvas)==null||e.close(),this.setState(t=>({tags:{...this.formElements.getSearchTagData()}}))}_clearFilters(){var e;this.formData={},this.refreshData(),this.formElements.resetFormData(),this.formElements.resetSearchTagData(),(e=this.filtersOffCanvas)==null||e.close()}},t9=class extends Sa{constructor(){super({pageTitle:"Finalidades",endpoint:"/finalities",primaryKey:"id",dataMapper:"finalities",onBack:()=>{sr.instance.back()},onFilter:()=>{this.createOnFilterInputs()}}),this.formElements=new ba}createOnFilterInputs(){this.filtersOffCanvas=new qn({content:new Ge({style:{overflowY:"auto",height:"100%"},children:[new mi({text:"Filtros"}),...bn.createFilterInputs(this.formElements,this.controller,cp,()=>this._applyFilters(),()=>this._clearFilters(),this.formData)]})}),this.filtersOffCanvas.show()}createFilterInputs(){return[new jr({watch:()=>{const e=this.state.tags;return new Ea({tags:e,onRemoveTag:(t,n)=>{var i;this.formData=this.formElements.getFormData(),delete this.formData[n],(i=this.formElements.removeFormDataKey)==null||i[n],this.setState(s=>({tags:Object.fromEntries(Object.entries(s.tags||{}).filter(([a])=>a!==t))})),this.refreshData()},onClearAll:()=>{this._clearFilters(),this.setState({tags:{}})},emptyMessage:"Nenhum filtro aplicado"}).create()}})]}createTableColumns(){return[$e.createTextColumn({label:"Nome",key:"name"}),$e.createStatusColumn({label:"Estado",key:"status",width:"200px"}),$e.createActionsColumn({width:"200px",actions:[{label:"Editar",theme:ht.button.type.primary,onAction:(e,t)=>{this.formData=t,this.showUpdateForm()}},{label:"Remover",theme:ht.button.type.danger,onAction:(e,t)=>{this.formData=t;const n=$e.showConfirmationDialog({title:"Deseja realmente remover esse registo?",subtitle:"Esta ao  irreversvel. Toda informao relacionado com este registo vai ser removido do sistema permanentemente, confirme antes de continuar.",confirmLabel:"Sim, remover",cancelLabel:"Fechar",onConfirm:async()=>{n==null||n.close(),await this.handleRemoveRecord()},onCancel:()=>{n==null||n.close()}})}}]})]}createFormInputs(){return[this.formElements.createTextInput({label:"Nome",name:"name",onChange:e=>{this.updateFormData("name",e)}})]}_applyFilters(){var e;this.formData=this.formElements.getFormData(),this.refreshData(),(e=this.filtersOffCanvas)==null||e.close(),this.setState(t=>({tags:{...this.formElements.getSearchTagData()}}))}_clearFilters(){var e;this.formData={},this.refreshData(),this.formElements.resetFormData(),this.formElements.resetSearchTagData(),(e=this.filtersOffCanvas)==null||e.close()}};class r9 extends Sa{constructor(){super({pageTitle:"Bairros",endpoint:"/neighborhoods",primaryKey:"id",dataMapper:"neighborhoods",onBack:()=>{sr.instance.back()},onFilter:()=>{this.createOnFilterInputs()}}),this.formElements=new ba}createOnFilterInputs(){this.filtersOffCanvas=new qn({content:new Ge({style:{overflowY:"auto",height:"100%"},children:[new mi({text:"Filtros"}),...bn.createFilterInputs(this.formElements,this.controller,cp,()=>this._applyFilters(),()=>this._clearFilters(),this.formData)]})}),this.filtersOffCanvas.show()}createFilterInputs(){return[new jr({watch:()=>{const e=this.state.tags;return new Ea({tags:e,onRemoveTag:(t,n)=>{var i;this.formData=this.formElements.getFormData(),delete this.formData[n],(i=this.formElements.removeFormDataKey)==null||i[n],this.setState(s=>({tags:Object.fromEntries(Object.entries(s.tags||{}).filter(([a])=>a!==t))})),this.refreshData()},onClearAll:()=>{this._clearFilters(),this.setState({tags:{}})},emptyMessage:"Nenhum filtro aplicado"}).create()}})]}createTableColumns(){return[$e.createTextColumn({label:"Nome",key:"name",width:"40%"}),$e.createTextColumn({label:"Cidade",key:({cities:e})=>e==null?void 0:e.name}),$e.createTextColumn({label:"Provincia",key:({provinces:e})=>e==null?void 0:e.name}),$e.createActionsColumn({width:"200px",actions:[{label:"Editar",theme:ht.button.type.primary,onAction:(e,t)=>{this.formData={...t,country_id:150},this.showUpdateForm()}},{label:"Remover",theme:ht.button.type.danger,onAction:(e,t)=>{this.formData=t;const n=$e.showConfirmationDialog({title:"Deseja realmente remover esse registo?",subtitle:"Esta ao  irreversvel. Toda informao relacionado com este registo vai ser removido do sistema permanentemente, confirme antes de continuar.",confirmLabel:"Sim, remover",cancelLabel:"Fechar",onConfirm:async()=>{n==null||n.close(),await this.handleRemoveRecord()},onCancel:()=>{n==null||n.close()}})}}]})]}createFormInputs(){return[this.formElements.createSelectBuilder({endpoint:"/provinces",label:"Provincia",name:"province_id",dataMapper:({result:e})=>e.provinces.map(t=>({label:t.name,value:t.id})),onChange:e=>{this.updateFormData("province_id",e)}}),this.formElements.createSelectBuilder({endpoint:"/cities",label:"cidade",name:"city_id",dataMapper:({result:e})=>e.cities.map(t=>({label:t.name,value:t.id})),onChange:e=>{this.updateFormData("city_id",e)}}),this.formElements.createTextInput({label:"Nome",name:"name",onChange:e=>{this.updateFormData("name",e)}})]}_applyFilters(){var e;this.formData=this.formElements.getFormData(),this.refreshData(),(e=this.filtersOffCanvas)==null||e.close(),this.setState(t=>({tags:{...this.formElements.getSearchTagData()}}))}_clearFilters(){var e;this.formData={},this.refreshData(),this.formElements.resetFormData(),this.formElements.resetSearchTagData(),(e=this.filtersOffCanvas)==null||e.close()}}var Hi;let n9=(Hi=class{},dt(Hi,"IS_PROD",!0),dt(Hi,"ASSETS_SANDBOX","http://localhost/casacoimbra/public/"),dt(Hi,"URL_SANDBOX","http://localhost/casacoimbra/api/v1/"),dt(Hi,"ASSETS_PROD","https://backend.casacoimbramaputo.com/public/"),dt(Hi,"URL_PROD","https://backend.casacoimbramaputo.com/api/v1/"),dt(Hi,"API_ENV",Hi.IS_PROD?Hi.URL_PROD:Hi.URL_SANDBOX),dt(Hi,"ASSETS_ENV",Hi.ASSETS_PROD),Hi);class mS extends ge{constructor(){super(),this.className=["default-auth-component"]}render(){return super.render()}}class i9 extends ge{constructor({title:e="",subtitle:t="",photoSrc:n=null,showBrand:i=!1,showBackIcon:s=!1,onPopPage:a=null}={}){super(),this.title=e,this.subtitle=t,this.photoSrc=n,this.showBrand=i,this.showBackIcon=s,this.onPopPage=a}render(){return this.children=[new Ge({style:{width:"100dvw",padding:".5rem 1.5rem 2rem",background:"var(--primary)",color:"white",minHeight:"30dvh",borderRadius:"0 0 24px 24px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",marginBottom:"1.5rem",position:"relative",display:"flex",justifyContent:"space-between",overflow:"hidden"},children:[new yt({style:{position:"absolute",top:"-50px",right:"-50px",width:"150px",height:"150px",borderRadius:"50%",background:"rgba(255,255,255,0.4)"}}),new yt({style:{position:"absolute",bottom:"-30px",left:"-30px",width:"100px",height:"100px",borderRadius:"50%",background:"rgba(255,255,255,0.3)"}}),this.showBackIcon?new yt({style:{display:"flex",justifySelf:"flex-start",alignSelf:"flex-start"},children:[new et({icon:"fa-solid fa-angle-left",style:{fontSize:"1.2rem",padding:"1rem",cursor:"pointer"},events:{click:e=>this.onPopPage?this.onPopPage(e):App.instance.back()}})]}):null,new Ge({style:{alignSelf:"center",justifySelf:"center",marginTop:"auto",alignItems:"center"},children:[this.showBrand?new Ac({src:this.photoSrc,fallbackSrc:new URL("../../assets/images/logo.png",import.meta.url),rounded:!0,shadow:!1,style:{width:"4rem",height:"4rem",objectFit:"cover"}}):null,new mi({style:{textAlign:"center",color:"#fff"},text:this.title}),new Wm({style:{textAlign:"center",padding:"0 2rem",color:"#fff"},text:this.subtitle})]})]})],super.render()}}class s9 extends ge{constructor(){super();dt(this,"handleFormSubmit",async()=>{try{this.setState({loading:!0}),await Ss.login(this.formData)&&($e.showSuccessNotification({message:"Autenticou com successo"}),sr.instance.to("/"))}catch(t){console.error(t),$e.showErrorNotification({message:t})}finally{this.setState({loading:!1})}});this.initState({loading:!1}),this.formData={}}createFooter(){return new zl({children:[new ze({tag:"a",props:{href:"javascript:void(0)"},text:"Esqueceu sua senha? clique aqui para recuperar",events:{click:t=>{t.preventDefault(),sr.instance.to("/recover-password")}}})]})}createForm(){const t=new ta;return new to({style:{maxWidth:"500px",margin:"auto"},controller:t,onSubmit:this.handleFormSubmit,children:[new Ge({style:{padding:".5rem"},gap:"15px",children:[new ts({style:[],placeholder:"Utilizador ou Email",name:"userNameOrEmail",required:!0,props:{autocomplete:"email"},prefixIcon:new et({icon:"fa-solid fa-user"}),onChange:n=>{this.formData.userNameOrEmail=n},style:{height:"4rem"}}),new a2({placeholder:"Senha",name:"password",required:!0,props:{autocomplete:"current-password"},prefixIcon:new et({icon:"fa-solid fa-lock"}),onChange:n=>{this.formData.password=n},style:{height:"4rem"}}),new jr({watch:()=>this.state.loading?$e.createLoadingSpinner({height:"auto"}):new Qr({label:"Entrar",onPressed:async()=>{await t.isValid()&&t.submit()},style:{height:"4rem",width:"100%"}})}),this.createFooter()]})]})}render(){return this.children=[new i9({title:"Painel administrativo",subtitle:"Informe suas credenciais para continuar",showBrand:!0}),this.createForm()],super.render()}}function a9(r){return async e=>{var h;const t=Ss.getSession(),n=Ss.isAuthenticated();let i={};if((h=t==null?void 0:t.user)!=null&&h.permissions)try{i=typeof t.user.permissions=="string"?JSON.parse(t.user.permissions):t.user.permissions}catch(u){console.warn("Failed to parse permissions",u)}const s=u=>!!i[u];if(["/auth","/login","/recover-password","/reset-password","/not-found","/error"].includes(e))return n?(await r.to("/"),!1):!0;if(!n)return localStorage.setItem("redirect_after_login",e),await r.to("/auth"),!1;const o={"/":[],"/properties":["general_info"],"/properties/save":["general_info"],"/properties/save/:propertyId":["general_info"],"/properties/:propertyId":["general_info"],"/activities/tasks":["manage_tasks"],"/activities/tasks/save/:taskId":["manage_tasks"],"/activities/tasks/:taskId":["manage_tasks"],"/activities/visits":["manage_visits"],"/activities/visits/save/:visitId":["manage_visits"],"/configurations":[],"/configurations/users":["manage_users"],"/configurations/owners":["manage_owners"],"/configurations/agents":["manage_agents"],"/configurations/clients":["manage_clients"],"/configurations/categories":["manage_categories"],"/configurations/property-features":["manage_features"],"/configurations/finalities":["manage_finalities"],"/configurations/neighborhoods":["manage_neighborhoods"],"/configurations/roles":["manage_users"]};let c=null;for(const[u,p]of Object.entries(o))if(new RegExp("^"+u.replace(/:[^/]+/g,"[^/]+")+"$").test(e)){c=p[0];break}return c&&!s(c)?(localStorage.setItem("last_attempted_path",e),await r.to("/unauthorized"),!1):!0}}class o9 extends ge{constructor({onGoBack:e=null}={}){super({style:{width:"100%",marginTop:"-1.5rem"}}),this.onGoBack=e}render(){return this.children=[new Ge({style:{textAlign:"center",padding:"1.5rem .5rem",position:"relative",justifyContent:"center",alignItems:"center"},children:[this._buildDecorativeElements(),this._buildAnimatedSVG(),new mi({text:"Acesso no permitido",style:{color:"#b91c1c!important"}}),new Wm({text:"Voc no tem permisso para acessar esta pgina. Entre em contacto com o administrador, caso se trate de um erro.",style:{marginBottom:"1rem"}})]})],super.render()}_buildDecorativeElements(){return new yt({style:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden",zIndex:0},children:[new yt({style:{position:"absolute",top:"-50px",right:"-50px",width:"150px",height:"150px",borderRadius:"50%",background:"rgba(185, 28, 28, 0.1)",animation:"pulse 6s ease-in-out infinite"}}),new yt({style:{position:"absolute",bottom:"-30px",left:"-30px",width:"100px",height:"100px",borderRadius:"50%",background:"rgba(185, 28, 28, 0.08)",animation:"pulse 8s ease-in-out infinite 2s"}})]})}_buildAnimatedSVG(){return new yt({style:{height:"220px",position:"relative"},children:[new or({viewBox:"0 0 200 200",style:{width:"100%",height:"100%",filter:"drop-shadow(0 10px 8px rgba(0, 0, 0, 0.04))"},children:[new or.Defs({children:[new or.LinearGradient({id:"notAllowedGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[new or.Stop({offset:"0%",stopColor:"#fee2e2"}),new or.Stop({offset:"100%",stopColor:"#fecaca"})]})]}),new or.Circle({cx:100,cy:100,r:80,fill:"url(#notAllowedGradient)",style:{animation:"float 6s ease-in-out infinite",transformOrigin:"center"}}),new or.Group({className:"stop-sign",style:{animation:"float 4s ease-in-out infinite",transformOrigin:"center"},children:[new or.Rect({x:95,y:80,width:10,height:50,rx:2,fill:"white"}),new or.Circle({cx:100,cy:150,r:5,fill:"white"})]}),new or.Group({className:"shield",children:[new or.Path({d:"M100 40 L140 60 L140 100 C140 120 120 140 100 150 C80 140 60 120 60 100 L60 60 Z",fill:"white",stroke:"#7f1d1d",strokeWidth:2,style:{animation:"pulse 3s ease-in-out infinite"}})]}),...this._generateBubbles()]})]})}_generateBubbles(){const e=[],t=["#b91c1c","#7f1d1d","#991b1b","#dc2626"];for(let n=0;n<8;n++){const i=Math.random()*8+3,s=Math.random()*180+10,a=Math.random()*180+10,o=Math.random()*.4+.1,c=Math.random()*5,h=Math.random()*8+5,u=t[Math.floor(Math.random()*t.length)];e.push(new or.Circle({cx:s,cy:a,r:i,fill:u,opacity:o,style:{mixBlendMode:"multiply"},children:[new or.Animate({attributeName:"cy",values:"".concat(a,";").concat(a-40,";").concat(a),dur:"".concat(h,"s"),begin:"".concat(c,"s"),repeatCount:"indefinite"}),new or.Animate({attributeName:"cx",values:"".concat(s,";").concat(s+(Math.random()*20-10),";").concat(s),dur:"".concat(h+2,"s"),begin:"".concat(c,"s"),repeatCount:"indefinite"}),new or.Animate({attributeName:"opacity",values:"".concat(o,";").concat(o*1.5,";").concat(o),dur:"".concat(h-2,"s"),begin:"".concat(c,"s"),repeatCount:"indefinite"})]}))}return e}}class l9 extends ge{constructor(){super()}render(){return this.children=[new o9],super.render()}}const c9=()=>{};var Uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},h9=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[t++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[t++],a=r[t++],o=r[t++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const s=r[t++],a=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},vS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],a=i+1<r.length,o=a?r[i+1]:0,c=i+2<r.length,h=c?r[i+2]:0,u=s>>2,p=(s&3)<<4|o>>4;let g=(o&15)<<2|h>>6,d=h&63;c||(d=64,a||(g=64)),n.push(t[u],t[p],t[g],t[d])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(gS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):h9(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=t[r.charAt(i++)],o=i<r.length?t[r.charAt(i)]:0;++i;const h=i<r.length?t[r.charAt(i)]:64;++i;const p=i<r.length?t[r.charAt(i)]:64;if(++i,s==null||o==null||h==null||p==null)throw new u9;const g=s<<2|o>>4;if(n.push(g),h!==64){const d=o<<4&240|h>>2;if(n.push(d),p!==64){const _=h<<6&192|p;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class u9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f9=function(r){const e=gS(r);return vS.encodeByteArray(e,!0)},wS=function(r){return f9(r).replace(/\./g,"")},d9=function(r){try{return vS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=()=>p9().__FIREBASE_DEFAULTS__,g9=()=>{if(typeof process>"u"||typeof Uy>"u")return;const r=Uy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},v9=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=r&&d9(r[1]);return e&&JSON.parse(e)},w9=()=>{try{return c9()||m9()||g9()||v9()}catch(r){console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(r));return}},yS=()=>{var r;return(r=w9())==null?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function _S(){try{return typeof indexedDB=="object"}catch(r){return!1}}function bS(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(t){e(t)}})}function _9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9="FirebaseError";class Kh extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=b9,Object.setPrototypeOf(this,Kh.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xp.prototype.create)}}class xp{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i="".concat(this.service,"/").concat(e),s=this.errors[e],a=s?x9(s,n):"Error",o="".concat(this.serviceName,": ").concat(a," (").concat(i,").");return new Kh(i,o,n)}}function x9(r,e){return r.replace(S9,(t,n)=>{const i=e[n];return i!=null?String(i):"<".concat(n,"?>")})}const S9=/\{\$([^}]+)}/g;function Rm(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const s=r[i],a=e[i];if(zy(s)&&zy(a)){if(!Rm(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function zy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(r){return r&&r._delegate?r._delegate:r}class $l{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new y9;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var i;const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(i=e==null?void 0:e.optional)!=null?i:!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error("Service ".concat(this.name," is not available"))}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,!!this.shouldAutoInitialize()){if(T9(e))try{this.getOrInitializeService({instanceIdentifier:mc})}catch(t){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch(s){}}}}clearInstance(e=mc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mc){return this.instances.has(e)}getOptions(e=mc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,t){var a;const n=this.normalizeInstanceIdentifier(t),i=(a=this.onInitCallbacks.get(n))!=null?a:new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:A9(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}return n||null}normalizeInstanceIdentifier(e=mc){return this.component?this.component.multipleInstances?e:mc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function A9(r){return r===mc?void 0:r}function T9(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new E9(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pn;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(pn||(pn={}));const k9={debug:pn.DEBUG,verbose:pn.VERBOSE,info:pn.INFO,warn:pn.WARN,error:pn.ERROR,silent:pn.SILENT},D9=pn.INFO,N9={[pn.DEBUG]:"log",[pn.VERBOSE]:"log",[pn.INFO]:"info",[pn.WARN]:"warn",[pn.ERROR]:"error"},I9=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=N9[e];if(i)console[i]("[".concat(n,"]  ").concat(r.name,":"),...t);else throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"))};class L9{constructor(e){this.name=e,this._logLevel=D9,this._logHandler=I9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pn.DEBUG,...e),this._logHandler(this,pn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pn.VERBOSE,...e),this._logHandler(this,pn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pn.INFO,...e),this._logHandler(this,pn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pn.WARN,...e),this._logHandler(this,pn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pn.ERROR,...e),this._logHandler(this,pn.ERROR,...e)}}const P9=(r,e)=>e.some(t=>r instanceof t);let Hy,jy;function R9(){return Hy||(Hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O9(){return jy||(jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SS=new WeakMap,Om=new WeakMap,ES=new WeakMap,H0=new WeakMap,t1=new WeakMap;function F9(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",a)},s=()=>{t(Qo(r.result)),i()},a=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&SS.set(t,r)}).catch(()=>{}),t1.set(e,r),e}function M9(r){if(Om.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",a),r.removeEventListener("abort",a)},s=()=>{t(),i()},a=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",a),r.addEventListener("abort",a)});Om.set(r,e)}let Fm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Om.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ES.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qo(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function B9(r){Fm=r(Fm)}function U9(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(j0(this),e,...t);return ES.set(n,e.sort?e.sort():[e]),Qo(n)}:O9().includes(r)?function(...e){return r.apply(j0(this),e),Qo(SS.get(this))}:function(...e){return Qo(r.apply(j0(this),e))}}function z9(r){return typeof r=="function"?U9(r):(r instanceof IDBTransaction&&M9(r),P9(r,R9())?new Proxy(r,Fm):r)}function Qo(r){if(r instanceof IDBRequest)return F9(r);if(H0.has(r))return H0.get(r);const e=z9(r);return e!==r&&(H0.set(r,e),t1.set(e,r)),e}const j0=r=>t1.get(r);function Sp(r,e,{blocked:t,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(r,e),o=Qo(a);return n&&a.addEventListener("upgradeneeded",c=>{n(Qo(a.result),c.oldVersion,c.newVersion,Qo(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}function W0(r,{blocked:e}={}){const t=indexedDB.deleteDatabase(r);return e&&t.addEventListener("blocked",n=>e(n.oldVersion,n)),Qo(t).then(()=>{})}const H9=["get","getKey","getAll","getAllKeys","count"],j9=["put","add","delete","clear"],V0=new Map;function Wy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(V0.get(e))return V0.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=j9.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||H9.includes(t)))return;const s=async function(a,...o){const c=this.transaction(a,i?"readwrite":"readonly");let h=c.store;return n&&(h=h.index(o.shift())),(await Promise.all([h[t](...o),i&&c.done]))[0]};return V0.set(e,s),s}B9(r=>({...r,get:(e,t,n)=>Wy(e,t)||r.get(e,t,n),has:(e,t)=>!!Wy(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(V9(t)){const n=t.getImmediate();return"".concat(n.library,"/").concat(n.version)}else return null}).filter(t=>t).join(" ")}}function V9(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mm="@firebase/app",Vy="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl=new L9("@firebase/app"),q9="@firebase/app-compat",G9="@firebase/analytics-compat",$9="@firebase/analytics",Z9="@firebase/app-check-compat",Y9="@firebase/app-check",K9="@firebase/auth",X9="@firebase/auth-compat",J9="@firebase/database",Q9="@firebase/data-connect",eU="@firebase/database-compat",tU="@firebase/functions",rU="@firebase/functions-compat",nU="@firebase/installations",iU="@firebase/installations-compat",sU="@firebase/messaging",aU="@firebase/messaging-compat",oU="@firebase/performance",lU="@firebase/performance-compat",cU="@firebase/remote-config",hU="@firebase/remote-config-compat",uU="@firebase/storage",fU="@firebase/storage-compat",dU="@firebase/firestore",pU="@firebase/ai",mU="@firebase/firestore-compat",gU="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",vU={[Mm]:"fire-core",[q9]:"fire-core-compat",[$9]:"fire-analytics",[G9]:"fire-analytics-compat",[Y9]:"fire-app-check",[Z9]:"fire-app-check-compat",[K9]:"fire-auth",[X9]:"fire-auth-compat",[J9]:"fire-rtdb",[Q9]:"fire-data-connect",[eU]:"fire-rtdb-compat",[tU]:"fire-fn",[rU]:"fire-fn-compat",[nU]:"fire-iid",[iU]:"fire-iid-compat",[sU]:"fire-fcm",[aU]:"fire-fcm-compat",[oU]:"fire-perf",[lU]:"fire-perf-compat",[cU]:"fire-rc",[hU]:"fire-rc-compat",[uU]:"fire-gcs",[fU]:"fire-gcs-compat",[dU]:"fire-fst",[mU]:"fire-fst-compat",[pU]:"fire-vertex","fire-js":"fire-js",[gU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Map,wU=new Map,Um=new Map;function qy(r,e){try{r.container.addComponent(e)}catch(t){sl.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(r.name),t)}}function Rc(r){const e=r.name;if(Um.has(e))return sl.debug("There were multiple attempts to register component ".concat(e,".")),!1;Um.set(e,r);for(const t of Zd.values())qy(t,r);for(const t of wU.values())qy(t,r);return!0}function r1(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bl=new xp("app","Firebase",yU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bl.create("app-deleted",{appName:this._name})}}function AS(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:Bm,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Bl.create("bad-app-name",{appName:String(i)});if(t||(t=yS()),!t)throw Bl.create("no-options");const s=Zd.get(i);if(s){if(Rm(t,s.options)&&Rm(n,s.config))return s;throw Bl.create("duplicate-app",{appName:i})}const a=new C9(i);for(const c of Um.values())a.addComponent(c);const o=new _U(t,n,a);return Zd.set(i,o),o}function bU(r=Bm){const e=Zd.get(r);if(!e&&r===Bm&&yS())return AS();if(!e)throw Bl.create("no-app",{appName:r});return e}function Ul(r,e,t){var a;let n=(a=vU[r])!=null?a:r;t&&(n+="-".concat(t));const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=['Unable to register library "'.concat(n,'" with version "').concat(e,'":')];i&&o.push('library name "'.concat(n,'" contains illegal characters (whitespace or "/")')),i&&s&&o.push("and"),s&&o.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),sl.warn(o.join(" "));return}Rc(new $l("".concat(n,"-version"),()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU="firebase-heartbeat-database",SU=1,qu="firebase-heartbeat-store";let q0=null;function TS(){return q0||(q0=Sp(xU,SU,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(qu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Bl.create("idb-open",{originalErrorMessage:r.message})})),q0}async function EU(r){try{const t=(await TS()).transaction(qu),n=await t.objectStore(qu).get(CS(r));return await t.done,n}catch(e){if(e instanceof Kh)sl.warn(e.message);else{const t=Bl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});sl.warn(t.message)}}}async function Gy(r,e){try{const n=(await TS()).transaction(qu,"readwrite");await n.objectStore(qu).put(e,CS(r)),await n.done}catch(t){if(t instanceof Kh)sl.warn(t.message);else{const n=Bl.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});sl.warn(n.message)}}}function CS(r){return"".concat(r.name,"!").concat(r.options.appId)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=1024,TU=30;class CU{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new DU(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$y();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>TU){const a=NU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){sl.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$y(),{heartbeatsToSend:n,unsentEntries:i}=kU(this._heartbeatsCache.heartbeats),s=wS(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return sl.warn(t),""}}}function $y(){return new Date().toISOString().substring(0,10)}function kU(r,e=AU){const t=[];let n=r.slice();for(const i of r){const s=t.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Zy(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Zy(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class DU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _S()?bS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await EU(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!=null?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Gy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!=null?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Zy(r){return wS(JSON.stringify({version:2,heartbeats:r})).length}function NU(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(r){Rc(new $l("platform-logger",e=>new W9(e),"PRIVATE")),Rc(new $l("heartbeat",e=>new CU(e),"PRIVATE")),Ul(Mm,Vy,r),Ul(Mm,Vy,"esm2020"),Ul("fire-js","")}IU("");var LU="firebase",PU="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ul(LU,PU,"app");const kS="@firebase/installations",n1="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=1e4,NS="w:".concat(n1),IS="FIS_v2",RU="https://firebaseinstallations.googleapis.com/v1",OU=60*60*1e3,FU="installations",MU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Oc=new xp(FU,MU,BU);function LS(r){return r instanceof Kh&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS({projectId:r}){return"".concat(RU,"/projects/").concat(r,"/installations")}function RS(r){return{token:r.token,requestStatus:2,expiresIn:zU(r.expiresIn),creationTime:Date.now()}}async function OS(r,e){const n=(await e.json()).error;return Oc.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function FS({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function UU(r,{refreshToken:e}){const t=FS(r);return t.append("Authorization",HU(e)),t}async function MS(r){const e=await r();return e.status>=500&&e.status<600?r():e}function zU(r){return Number(r.replace("s","000"))}function HU(r){return"".concat(IS," ").concat(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const n=PS(r),i=FS(r),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const a={fid:t,authVersion:IS,appId:r.appId,sdkVersion:NS},o={method:"POST",headers:i,body:JSON.stringify(a)},c=await MS(()=>fetch(n,o));if(c.ok){const h=await c.json();return{fid:h.fid||t,registrationStatus:2,refreshToken:h.refreshToken,authToken:RS(h.authToken)}}else throw await OS("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=/^[cdef][\w-]{21}$/,zm="";function qU(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=GU(r);return VU.test(t)?t:zm}catch(r){return zm}}function GU(r){return WU(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(r){return"".concat(r.appName,"!").concat(r.appId)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=new Map;function zS(r,e){const t=Ep(r);HS(t,e),$U(t,e)}function HS(r,e){const t=US.get(r);if(t)for(const n of t)n(e)}function $U(r,e){const t=ZU();t&&t.postMessage({key:r,fid:e}),YU()}let _c=null;function ZU(){return!_c&&"BroadcastChannel"in self&&(_c=new BroadcastChannel("[Firebase] FID Change"),_c.onmessage=r=>{HS(r.data.key,r.data.fid)}),_c}function YU(){US.size===0&&_c&&(_c.close(),_c=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU="firebase-installations-database",XU=1,Fc="firebase-installations-store";let G0=null;function i1(){return G0||(G0=Sp(KU,XU,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Fc)}}})),G0}async function Yd(r,e){const t=Ep(r),i=(await i1()).transaction(Fc,"readwrite"),s=i.objectStore(Fc),a=await s.get(t);return await s.put(e,t),await i.done,(!a||a.fid!==e.fid)&&zS(r,e.fid),e}async function jS(r){const e=Ep(r),n=(await i1()).transaction(Fc,"readwrite");await n.objectStore(Fc).delete(e),await n.done}async function Ap(r,e){const t=Ep(r),i=(await i1()).transaction(Fc,"readwrite"),s=i.objectStore(Fc),a=await s.get(t),o=e(a);return o===void 0?await s.delete(t):await s.put(o,t),await i.done,o&&(!a||a.fid!==o.fid)&&zS(r,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(r){let e;const t=await Ap(r.appConfig,n=>{const i=JU(n),s=QU(r,i);return e=s.registrationPromise,s.installationEntry});return t.fid===zm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function JU(r){const e=r||{fid:qU(),registrationStatus:0};return WS(e)}function QU(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Oc.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=ez(r,t);return{installationEntry:t,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:tz(r)}:{installationEntry:e}}async function ez(r,e){try{const t=await jU(r,e);return Yd(r.appConfig,t)}catch(t){throw LS(t)&&t.customData.serverCode===409?await jS(r.appConfig):await Yd(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function tz(r){let e=await Yy(r.appConfig);for(;e.registrationStatus===1;)await BS(100),e=await Yy(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await s1(r);return n||t}return e}function Yy(r){return Ap(r,e=>{if(!e)throw Oc.create("installation-not-found");return WS(e)})}function WS(r){return rz(r)?{fid:r.fid,registrationStatus:0}:r}function rz(r){return r.registrationStatus===1&&r.registrationTime+DS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nz({appConfig:r,heartbeatServiceProvider:e},t){const n=iz(r,t),i=UU(r,t),s=e.getImmediate({optional:!0});if(s){const h=await s.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const a={installation:{sdkVersion:NS,appId:r.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},c=await MS(()=>fetch(n,o));if(c.ok){const h=await c.json();return RS(h)}else throw await OS("Generate Auth Token",c)}function iz(r,{fid:e}){return"".concat(PS(r),"/").concat(e,"/authTokens:generate")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(r,e=!1){let t;const n=await Ap(r.appConfig,s=>{if(!VS(s))throw Oc.create("not-registered");const a=s.authToken;if(!e&&oz(a))return s;if(a.requestStatus===1)return t=sz(r,e),s;{if(!navigator.onLine)throw Oc.create("app-offline");const o=cz(s);return t=az(r,o),o}});return t?await t:n.authToken}async function sz(r,e){let t=await Ky(r.appConfig);for(;t.authToken.requestStatus===1;)await BS(100),t=await Ky(r.appConfig);const n=t.authToken;return n.requestStatus===0?a1(r,e):n}function Ky(r){return Ap(r,e=>{if(!VS(e))throw Oc.create("not-registered");const t=e.authToken;return hz(t)?{...e,authToken:{requestStatus:0}}:e})}async function az(r,e){try{const t=await nz(r,e),n={...e,authToken:t};return await Yd(r.appConfig,n),t}catch(t){if(LS(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await jS(r.appConfig);else{const n={...e,authToken:{requestStatus:0}};await Yd(r.appConfig,n)}throw t}}function VS(r){return r!==void 0&&r.registrationStatus===2}function oz(r){return r.requestStatus===2&&!lz(r)}function lz(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+OU}function cz(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function hz(r){return r.requestStatus===1&&r.requestTime+DS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uz(r){const e=r,{installationEntry:t,registrationPromise:n}=await s1(e);return n?n.catch(console.error):a1(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(r,e=!1){const t=r;return await dz(t),(await a1(t,e)).token}async function dz(r){const{registrationPromise:e}=await s1(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pz(r){if(!r||!r.options)throw $0("App Configuration");if(!r.name)throw $0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw $0(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function $0(r){return Oc.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="installations",mz="installations-internal",gz=r=>{const e=r.getProvider("app").getImmediate(),t=pz(e),n=r1(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},vz=r=>{const e=r.getProvider("app").getImmediate(),t=r1(e,qS).getImmediate();return{getId:()=>uz(t),getToken:i=>fz(t,i)}};function wz(){Rc(new $l(qS,gz,"PUBLIC")),Rc(new $l(mz,vz,"PRIVATE"))}wz();Ul(kS,n1);Ul(kS,n1,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz="/firebase-messaging-sw.js",_z="/firebase-cloud-messaging-push-scope",GS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bz="https://fcmregistrations.googleapis.com/v1",$S="google.c.a.c_id",xz="google.c.a.c_l",Sz="google.c.a.ts",Ez="google.c.a.e",Xy=1e4;var Jy;(function(r){r[r.DATA_MESSAGE=1]="DATA_MESSAGE",r[r.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(Jy||(Jy={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Gu;(function(r){r.PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked"})(Gu||(Gu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(r){const e=new Uint8Array(r);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Az(r){const e="=".repeat((4-r.length%4)%4),t=(r+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),i=new Uint8Array(n.length);for(let s=0;s<n.length;++s)i[s]=n.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="fcm_token_details_db",Tz=5,Qy="fcm_token_object_Store";async function Cz(r){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes(Z0))return null;let e=null;return(await Sp(Z0,Tz,{upgrade:async(n,i,s,a)=>{var h;if(i<2||!n.objectStoreNames.contains(Qy))return;const o=a.objectStore(Qy),c=await o.index("fcmSenderId").get(r);if(await o.clear(),!!c){if(i===2){const u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;e={token:u.fcmToken,createTime:(h=u.createTime)!=null?h:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Wo(u.vapidKey)}}}else if(i===3){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Wo(u.auth),p256dh:Wo(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Wo(u.vapidKey)}}}else if(i===4){const u=c;e={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Wo(u.auth),p256dh:Wo(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Wo(u.vapidKey)}}}}}})).close(),await W0(Z0),await W0("fcm_vapid_details_db"),await W0("undefined"),kz(e)?e:null}function kz(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:e}=r;return typeof r.createTime=="number"&&r.createTime>0&&typeof r.token=="string"&&r.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="firebase-messaging-database",Nz=1,$u="firebase-messaging-store";let Y0=null;function ZS(){return Y0||(Y0=Sp(Dz,Nz,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore($u)}}})),Y0}async function Iz(r){const e=YS(r),n=await(await ZS()).transaction($u).objectStore($u).get(e);if(n)return n;{const i=await Cz(r.appConfig.senderId);if(i)return await o1(r,i),i}}async function o1(r,e){const t=YS(r),i=(await ZS()).transaction($u,"readwrite");return await i.objectStore($u).put(e,t),await i.done,e}function YS({appConfig:r}){return r.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},is=new xp("messaging","Messaging",Lz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pz(r,e){const t=await c1(r),n=KS(e),i={method:"POST",headers:t,body:JSON.stringify(n)};let s;try{s=await(await fetch(l1(r.appConfig),i)).json()}catch(a){throw is.create("token-subscribe-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw is.create("token-subscribe-failed",{errorInfo:a})}if(!s.token)throw is.create("token-subscribe-no-token");return s.token}async function Rz(r,e){const t=await c1(r),n=KS(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(n)};let s;try{s=await(await fetch("".concat(l1(r.appConfig),"/").concat(e.token),i)).json()}catch(a){throw is.create("token-update-failed",{errorInfo:a==null?void 0:a.toString()})}if(s.error){const a=s.error.message;throw is.create("token-update-failed",{errorInfo:a})}if(!s.token)throw is.create("token-update-no-token");return s.token}async function Oz(r,e){const n={method:"DELETE",headers:await c1(r)};try{const s=await(await fetch("".concat(l1(r.appConfig),"/").concat(e),n)).json();if(s.error){const a=s.error.message;throw is.create("token-unsubscribe-failed",{errorInfo:a})}}catch(i){throw is.create("token-unsubscribe-failed",{errorInfo:i==null?void 0:i.toString()})}}function l1({projectId:r}){return"".concat(bz,"/projects/").concat(r,"/registrations")}async function c1({appConfig:r,installations:e}){const t=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r.apiKey,"x-goog-firebase-installations-auth":"FIS ".concat(t)})}function KS({p256dh:r,auth:e,endpoint:t,vapidKey:n}){const i={web:{endpoint:t,auth:e,p256dh:r}};return n!==GS&&(i.web.applicationPubKey=n),i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fz=7*24*60*60*1e3;async function Mz(r){const e=await Uz(r.swRegistration,r.vapidKey),t={vapidKey:r.vapidKey,swScope:r.swRegistration.scope,endpoint:e.endpoint,auth:Wo(e.getKey("auth")),p256dh:Wo(e.getKey("p256dh"))},n=await Iz(r.firebaseDependencies);if(n){if(zz(n.subscriptionOptions,t))return Date.now()>=n.createTime+Fz?Bz(r,{token:n.token,createTime:Date.now(),subscriptionOptions:t}):n.token;try{await Oz(r.firebaseDependencies,n.token)}catch(i){console.warn(i)}return e2(r.firebaseDependencies,t)}else return e2(r.firebaseDependencies,t)}async function Bz(r,e){try{const t=await Rz(r.firebaseDependencies,e),n={...e,token:t,createTime:Date.now()};return await o1(r.firebaseDependencies,n),t}catch(t){throw t}}async function e2(r,e){const n={token:await Pz(r,e),createTime:Date.now(),subscriptionOptions:e};return await o1(r,n),n.token}async function Uz(r,e){const t=await r.pushManager.getSubscription();return t||r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Az(e)})}function zz(r,e){const t=e.vapidKey===r.vapidKey,n=e.endpoint===r.endpoint,i=e.auth===r.auth,s=e.p256dh===r.p256dh;return t&&n&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(r){const e={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return Hz(e,r),jz(e,r),Wz(e,r),e}function Hz(r,e){if(!e.notification)return;r.notification={};const t=e.notification.title;t&&(r.notification.title=t);const n=e.notification.body;n&&(r.notification.body=n);const i=e.notification.image;i&&(r.notification.image=i);const s=e.notification.icon;s&&(r.notification.icon=s)}function jz(r,e){e.data&&(r.data=e.data)}function Wz(r,e){var i,s,a,o,c;if(!e.fcmOptions&&!((i=e.notification)!=null&&i.click_action))return;r.fcmOptions={};const t=(o=(s=e.fcmOptions)==null?void 0:s.link)!=null?o:(a=e.notification)==null?void 0:a.click_action;t&&(r.fcmOptions.link=t);const n=(c=e.fcmOptions)==null?void 0:c.analytics_label;n&&(r.fcmOptions.analyticsLabel=n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(r){return typeof r=="object"&&!!r&&$S in r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qz(r){if(!r||!r.options)throw K0("App Configuration Object");if(!r.name)throw K0("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=r;for(const n of e)if(!t[n])throw K0(n);return{appName:r.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function K0(r){return is.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=qz(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(r){try{r.swRegistration=await navigator.serviceWorker.register(yz,{scope:_z}),r.swRegistration.update().catch(()=>{}),await Zz(r.swRegistration)}catch(e){throw is.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function Zz(r){return new Promise((e,t)=>{const n=setTimeout(()=>t(new Error("Service worker not registered after ".concat(Xy," ms"))),Xy),i=r.installing||r.waiting;r.active?(clearTimeout(n),e()):i?i.onstatechange=s=>{var a;((a=s.target)==null?void 0:a.state)==="activated"&&(i.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),t(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yz(r,e){if(!e&&!r.swRegistration&&await $z(r),!(!e&&r.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw is.create("invalid-sw-registration");r.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kz(r,e){e?r.vapidKey=e:r.vapidKey||(r.vapidKey=GS)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(r,e){if(!navigator)throw is.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw is.create("permission-blocked");return await Kz(r,e==null?void 0:e.vapidKey),await Yz(r,e==null?void 0:e.serviceWorkerRegistration),Mz(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xz(r,e,t){const n=Jz(e);(await r.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:t[$S],message_name:t[xz],message_time:t[Sz],message_device_time:Math.floor(Date.now()/1e3)})}function Jz(r){switch(r){case Gu.NOTIFICATION_CLICKED:return"notification_open";case Gu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qz(r,e){const t=e.data;if(!t.isFirebaseMessaging)return;r.onMessageHandler&&t.messageType===Gu.PUSH_RECEIVED&&(typeof r.onMessageHandler=="function"?r.onMessageHandler(t2(t)):r.onMessageHandler.next(t2(t)));const n=t.data;Vz(n)&&n[Ez]==="1"&&await Xz(r,t.messageType,n)}const r2="@firebase/messaging",n2="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eH=r=>{const e=new Gz(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>Qz(e,t)),e},tH=r=>{const e=r.getProvider("messaging").getImmediate();return{getToken:n=>XS(e,n)}};function rH(){Rc(new $l("messaging",eH,"PUBLIC")),Rc(new $l("messaging-internal",tH,"PRIVATE")),Ul(r2,n2),Ul(r2,n2,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nH(){try{await bS()}catch(r){return!1}return typeof window<"u"&&_S()&&_9()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(r=bU()){return nH().then(e=>{if(!e)throw is.create("unsupported-browser")},e=>{throw is.create("indexed-db-unsupported")}),r1(xS(r),"messaging").getImmediate()}async function sH(r,e){return r=xS(r),XS(r,e)}rH();const aH={apiKey:"AIzaSyBVfX31YX0f_DLiXyAewAk7fdr1A60zXC4",authDomain:"casa-coimbra-maputo.firebaseapp.com",databaseURL:"https://casa-coimbra-maputo.firebaseio.com",projectId:"casa-coimbra-maputo",storageBucket:"casa-coimbra-maputo.firebasestorage.app",messagingSenderId:"295984447698",appId:"1:295984447698:web:ec9008bdfa1516c8af2d0b",measurementId:"G-0WX92WQ9M8"},oH="BNMbKJK8dQm7D8XtMpAOW686hLbZY6l2rgKvdT_eQ8POuh2kO1i4PzpAnAmidadEH3Q48NzlHbLF1qove0zPTNQ";class lH{constructor(){const e=AS(aH),t=iH(e);sH(t,{vapidKey:oH}).then(n=>{console.log(n||"No registration token available. Request permission to generate one.")}).catch(n=>{console.log("An error occurred while retrieving token. ",n)})}}class cH extends ge{constructor(){super();dt(this,"handleFormSubmit",async()=>{})}_createRecoverPasswordForm(){const t=new ta;return new to({style:{maxWidth:"500px",minHeight:"100vh",width:"100%",display:"flex",alignItems:"center",margin:"auto"},controll:t,onSubmit:this.handleFormSubmit,children:[new Ge({children:[new ze({style:{"font-size":"2.75rem","font-weight":900,"letter-spacing":"-0.025em","line-height":"1.4"},text:"Recuperar a senha"}),new ts({style:{gap:"35px",height:"4rem","padding-left":"2rem"},prefixIcon:new et({style:{marginRight:"10px"},icon:"fa-solid fa-envelope"}),placeholder:"Digite o teu email de recuperacao da senha",name:"email",required:!0,props:{autocomplete:"email"}}),new Qr({style:{width:"100%",height:"4rem"},prefixIcon:new et({style:{marginRight:"10px"},icon:"fa-solid fa-paper-plane"}),label:"Enviar email",onPressed:()=>{console.log("recover")}}),new Qr({style:{width:"100%",height:"4rem"},prefixIcon:new et({style:{marginRight:"10px"},icon:"fa-solid fa-user"}),label:"Login",onPressed:()=>{sr.instance.to("/auth")}})]})]})}render(){return this.children=[this._createRecoverPasswordForm()],super.render()}}const Or=new sr("#app");new Ut({baseURL:n9.API_ENV,timeout:15e3,defaultHeaders:{"Content-Type":"application/json"},responseInterceptor:(r,e)=>{if(e.status===401){$e.showErrorNotification({message:"No tem permisso para se comunicar com nosso endpoint"}),Ss.logout(),Or.to("/auth");return}return{result:r,status:e.status}},requestInterceptor:async r=>{const e=await Ss.getValidAccessToken();return e&&(r.headers.Authorization="Bearer ".concat(e)),r}});new lH;Or.use(a9(Or));Or.layout(mS,()=>{Or.routes("/auth",s9)});Or.layout(mS,()=>{Or.routes("/recover-password",cH)});Or.layout(CE,()=>{Or.routes("/",kE),Or.routes("/properties",i6),Or.routes("/properties/save",Ow),Or.routes("/properties/:propertyId",oR),Or.routes("/properties/save/:propertyId",Ow),Or.routes("/activities",lR),Or.routes("/activities/tasks",HB),Or.routes("/activities/tasks/save/:taskId",jB),Or.routes("/activities/tasks/:taskId",WB),Or.routes("/activities/visits",VB),Or.routes("/activities/visits/save/:visitId",qB),Or.routes("/configurations",GB),Or.routes("/configurations/roles",ZB),Or.routes("/configurations/users",YB),Or.routes("/configurations/agents",KB),Or.routes("/configurations/owners",XB),Or.routes("/configurations/clients",JB),Or.routes("/configurations/categories",QB),Or.routes("/configurations/property-features",e9),Or.routes("/configurations/finalities",t9),Or.routes("/configurations/neighborhoods",r9),Or.routes("/unauthorized",l9)});Or.render();export{Yr as _,uH as __vite_legacy_guard,k6 as c,D6 as g};
